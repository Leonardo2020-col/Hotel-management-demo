/*! For license information please see main.d4e3b0f1.js.LICENSE.txt */
(()=>{var e={14:e=>{e.exports=function(){return!1}},61:e=>{e.exports=function(e,t){return e<t}},143:e=>{var t=/\s/;e.exports=function(e){for(var r=e.length;r--&&t.test(e.charAt(r)););return r}},149:e=>{e.exports=function(e,t){for(var r=-1,n=null==e?0:e.length,a=Array(n);++r<n;)a[r]=t(e[r],r,e);return a}},320:e=>{e.exports=function(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}},396:e=>{e.exports=function(e){return function(t){return null==t?void 0:t[e]}}},400:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.version=void 0,t.version="0.0.0-automated"},438:(e,t,r)=>{var n=r(2622);e.exports=function(e){return n(this,e).get(e)}},539:(e,t,r)=>{var n=r(9742),a=r(7498),s=r(3279);e.exports=function(e){return e&&e.length?n(e,s,a):void 0}},579:(e,t,r)=>{"use strict";e.exports=r(2799)},620:(e,t,r)=>{var n=r(6913),a=r(4052),s=r(2761);e.exports=function(e){return"string"==typeof e||!a(e)&&s(e)&&"[object String]"==n(e)}},643:(e,t,r)=>{var n=r(7676)("toUpperCase");e.exports=n},644:e=>{e.exports=function(e){return e!==e}},705:e=>{e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},715:e=>{var t="\\ud800-\\udfff",r="["+t+"]",n="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",a="\\ud83c[\\udffb-\\udfff]",s="[^"+t+"]",i="(?:\\ud83c[\\udde6-\\uddff]){2}",o="[\\ud800-\\udbff][\\udc00-\\udfff]",l="(?:"+n+"|"+a+")"+"?",c="[\\ufe0e\\ufe0f]?",u=c+l+("(?:\\u200d(?:"+[s,i,o].join("|")+")"+c+l+")*"),d="(?:"+[s+n+"?",n,i,o,r].join("|")+")",h=RegExp(a+"(?="+a+")|"+d+u,"g");e.exports=function(e){return e.match(h)||[]}},755:(e,t,r)=>{var n=r(8895),a=r(7116);e.exports=function e(t,r,s,i,o){var l=-1,c=t.length;for(s||(s=a),o||(o=[]);++l<c;){var u=t[l];r>0&&s(u)?r>1?e(u,r-1,s,i,o):n(o,u):i||(o[o.length]=u)}return o}},793:e=>{e.exports=function(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}},801:(e,t,r)=>{var n=r(1141),a=r(6686),s=r(9841),i=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,l=/^0o[0-7]+$/i,c=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(s(e))return NaN;if(a(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=a(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=n(e);var r=o.test(e);return r||l.test(e)?c(e.slice(2),r?2:8):i.test(e)?NaN:+e}},914:(e,t,r)=>{var n=r(9841);e.exports=function(e){if("string"==typeof e||n(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}},929:(e,t,r)=>{var n=r(3211),a=r(6571),s=r(9194),i=r(6686);e.exports=function(e,t,r){if(!i(r))return!1;var o=typeof t;return!!("number"==o?a(r)&&s(t,r.length):"string"==o&&t in r)&&n(r[t],e)}},977:(e,t,r)=>{var n=r(9096),a=r(4416);e.exports=function(e,t){return e&&e.length?a(e,n(t,2)):[]}},1069:(e,t,r)=>{var n=r(8541);e.exports=function(e){return null==e?"":n(e)}},1141:(e,t,r)=>{var n=r(143),a=/^\s+/;e.exports=function(e){return e?e.slice(0,n(e)+1).replace(a,""):e}},1143:(e,t,r)=>{var n=r(3028)(Object.keys,Object);e.exports=n},1170:e=>{e.exports=function(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}},1210:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=n(r(8829)),s=n(r(5736)),i=r(5745);class o{constructor(e){let{headers:t={},schema:r,fetch:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.url=e,this.headers=Object.assign(Object.assign({},i.DEFAULT_HEADERS),t),this.schemaName=r,this.fetch=n}from(e){const t=new URL("".concat(this.url,"/").concat(e));return new a.default(t,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new o(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e){let t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{head:n=!1,get:a=!1,count:i}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const o=new URL("".concat(this.url,"/rpc/").concat(e));let l;n||a?(t=n?"HEAD":"GET",Object.entries(r).filter(e=>{let[t,r]=e;return void 0!==r}).map(e=>{let[t,r]=e;return[t,Array.isArray(r)?"{".concat(r.join(","),"}"):"".concat(r)]}).forEach(e=>{let[t,r]=e;o.searchParams.append(t,r)})):(t="POST",l=r);const c=Object.assign({},this.headers);return i&&(c.Prefer="count=".concat(i)),new s.default({method:t,url:o,headers:c,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}}t.default=o},1268:(e,t,r)=>{var n=r(5428),a=r(7574),s=r(6832),i=s&&s.isTypedArray,o=i?a(i):n;e.exports=o},1310:e=>{e.exports=function(e,t){return function(r){return null!=r&&(r[e]===t&&(void 0!==t||e in Object(r)))}}},1340:(e,t,r)=>{var n=r(3211);e.exports=function(e,t){for(var r=e.length;r--;)if(n(e[r][0],t))return r;return-1}},1497:(e,t,r)=>{"use strict";var n=r(3218);function a(){}function s(){}s.resetWarningCache=a,e.exports=function(){function e(e,t,r,a,s,i){if(i!==n){var o=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw o.name="Invariant Violation",o}}function t(){return e}e.isRequired=e;var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:s,resetWarningCache:a};return r.PropTypes=r,r}},1517:e=>{const t=/[A-Z\xc0-\xd6\xd8-\xde]?[a-z\xdf-\xf6\xf8-\xff]+(?:['\u2019](?:d|ll|m|re|s|t|ve))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde]|$)|(?:[A-Z\xc0-\xd6\xd8-\xde]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['\u2019](?:D|LL|M|RE|S|T|VE))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde](?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])|$)|[A-Z\xc0-\xd6\xd8-\xde]?(?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['\u2019](?:d|ll|m|re|s|t|ve))?|[A-Z\xc0-\xd6\xd8-\xde]+(?:['\u2019](?:D|LL|M|RE|S|T|VE))?|\d*(?:1ST|2ND|3RD|(?![123])\dTH)(?=\b|[a-z_])|\d*(?:1st|2nd|3rd|(?![123])\dth)(?=\b|[A-Z_])|\d+|(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?(?:\u200d(?:[^\ud800-\udfff]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?)*/g,r=e=>e.match(t)||[],n=e=>e[0].toUpperCase()+e.slice(1),a=(e,t)=>r(e).join(t).toLowerCase(),s=e=>r(e).reduce((e,t)=>"".concat(e).concat(e?t[0].toUpperCase()+t.slice(1).toLowerCase():t.toLowerCase()),"");e.exports={words:r,upperFirst:n,camelCase:s,pascalCase:e=>n(s(e)),snakeCase:e=>a(e,"_"),kebabCase:e=>a(e,"-"),sentenceCase:e=>n(a(e," ")),titleCase:e=>r(e).map(n).join(" ")}},1558:e=>{e.exports=function(e,t,r){for(var n=-1,a=null==e?0:e.length;++n<a;)if(r(t,e[n]))return!0;return!1}},1629:(e,t,r)=>{var n=r(6913),a=r(6686);e.exports=function(e){if(!a(e))return!1;var t=n(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},1714:(e,t,r)=>{var n=r(1340);e.exports=function(e,t){var r=this.__data__,a=n(r,e);return a<0?(++this.size,r.push([e,t])):r[a][1]=t,this}},1733:(e,t,r)=>{var n=r(1775),a=r(4664),s=r(9096);e.exports=function(e,t){var r={};return t=s(t,3),a(e,function(e,a,s){n(r,a,t(e,a,s))}),r}},1775:(e,t,r)=>{var n=r(5654);e.exports=function(e,t,r){"__proto__"==t&&n?n(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}},1946:(e,t,r)=>{var n=r(1340);e.exports=function(e){return n(this.__data__,e)>-1}},2070:(e,t,r)=>{var n=r(7937)(r(6552),"Set");e.exports=n},2074:e=>{e.exports=function(e){var t=-1,r=Array(e.size);return e.forEach(function(e){r[++t]=e}),r}},2154:(e,t,r)=>{var n=r(5575),a=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(n){var r=t[e];return"__lodash_hash_undefined__"===r?void 0:r}return a.call(t,e)?t[e]:void 0}},2165:(e,t,r)=>{var n=r(5652);e.exports=function(e,t){var r;return n(e,function(e,n,a){return!(r=t(e,n,a))}),!!r}},2322:(e,t,r)=>{var n=r(6913),a=r(5990),s=r(2761),i=Function.prototype,o=Object.prototype,l=i.toString,c=o.hasOwnProperty,u=l.call(Object);e.exports=function(e){if(!s(e)||"[object Object]"!=n(e))return!1;var t=a(e);if(null===t)return!0;var r=c.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&l.call(r)==u}},2520:(e,t,r)=>{var n=r(5816),a=r(9096),s=r(9140),i=Math.max;e.exports=function(e,t,r){var o=null==e?0:e.length;if(!o)return-1;var l=null==r?0:s(r);return l<0&&(l=i(o+l,0)),n(e,a(t,3),l)}},2536:(e,t,r)=>{var n=r(149),a=r(2969),s=r(9096),i=r(8883),o=r(320),l=r(7574),c=r(5893),u=r(3279),d=r(4052);e.exports=function(e,t,r){t=t.length?n(t,function(e){return d(e)?function(t){return a(t,1===e.length?e[0]:e)}:e}):[u];var h=-1;t=n(t,l(s));var f=i(e,function(e,r,a){return{criteria:n(t,function(t){return t(e)}),index:++h,value:e}});return o(f,function(e,t){return c(e,t,r)})}},2541:e=>{e.exports=function(e){return function(){return e}}},2587:e=>{e.exports=function(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}},2597:(e,t,r)=>{var n=r(4052),a=r(9841),s=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,i=/^\w*$/;e.exports=function(e,t){if(n(e))return!1;var r=typeof e;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=e&&!a(e))||(i.test(e)||!s.test(e)||null!=t&&e in Object(t))}},2611:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});class r extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}}t.default=r},2622:(e,t,r)=>{var n=r(705);e.exports=function(e,t){var r=e.__data__;return n(t)?r["string"==typeof t?"string":"hash"]:r.map}},2662:(e,t,r)=>{var n=r(5575);e.exports=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=n&&void 0===t?"__lodash_hash_undefined__":t,this}},2761:e=>{e.exports=function(e){return null!=e&&"object"==typeof e}},2777:(e,t,r)=>{var n=r(5193),a=r(2761),s=Object.prototype,i=s.hasOwnProperty,o=s.propertyIsEnumerable,l=n(function(){return arguments}())?n:function(e){return a(e)&&i.call(e,"callee")&&!o.call(e,"callee")};e.exports=l},2794:(e,t,r)=>{var n=r(9742),a=r(7498),s=r(9096);e.exports=function(e,t){return e&&e.length?n(e,s(t,2),a):void 0}},2799:(e,t)=>{"use strict";var r=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function a(e,t,n){var a=null;if(void 0!==n&&(a=""+n),void 0!==t.key&&(a=""+t.key),"key"in t)for(var s in n={},t)"key"!==s&&(n[s]=t[s]);else n=t;return t=n.ref,{$$typeof:r,type:e,key:a,ref:void 0!==t?t:null,props:n}}t.Fragment=n,t.jsx=a,t.jsxs=a},2866:(e,t,r)=>{var n=r(2969);e.exports=function(e){return function(t){return n(t,e)}}},2929:(e,t,r)=>{var n=r(6552).Uint8Array;e.exports=n},2969:(e,t,r)=>{var n=r(5324),a=r(914);e.exports=function(e,t){for(var r=0,s=(t=n(t,e)).length;null!=e&&r<s;)e=e[a(t[r++])];return r&&r==s?e:void 0}},3028:e=>{e.exports=function(e,t){return function(r){return e(t(r))}}},3097:(e,t,r)=>{var n=r(2969);e.exports=function(e,t,r){var a=null==e?void 0:n(e,t);return void 0===a?r:a}},3175:(e,t)=>{"use strict";const r=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,n=/^[\u0021-\u003A\u003C-\u007E]*$/,a=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,i=Object.prototype.toString,o=(()=>{const e=function(){};return e.prototype=Object.create(null),e})();function l(e,t,r){do{const r=e.charCodeAt(t);if(32!==r&&9!==r)return t}while(++t<r);return r}function c(e,t,r){for(;t>r;){const r=e.charCodeAt(--t);if(32!==r&&9!==r)return t+1}return r}function u(e){if(-1===e.indexOf("%"))return e;try{return decodeURIComponent(e)}catch(t){return e}}},3204:(e,t,r)=>{var n=r(3343),a=r(2777),s=r(4052),i=r(4543),o=r(9194),l=r(1268),c=Object.prototype.hasOwnProperty;e.exports=function(e,t){var r=s(e),u=!r&&a(e),d=!r&&!u&&i(e),h=!r&&!u&&!d&&l(e),f=r||u||d||h,p=f?n(e.length,String):[],m=p.length;for(var g in e)!t&&!c.call(e,g)||f&&("length"==g||d&&("offset"==g||"parent"==g)||h&&("buffer"==g||"byteLength"==g||"byteOffset"==g)||o(g,m))||p.push(g);return p}},3211:e=>{e.exports=function(e,t){return e===t||e!==e&&t!==t}},3218:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},3279:e=>{e.exports=function(e){return e}},3331:(e,t,r)=>{var n=r(9676),a=r(929),s=r(7303);e.exports=function(e){return function(t,r,i){return i&&"number"!=typeof i&&a(t,r,i)&&(r=i=void 0),t=s(t),void 0===r?(r=t,t=0):r=s(r),i=void 0===i?t<r?1:-1:s(i),n(t,r,i,e)}}},3343:e=>{e.exports=function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}},3366:(e,t,r)=>{var n=r(7894),a=r(9057);e.exports=function(e,t){return null!=e&&a(e,t,n)}},3411:(e,t,r)=>{var n=r(149),a=r(9096),s=r(8883),i=r(4052);e.exports=function(e,t){return(i(e)?n:s)(e,a(t,3))}},3440:(e,t,r)=>{var n=r(6552)["__core-js_shared__"];e.exports=n},3538:(e,t,r)=>{var n=r(755),a=r(3411);e.exports=function(e,t){return n(a(e,t),1)}},3668:(e,t,r)=>{var n=r(8902),a=r(2587),s=r(8114);e.exports=function(e,t,r,i,o,l){var c=1&r,u=e.length,d=t.length;if(u!=d&&!(c&&d>u))return!1;var h=l.get(e),f=l.get(t);if(h&&f)return h==t&&f==e;var p=-1,m=!0,g=2&r?new n:void 0;for(l.set(e,t),l.set(t,e);++p<u;){var y=e[p],v=t[p];if(i)var x=c?i(v,y,p,t,e,l):i(y,v,p,e,t,l);if(void 0!==x){if(x)continue;m=!1;break}if(g){if(!a(t,function(e,t){if(!s(g,t)&&(y===e||o(y,e,r,i,l)))return g.push(t)})){m=!1;break}}else if(y!==v&&!o(y,v,r,i,l)){m=!1;break}}return l.delete(e),l.delete(t),m}},3713:(e,t,r)=>{var n=r(6140),a=r(1143),s=Object.prototype.hasOwnProperty;e.exports=function(e){if(!n(e))return a(e);var t=[];for(var r in Object(e))s.call(e,r)&&"constructor"!=r&&t.push(r);return t}},3781:(e,t,r)=>{var n=r(9417),a=r(8673);e.exports=function(e){for(var t=a(e),r=t.length;r--;){var s=t[r],i=e[s];t[r]=[s,i,n(i)]}return t}},3871:e=>{e.exports=function(e,t,r){var n=-1,a=e.length;t<0&&(t=-t>a?0:a+t),(r=r>a?a:r)<0&&(r+=a),a=t>r?0:r-t>>>0,t>>>=0;for(var s=Array(a);++n<a;)s[n]=e[n+t];return s}},3892:e=>{e.exports=function(e){return this.__data__.has(e)}},3932:(e,t,r)=>{var n=r(396),a=r(2866),s=r(2597),i=r(914);e.exports=function(e){return s(e)?n(i(e)):a(e)}},3950:(e,t,r)=>{var n=r(6686),a=r(4757),s=r(801),i=Math.max,o=Math.min;e.exports=function(e,t,r){var l,c,u,d,h,f,p=0,m=!1,g=!1,y=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function v(t){var r=l,n=c;return l=c=void 0,p=t,d=e.apply(n,r)}function x(e){var r=e-f;return void 0===f||r>=t||r<0||g&&e-p>=u}function b(){var e=a();if(x(e))return w(e);h=setTimeout(b,function(e){var r=t-(e-f);return g?o(r,u-(e-p)):r}(e))}function w(e){return h=void 0,y&&l?v(e):(l=c=void 0,d)}function j(){var e=a(),r=x(e);if(l=arguments,c=this,f=e,r){if(void 0===h)return function(e){return p=e,h=setTimeout(b,t),m?v(e):d}(f);if(g)return clearTimeout(h),h=setTimeout(b,t),v(f)}return void 0===h&&(h=setTimeout(b,t)),d}return t=s(t)||0,n(r)&&(m=!!r.leading,u=(g="maxWait"in r)?i(s(r.maxWait)||0,t):u,y="trailing"in r?!!r.trailing:y),j.cancel=function(){void 0!==h&&clearTimeout(h),p=0,l=f=c=h=void 0},j.flush=function(){return void 0===h?d:w(a())},j}},4020:e=>{e.exports=function(e,t,r){for(var n=r-1,a=e.length;++n<a;)if(e[n]===t)return n;return-1}},4052:e=>{var t=Array.isArray;e.exports=t},4065:e=>{e.exports=function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}},4079:(e,t,r)=>{var n=r(8259),a=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,s=/\\(\\)?/g,i=n(function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(a,function(e,r,n,a){t.push(n?a.replace(s,"$1"):r||e)}),t});e.exports=i},4160:e=>{e.exports=function(e){var t=-1,r=Array(e.size);return e.forEach(function(e,n){r[++t]=[n,e]}),r}},4190:(e,t,r)=>{var n=r(1340);e.exports=function(e){var t=this.__data__,r=n(t,e);return r<0?void 0:t[r][1]}},4258:(e,t,r)=>{var n=r(5906)();e.exports=n},4262:(e,t,r)=>{var n=r(8895),a=r(4052);e.exports=function(e,t,r){var s=t(e);return a(e)?s:n(s,r(e))}},4288:(e,t)=>{"use strict";var r=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function y(e,t,r){this.props=e,this.context=t,this.refs=g,this.updater=r||p}function v(){}function x(e,t,r){this.props=e,this.context=t,this.refs=g,this.updater=r||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=y.prototype;var b=x.prototype=new v;b.constructor=x,m(b,y.prototype),b.isPureReactComponent=!0;var w=Array.isArray,j={H:null,A:null,T:null,S:null,V:null},N=Object.prototype.hasOwnProperty;function k(e,t,n,a,s,i){return n=i.ref,{$$typeof:r,type:e,key:t,ref:void 0!==n?n:null,props:i}}function S(e){return"object"===typeof e&&null!==e&&e.$$typeof===r}var _=/\/+/g;function O(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function E(){}function C(e,t,a,s,i){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var l,c,u=!1;if(null===e)u=!0;else switch(o){case"bigint":case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case r:case n:u=!0;break;case h:return C((u=e._init)(e._payload),t,a,s,i)}}if(u)return i=i(e),u=""===s?"."+O(e,0):s,w(i)?(a="",null!=u&&(a=u.replace(_,"$&/")+"/"),C(i,t,a,"",function(e){return e})):null!=i&&(S(i)&&(l=i,c=a+(null==i.key||e&&e.key===i.key?"":(""+i.key).replace(_,"$&/")+"/")+u,i=k(l.type,c,void 0,0,0,l.props)),t.push(i)),1;u=0;var d,p=""===s?".":s+":";if(w(e))for(var m=0;m<e.length;m++)u+=C(s=e[m],t,a,o=p+O(s,m),i);else if("function"===typeof(m=null===(d=e)||"object"!==typeof d?null:"function"===typeof(d=f&&d[f]||d["@@iterator"])?d:null))for(e=m.call(e),m=0;!(s=e.next()).done;)u+=C(s=s.value,t,a,o=p+O(s,m++),i);else if("object"===o){if("function"===typeof e.then)return C(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"===typeof e.status?e.then(E,E):(e.status="pending",e.then(function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)},function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(e),t,a,s,i);throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return u}function P(e,t,r){if(null==e)return e;var n=[],a=0;return C(e,n,"","",function(e){return t.call(r,e,a++)}),n}function A(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var T="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function D(){}t.Children={map:P,forEach:function(e,t,r){P(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return P(e,function(){t++}),t},toArray:function(e){return P(e,function(e){return e})||[]},only:function(e){if(!S(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=a,t.Profiler=i,t.PureComponent=x,t.StrictMode=s,t.Suspense=u,t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=j,t.__COMPILER_RUNTIME={__proto__:null,c:function(e){return j.H.useMemoCache(e)}},t.cache=function(e){return function(){return e.apply(null,arguments)}},t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("The argument must be a React element, but you passed "+e+".");var n=m({},e.props),a=e.key;if(null!=t)for(s in void 0!==t.ref&&void 0,void 0!==t.key&&(a=""+t.key),t)!N.call(t,s)||"key"===s||"__self"===s||"__source"===s||"ref"===s&&void 0===t.ref||(n[s]=t[s]);var s=arguments.length-2;if(1===s)n.children=r;else if(1<s){for(var i=Array(s),o=0;o<s;o++)i[o]=arguments[o+2];n.children=i}return k(e.type,a,void 0,0,0,n)},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider=e,e.Consumer={$$typeof:o,_context:e},e},t.createElement=function(e,t,r){var n,a={},s=null;if(null!=t)for(n in void 0!==t.key&&(s=""+t.key),t)N.call(t,n)&&"key"!==n&&"__self"!==n&&"__source"!==n&&(a[n]=t[n]);var i=arguments.length-2;if(1===i)a.children=r;else if(1<i){for(var o=Array(i),l=0;l<i;l++)o[l]=arguments[l+2];a.children=o}if(e&&e.defaultProps)for(n in i=e.defaultProps)void 0===a[n]&&(a[n]=i[n]);return k(e,s,void 0,0,0,a)},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=S,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:A}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=j.T,r={};j.T=r;try{var n=e(),a=j.S;null!==a&&a(r,n),"object"===typeof n&&null!==n&&"function"===typeof n.then&&n.then(D,T)}catch(s){T(s)}finally{j.T=t}},t.unstable_useCacheRefresh=function(){return j.H.useCacheRefresh()},t.use=function(e){return j.H.use(e)},t.useActionState=function(e,t,r){return j.H.useActionState(e,t,r)},t.useCallback=function(e,t){return j.H.useCallback(e,t)},t.useContext=function(e){return j.H.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e,t){return j.H.useDeferredValue(e,t)},t.useEffect=function(e,t,r){var n=j.H;if("function"===typeof r)throw Error("useEffect CRUD overload is not enabled in this build of React.");return n.useEffect(e,t)},t.useId=function(){return j.H.useId()},t.useImperativeHandle=function(e,t,r){return j.H.useImperativeHandle(e,t,r)},t.useInsertionEffect=function(e,t){return j.H.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return j.H.useLayoutEffect(e,t)},t.useMemo=function(e,t){return j.H.useMemo(e,t)},t.useOptimistic=function(e,t){return j.H.useOptimistic(e,t)},t.useReducer=function(e,t,r){return j.H.useReducer(e,t,r)},t.useRef=function(e){return j.H.useRef(e)},t.useState=function(e){return j.H.useState(e)},t.useSyncExternalStore=function(e,t,r){return j.H.useSyncExternalStore(e,t,r)},t.useTransition=function(){return j.H.useTransition()},t.version="19.1.0"},4391:(e,t,r)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=r(7004)},4416:(e,t,r)=>{var n=r(8902),a=r(5866),s=r(1558),i=r(8114),o=r(8182),l=r(2074);e.exports=function(e,t,r){var c=-1,u=a,d=e.length,h=!0,f=[],p=f;if(r)h=!1,u=s;else if(d>=200){var m=t?null:o(e);if(m)return l(m);h=!1,u=i,p=new n}else p=t?[]:f;e:for(;++c<d;){var g=e[c],y=t?t(g):g;if(g=r||0!==g?g:0,h&&y===y){for(var v=p.length;v--;)if(p[v]===y)continue e;t&&p.push(y),f.push(g)}else u(p,y,r)||(p!==f&&p.push(y),f.push(g))}return f}},4543:(e,t,r)=>{e=r.nmd(e);var n=r(6552),a=r(14),s=t&&!t.nodeType&&t,i=s&&e&&!e.nodeType&&e,o=i&&i.exports===s?n.Buffer:void 0,l=(o?o.isBuffer:void 0)||a;e.exports=l},4545:(e,t,r)=>{var n=r(7160);e.exports=function(){this.__data__=new n,this.size=0}},4552:(e,t,r)=>{var n=r(9812),a=Object.prototype,s=a.hasOwnProperty,i=a.toString,o=n?n.toStringTag:void 0;e.exports=function(e){var t=s.call(e,o),r=e[o];try{e[o]=void 0;var n=!0}catch(l){}var a=i.call(e);return n&&(t?e[o]=r:delete e[o]),a}},4575:e=>{"use strict";function t(e){this._maxSize=e,this.clear()}t.prototype.clear=function(){this._size=0,this._values=Object.create(null)},t.prototype.get=function(e){return this._values[e]},t.prototype.set=function(e,t){return this._size>=this._maxSize&&this.clear(),e in this._values||this._size++,this._values[e]=t};var r=/[^.^\]^[]+|(?=\[\]|\.\.)/g,n=/^\d+$/,a=/^\d/,s=/[~`!#$%\^&*+=\-\[\]\\';,/{}|\\":<>\?]/g,i=/^\s*(['"]?)(.*?)(\1)\s*$/,o=new t(512),l=new t(512),c=new t(512);function u(e){return o.get(e)||o.set(e,d(e).map(function(e){return e.replace(i,"$2")}))}function d(e){return e.match(r)||[""]}function h(e){return"string"===typeof e&&e&&-1!==["'",'"'].indexOf(e.charAt(0))}function f(e){return!h(e)&&(function(e){return e.match(a)&&!e.match(n)}(e)||function(e){return s.test(e)}(e))}e.exports={Cache:t,split:d,normalizePath:u,setter:function(e){var t=u(e);return l.get(e)||l.set(e,function(e,r){for(var n=0,a=t.length,s=e;n<a-1;){var i=t[n];if("__proto__"===i||"constructor"===i||"prototype"===i)return e;s=s[t[n++]]}s[t[n]]=r})},getter:function(e,t){var r=u(e);return c.get(e)||c.set(e,function(e){for(var n=0,a=r.length;n<a;){if(null==e&&t)return;e=e[r[n++]]}return e})},join:function(e){return e.reduce(function(e,t){return e+(h(t)||n.test(t)?"["+t+"]":(e?".":"")+t)},"")},forEach:function(e,t,r){!function(e,t,r){var n,a,s,i,o=e.length;for(a=0;a<o;a++)(n=e[a])&&(f(n)&&(n='"'+n+'"'),s=!(i=h(n))&&/^\d+$/.test(n),t.call(r,n,i,s,a,e))}(Array.isArray(e)?e:d(e),t,r)}}},4597:(e,t,r)=>{var n=r(2587),a=r(9096),s=r(2165),i=r(4052),o=r(929);e.exports=function(e,t,r){var l=i(e)?n:s;return r&&o(e,t,r)&&(t=void 0),l(e,a(t,3))}},4630:(e,t,r)=>{"use strict";r.r(t),r.d(t,{Headers:()=>i,Request:()=>o,Response:()=>l,default:()=>s,fetch:()=>a});var n=function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof r.g)return r.g;throw new Error("unable to locate global object")}();const a=n.fetch,s=n.fetch.bind(n),i=n.Headers,o=n.Request,l=n.Response},4657:e=>{e.exports=function(e,t){return null==e?void 0:e[t]}},4664:(e,t,r)=>{var n=r(4258),a=r(8673);e.exports=function(e,t){return e&&n(e,t,a)}},4746:(e,t,r)=>{var n=r(5652);e.exports=function(e,t){var r=!0;return n(e,function(e,n,a){return r=!!t(e,n,a)}),r}},4757:(e,t,r)=>{var n=r(6552);e.exports=function(){return n.Date.now()}},4816:(e,t,r)=>{var n=r(7251),a=r(7159),s=r(438),i=r(9394),o=r(6874);function l(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}l.prototype.clear=n,l.prototype.delete=a,l.prototype.get=s,l.prototype.has=i,l.prototype.set=o,e.exports=l},5029:(e,t,r)=>{var n=r(6989),a=r(3097),s=r(3366),i=r(2597),o=r(9417),l=r(1310),c=r(914);e.exports=function(e,t){return i(e)&&o(t)?l(c(e),t):function(r){var i=a(r,e);return void 0===i&&i===t?s(r,e):n(t,i,3)}}},5043:(e,t,r)=>{"use strict";e.exports=r(4288)},5051:e=>{e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},5173:(e,t,r)=>{e.exports=r(1497)()},5193:(e,t,r)=>{var n=r(6913),a=r(2761);e.exports=function(e){return a(e)&&"[object Arguments]"==n(e)}},5204:(e,t,r)=>{var n=r(7937)(r(6552),"Map");e.exports=n},5268:(e,t,r)=>{var n=r(9160);e.exports=function(e){return n(e)&&e!=+e}},5295:e=>{e.exports=function(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}},5324:(e,t,r)=>{var n=r(4052),a=r(2597),s=r(4079),i=r(1069);e.exports=function(e,t){return n(e)?e:a(e,t)?[e]:s(i(e))}},5387:(e,t,r)=>{var n=r(7937)(r(6552),"Promise");e.exports=n},5428:(e,t,r)=>{var n=r(6913),a=r(6173),s=r(2761),i={};i["[object Float32Array]"]=i["[object Float64Array]"]=i["[object Int8Array]"]=i["[object Int16Array]"]=i["[object Int32Array]"]=i["[object Uint8Array]"]=i["[object Uint8ClampedArray]"]=i["[object Uint16Array]"]=i["[object Uint32Array]"]=!0,i["[object Arguments]"]=i["[object Array]"]=i["[object ArrayBuffer]"]=i["[object Boolean]"]=i["[object DataView]"]=i["[object Date]"]=i["[object Error]"]=i["[object Function]"]=i["[object Map]"]=i["[object Number]"]=i["[object Object]"]=i["[object RegExp]"]=i["[object Set]"]=i["[object String]"]=i["[object WeakMap]"]=!1,e.exports=function(e){return s(e)&&a(e.length)&&!!i[n(e)]}},5538:(e,t,r)=>{var n=r(7160),a=r(4545),s=r(793),i=r(7760),o=r(3892),l=r(6788);function c(e){var t=this.__data__=new n(e);this.size=t.size}c.prototype.clear=a,c.prototype.delete=s,c.prototype.get=i,c.prototype.has=o,c.prototype.set=l,e.exports=c},5575:(e,t,r)=>{var n=r(7937)(Object,"create");e.exports=n},5636:(e,t,r)=>{var n=r(1170),a=Math.max;e.exports=function(e,t,r){return t=a(void 0===t?e.length-1:t,0),function(){for(var s=arguments,i=-1,o=a(s.length-t,0),l=Array(o);++i<o;)l[i]=s[t+i];i=-1;for(var c=Array(t+1);++i<t;)c[i]=s[i];return c[t]=r(l),n(e,this,c)}}},5647:(e,t,r)=>{var n=r(3279),a=r(5636),s=r(6350);e.exports=function(e,t){return s(a(e,t,n),e+"")}},5652:(e,t,r)=>{var n=r(4664),a=r(6516)(n);e.exports=a},5654:(e,t,r)=>{var n=r(7937),a=function(){try{var e=n(Object,"defineProperty");return e({},"",{}),e}catch(t){}}();e.exports=a},5713:e=>{e.exports=function(){}},5736:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=n(r(7374));class s extends a.default{eq(e,t){return this.url.searchParams.append(e,"eq.".concat(t)),this}neq(e,t){return this.url.searchParams.append(e,"neq.".concat(t)),this}gt(e,t){return this.url.searchParams.append(e,"gt.".concat(t)),this}gte(e,t){return this.url.searchParams.append(e,"gte.".concat(t)),this}lt(e,t){return this.url.searchParams.append(e,"lt.".concat(t)),this}lte(e,t){return this.url.searchParams.append(e,"lte.".concat(t)),this}like(e,t){return this.url.searchParams.append(e,"like.".concat(t)),this}likeAllOf(e,t){return this.url.searchParams.append(e,"like(all).{".concat(t.join(","),"}")),this}likeAnyOf(e,t){return this.url.searchParams.append(e,"like(any).{".concat(t.join(","),"}")),this}ilike(e,t){return this.url.searchParams.append(e,"ilike.".concat(t)),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,"ilike(all).{".concat(t.join(","),"}")),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,"ilike(any).{".concat(t.join(","),"}")),this}is(e,t){return this.url.searchParams.append(e,"is.".concat(t)),this}in(e,t){const r=Array.from(new Set(t)).map(e=>"string"===typeof e&&new RegExp("[,()]").test(e)?'"'.concat(e,'"'):"".concat(e)).join(",");return this.url.searchParams.append(e,"in.(".concat(r,")")),this}contains(e,t){return"string"===typeof t?this.url.searchParams.append(e,"cs.".concat(t)):Array.isArray(t)?this.url.searchParams.append(e,"cs.{".concat(t.join(","),"}")):this.url.searchParams.append(e,"cs.".concat(JSON.stringify(t))),this}containedBy(e,t){return"string"===typeof t?this.url.searchParams.append(e,"cd.".concat(t)):Array.isArray(t)?this.url.searchParams.append(e,"cd.{".concat(t.join(","),"}")):this.url.searchParams.append(e,"cd.".concat(JSON.stringify(t))),this}rangeGt(e,t){return this.url.searchParams.append(e,"sr.".concat(t)),this}rangeGte(e,t){return this.url.searchParams.append(e,"nxl.".concat(t)),this}rangeLt(e,t){return this.url.searchParams.append(e,"sl.".concat(t)),this}rangeLte(e,t){return this.url.searchParams.append(e,"nxr.".concat(t)),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,"adj.".concat(t)),this}overlaps(e,t){return"string"===typeof t?this.url.searchParams.append(e,"ov.".concat(t)):this.url.searchParams.append(e,"ov.{".concat(t.join(","),"}")),this}textSearch(e,t){let{config:r,type:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a="";"plain"===n?a="pl":"phrase"===n?a="ph":"websearch"===n&&(a="w");const s=void 0===r?"":"(".concat(r,")");return this.url.searchParams.append(e,"".concat(a,"fts").concat(s,".").concat(t)),this}match(e){return Object.entries(e).forEach(e=>{let[t,r]=e;this.url.searchParams.append(t,"eq.".concat(r))}),this}not(e,t,r){return this.url.searchParams.append(e,"not.".concat(t,".").concat(r)),this}or(e){let{foreignTable:t,referencedTable:r=t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=r?"".concat(r,".or"):"or";return this.url.searchParams.append(n,"(".concat(e,")")),this}filter(e,t,r){return this.url.searchParams.append(e,"".concat(t,".").concat(r)),this}}t.default=s},5745:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_HEADERS=void 0;const n=r(400);t.DEFAULT_HEADERS={"X-Client-Info":"postgrest-js/".concat(n.version)}},5752:(e,t,r)=>{var n=r(9395),a=Object.prototype.hasOwnProperty;e.exports=function(e,t,r,s,i,o){var l=1&r,c=n(e),u=c.length;if(u!=n(t).length&&!l)return!1;for(var d=u;d--;){var h=c[d];if(!(l?h in t:a.call(t,h)))return!1}var f=o.get(e),p=o.get(t);if(f&&p)return f==t&&p==e;var m=!0;o.set(e,t),o.set(t,e);for(var g=l;++d<u;){var y=e[h=c[d]],v=t[h];if(s)var x=l?s(v,y,h,t,e,o):s(y,v,h,e,t,o);if(!(void 0===x?y===v||i(y,v,r,s,o):x)){m=!1;break}g||(g="constructor"==h)}if(m&&!g){var b=e.constructor,w=t.constructor;b==w||!("constructor"in e)||!("constructor"in t)||"function"==typeof b&&b instanceof b&&"function"==typeof w&&w instanceof w||(m=!1)}return o.delete(e),o.delete(t),m}},5797:(e,t,r)=>{var n=r(4816);function a(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var r=function(){var n=arguments,a=t?t.apply(this,n):n[0],s=r.cache;if(s.has(a))return s.get(a);var i=e.apply(this,n);return r.cache=s.set(a,i)||s,i};return r.cache=new(a.Cache||n),r}a.Cache=n,e.exports=a},5816:e=>{e.exports=function(e,t,r,n){for(var a=e.length,s=r+(n?1:-1);n?s--:++s<a;)if(t(e[s],s,e))return s;return-1}},5866:(e,t,r)=>{var n=r(8468);e.exports=function(e,t){return!!(null==e?0:e.length)&&n(e,t,0)>-1}},5893:(e,t,r)=>{var n=r(6599);e.exports=function(e,t,r){for(var a=-1,s=e.criteria,i=t.criteria,o=s.length,l=r.length;++a<o;){var c=n(s[a],i[a]);if(c)return a>=l?c:c*("desc"==r[a]?-1:1)}return e.index-t.index}},5896:(e,t)=>{"use strict";function r(e,t){var r=e.length;e.push(t);e:for(;0<r;){var n=r-1>>>1,a=e[n];if(!(0<s(a,t)))break e;e[n]=t,e[r]=a,r=n}}function n(e){return 0===e.length?null:e[0]}function a(e){if(0===e.length)return null;var t=e[0],r=e.pop();if(r!==t){e[0]=r;e:for(var n=0,a=e.length,i=a>>>1;n<i;){var o=2*(n+1)-1,l=e[o],c=o+1,u=e[c];if(0>s(l,r))c<a&&0>s(u,l)?(e[n]=u,e[c]=r,n=c):(e[n]=l,e[o]=r,n=o);else{if(!(c<a&&0>s(u,r)))break e;e[n]=u,e[c]=r,n=c}}}return t}function s(e,t){var r=e.sortIndex-t.sortIndex;return 0!==r?r:e.id-t.id}if(t.unstable_now=void 0,"object"===typeof performance&&"function"===typeof performance.now){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,h=null,f=3,p=!1,m=!1,g=!1,y=!1,v="function"===typeof setTimeout?setTimeout:null,x="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=n(u);null!==t;){if(null===t.callback)a(u);else{if(!(t.startTime<=e))break;a(u),t.sortIndex=t.expirationTime,r(c,t)}t=n(u)}}function j(e){if(g=!1,w(e),!m)if(null!==n(c))m=!0,k||(k=!0,N());else{var t=n(u);null!==t&&T(j,t.startTime-e)}}var N,k=!1,S=-1,_=5,O=-1;function E(){return!!y||!(t.unstable_now()-O<_)}function C(){if(y=!1,k){var e=t.unstable_now();O=e;var r=!0;try{e:{m=!1,g&&(g=!1,x(S),S=-1),p=!0;var s=f;try{t:{for(w(e),h=n(c);null!==h&&!(h.expirationTime>e&&E());){var i=h.callback;if("function"===typeof i){h.callback=null,f=h.priorityLevel;var o=i(h.expirationTime<=e);if(e=t.unstable_now(),"function"===typeof o){h.callback=o,w(e),r=!0;break t}h===n(c)&&a(c),w(e)}else a(c);h=n(c)}if(null!==h)r=!0;else{var l=n(u);null!==l&&T(j,l.startTime-e),r=!1}}break e}finally{h=null,f=s,p=!1}r=void 0}}finally{r?N():k=!1}}}if("function"===typeof b)N=function(){b(C)};else if("undefined"!==typeof MessageChannel){var P=new MessageChannel,A=P.port2;P.port1.onmessage=C,N=function(){A.postMessage(null)}}else N=function(){v(C,0)};function T(e,r){S=v(function(){e(t.unstable_now())},r)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var r=f;f=t;try{return e()}finally{f=r}},t.unstable_requestPaint=function(){y=!0},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var r=f;f=e;try{return t()}finally{f=r}},t.unstable_scheduleCallback=function(e,a,s){var i=t.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?i+s:i:s=i,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:d++,callback:a,priorityLevel:e,startTime:s,expirationTime:o=s+o,sortIndex:-1},s>i?(e.sortIndex=s,r(u,e),null===n(c)&&e===n(u)&&(g?(x(S),S=-1):g=!0,T(j,s-i))):(e.sortIndex=o,r(c,e),m||p||(m=!0,k||(k=!0,N()))),e},t.unstable_shouldYield=E,t.unstable_wrapCallback=function(e){var t=f;return function(){var r=f;f=t;try{return e.apply(this,arguments)}finally{f=r}}}},5906:e=>{e.exports=function(e){return function(t,r,n){for(var a=-1,s=Object(t),i=n(t),o=i.length;o--;){var l=i[e?o:++a];if(!1===r(s[l],l,s))break}return t}}},5967:e=>{e.exports=function(e){return e.split("")}},5990:(e,t,r)=>{var n=r(3028)(Object.getPrototypeOf,Object);e.exports=n},6095:e=>{var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},6140:e=>{var t=Object.prototype;e.exports=function(e){var r=e&&e.constructor;return e===("function"==typeof r&&r.prototype||t)}},6173:e=>{e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},6179:e=>{e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},6311:e=>{var t=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");e.exports=function(e){return t.test(e)}},6350:(e,t,r)=>{var n=r(8325),a=r(6578)(n);e.exports=a},6361:(e,t,r)=>{var n=r(6913),a=r(2761);e.exports=function(e){return!0===e||!1===e||a(e)&&"[object Boolean]"==n(e)}},6378:(e,t)=>{"use strict";var r,n=Symbol.for("react.element"),a=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),c=Symbol.for("react.context"),u=Symbol.for("react.server_context"),d=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),f=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),g=Symbol.for("react.offscreen");function y(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case s:case o:case i:case h:case f:return e;default:switch(e=e&&e.$$typeof){case u:case c:case d:case m:case p:case l:return e;default:return t}}case a:return t}}}r=Symbol.for("react.module.reference"),t.isFragment=function(e){return y(e)===s}},6399:(e,t,r)=>{var n=r(5538),a=r(3668),s=r(9987),i=r(5752),o=r(6924),l=r(4052),c=r(4543),u=r(1268),d="[object Arguments]",h="[object Array]",f="[object Object]",p=Object.prototype.hasOwnProperty;e.exports=function(e,t,r,m,g,y){var v=l(e),x=l(t),b=v?h:o(e),w=x?h:o(t),j=(b=b==d?f:b)==f,N=(w=w==d?f:w)==f,k=b==w;if(k&&c(e)){if(!c(t))return!1;v=!0,j=!1}if(k&&!j)return y||(y=new n),v||u(e)?a(e,t,r,m,g,y):s(e,t,b,r,m,g,y);if(!(1&r)){var S=j&&p.call(e,"__wrapped__"),_=N&&p.call(t,"__wrapped__");if(S||_){var O=S?e.value():e,E=_?t.value():t;return y||(y=new n),g(O,E,r,m,y)}}return!!k&&(y||(y=new n),i(e,t,r,m,g,y))}},6516:(e,t,r)=>{var n=r(6571);e.exports=function(e,t){return function(r,a){if(null==r)return r;if(!n(r))return e(r,a);for(var s=r.length,i=t?s:-1,o=Object(r);(t?i--:++i<s)&&!1!==a(o[i],i,o););return r}}},6532:(e,t,r)=>{var n=r(5538),a=r(6989);e.exports=function(e,t,r,s){var i=r.length,o=i,l=!s;if(null==e)return!o;for(e=Object(e);i--;){var c=r[i];if(l&&c[2]?c[1]!==e[c[0]]:!(c[0]in e))return!1}for(;++i<o;){var u=(c=r[i])[0],d=e[u],h=c[1];if(l&&c[2]){if(void 0===d&&!(u in e))return!1}else{var f=new n;if(s)var p=s(d,h,u,e,t,f);if(!(void 0===p?a(h,d,3,s,f):p))return!1}}return!0}},6552:(e,t,r)=>{var n=r(7105),a="object"==typeof self&&self&&self.Object===Object&&self,s=n||a||Function("return this")();e.exports=s},6571:(e,t,r)=>{var n=r(1629),a=r(6173);e.exports=function(e){return null!=e&&a(e.length)&&!n(e)}},6578:e=>{var t=Date.now;e.exports=function(e){var r=0,n=0;return function(){var a=t(),s=16-(a-n);if(n=a,s>0){if(++r>=800)return arguments[0]}else r=0;return e.apply(void 0,arguments)}}},6599:(e,t,r)=>{var n=r(9841);e.exports=function(e,t){if(e!==t){var r=void 0!==e,a=null===e,s=e===e,i=n(e),o=void 0!==t,l=null===t,c=t===t,u=n(t);if(!l&&!u&&!i&&e>t||i&&o&&c&&!l&&!u||a&&o&&c||!r&&c||!s)return 1;if(!a&&!i&&!u&&e<t||u&&r&&s&&!a&&!i||l&&r&&s||!o&&s||!c)return-1}return 0}},6600:(e,t,r)=>{var n=r(7937)(r(6552),"WeakMap");e.exports=n},6604:(e,t,r)=>{var n=r(3331)();e.exports=n},6672:(e,t,r)=>{"use strict";var n=r(5043);function a(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(){}var i={d:{f:s,r:function(){throw Error(a(522))},D:s,C:s,L:s,m:s,X:s,S:s,M:s},p:0,findDOMNode:null},o=Symbol.for("react.portal");var l=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(e,t){return"font"===e?"":"string"===typeof t?"use-credentials"===t?t:"":void 0}t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,t.createPortal=function(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)throw Error(a(299));return function(e,t,r){var n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:o,key:null==n?null:""+n,children:e,containerInfo:t,implementation:r}}(e,t,null,r)},t.flushSync=function(e){var t=l.T,r=i.p;try{if(l.T=null,i.p=2,e)return e()}finally{l.T=t,i.p=r,i.d.f()}},t.preconnect=function(e,t){"string"===typeof e&&(t?t="string"===typeof(t=t.crossOrigin)?"use-credentials"===t?t:"":void 0:t=null,i.d.C(e,t))},t.prefetchDNS=function(e){"string"===typeof e&&i.d.D(e)},t.preinit=function(e,t){if("string"===typeof e&&t&&"string"===typeof t.as){var r=t.as,n=c(r,t.crossOrigin),a="string"===typeof t.integrity?t.integrity:void 0,s="string"===typeof t.fetchPriority?t.fetchPriority:void 0;"style"===r?i.d.S(e,"string"===typeof t.precedence?t.precedence:void 0,{crossOrigin:n,integrity:a,fetchPriority:s}):"script"===r&&i.d.X(e,{crossOrigin:n,integrity:a,fetchPriority:s,nonce:"string"===typeof t.nonce?t.nonce:void 0})}},t.preinitModule=function(e,t){if("string"===typeof e)if("object"===typeof t&&null!==t){if(null==t.as||"script"===t.as){var r=c(t.as,t.crossOrigin);i.d.M(e,{crossOrigin:r,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0})}}else null==t&&i.d.M(e)},t.preload=function(e,t){if("string"===typeof e&&"object"===typeof t&&null!==t&&"string"===typeof t.as){var r=t.as,n=c(r,t.crossOrigin);i.d.L(e,r,{crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0,type:"string"===typeof t.type?t.type:void 0,fetchPriority:"string"===typeof t.fetchPriority?t.fetchPriority:void 0,referrerPolicy:"string"===typeof t.referrerPolicy?t.referrerPolicy:void 0,imageSrcSet:"string"===typeof t.imageSrcSet?t.imageSrcSet:void 0,imageSizes:"string"===typeof t.imageSizes?t.imageSizes:void 0,media:"string"===typeof t.media?t.media:void 0})}},t.preloadModule=function(e,t){if("string"===typeof e)if(t){var r=c(t.as,t.crossOrigin);i.d.m(e,{as:"string"===typeof t.as&&"script"!==t.as?t.as:void 0,crossOrigin:r,integrity:"string"===typeof t.integrity?t.integrity:void 0})}else i.d.m(e)},t.requestFormReset=function(e){i.d.r(e)},t.unstable_batchedUpdates=function(e,t){return e(t)},t.useFormState=function(e,t,r){return l.H.useFormState(e,t,r)},t.useFormStatus=function(){return l.H.useHostTransitionStatus()},t.version="19.1.0"},6686:e=>{e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},6704:e=>{e.exports=function(e){return this.__data__.has(e)}},6745:(e,t,r)=>{var n=r(9742),a=r(61),s=r(3279);e.exports=function(e){return e&&e.length?n(e,s,a):void 0}},6788:(e,t,r)=>{var n=r(7160),a=r(5204),s=r(4816);e.exports=function(e,t){var r=this.__data__;if(r instanceof n){var i=r.__data__;if(!a||i.length<199)return i.push([e,t]),this.size=++r.size,this;r=this.__data__=new s(i)}return r.set(e,t),this.size=r.size,this}},6832:(e,t,r)=>{e=r.nmd(e);var n=r(7105),a=t&&!t.nodeType&&t,s=a&&e&&!e.nodeType&&e,i=s&&s.exports===a&&n.process,o=function(){try{var e=s&&s.require&&s.require("util").types;return e||i&&i.binding&&i.binding("util")}catch(t){}}();e.exports=o},6874:(e,t,r)=>{var n=r(2622);e.exports=function(e,t){var r=n(this,e),a=r.size;return r.set(e,t),this.size+=r.size==a?0:1,this}},6913:(e,t,r)=>{var n=r(9812),a=r(4552),s=r(6095),i=n?n.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":i&&i in Object(e)?a(e):s(e)}},6924:(e,t,r)=>{var n=r(7685),a=r(5204),s=r(5387),i=r(2070),o=r(6600),l=r(6913),c=r(6996),u="[object Map]",d="[object Promise]",h="[object Set]",f="[object WeakMap]",p="[object DataView]",m=c(n),g=c(a),y=c(s),v=c(i),x=c(o),b=l;(n&&b(new n(new ArrayBuffer(1)))!=p||a&&b(new a)!=u||s&&b(s.resolve())!=d||i&&b(new i)!=h||o&&b(new o)!=f)&&(b=function(e){var t=l(e),r="[object Object]"==t?e.constructor:void 0,n=r?c(r):"";if(n)switch(n){case m:return p;case g:return u;case y:return d;case v:return h;case x:return f}return t}),e.exports=b},6954:(e,t,r)=>{var n=r(1629),a=r(7857),s=r(6686),i=r(6996),o=/^\[object .+?Constructor\]$/,l=Function.prototype,c=Object.prototype,u=l.toString,d=c.hasOwnProperty,h=RegExp("^"+u.call(d).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!s(e)||a(e))&&(n(e)?h:o).test(i(e))}},6989:(e,t,r)=>{var n=r(6399),a=r(2761);e.exports=function e(t,r,s,i,o){return t===r||(null==t||null==r||!a(t)&&!a(r)?t!==t&&r!==r:n(t,r,s,i,e,o))}},6996:e=>{var t=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return t.call(e)}catch(r){}try{return e+""}catch(r){}}return""}},7002:(e,t,r)=>{var n=r(5295),a=r(4746),s=r(9096),i=r(4052),o=r(929);e.exports=function(e,t,r){var l=i(e)?n:a;return r&&o(e,t,r)&&(t=void 0),l(e,s(t,3))}},7004:(e,t,r)=>{"use strict";var n=r(8853),a=r(5043),s=r(7950);function i(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function l(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(r=t.return),e=t.return}while(e)}return 3===t.tag?r:null}function c(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function u(e){if(l(e)!==e)throw Error(i(188))}function d(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=d(e)))return t;e=e.sibling}return null}var h=Object.assign,f=Symbol.for("react.element"),p=Symbol.for("react.transitional.element"),m=Symbol.for("react.portal"),g=Symbol.for("react.fragment"),y=Symbol.for("react.strict_mode"),v=Symbol.for("react.profiler"),x=Symbol.for("react.provider"),b=Symbol.for("react.consumer"),w=Symbol.for("react.context"),j=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),k=Symbol.for("react.suspense_list"),S=Symbol.for("react.memo"),_=Symbol.for("react.lazy");Symbol.for("react.scope");var O=Symbol.for("react.activity");Symbol.for("react.legacy_hidden"),Symbol.for("react.tracing_marker");var E=Symbol.for("react.memo_cache_sentinel");Symbol.for("react.view_transition");var C=Symbol.iterator;function P(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=C&&e[C]||e["@@iterator"])?e:null}var A=Symbol.for("react.client.reference");function T(e){if(null==e)return null;if("function"===typeof e)return e.$$typeof===A?null:e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case g:return"Fragment";case v:return"Profiler";case y:return"StrictMode";case N:return"Suspense";case k:return"SuspenseList";case O:return"Activity"}if("object"===typeof e)switch(e.$$typeof){case m:return"Portal";case w:return(e.displayName||"Context")+".Provider";case b:return(e._context.displayName||"Context")+".Consumer";case j:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case S:return null!==(t=e.displayName||null)?t:T(e.type)||"Memo";case _:t=e._payload,e=e._init;try{return T(e(t))}catch(r){}}return null}var D=Array.isArray,M=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,I=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,R={pending:!1,data:null,method:null,action:null},L=[],z=-1;function F(e){return{current:e}}function B(e){0>z||(e.current=L[z],L[z]=null,z--)}function U(e,t){z++,L[z]=e.current,e.current=t}var q=F(null),H=F(null),V=F(null),W=F(null);function G(e,t){switch(U(V,t),U(H,e),U(q,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?ad(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)e=sd(t=ad(t),e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}B(q),U(q,e)}function $(){B(q),B(H),B(V)}function K(e){null!==e.memoizedState&&U(W,e);var t=q.current,r=sd(t,e.type);t!==r&&(U(H,e),U(q,r))}function Y(e){H.current===e&&(B(q),B(H)),W.current===e&&(B(W),Kd._currentValue=R)}var X=Object.prototype.hasOwnProperty,J=n.unstable_scheduleCallback,Q=n.unstable_cancelCallback,Z=n.unstable_shouldYield,ee=n.unstable_requestPaint,te=n.unstable_now,re=n.unstable_getCurrentPriorityLevel,ne=n.unstable_ImmediatePriority,ae=n.unstable_UserBlockingPriority,se=n.unstable_NormalPriority,ie=n.unstable_LowPriority,oe=n.unstable_IdlePriority,le=n.log,ce=n.unstable_setDisableYieldValue,ue=null,de=null;function he(e){if("function"===typeof le&&ce(e),de&&"function"===typeof de.setStrictMode)try{de.setStrictMode(ue,e)}catch(t){}}var fe=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(pe(e)/me|0)|0},pe=Math.log,me=Math.LN2;var ge=256,ye=4194304;function ve(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194048&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function xe(e,t,r){var n=e.pendingLanes;if(0===n)return 0;var a=0,s=e.suspendedLanes,i=e.pingedLanes;e=e.warmLanes;var o=134217727&n;return 0!==o?0!==(n=o&~s)?a=ve(n):0!==(i&=o)?a=ve(i):r||0!==(r=o&~e)&&(a=ve(r)):0!==(o=n&~s)?a=ve(o):0!==i?a=ve(i):r||0!==(r=n&~e)&&(a=ve(r)),0===a?0:0!==t&&t!==a&&0===(t&s)&&((s=a&-a)>=(r=t&-t)||32===s&&0!==(4194048&r))?t:a}function be(e,t){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function we(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function je(){var e=ge;return 0===(4194048&(ge<<=1))&&(ge=256),e}function Ne(){var e=ye;return 0===(62914560&(ye<<=1))&&(ye=4194304),e}function ke(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Se(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function _e(e,t,r){e.pendingLanes|=t,e.suspendedLanes&=~t;var n=31-fe(t);e.entangledLanes|=t,e.entanglements[n]=1073741824|e.entanglements[n]|4194090&r}function Oe(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-fe(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}function Ee(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ce(e){return 2<(e&=-e)?8<e?0!==(134217727&e)?32:268435456:8:2}function Pe(){var e=I.p;return 0!==e?e:void 0===(e=window.event)?32:ch(e.type)}var Ae=Math.random().toString(36).slice(2),Te="__reactFiber$"+Ae,De="__reactProps$"+Ae,Me="__reactContainer$"+Ae,Ie="__reactEvents$"+Ae,Re="__reactListeners$"+Ae,Le="__reactHandles$"+Ae,ze="__reactResources$"+Ae,Fe="__reactMarker$"+Ae;function Be(e){delete e[Te],delete e[De],delete e[Ie],delete e[Re],delete e[Le]}function Ue(e){var t=e[Te];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Me]||r[Te]){if(r=t.alternate,null!==t.child||null!==r&&null!==r.child)for(e=xd(e);null!==e;){if(r=e[Te])return r;e=xd(e)}return t}r=(e=r).parentNode}return null}function qe(e){if(e=e[Te]||e[Me]){var t=e.tag;if(5===t||6===t||13===t||26===t||27===t||3===t)return e}return null}function He(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(i(33))}function Ve(e){var t=e[ze];return t||(t=e[ze]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function We(e){e[Fe]=!0}var Ge=new Set,$e={};function Ke(e,t){Ye(e,t),Ye(e+"Capture",t)}function Ye(e,t){for($e[e]=t,e=0;e<t.length;e++)Ge.add(t[e])}var Xe,Je,Qe=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ze={},et={};function tt(e,t,r){if(a=t,X.call(et,a)||!X.call(Ze,a)&&(Qe.test(a)?et[a]=!0:(Ze[a]=!0,0)))if(null===r)e.removeAttribute(t);else{switch(typeof r){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var n=t.toLowerCase().slice(0,5);if("data-"!==n&&"aria-"!==n)return void e.removeAttribute(t)}e.setAttribute(t,""+r)}var a}function rt(e,t,r){if(null===r)e.removeAttribute(t);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+r)}}function nt(e,t,r,n){if(null===n)e.removeAttribute(r);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(r)}e.setAttributeNS(t,r,""+n)}}function at(e){if(void 0===Xe)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Xe=t&&t[1]||"",Je=-1<r.stack.indexOf("\n    at")?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+Xe+e+Je}var st=!1;function it(e,t){if(!e||st)return"";st=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var n={DetermineComponentFrameRoot:function(){try{if(t){var r=function(){throw Error()};if(Object.defineProperty(r.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(r,[])}catch(a){var n=a}Reflect.construct(e,[],r)}else{try{r.call()}catch(s){n=s}e.call(r.prototype)}}else{try{throw Error()}catch(i){n=i}(r=e())&&"function"===typeof r.catch&&r.catch(function(){})}}catch(o){if(o&&n&&"string"===typeof o.stack)return[o.stack,n.stack]}return[null,null]}};n.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var a=Object.getOwnPropertyDescriptor(n.DetermineComponentFrameRoot,"name");a&&a.configurable&&Object.defineProperty(n.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var s=n.DetermineComponentFrameRoot(),i=s[0],o=s[1];if(i&&o){var l=i.split("\n"),c=o.split("\n");for(a=n=0;n<l.length&&!l[n].includes("DetermineComponentFrameRoot");)n++;for(;a<c.length&&!c[a].includes("DetermineComponentFrameRoot");)a++;if(n===l.length||a===c.length)for(n=l.length-1,a=c.length-1;1<=n&&0<=a&&l[n]!==c[a];)a--;for(;1<=n&&0<=a;n--,a--)if(l[n]!==c[a]){if(1!==n||1!==a)do{if(n--,0>--a||l[n]!==c[a]){var u="\n"+l[n].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=n&&0<=a);break}}}finally{st=!1,Error.prepareStackTrace=r}return(r=e?e.displayName||e.name:"")?at(r):""}function ot(e){switch(e.tag){case 26:case 27:case 5:return at(e.type);case 16:return at("Lazy");case 13:return at("Suspense");case 19:return at("SuspenseList");case 0:case 15:return it(e.type,!1);case 11:return it(e.type.render,!1);case 1:return it(e.type,!0);case 31:return at("Activity");default:return""}}function lt(e){try{var t="";do{t+=ot(e),e=e.return}while(e);return t}catch(r){return"\nError generating stack: "+r.message+"\n"+r.stack}}function ct(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function ut(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function dt(e){e._valueTracker||(e._valueTracker=function(e){var t=ut(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof r&&"function"===typeof r.get&&"function"===typeof r.set){var a=r.get,s=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(e){n=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(e){n=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function ht(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=ut(e)?e.checked?"true":"false":e.value),(e=n)!==r&&(t.setValue(e),!0)}function ft(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}var pt=/[\n"\\]/g;function mt(e){return e.replace(pt,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function gt(e,t,r,n,a,s,i,o){e.name="",null!=i&&"function"!==typeof i&&"symbol"!==typeof i&&"boolean"!==typeof i?e.type=i:e.removeAttribute("type"),null!=t?"number"===i?(0===t&&""===e.value||e.value!=t)&&(e.value=""+ct(t)):e.value!==""+ct(t)&&(e.value=""+ct(t)):"submit"!==i&&"reset"!==i||e.removeAttribute("value"),null!=t?vt(e,i,ct(t)):null!=r?vt(e,i,ct(r)):null!=n&&e.removeAttribute("value"),null==a&&null!=s&&(e.defaultChecked=!!s),null!=a&&(e.checked=a&&"function"!==typeof a&&"symbol"!==typeof a),null!=o&&"function"!==typeof o&&"symbol"!==typeof o&&"boolean"!==typeof o?e.name=""+ct(o):e.removeAttribute("name")}function yt(e,t,r,n,a,s,i,o){if(null!=s&&"function"!==typeof s&&"symbol"!==typeof s&&"boolean"!==typeof s&&(e.type=s),null!=t||null!=r){if(!("submit"!==s&&"reset"!==s||void 0!==t&&null!==t))return;r=null!=r?""+ct(r):"",t=null!=t?""+ct(t):r,o||t===e.value||(e.value=t),e.defaultValue=t}n="function"!==typeof(n=null!=n?n:a)&&"symbol"!==typeof n&&!!n,e.checked=o?e.checked:!!n,e.defaultChecked=!!n,null!=i&&"function"!==typeof i&&"symbol"!==typeof i&&"boolean"!==typeof i&&(e.name=i)}function vt(e,t,r){"number"===t&&ft(e.ownerDocument)===e||e.defaultValue===""+r||(e.defaultValue=""+r)}function xt(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+ct(r),t=null,a=0;a<e.length;a++){if(e[a].value===r)return e[a].selected=!0,void(n&&(e[a].defaultSelected=!0));null!==t||e[a].disabled||(t=e[a])}null!==t&&(t.selected=!0)}}function bt(e,t,r){null==t||((t=""+ct(t))!==e.value&&(e.value=t),null!=r)?e.defaultValue=null!=r?""+ct(r):"":e.defaultValue!==t&&(e.defaultValue=t)}function wt(e,t,r,n){if(null==t){if(null!=n){if(null!=r)throw Error(i(92));if(D(n)){if(1<n.length)throw Error(i(93));n=n[0]}r=n}null==r&&(r=""),t=r}r=ct(t),e.defaultValue=r,(n=e.textContent)===r&&""!==n&&null!==n&&(e.value=n)}function jt(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&3===r.nodeType)return void(r.nodeValue=t)}e.textContent=t}var Nt=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function kt(e,t,r){var n=0===t.indexOf("--");null==r||"boolean"===typeof r||""===r?n?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":n?e.setProperty(t,r):"number"!==typeof r||0===r||Nt.has(t)?"float"===t?e.cssFloat=r:e[t]=(""+r).trim():e[t]=r+"px"}function St(e,t,r){if(null!=t&&"object"!==typeof t)throw Error(i(62));if(e=e.style,null!=r){for(var n in r)!r.hasOwnProperty(n)||null!=t&&t.hasOwnProperty(n)||(0===n.indexOf("--")?e.setProperty(n,""):"float"===n?e.cssFloat="":e[n]="");for(var a in t)n=t[a],t.hasOwnProperty(a)&&r[a]!==n&&kt(e,a,n)}else for(var s in t)t.hasOwnProperty(s)&&kt(e,s,t[s])}function _t(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ot=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Et=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ct(e){return Et.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Pt=null;function At(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Tt=null,Dt=null;function Mt(e){var t=qe(e);if(t&&(e=t.stateNode)){var r=e[De]||null;e:switch(e=t.stateNode,t.type){case"input":if(gt(e,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),t=r.name,"radio"===r.type&&null!=t){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+mt(""+t)+'"][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=n[De]||null;if(!a)throw Error(i(90));gt(n,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name)}}for(t=0;t<r.length;t++)(n=r[t]).form===e.form&&ht(n)}break e;case"textarea":bt(e,r.value,r.defaultValue);break e;case"select":null!=(t=r.value)&&xt(e,!!r.multiple,t,!1)}}}var It=!1;function Rt(e,t,r){if(It)return e(t,r);It=!0;try{return e(t)}finally{if(It=!1,(null!==Tt||null!==Dt)&&(Uc(),Tt&&(t=Tt,e=Dt,Dt=Tt=null,Mt(t),e)))for(t=0;t<e.length;t++)Mt(e[t])}}function Lt(e,t){var r=e.stateNode;if(null===r)return null;var n=r[De]||null;if(null===n)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(n=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!n;break e;default:e=!1}if(e)return null;if(r&&"function"!==typeof r)throw Error(i(231,t,typeof r));return r}var zt=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),Ft=!1;if(zt)try{var Bt={};Object.defineProperty(Bt,"passive",{get:function(){Ft=!0}}),window.addEventListener("test",Bt,Bt),window.removeEventListener("test",Bt,Bt)}catch(Dh){Ft=!1}var Ut=null,qt=null,Ht=null;function Vt(){if(Ht)return Ht;var e,t,r=qt,n=r.length,a="value"in Ut?Ut.value:Ut.textContent,s=a.length;for(e=0;e<n&&r[e]===a[e];e++);var i=n-e;for(t=1;t<=i&&r[n-t]===a[s-t];t++);return Ht=a.slice(e,1<t?1-t:void 0)}function Wt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function Gt(){return!0}function $t(){return!1}function Kt(e){function t(t,r,n,a,s){for(var i in this._reactName=t,this._targetInst=n,this.type=r,this.nativeEvent=a,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(i)&&(t=e[i],this[i]=t?t(a):a[i]);return this.isDefaultPrevented=(null!=a.defaultPrevented?a.defaultPrevented:!1===a.returnValue)?Gt:$t,this.isPropagationStopped=$t,this}return h(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Gt)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Gt)},persist:function(){},isPersistent:Gt}),t}var Yt,Xt,Jt,Qt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Zt=Kt(Qt),er=h({},Qt,{view:0,detail:0}),tr=Kt(er),rr=h({},er,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fr,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Jt&&(Jt&&"mousemove"===e.type?(Yt=e.screenX-Jt.screenX,Xt=e.screenY-Jt.screenY):Xt=Yt=0,Jt=e),Yt)},movementY:function(e){return"movementY"in e?e.movementY:Xt}}),nr=Kt(rr),ar=Kt(h({},rr,{dataTransfer:0})),sr=Kt(h({},er,{relatedTarget:0})),ir=Kt(h({},Qt,{animationName:0,elapsedTime:0,pseudoElement:0})),or=Kt(h({},Qt,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),lr=Kt(h({},Qt,{data:0})),cr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ur={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},dr={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function hr(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=dr[e])&&!!t[e]}function fr(){return hr}var pr=Kt(h({},er,{key:function(e){if(e.key){var t=cr[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Wt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?ur[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fr,charCode:function(e){return"keypress"===e.type?Wt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Wt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),mr=Kt(h({},rr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),gr=Kt(h({},er,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fr})),yr=Kt(h({},Qt,{propertyName:0,elapsedTime:0,pseudoElement:0})),vr=Kt(h({},rr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),xr=Kt(h({},Qt,{newState:0,oldState:0})),br=[9,13,27,32],wr=zt&&"CompositionEvent"in window,jr=null;zt&&"documentMode"in document&&(jr=document.documentMode);var Nr=zt&&"TextEvent"in window&&!jr,kr=zt&&(!wr||jr&&8<jr&&11>=jr),Sr=String.fromCharCode(32),_r=!1;function Or(e,t){switch(e){case"keyup":return-1!==br.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Er(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Cr=!1;var Pr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ar(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Pr[e.type]:"textarea"===t}function Tr(e,t,r,n){Tt?Dt?Dt.push(n):Dt=[n]:Tt=n,0<(t=Vu(t,"onChange")).length&&(r=new Zt("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Dr=null,Mr=null;function Ir(e){Ru(e,0)}function Rr(e){if(ht(He(e)))return e}function Lr(e,t){if("change"===e)return t}var zr=!1;if(zt){var Fr;if(zt){var Br="oninput"in document;if(!Br){var Ur=document.createElement("div");Ur.setAttribute("oninput","return;"),Br="function"===typeof Ur.oninput}Fr=Br}else Fr=!1;zr=Fr&&(!document.documentMode||9<document.documentMode)}function qr(){Dr&&(Dr.detachEvent("onpropertychange",Hr),Mr=Dr=null)}function Hr(e){if("value"===e.propertyName&&Rr(Mr)){var t=[];Tr(t,Mr,e,At(e)),Rt(Ir,t)}}function Vr(e,t,r){"focusin"===e?(qr(),Mr=r,(Dr=t).attachEvent("onpropertychange",Hr)):"focusout"===e&&qr()}function Wr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Rr(Mr)}function Gr(e,t){if("click"===e)return Rr(t)}function $r(e,t){if("input"===e||"change"===e)return Rr(t)}var Kr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function Yr(e,t){if(Kr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!X.call(t,a)||!Kr(e[a],t[a]))return!1}return!0}function Xr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Jr(e,t){var r,n=Xr(e);for(e=0;n;){if(3===n.nodeType){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Xr(n)}}function Qr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?Qr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function Zr(e){for(var t=ft((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var r="string"===typeof t.contentWindow.location.href}catch(n){r=!1}if(!r)break;t=ft((e=t.contentWindow).document)}return t}function en(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var tn=zt&&"documentMode"in document&&11>=document.documentMode,rn=null,nn=null,an=null,sn=!1;function on(e,t,r){var n=r.window===r?r.document:9===r.nodeType?r:r.ownerDocument;sn||null==rn||rn!==ft(n)||("selectionStart"in(n=rn)&&en(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},an&&Yr(an,n)||(an=n,0<(n=Vu(nn,"onSelect")).length&&(t=new Zt("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=rn)))}function ln(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var cn={animationend:ln("Animation","AnimationEnd"),animationiteration:ln("Animation","AnimationIteration"),animationstart:ln("Animation","AnimationStart"),transitionrun:ln("Transition","TransitionRun"),transitionstart:ln("Transition","TransitionStart"),transitioncancel:ln("Transition","TransitionCancel"),transitionend:ln("Transition","TransitionEnd")},un={},dn={};function hn(e){if(un[e])return un[e];if(!cn[e])return e;var t,r=cn[e];for(t in r)if(r.hasOwnProperty(t)&&t in dn)return un[e]=r[t];return e}zt&&(dn=document.createElement("div").style,"AnimationEvent"in window||(delete cn.animationend.animation,delete cn.animationiteration.animation,delete cn.animationstart.animation),"TransitionEvent"in window||delete cn.transitionend.transition);var fn=hn("animationend"),pn=hn("animationiteration"),mn=hn("animationstart"),gn=hn("transitionrun"),yn=hn("transitionstart"),vn=hn("transitioncancel"),xn=hn("transitionend"),bn=new Map,wn="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function jn(e,t){bn.set(e,t),Ke(t,[e])}wn.push("scrollEnd");var Nn=new WeakMap;function kn(e,t){if("object"===typeof e&&null!==e){var r=Nn.get(e);return void 0!==r?r:(t={value:e,source:t,stack:lt(t)},Nn.set(e,t),t)}return{value:e,source:t,stack:lt(t)}}var Sn=[],_n=0,On=0;function En(){for(var e=_n,t=On=_n=0;t<e;){var r=Sn[t];Sn[t++]=null;var n=Sn[t];Sn[t++]=null;var a=Sn[t];Sn[t++]=null;var s=Sn[t];if(Sn[t++]=null,null!==n&&null!==a){var i=n.pending;null===i?a.next=a:(a.next=i.next,i.next=a),n.pending=a}0!==s&&Tn(r,a,s)}}function Cn(e,t,r,n){Sn[_n++]=e,Sn[_n++]=t,Sn[_n++]=r,Sn[_n++]=n,On|=n,e.lanes|=n,null!==(e=e.alternate)&&(e.lanes|=n)}function Pn(e,t,r,n){return Cn(e,t,r,n),Dn(e)}function An(e,t){return Cn(e,null,null,t),Dn(e)}function Tn(e,t,r){e.lanes|=r;var n=e.alternate;null!==n&&(n.lanes|=r);for(var a=!1,s=e.return;null!==s;)s.childLanes|=r,null!==(n=s.alternate)&&(n.childLanes|=r),22===s.tag&&(null===(e=s.stateNode)||1&e._visibility||(a=!0)),e=s,s=s.return;return 3===e.tag?(s=e.stateNode,a&&null!==t&&(a=31-fe(r),null===(n=(e=s.hiddenUpdates)[a])?e[a]=[t]:n.push(t),t.lane=536870912|r),s):null}function Dn(e){if(50<Tc)throw Tc=0,Dc=null,Error(i(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var Mn={};function In(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rn(e,t,r,n){return new In(e,t,r,n)}function Ln(e){return!(!(e=e.prototype)||!e.isReactComponent)}function zn(e,t){var r=e.alternate;return null===r?((r=Rn(e.tag,t,e.key,e.mode)).elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=65011712&e.flags,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r.refCleanup=e.refCleanup,r}function Fn(e,t){e.flags&=65011714;var r=e.alternate;return null===r?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=r.childLanes,e.lanes=r.lanes,e.child=r.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=r.memoizedProps,e.memoizedState=r.memoizedState,e.updateQueue=r.updateQueue,e.type=r.type,t=r.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Bn(e,t,r,n,a,s){var o=0;if(n=e,"function"===typeof e)Ln(e)&&(o=1);else if("string"===typeof e)o=function(e,t,r){if(1===r||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!==typeof t.precedence||"string"!==typeof t.href||""===t.href)break;return!0;case"link":if("string"!==typeof t.rel||"string"!==typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"===typeof t.precedence&&null==e);case"script":if(t.async&&"function"!==typeof t.async&&"symbol"!==typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"===typeof t.src)return!0}return!1}(e,r,q.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case O:return(e=Rn(31,r,t,a)).elementType=O,e.lanes=s,e;case g:return Un(r.children,a,s,t);case y:o=8,a|=24;break;case v:return(e=Rn(12,r,t,2|a)).elementType=v,e.lanes=s,e;case N:return(e=Rn(13,r,t,a)).elementType=N,e.lanes=s,e;case k:return(e=Rn(19,r,t,a)).elementType=k,e.lanes=s,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case x:case w:o=10;break e;case b:o=9;break e;case j:o=11;break e;case S:o=14;break e;case _:o=16,n=null;break e}o=29,r=Error(i(130,null===e?"null":typeof e,"")),n=null}return(t=Rn(o,r,t,a)).elementType=e,t.type=n,t.lanes=s,t}function Un(e,t,r,n){return(e=Rn(7,e,n,t)).lanes=r,e}function qn(e,t,r){return(e=Rn(6,e,null,t)).lanes=r,e}function Hn(e,t,r){return(t=Rn(4,null!==e.children?e.children:[],e.key,t)).lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Vn=[],Wn=0,Gn=null,$n=0,Kn=[],Yn=0,Xn=null,Jn=1,Qn="";function Zn(e,t){Vn[Wn++]=$n,Vn[Wn++]=Gn,Gn=e,$n=t}function ea(e,t,r){Kn[Yn++]=Jn,Kn[Yn++]=Qn,Kn[Yn++]=Xn,Xn=e;var n=Jn;e=Qn;var a=32-fe(n)-1;n&=~(1<<a),r+=1;var s=32-fe(t)+a;if(30<s){var i=a-a%5;s=(n&(1<<i)-1).toString(32),n>>=i,a-=i,Jn=1<<32-fe(t)+a|r<<a|n,Qn=s+e}else Jn=1<<s|r<<a|n,Qn=e}function ta(e){null!==e.return&&(Zn(e,1),ea(e,1,0))}function ra(e){for(;e===Gn;)Gn=Vn[--Wn],Vn[Wn]=null,$n=Vn[--Wn],Vn[Wn]=null;for(;e===Xn;)Xn=Kn[--Yn],Kn[Yn]=null,Qn=Kn[--Yn],Kn[Yn]=null,Jn=Kn[--Yn],Kn[Yn]=null}var na=null,aa=null,sa=!1,ia=null,oa=!1,la=Error(i(519));function ca(e){throw ma(kn(Error(i(418,"")),e)),la}function ua(e){var t=e.stateNode,r=e.type,n=e.memoizedProps;switch(t[Te]=e,t[De]=n,r){case"dialog":Lu("cancel",t),Lu("close",t);break;case"iframe":case"object":case"embed":Lu("load",t);break;case"video":case"audio":for(r=0;r<Mu.length;r++)Lu(Mu[r],t);break;case"source":Lu("error",t);break;case"img":case"image":case"link":Lu("error",t),Lu("load",t);break;case"details":Lu("toggle",t);break;case"input":Lu("invalid",t),yt(t,n.value,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name,!0),dt(t);break;case"select":Lu("invalid",t);break;case"textarea":Lu("invalid",t),wt(t,n.value,n.defaultValue,n.children),dt(t)}"string"!==typeof(r=n.children)&&"number"!==typeof r&&"bigint"!==typeof r||t.textContent===""+r||!0===n.suppressHydrationWarning||Xu(t.textContent,r)?(null!=n.popover&&(Lu("beforetoggle",t),Lu("toggle",t)),null!=n.onScroll&&Lu("scroll",t),null!=n.onScrollEnd&&Lu("scrollend",t),null!=n.onClick&&(t.onclick=Ju),t=!0):t=!1,t||ca(e)}function da(e){for(na=e.return;na;)switch(na.tag){case 5:case 13:return void(oa=!1);case 27:case 3:return void(oa=!0);default:na=na.return}}function ha(e){if(e!==na)return!1;if(!sa)return da(e),sa=!0,!1;var t,r=e.tag;if((t=3!==r&&27!==r)&&((t=5===r)&&(t=!("form"!==(t=e.type)&&"button"!==t)||id(e.type,e.memoizedProps)),t=!t),t&&aa&&ca(e),da(e),13===r){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(i(317));e:{for(e=e.nextSibling,r=0;e;){if(8===e.nodeType)if("/$"===(t=e.data)){if(0===r){aa=yd(e.nextSibling);break e}r--}else"$"!==t&&"$!"!==t&&"$?"!==t||r++;e=e.nextSibling}aa=null}}else 27===r?(r=aa,fd(e.type)?(e=vd,vd=null,aa=e):aa=r):aa=na?yd(e.stateNode.nextSibling):null;return!0}function fa(){aa=na=null,sa=!1}function pa(){var e=ia;return null!==e&&(null===xc?xc=e:xc.push.apply(xc,e),ia=null),e}function ma(e){null===ia?ia=[e]:ia.push(e)}var ga=F(null),ya=null,va=null;function xa(e,t,r){U(ga,t._currentValue),t._currentValue=r}function ba(e){e._currentValue=ga.current,B(ga)}function wa(e,t,r){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==n&&(n.childLanes|=t)):null!==n&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function ja(e,t,r,n){var a=e.child;for(null!==a&&(a.return=e);null!==a;){var s=a.dependencies;if(null!==s){var o=a.child;s=s.firstContext;e:for(;null!==s;){var l=s;s=a;for(var c=0;c<t.length;c++)if(l.context===t[c]){s.lanes|=r,null!==(l=s.alternate)&&(l.lanes|=r),wa(s.return,r,e),n||(o=null);break e}s=l.next}}else if(18===a.tag){if(null===(o=a.return))throw Error(i(341));o.lanes|=r,null!==(s=o.alternate)&&(s.lanes|=r),wa(o,r,e),o=null}else o=a.child;if(null!==o)o.return=a;else for(o=a;null!==o;){if(o===e){o=null;break}if(null!==(a=o.sibling)){a.return=o.return,o=a;break}o=o.return}a=o}}function Na(e,t,r,n){e=null;for(var a=t,s=!1;null!==a;){if(!s)if(0!==(524288&a.flags))s=!0;else if(0!==(262144&a.flags))break;if(10===a.tag){var o=a.alternate;if(null===o)throw Error(i(387));if(null!==(o=o.memoizedProps)){var l=a.type;Kr(a.pendingProps.value,o.value)||(null!==e?e.push(l):e=[l])}}else if(a===W.current){if(null===(o=a.alternate))throw Error(i(387));o.memoizedState.memoizedState!==a.memoizedState.memoizedState&&(null!==e?e.push(Kd):e=[Kd])}a=a.return}null!==e&&ja(t,e,r,n),t.flags|=262144}function ka(e){for(e=e.firstContext;null!==e;){if(!Kr(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Sa(e){ya=e,va=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function _a(e){return Ea(ya,e)}function Oa(e,t){return null===ya&&Sa(e),Ea(e,t)}function Ea(e,t){var r=t._currentValue;if(t={context:t,memoizedValue:r,next:null},null===va){if(null===e)throw Error(i(308));va=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else va=va.next=t;return r}var Ca="undefined"!==typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,r){e.push(r)}};this.abort=function(){t.aborted=!0,e.forEach(function(e){return e()})}},Pa=n.unstable_scheduleCallback,Aa=n.unstable_NormalPriority,Ta={$$typeof:w,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Da(){return{controller:new Ca,data:new Map,refCount:0}}function Ma(e){e.refCount--,0===e.refCount&&Pa(Aa,function(){e.controller.abort()})}var Ia=null,Ra=0,La=0,za=null;function Fa(){if(0===--Ra&&null!==Ia){null!==za&&(za.status="fulfilled");var e=Ia;Ia=null,La=0,za=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var Ba=M.S;M.S=function(e,t){"object"===typeof t&&null!==t&&"function"===typeof t.then&&function(e,t){if(null===Ia){var r=Ia=[];Ra=0,La=Cu(),za={status:"pending",value:void 0,then:function(e){r.push(e)}}}Ra++,t.then(Fa,Fa)}(0,t),null!==Ba&&Ba(e,t)};var Ua=F(null);function qa(){var e=Ua.current;return null!==e?e:nc.pooledCache}function Ha(e,t){U(Ua,null===t?Ua.current:t.pool)}function Va(){var e=qa();return null===e?null:{parent:Ta._currentValue,pool:e}}var Wa=Error(i(460)),Ga=Error(i(474)),$a=Error(i(542)),Ka={then:function(){}};function Ya(e){return"fulfilled"===(e=e.status)||"rejected"===e}function Xa(){}function Ja(e,t,r){switch(void 0===(r=e[r])?e.push(t):r!==t&&(t.then(Xa,Xa),t=r),t.status){case"fulfilled":return t.value;case"rejected":throw es(e=t.reason),e;default:if("string"===typeof t.status)t.then(Xa,Xa);else{if(null!==(e=nc)&&100<e.shellSuspendCounter)throw Error(i(482));(e=t).status="pending",e.then(function(e){if("pending"===t.status){var r=t;r.status="fulfilled",r.value=e}},function(e){if("pending"===t.status){var r=t;r.status="rejected",r.reason=e}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw es(e=t.reason),e}throw Qa=t,Wa}}var Qa=null;function Za(){if(null===Qa)throw Error(i(459));var e=Qa;return Qa=null,e}function es(e){if(e===Wa||e===$a)throw Error(i(483))}var ts=!1;function rs(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ns(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function as(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ss(e,t,r){var n=e.updateQueue;if(null===n)return null;if(n=n.shared,0!==(2&rc)){var a=n.pending;return null===a?t.next=t:(t.next=a.next,a.next=t),n.pending=t,t=Dn(e),Tn(e,null,r),t}return Cn(e,n,t,r),Dn(e)}function is(e,t,r){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194048&r))){var n=t.lanes;r|=n&=e.pendingLanes,t.lanes=r,Oe(e,r)}}function os(e,t){var r=e.updateQueue,n=e.alternate;if(null!==n&&r===(n=n.updateQueue)){var a=null,s=null;if(null!==(r=r.firstBaseUpdate)){do{var i={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};null===s?a=s=i:s=s.next=i,r=r.next}while(null!==r);null===s?a=s=t:s=s.next=t}else a=s=t;return r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:s,shared:n.shared,callbacks:n.callbacks},void(e.updateQueue=r)}null===(e=r.lastBaseUpdate)?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}var ls=!1;function cs(){if(ls){if(null!==za)throw za}}function us(e,t,r,n){ls=!1;var a=e.updateQueue;ts=!1;var s=a.firstBaseUpdate,i=a.lastBaseUpdate,o=a.shared.pending;if(null!==o){a.shared.pending=null;var l=o,c=l.next;l.next=null,null===i?s=c:i.next=c,i=l;var u=e.alternate;null!==u&&((o=(u=u.updateQueue).lastBaseUpdate)!==i&&(null===o?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l))}if(null!==s){var d=a.baseState;for(i=0,u=c=l=null,o=s;;){var f=-536870913&o.lane,p=f!==o.lane;if(p?(sc&f)===f:(n&f)===f){0!==f&&f===La&&(ls=!0),null!==u&&(u=u.next={lane:0,tag:o.tag,payload:o.payload,callback:null,next:null});e:{var m=e,g=o;f=t;var y=r;switch(g.tag){case 1:if("function"===typeof(m=g.payload)){d=m.call(y,d,f);break e}d=m;break e;case 3:m.flags=-65537&m.flags|128;case 0:if(null===(f="function"===typeof(m=g.payload)?m.call(y,d,f):m)||void 0===f)break e;d=h({},d,f);break e;case 2:ts=!0}}null!==(f=o.callback)&&(e.flags|=64,p&&(e.flags|=8192),null===(p=a.callbacks)?a.callbacks=[f]:p.push(f))}else p={lane:f,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===u?(c=u=p,l=d):u=u.next=p,i|=f;if(null===(o=o.next)){if(null===(o=a.shared.pending))break;o=(p=o).next,p.next=null,a.lastBaseUpdate=p,a.shared.pending=null}}null===u&&(l=d),a.baseState=l,a.firstBaseUpdate=c,a.lastBaseUpdate=u,null===s&&(a.shared.lanes=0),fc|=i,e.lanes=i,e.memoizedState=d}}function ds(e,t){if("function"!==typeof e)throw Error(i(191,e));e.call(t)}function hs(e,t){var r=e.callbacks;if(null!==r)for(e.callbacks=null,e=0;e<r.length;e++)ds(r[e],t)}var fs=F(null),ps=F(0);function ms(e,t){U(ps,e=dc),U(fs,t),dc=e|t.baseLanes}function gs(){U(ps,dc),U(fs,fs.current)}function ys(){dc=ps.current,B(fs),B(ps)}var vs=0,xs=null,bs=null,ws=null,js=!1,Ns=!1,ks=!1,Ss=0,_s=0,Os=null,Es=0;function Cs(){throw Error(i(321))}function Ps(e,t){if(null===t)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Kr(e[r],t[r]))return!1;return!0}function As(e,t,r,n,a,s){return vs=s,xs=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,M.H=null===e||null===e.memoizedState?Wi:Gi,ks=!1,s=r(n,a),ks=!1,Ns&&(s=Ds(t,r,n,a)),Ts(e),s}function Ts(e){M.H=Vi;var t=null!==bs&&null!==bs.next;if(vs=0,ws=bs=xs=null,js=!1,_s=0,Os=null,t)throw Error(i(300));null===e||Oo||null!==(e=e.dependencies)&&ka(e)&&(Oo=!0)}function Ds(e,t,r,n){xs=e;var a=0;do{if(Ns&&(Os=null),_s=0,Ns=!1,25<=a)throw Error(i(301));if(a+=1,ws=bs=null,null!=e.updateQueue){var s=e.updateQueue;s.lastEffect=null,s.events=null,s.stores=null,null!=s.memoCache&&(s.memoCache.index=0)}M.H=$i,s=t(r,n)}while(Ns);return s}function Ms(){var e=M.H,t=e.useState()[0];return t="function"===typeof t.then?Bs(t):t,e=e.useState()[0],(null!==bs?bs.memoizedState:null)!==e&&(xs.flags|=1024),t}function Is(){var e=0!==Ss;return Ss=0,e}function Rs(e,t,r){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r}function Ls(e){if(js){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}js=!1}vs=0,ws=bs=xs=null,Ns=!1,_s=Ss=0,Os=null}function zs(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ws?xs.memoizedState=ws=e:ws=ws.next=e,ws}function Fs(){if(null===bs){var e=xs.alternate;e=null!==e?e.memoizedState:null}else e=bs.next;var t=null===ws?xs.memoizedState:ws.next;if(null!==t)ws=t,bs=e;else{if(null===e){if(null===xs.alternate)throw Error(i(467));throw Error(i(310))}e={memoizedState:(bs=e).memoizedState,baseState:bs.baseState,baseQueue:bs.baseQueue,queue:bs.queue,next:null},null===ws?xs.memoizedState=ws=e:ws=ws.next=e}return ws}function Bs(e){var t=_s;return _s+=1,null===Os&&(Os=[]),e=Ja(Os,e,t),t=xs,null===(null===ws?t.memoizedState:ws.next)&&(t=t.alternate,M.H=null===t||null===t.memoizedState?Wi:Gi),e}function Us(e){if(null!==e&&"object"===typeof e){if("function"===typeof e.then)return Bs(e);if(e.$$typeof===w)return _a(e)}throw Error(i(438,String(e)))}function qs(e){var t=null,r=xs.updateQueue;if(null!==r&&(t=r.memoCache),null==t){var n=xs.alternate;null!==n&&(null!==(n=n.updateQueue)&&(null!=(n=n.memoCache)&&(t={data:n.data.map(function(e){return e.slice()}),index:0})))}if(null==t&&(t={data:[],index:0}),null===r&&(r={lastEffect:null,events:null,stores:null,memoCache:null},xs.updateQueue=r),r.memoCache=t,void 0===(r=t.data[t.index]))for(r=t.data[t.index]=Array(e),n=0;n<e;n++)r[n]=E;return t.index++,r}function Hs(e,t){return"function"===typeof t?t(e):t}function Vs(e){return Ws(Fs(),bs,e)}function Ws(e,t,r){var n=e.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=r;var a=e.baseQueue,s=n.pending;if(null!==s){if(null!==a){var o=a.next;a.next=s.next,s.next=o}t.baseQueue=a=s,n.pending=null}if(s=e.baseState,null===a)e.memoizedState=s;else{var l=o=null,c=null,u=t=a.next,d=!1;do{var h=-536870913&u.lane;if(h!==u.lane?(sc&h)===h:(vs&h)===h){var f=u.revertLane;if(0===f)null!==c&&(c=c.next={lane:0,revertLane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),h===La&&(d=!0);else{if((vs&f)===f){u=u.next,f===La&&(d=!0);continue}h={lane:0,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=h,o=s):c=c.next=h,xs.lanes|=f,fc|=f}h=u.action,ks&&r(s,h),s=u.hasEagerState?u.eagerState:r(s,h)}else f={lane:h,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=f,o=s):c=c.next=f,xs.lanes|=h,fc|=h;u=u.next}while(null!==u&&u!==t);if(null===c?o=s:c.next=l,!Kr(s,e.memoizedState)&&(Oo=!0,d&&null!==(r=za)))throw r;e.memoizedState=s,e.baseState=o,e.baseQueue=c,n.lastRenderedState=s}return null===a&&(n.lanes=0),[e.memoizedState,n.dispatch]}function Gs(e){var t=Fs(),r=t.queue;if(null===r)throw Error(i(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,s=t.memoizedState;if(null!==a){r.pending=null;var o=a=a.next;do{s=e(s,o.action),o=o.next}while(o!==a);Kr(s,t.memoizedState)||(Oo=!0),t.memoizedState=s,null===t.baseQueue&&(t.baseState=s),r.lastRenderedState=s}return[s,n]}function $s(e,t,r){var n=xs,a=Fs(),s=sa;if(s){if(void 0===r)throw Error(i(407));r=r()}else r=t();var o=!Kr((bs||a).memoizedState,r);if(o&&(a.memoizedState=r,Oo=!0),a=a.queue,gi(2048,8,Xs.bind(null,n,a,e),[e]),a.getSnapshot!==t||o||null!==ws&&1&ws.memoizedState.tag){if(n.flags|=2048,fi(9,{destroy:void 0,resource:void 0},Ys.bind(null,n,a,r,t),null),null===nc)throw Error(i(349));s||0!==(124&vs)||Ks(n,t,r)}return r}function Ks(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},null===(t=xs.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},xs.updateQueue=t,t.stores=[e]):null===(r=t.stores)?t.stores=[e]:r.push(e)}function Ys(e,t,r,n){t.value=r,t.getSnapshot=n,Js(t)&&Qs(e)}function Xs(e,t,r){return r(function(){Js(t)&&Qs(e)})}function Js(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Kr(e,r)}catch(n){return!0}}function Qs(e){var t=An(e,2);null!==t&&Rc(t,e,2)}function Zs(e){var t=zs();if("function"===typeof e){var r=e;if(e=r(),ks){he(!0);try{r()}finally{he(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hs,lastRenderedState:e},t}function ei(e,t,r,n){return e.baseState=r,Ws(e,bs,"function"===typeof n?n:Hs)}function ti(e,t,r,n,a){if(Ui(e))throw Error(i(485));if(null!==(e=t.action)){var s={payload:a,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){s.listeners.push(e)}};null!==M.T?r(!0):s.isTransition=!1,n(s),null===(r=t.pending)?(s.next=t.pending=s,ri(t,s)):(s.next=r.next,t.pending=r.next=s)}}function ri(e,t){var r=t.action,n=t.payload,a=e.state;if(t.isTransition){var s=M.T,i={};M.T=i;try{var o=r(a,n),l=M.S;null!==l&&l(i,o),ni(e,t,o)}catch(c){si(e,t,c)}finally{M.T=s}}else try{ni(e,t,s=r(a,n))}catch(u){si(e,t,u)}}function ni(e,t,r){null!==r&&"object"===typeof r&&"function"===typeof r.then?r.then(function(r){ai(e,t,r)},function(r){return si(e,t,r)}):ai(e,t,r)}function ai(e,t,r){t.status="fulfilled",t.value=r,ii(t),e.state=r,null!==(t=e.pending)&&((r=t.next)===t?e.pending=null:(r=r.next,t.next=r,ri(e,r)))}function si(e,t,r){var n=e.pending;if(e.pending=null,null!==n){n=n.next;do{t.status="rejected",t.reason=r,ii(t),t=t.next}while(t!==n)}e.action=null}function ii(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function oi(e,t){return t}function li(e,t){if(sa){var r=nc.formState;if(null!==r){e:{var n=xs;if(sa){if(aa){t:{for(var a=aa,s=oa;8!==a.nodeType;){if(!s){a=null;break t}if(null===(a=yd(a.nextSibling))){a=null;break t}}a="F!"===(s=a.data)||"F"===s?a:null}if(a){aa=yd(a.nextSibling),n="F!"===a.data;break e}}ca(n)}n=!1}n&&(t=r[0])}}return(r=zs()).memoizedState=r.baseState=t,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:oi,lastRenderedState:t},r.queue=n,r=zi.bind(null,xs,n),n.dispatch=r,n=Zs(!1),s=Bi.bind(null,xs,!1,n.queue),a={state:t,dispatch:null,action:e,pending:null},(n=zs()).queue=a,r=ti.bind(null,xs,a,s,r),a.dispatch=r,n.memoizedState=e,[t,r,!1]}function ci(e){return ui(Fs(),bs,e)}function ui(e,t,r){if(t=Ws(e,t,oi)[0],e=Vs(Hs)[0],"object"===typeof t&&null!==t&&"function"===typeof t.then)try{var n=Bs(t)}catch(i){if(i===Wa)throw $a;throw i}else n=t;var a=(t=Fs()).queue,s=a.dispatch;return r!==t.memoizedState&&(xs.flags|=2048,fi(9,{destroy:void 0,resource:void 0},di.bind(null,a,r),null)),[n,s,e]}function di(e,t){e.action=t}function hi(e){var t=Fs(),r=bs;if(null!==r)return ui(t,r,e);Fs(),t=t.memoizedState;var n=(r=Fs()).queue.dispatch;return r.memoizedState=e,[t,n,!1]}function fi(e,t,r,n){return e={tag:e,create:r,deps:n,inst:t,next:null},null===(t=xs.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},xs.updateQueue=t),null===(r=t.lastEffect)?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e),e}function pi(){return Fs().memoizedState}function mi(e,t,r,n){var a=zs();n=void 0===n?null:n,xs.flags|=e,a.memoizedState=fi(1|t,{destroy:void 0,resource:void 0},r,n)}function gi(e,t,r,n){var a=Fs();n=void 0===n?null:n;var s=a.memoizedState.inst;null!==bs&&null!==n&&Ps(n,bs.memoizedState.deps)?a.memoizedState=fi(t,s,r,n):(xs.flags|=e,a.memoizedState=fi(1|t,s,r,n))}function yi(e,t){mi(8390656,8,e,t)}function vi(e,t){gi(2048,8,e,t)}function xi(e,t){return gi(4,2,e,t)}function bi(e,t){return gi(4,4,e,t)}function wi(e,t){if("function"===typeof t){e=e();var r=t(e);return function(){"function"===typeof r?r():t(null)}}if(null!==t&&void 0!==t)return e=e(),t.current=e,function(){t.current=null}}function ji(e,t,r){r=null!==r&&void 0!==r?r.concat([e]):null,gi(4,4,wi.bind(null,t,e),r)}function Ni(){}function ki(e,t){var r=Fs();t=void 0===t?null:t;var n=r.memoizedState;return null!==t&&Ps(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function Si(e,t){var r=Fs();t=void 0===t?null:t;var n=r.memoizedState;if(null!==t&&Ps(t,n[1]))return n[0];if(n=e(),ks){he(!0);try{e()}finally{he(!1)}}return r.memoizedState=[n,t],n}function _i(e,t,r){return void 0===r||0!==(1073741824&vs)?e.memoizedState=t:(e.memoizedState=r,e=Ic(),xs.lanes|=e,fc|=e,r)}function Oi(e,t,r,n){return Kr(r,t)?r:null!==fs.current?(e=_i(e,r,n),Kr(e,t)||(Oo=!0),e):0===(42&vs)?(Oo=!0,e.memoizedState=r):(e=Ic(),xs.lanes|=e,fc|=e,t)}function Ei(e,t,r,n,a){var s=I.p;I.p=0!==s&&8>s?s:8;var i=M.T,o={};M.T=o,Bi(e,!1,t,r);try{var l=a(),c=M.S;if(null!==c&&c(o,l),null!==l&&"object"===typeof l&&"function"===typeof l.then)Fi(e,t,function(e,t){var r=[],n={status:"pending",value:null,reason:null,then:function(e){r.push(e)}};return e.then(function(){n.status="fulfilled",n.value=t;for(var e=0;e<r.length;e++)(0,r[e])(t)},function(e){for(n.status="rejected",n.reason=e,e=0;e<r.length;e++)(0,r[e])(void 0)}),n}(l,n),Mc());else Fi(e,t,n,Mc())}catch(u){Fi(e,t,{then:function(){},status:"rejected",reason:u},Mc())}finally{I.p=s,M.T=i}}function Ci(){}function Pi(e,t,r,n){if(5!==e.tag)throw Error(i(476));var a=Ai(e).queue;Ei(e,a,t,R,null===r?Ci:function(){return Ti(e),r(n)})}function Ai(e){var t=e.memoizedState;if(null!==t)return t;var r={};return(t={memoizedState:R,baseState:R,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hs,lastRenderedState:R},next:null}).next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hs,lastRenderedState:r},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function Ti(e){Fi(e,Ai(e).next.queue,{},Mc())}function Di(){return _a(Kd)}function Mi(){return Fs().memoizedState}function Ii(){return Fs().memoizedState}function Ri(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var r=Mc(),n=ss(t,e=as(r),r);return null!==n&&(Rc(n,t,r),is(n,t,r)),t={cache:Da()},void(e.payload=t)}t=t.return}}function Li(e,t,r){var n=Mc();r={lane:n,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null},Ui(e)?qi(t,r):null!==(r=Pn(e,t,r,n))&&(Rc(r,e,n),Hi(r,t,n))}function zi(e,t,r){Fi(e,t,r,Mc())}function Fi(e,t,r,n){var a={lane:n,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null};if(Ui(e))qi(t,a);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var i=t.lastRenderedState,o=s(i,r);if(a.hasEagerState=!0,a.eagerState=o,Kr(o,i))return Cn(e,t,a,0),null===nc&&En(),!1}catch(l){}if(null!==(r=Pn(e,t,a,n)))return Rc(r,e,n),Hi(r,t,n),!0}return!1}function Bi(e,t,r,n){if(n={lane:2,revertLane:Cu(),action:n,hasEagerState:!1,eagerState:null,next:null},Ui(e)){if(t)throw Error(i(479))}else null!==(t=Pn(e,r,n,2))&&Rc(t,e,2)}function Ui(e){var t=e.alternate;return e===xs||null!==t&&t===xs}function qi(e,t){Ns=js=!0;var r=e.pending;null===r?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Hi(e,t,r){if(0!==(4194048&r)){var n=t.lanes;r|=n&=e.pendingLanes,t.lanes=r,Oe(e,r)}}var Vi={readContext:_a,use:Us,useCallback:Cs,useContext:Cs,useEffect:Cs,useImperativeHandle:Cs,useLayoutEffect:Cs,useInsertionEffect:Cs,useMemo:Cs,useReducer:Cs,useRef:Cs,useState:Cs,useDebugValue:Cs,useDeferredValue:Cs,useTransition:Cs,useSyncExternalStore:Cs,useId:Cs,useHostTransitionStatus:Cs,useFormState:Cs,useActionState:Cs,useOptimistic:Cs,useMemoCache:Cs,useCacheRefresh:Cs},Wi={readContext:_a,use:Us,useCallback:function(e,t){return zs().memoizedState=[e,void 0===t?null:t],e},useContext:_a,useEffect:yi,useImperativeHandle:function(e,t,r){r=null!==r&&void 0!==r?r.concat([e]):null,mi(4194308,4,wi.bind(null,t,e),r)},useLayoutEffect:function(e,t){return mi(4194308,4,e,t)},useInsertionEffect:function(e,t){mi(4,2,e,t)},useMemo:function(e,t){var r=zs();t=void 0===t?null:t;var n=e();if(ks){he(!0);try{e()}finally{he(!1)}}return r.memoizedState=[n,t],n},useReducer:function(e,t,r){var n=zs();if(void 0!==r){var a=r(t);if(ks){he(!0);try{r(t)}finally{he(!1)}}}else a=t;return n.memoizedState=n.baseState=a,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:a},n.queue=e,e=e.dispatch=Li.bind(null,xs,e),[n.memoizedState,e]},useRef:function(e){return e={current:e},zs().memoizedState=e},useState:function(e){var t=(e=Zs(e)).queue,r=zi.bind(null,xs,t);return t.dispatch=r,[e.memoizedState,r]},useDebugValue:Ni,useDeferredValue:function(e,t){return _i(zs(),e,t)},useTransition:function(){var e=Zs(!1);return e=Ei.bind(null,xs,e.queue,!0,!1),zs().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,r){var n=xs,a=zs();if(sa){if(void 0===r)throw Error(i(407));r=r()}else{if(r=t(),null===nc)throw Error(i(349));0!==(124&sc)||Ks(n,t,r)}a.memoizedState=r;var s={value:r,getSnapshot:t};return a.queue=s,yi(Xs.bind(null,n,s,e),[e]),n.flags|=2048,fi(9,{destroy:void 0,resource:void 0},Ys.bind(null,n,s,r,t),null),r},useId:function(){var e=zs(),t=nc.identifierPrefix;if(sa){var r=Qn;t="\xab"+t+"R"+(r=(Jn&~(1<<32-fe(Jn)-1)).toString(32)+r),0<(r=Ss++)&&(t+="H"+r.toString(32)),t+="\xbb"}else t="\xab"+t+"r"+(r=Es++).toString(32)+"\xbb";return e.memoizedState=t},useHostTransitionStatus:Di,useFormState:li,useActionState:li,useOptimistic:function(e){var t=zs();t.memoizedState=t.baseState=e;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=r,t=Bi.bind(null,xs,!0,r),r.dispatch=t,[e,t]},useMemoCache:qs,useCacheRefresh:function(){return zs().memoizedState=Ri.bind(null,xs)}},Gi={readContext:_a,use:Us,useCallback:ki,useContext:_a,useEffect:vi,useImperativeHandle:ji,useInsertionEffect:xi,useLayoutEffect:bi,useMemo:Si,useReducer:Vs,useRef:pi,useState:function(){return Vs(Hs)},useDebugValue:Ni,useDeferredValue:function(e,t){return Oi(Fs(),bs.memoizedState,e,t)},useTransition:function(){var e=Vs(Hs)[0],t=Fs().memoizedState;return["boolean"===typeof e?e:Bs(e),t]},useSyncExternalStore:$s,useId:Mi,useHostTransitionStatus:Di,useFormState:ci,useActionState:ci,useOptimistic:function(e,t){return ei(Fs(),0,e,t)},useMemoCache:qs,useCacheRefresh:Ii},$i={readContext:_a,use:Us,useCallback:ki,useContext:_a,useEffect:vi,useImperativeHandle:ji,useInsertionEffect:xi,useLayoutEffect:bi,useMemo:Si,useReducer:Gs,useRef:pi,useState:function(){return Gs(Hs)},useDebugValue:Ni,useDeferredValue:function(e,t){var r=Fs();return null===bs?_i(r,e,t):Oi(r,bs.memoizedState,e,t)},useTransition:function(){var e=Gs(Hs)[0],t=Fs().memoizedState;return["boolean"===typeof e?e:Bs(e),t]},useSyncExternalStore:$s,useId:Mi,useHostTransitionStatus:Di,useFormState:hi,useActionState:hi,useOptimistic:function(e,t){var r=Fs();return null!==bs?ei(r,0,e,t):(r.baseState=e,[e,r.queue.dispatch])},useMemoCache:qs,useCacheRefresh:Ii},Ki=null,Yi=0;function Xi(e){var t=Yi;return Yi+=1,null===Ki&&(Ki=[]),Ja(Ki,e,t)}function Ji(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function Qi(e,t){if(t.$$typeof===f)throw Error(i(525));throw e=Object.prototype.toString.call(t),Error(i(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Zi(e){return(0,e._init)(e._payload)}function eo(e){function t(t,r){if(e){var n=t.deletions;null===n?(t.deletions=[r],t.flags|=16):n.push(r)}}function r(r,n){if(!e)return null;for(;null!==n;)t(r,n),n=n.sibling;return null}function n(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function a(e,t){return(e=zn(e,t)).index=0,e.sibling=null,e}function s(t,r,n){return t.index=n,e?null!==(n=t.alternate)?(n=n.index)<r?(t.flags|=67108866,r):n:(t.flags|=67108866,r):(t.flags|=1048576,r)}function o(t){return e&&null===t.alternate&&(t.flags|=67108866),t}function l(e,t,r,n){return null===t||6!==t.tag?((t=qn(r,e.mode,n)).return=e,t):((t=a(t,r)).return=e,t)}function c(e,t,r,n){var s=r.type;return s===g?d(e,t,r.props.children,n,r.key):null!==t&&(t.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===_&&Zi(s)===t.type)?(Ji(t=a(t,r.props),r),t.return=e,t):(Ji(t=Bn(r.type,r.key,r.props,null,e.mode,n),r),t.return=e,t)}function u(e,t,r,n){return null===t||4!==t.tag||t.stateNode.containerInfo!==r.containerInfo||t.stateNode.implementation!==r.implementation?((t=Hn(r,e.mode,n)).return=e,t):((t=a(t,r.children||[])).return=e,t)}function d(e,t,r,n,s){return null===t||7!==t.tag?((t=Un(r,e.mode,n,s)).return=e,t):((t=a(t,r)).return=e,t)}function h(e,t,r){if("string"===typeof t&&""!==t||"number"===typeof t||"bigint"===typeof t)return(t=qn(""+t,e.mode,r)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case p:return Ji(r=Bn(t.type,t.key,t.props,null,e.mode,r),t),r.return=e,r;case m:return(t=Hn(t,e.mode,r)).return=e,t;case _:return h(e,t=(0,t._init)(t._payload),r)}if(D(t)||P(t))return(t=Un(t,e.mode,r,null)).return=e,t;if("function"===typeof t.then)return h(e,Xi(t),r);if(t.$$typeof===w)return h(e,Oa(e,t),r);Qi(e,t)}return null}function f(e,t,r,n){var a=null!==t?t.key:null;if("string"===typeof r&&""!==r||"number"===typeof r||"bigint"===typeof r)return null!==a?null:l(e,t,""+r,n);if("object"===typeof r&&null!==r){switch(r.$$typeof){case p:return r.key===a?c(e,t,r,n):null;case m:return r.key===a?u(e,t,r,n):null;case _:return f(e,t,r=(a=r._init)(r._payload),n)}if(D(r)||P(r))return null!==a?null:d(e,t,r,n,null);if("function"===typeof r.then)return f(e,t,Xi(r),n);if(r.$$typeof===w)return f(e,t,Oa(e,r),n);Qi(e,r)}return null}function y(e,t,r,n,a){if("string"===typeof n&&""!==n||"number"===typeof n||"bigint"===typeof n)return l(t,e=e.get(r)||null,""+n,a);if("object"===typeof n&&null!==n){switch(n.$$typeof){case p:return c(t,e=e.get(null===n.key?r:n.key)||null,n,a);case m:return u(t,e=e.get(null===n.key?r:n.key)||null,n,a);case _:return y(e,t,r,n=(0,n._init)(n._payload),a)}if(D(n)||P(n))return d(t,e=e.get(r)||null,n,a,null);if("function"===typeof n.then)return y(e,t,r,Xi(n),a);if(n.$$typeof===w)return y(e,t,r,Oa(t,n),a);Qi(t,n)}return null}function v(l,c,u,d){if("object"===typeof u&&null!==u&&u.type===g&&null===u.key&&(u=u.props.children),"object"===typeof u&&null!==u){switch(u.$$typeof){case p:e:{for(var x=u.key;null!==c;){if(c.key===x){if((x=u.type)===g){if(7===c.tag){r(l,c.sibling),(d=a(c,u.props.children)).return=l,l=d;break e}}else if(c.elementType===x||"object"===typeof x&&null!==x&&x.$$typeof===_&&Zi(x)===c.type){r(l,c.sibling),Ji(d=a(c,u.props),u),d.return=l,l=d;break e}r(l,c);break}t(l,c),c=c.sibling}u.type===g?((d=Un(u.props.children,l.mode,d,u.key)).return=l,l=d):(Ji(d=Bn(u.type,u.key,u.props,null,l.mode,d),u),d.return=l,l=d)}return o(l);case m:e:{for(x=u.key;null!==c;){if(c.key===x){if(4===c.tag&&c.stateNode.containerInfo===u.containerInfo&&c.stateNode.implementation===u.implementation){r(l,c.sibling),(d=a(c,u.children||[])).return=l,l=d;break e}r(l,c);break}t(l,c),c=c.sibling}(d=Hn(u,l.mode,d)).return=l,l=d}return o(l);case _:return v(l,c,u=(x=u._init)(u._payload),d)}if(D(u))return function(a,i,o,l){for(var c=null,u=null,d=i,p=i=0,m=null;null!==d&&p<o.length;p++){d.index>p?(m=d,d=null):m=d.sibling;var g=f(a,d,o[p],l);if(null===g){null===d&&(d=m);break}e&&d&&null===g.alternate&&t(a,d),i=s(g,i,p),null===u?c=g:u.sibling=g,u=g,d=m}if(p===o.length)return r(a,d),sa&&Zn(a,p),c;if(null===d){for(;p<o.length;p++)null!==(d=h(a,o[p],l))&&(i=s(d,i,p),null===u?c=d:u.sibling=d,u=d);return sa&&Zn(a,p),c}for(d=n(d);p<o.length;p++)null!==(m=y(d,a,p,o[p],l))&&(e&&null!==m.alternate&&d.delete(null===m.key?p:m.key),i=s(m,i,p),null===u?c=m:u.sibling=m,u=m);return e&&d.forEach(function(e){return t(a,e)}),sa&&Zn(a,p),c}(l,c,u,d);if(P(u)){if("function"!==typeof(x=P(u)))throw Error(i(150));return function(a,o,l,c){if(null==l)throw Error(i(151));for(var u=null,d=null,p=o,m=o=0,g=null,v=l.next();null!==p&&!v.done;m++,v=l.next()){p.index>m?(g=p,p=null):g=p.sibling;var x=f(a,p,v.value,c);if(null===x){null===p&&(p=g);break}e&&p&&null===x.alternate&&t(a,p),o=s(x,o,m),null===d?u=x:d.sibling=x,d=x,p=g}if(v.done)return r(a,p),sa&&Zn(a,m),u;if(null===p){for(;!v.done;m++,v=l.next())null!==(v=h(a,v.value,c))&&(o=s(v,o,m),null===d?u=v:d.sibling=v,d=v);return sa&&Zn(a,m),u}for(p=n(p);!v.done;m++,v=l.next())null!==(v=y(p,a,m,v.value,c))&&(e&&null!==v.alternate&&p.delete(null===v.key?m:v.key),o=s(v,o,m),null===d?u=v:d.sibling=v,d=v);return e&&p.forEach(function(e){return t(a,e)}),sa&&Zn(a,m),u}(l,c,u=x.call(u),d)}if("function"===typeof u.then)return v(l,c,Xi(u),d);if(u.$$typeof===w)return v(l,c,Oa(l,u),d);Qi(l,u)}return"string"===typeof u&&""!==u||"number"===typeof u||"bigint"===typeof u?(u=""+u,null!==c&&6===c.tag?(r(l,c.sibling),(d=a(c,u)).return=l,l=d):(r(l,c),(d=qn(u,l.mode,d)).return=l,l=d),o(l)):r(l,c)}return function(e,t,r,n){try{Yi=0;var a=v(e,t,r,n);return Ki=null,a}catch(i){if(i===Wa||i===$a)throw i;var s=Rn(29,i,null,e.mode);return s.lanes=n,s.return=e,s}}}var to=eo(!0),ro=eo(!1),no=F(null),ao=null;function so(e){var t=e.alternate;U(co,1&co.current),U(no,e),null===ao&&(null===t||null!==fs.current||null!==t.memoizedState)&&(ao=e)}function io(e){if(22===e.tag){if(U(co,co.current),U(no,e),null===ao){var t=e.alternate;null!==t&&null!==t.memoizedState&&(ao=e)}}else oo()}function oo(){U(co,co.current),U(no,no.current)}function lo(e){B(no),ao===e&&(ao=null),B(co)}var co=F(0);function uo(e){for(var t=e;null!==t;){if(13===t.tag){var r=t.memoizedState;if(null!==r&&(null===(r=r.dehydrated)||"$?"===r.data||gd(r)))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function ho(e,t,r,n){r=null===(r=r(n,t=e.memoizedState))||void 0===r?t:h({},t,r),e.memoizedState=r,0===e.lanes&&(e.updateQueue.baseState=r)}var fo={enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Mc(),a=as(n);a.payload=t,void 0!==r&&null!==r&&(a.callback=r),null!==(t=ss(e,a,n))&&(Rc(t,e,n),is(t,e,n))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Mc(),a=as(n);a.tag=1,a.payload=t,void 0!==r&&null!==r&&(a.callback=r),null!==(t=ss(e,a,n))&&(Rc(t,e,n),is(t,e,n))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Mc(),n=as(r);n.tag=2,void 0!==t&&null!==t&&(n.callback=t),null!==(t=ss(e,n,r))&&(Rc(t,e,r),is(t,e,r))}};function po(e,t,r,n,a,s,i){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(n,s,i):!t.prototype||!t.prototype.isPureReactComponent||(!Yr(r,n)||!Yr(a,s))}function mo(e,t,r,n){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(r,n),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&fo.enqueueReplaceState(t,t.state,null)}function go(e,t){var r=t;if("ref"in t)for(var n in r={},t)"ref"!==n&&(r[n]=t[n]);if(e=e.defaultProps)for(var a in r===t&&(r=h({},r)),e)void 0===r[a]&&(r[a]=e[a]);return r}var yo="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function vo(e){yo(e)}function xo(e){console.error(e)}function bo(e){yo(e)}function wo(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(r){setTimeout(function(){throw r})}}function jo(e,t,r){try{(0,e.onCaughtError)(r.value,{componentStack:r.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(n){setTimeout(function(){throw n})}}function No(e,t,r){return(r=as(r)).tag=3,r.payload={element:null},r.callback=function(){wo(e,t)},r}function ko(e){return(e=as(e)).tag=3,e}function So(e,t,r,n){var a=r.type.getDerivedStateFromError;if("function"===typeof a){var s=n.value;e.payload=function(){return a(s)},e.callback=function(){jo(t,r,n)}}var i=r.stateNode;null!==i&&"function"===typeof i.componentDidCatch&&(e.callback=function(){jo(t,r,n),"function"!==typeof a&&(null===kc?kc=new Set([this]):kc.add(this));var e=n.stack;this.componentDidCatch(n.value,{componentStack:null!==e?e:""})})}var _o=Error(i(461)),Oo=!1;function Eo(e,t,r,n){t.child=null===e?ro(t,null,r,n):to(t,e.child,r,n)}function Co(e,t,r,n,a){r=r.render;var s=t.ref;if("ref"in n){var i={};for(var o in n)"ref"!==o&&(i[o]=n[o])}else i=n;return Sa(t),n=As(e,t,r,i,s,a),o=Is(),null===e||Oo?(sa&&o&&ta(t),t.flags|=1,Eo(e,t,n,a),t.child):(Rs(e,t,a),Yo(e,t,a))}function Po(e,t,r,n,a){if(null===e){var s=r.type;return"function"!==typeof s||Ln(s)||void 0!==s.defaultProps||null!==r.compare?((e=Bn(r.type,null,n,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,Ao(e,t,s,n,a))}if(s=e.child,!Xo(e,a)){var i=s.memoizedProps;if((r=null!==(r=r.compare)?r:Yr)(i,n)&&e.ref===t.ref)return Yo(e,t,a)}return t.flags|=1,(e=zn(s,n)).ref=t.ref,e.return=t,t.child=e}function Ao(e,t,r,n,a){if(null!==e){var s=e.memoizedProps;if(Yr(s,n)&&e.ref===t.ref){if(Oo=!1,t.pendingProps=n=s,!Xo(e,a))return t.lanes=e.lanes,Yo(e,t,a);0!==(131072&e.flags)&&(Oo=!0)}}return Io(e,t,r,n,a)}function To(e,t,r){var n=t.pendingProps,a=n.children,s=null!==e?e.memoizedState:null;if("hidden"===n.mode){if(0!==(128&t.flags)){if(n=null!==s?s.baseLanes|r:r,null!==e){for(a=t.child=e.child,s=0;null!==a;)s=s|a.lanes|a.childLanes,a=a.sibling;t.childLanes=s&~n}else t.childLanes=0,t.child=null;return Do(e,t,n,r)}if(0===(536870912&r))return t.lanes=t.childLanes=536870912,Do(e,t,null!==s?s.baseLanes|r:r,r);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&Ha(0,null!==s?s.cachePool:null),null!==s?ms(t,s):gs(),io(t)}else null!==s?(Ha(0,s.cachePool),ms(t,s),oo(),t.memoizedState=null):(null!==e&&Ha(0,null),gs(),oo());return Eo(e,t,a,r),t.child}function Do(e,t,r,n){var a=qa();return a=null===a?null:{parent:Ta._currentValue,pool:a},t.memoizedState={baseLanes:r,cachePool:a},null!==e&&Ha(0,null),gs(),io(t),null!==e&&Na(e,t,n,!0),null}function Mo(e,t){var r=t.ref;if(null===r)null!==e&&null!==e.ref&&(t.flags|=4194816);else{if("function"!==typeof r&&"object"!==typeof r)throw Error(i(284));null!==e&&e.ref===r||(t.flags|=4194816)}}function Io(e,t,r,n,a){return Sa(t),r=As(e,t,r,n,void 0,a),n=Is(),null===e||Oo?(sa&&n&&ta(t),t.flags|=1,Eo(e,t,r,a),t.child):(Rs(e,t,a),Yo(e,t,a))}function Ro(e,t,r,n,a,s){return Sa(t),t.updateQueue=null,r=Ds(t,n,r,a),Ts(e),n=Is(),null===e||Oo?(sa&&n&&ta(t),t.flags|=1,Eo(e,t,r,s),t.child):(Rs(e,t,s),Yo(e,t,s))}function Lo(e,t,r,n,a){if(Sa(t),null===t.stateNode){var s=Mn,i=r.contextType;"object"===typeof i&&null!==i&&(s=_a(i)),s=new r(n,s),t.memoizedState=null!==s.state&&void 0!==s.state?s.state:null,s.updater=fo,t.stateNode=s,s._reactInternals=t,(s=t.stateNode).props=n,s.state=t.memoizedState,s.refs={},rs(t),i=r.contextType,s.context="object"===typeof i&&null!==i?_a(i):Mn,s.state=t.memoizedState,"function"===typeof(i=r.getDerivedStateFromProps)&&(ho(t,r,i,n),s.state=t.memoizedState),"function"===typeof r.getDerivedStateFromProps||"function"===typeof s.getSnapshotBeforeUpdate||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||(i=s.state,"function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount(),i!==s.state&&fo.enqueueReplaceState(s,s.state,null),us(t,n,s,a),cs(),s.state=t.memoizedState),"function"===typeof s.componentDidMount&&(t.flags|=4194308),n=!0}else if(null===e){s=t.stateNode;var o=t.memoizedProps,l=go(r,o);s.props=l;var c=s.context,u=r.contextType;i=Mn,"object"===typeof u&&null!==u&&(i=_a(u));var d=r.getDerivedStateFromProps;u="function"===typeof d||"function"===typeof s.getSnapshotBeforeUpdate,o=t.pendingProps!==o,u||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(o||c!==i)&&mo(t,s,n,i),ts=!1;var h=t.memoizedState;s.state=h,us(t,n,s,a),cs(),c=t.memoizedState,o||h!==c||ts?("function"===typeof d&&(ho(t,r,d,n),c=t.memoizedState),(l=ts||po(t,r,l,n,h,c,i))?(u||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||("function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"===typeof s.componentDidMount&&(t.flags|=4194308)):("function"===typeof s.componentDidMount&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),s.props=n,s.state=c,s.context=i,n=l):("function"===typeof s.componentDidMount&&(t.flags|=4194308),n=!1)}else{s=t.stateNode,ns(e,t),u=go(r,i=t.memoizedProps),s.props=u,d=t.pendingProps,h=s.context,c=r.contextType,l=Mn,"object"===typeof c&&null!==c&&(l=_a(c)),(c="function"===typeof(o=r.getDerivedStateFromProps)||"function"===typeof s.getSnapshotBeforeUpdate)||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(i!==d||h!==l)&&mo(t,s,n,l),ts=!1,h=t.memoizedState,s.state=h,us(t,n,s,a),cs();var f=t.memoizedState;i!==d||h!==f||ts||null!==e&&null!==e.dependencies&&ka(e.dependencies)?("function"===typeof o&&(ho(t,r,o,n),f=t.memoizedState),(u=ts||po(t,r,u,n,h,f,l)||null!==e&&null!==e.dependencies&&ka(e.dependencies))?(c||"function"!==typeof s.UNSAFE_componentWillUpdate&&"function"!==typeof s.componentWillUpdate||("function"===typeof s.componentWillUpdate&&s.componentWillUpdate(n,f,l),"function"===typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(n,f,l)),"function"===typeof s.componentDidUpdate&&(t.flags|=4),"function"===typeof s.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof s.componentDidUpdate||i===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||i===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=f),s.props=n,s.state=f,s.context=l,n=u):("function"!==typeof s.componentDidUpdate||i===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||i===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return s=n,Mo(e,t),n=0!==(128&t.flags),s||n?(s=t.stateNode,r=n&&"function"!==typeof r.getDerivedStateFromError?null:s.render(),t.flags|=1,null!==e&&n?(t.child=to(t,e.child,null,a),t.child=to(t,null,r,a)):Eo(e,t,r,a),t.memoizedState=s.state,e=t.child):e=Yo(e,t,a),e}function zo(e,t,r,n){return fa(),t.flags|=256,Eo(e,t,r,n),t.child}var Fo={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Bo(e){return{baseLanes:e,cachePool:Va()}}function Uo(e,t,r){return e=null!==e?e.childLanes&~r:0,t&&(e|=gc),e}function qo(e,t,r){var n,a=t.pendingProps,s=!1,o=0!==(128&t.flags);if((n=o)||(n=(null===e||null!==e.memoizedState)&&0!==(2&co.current)),n&&(s=!0,t.flags&=-129),n=0!==(32&t.flags),t.flags&=-33,null===e){if(sa){if(s?so(t):oo(),sa){var l,c=aa;if(l=c){e:{for(l=c,c=oa;8!==l.nodeType;){if(!c){c=null;break e}if(null===(l=yd(l.nextSibling))){c=null;break e}}c=l}null!==c?(t.memoizedState={dehydrated:c,treeContext:null!==Xn?{id:Jn,overflow:Qn}:null,retryLane:536870912,hydrationErrors:null},(l=Rn(18,null,null,0)).stateNode=c,l.return=t,t.child=l,na=t,aa=null,l=!0):l=!1}l||ca(t)}if(null!==(c=t.memoizedState)&&null!==(c=c.dehydrated))return gd(c)?t.lanes=32:t.lanes=536870912,null;lo(t)}return c=a.children,a=a.fallback,s?(oo(),c=Vo({mode:"hidden",children:c},s=t.mode),a=Un(a,s,r,null),c.return=t,a.return=t,c.sibling=a,t.child=c,(s=t.child).memoizedState=Bo(r),s.childLanes=Uo(e,n,r),t.memoizedState=Fo,a):(so(t),Ho(t,c))}if(null!==(l=e.memoizedState)&&null!==(c=l.dehydrated)){if(o)256&t.flags?(so(t),t.flags&=-257,t=Wo(e,t,r)):null!==t.memoizedState?(oo(),t.child=e.child,t.flags|=128,t=null):(oo(),s=a.fallback,c=t.mode,a=Vo({mode:"visible",children:a.children},c),(s=Un(s,c,r,null)).flags|=2,a.return=t,s.return=t,a.sibling=s,t.child=a,to(t,e.child,null,r),(a=t.child).memoizedState=Bo(r),a.childLanes=Uo(e,n,r),t.memoizedState=Fo,t=s);else if(so(t),gd(c)){if(n=c.nextSibling&&c.nextSibling.dataset)var u=n.dgst;n=u,(a=Error(i(419))).stack="",a.digest=n,ma({value:a,source:null,stack:null}),t=Wo(e,t,r)}else if(Oo||Na(e,t,r,!1),n=0!==(r&e.childLanes),Oo||n){if(null!==(n=nc)&&(0!==(a=0!==((a=0!==(42&(a=r&-r))?1:Ee(a))&(n.suspendedLanes|r))?0:a)&&a!==l.retryLane))throw l.retryLane=a,An(e,a),Rc(n,e,a),_o;"$?"===c.data||$c(),t=Wo(e,t,r)}else"$?"===c.data?(t.flags|=192,t.child=e.child,t=null):(e=l.treeContext,aa=yd(c.nextSibling),na=t,sa=!0,ia=null,oa=!1,null!==e&&(Kn[Yn++]=Jn,Kn[Yn++]=Qn,Kn[Yn++]=Xn,Jn=e.id,Qn=e.overflow,Xn=t),(t=Ho(t,a.children)).flags|=4096);return t}return s?(oo(),s=a.fallback,c=t.mode,u=(l=e.child).sibling,(a=zn(l,{mode:"hidden",children:a.children})).subtreeFlags=65011712&l.subtreeFlags,null!==u?s=zn(u,s):(s=Un(s,c,r,null)).flags|=2,s.return=t,a.return=t,a.sibling=s,t.child=a,a=s,s=t.child,null===(c=e.child.memoizedState)?c=Bo(r):(null!==(l=c.cachePool)?(u=Ta._currentValue,l=l.parent!==u?{parent:u,pool:u}:l):l=Va(),c={baseLanes:c.baseLanes|r,cachePool:l}),s.memoizedState=c,s.childLanes=Uo(e,n,r),t.memoizedState=Fo,a):(so(t),e=(r=e.child).sibling,(r=zn(r,{mode:"visible",children:a.children})).return=t,r.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r)}function Ho(e,t){return(t=Vo({mode:"visible",children:t},e.mode)).return=e,e.child=t}function Vo(e,t){return(e=Rn(22,e,null,t)).lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Wo(e,t,r){return to(t,e.child,null,r),(e=Ho(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Go(e,t,r){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),wa(e.return,t,r)}function $o(e,t,r,n,a){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=a)}function Ko(e,t,r){var n=t.pendingProps,a=n.revealOrder,s=n.tail;if(Eo(e,t,n.children,r),0!==(2&(n=co.current)))n=1&n|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Go(e,r,t);else if(19===e.tag)Go(e,r,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}switch(U(co,n),a){case"forwards":for(r=t.child,a=null;null!==r;)null!==(e=r.alternate)&&null===uo(e)&&(a=r),r=r.sibling;null===(r=a)?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),$o(t,!1,a,r,s);break;case"backwards":for(r=null,a=t.child,t.child=null;null!==a;){if(null!==(e=a.alternate)&&null===uo(e)){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}$o(t,!0,r,null,s);break;case"together":$o(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Yo(e,t,r){if(null!==e&&(t.dependencies=e.dependencies),fc|=t.lanes,0===(r&t.childLanes)){if(null===e)return null;if(Na(e,t,r,!1),0===(r&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(i(153));if(null!==t.child){for(r=zn(e=t.child,e.pendingProps),t.child=r,r.return=t;null!==e.sibling;)e=e.sibling,(r=r.sibling=zn(e,e.pendingProps)).return=t;r.sibling=null}return t.child}function Xo(e,t){return 0!==(e.lanes&t)||!(null===(e=e.dependencies)||!ka(e))}function Jo(e,t,r){if(null!==e)if(e.memoizedProps!==t.pendingProps)Oo=!0;else{if(!Xo(e,r)&&0===(128&t.flags))return Oo=!1,function(e,t,r){switch(t.tag){case 3:G(t,t.stateNode.containerInfo),xa(0,Ta,e.memoizedState.cache),fa();break;case 27:case 5:K(t);break;case 4:G(t,t.stateNode.containerInfo);break;case 10:xa(0,t.type,t.memoizedProps.value);break;case 13:var n=t.memoizedState;if(null!==n)return null!==n.dehydrated?(so(t),t.flags|=128,null):0!==(r&t.child.childLanes)?qo(e,t,r):(so(t),null!==(e=Yo(e,t,r))?e.sibling:null);so(t);break;case 19:var a=0!==(128&e.flags);if((n=0!==(r&t.childLanes))||(Na(e,t,r,!1),n=0!==(r&t.childLanes)),a){if(n)return Ko(e,t,r);t.flags|=128}if(null!==(a=t.memoizedState)&&(a.rendering=null,a.tail=null,a.lastEffect=null),U(co,co.current),n)break;return null;case 22:case 23:return t.lanes=0,To(e,t,r);case 24:xa(0,Ta,e.memoizedState.cache)}return Yo(e,t,r)}(e,t,r);Oo=0!==(131072&e.flags)}else Oo=!1,sa&&0!==(1048576&t.flags)&&ea(t,$n,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var n=t.elementType,a=n._init;if(n=a(n._payload),t.type=n,"function"!==typeof n){if(void 0!==n&&null!==n){if((a=n.$$typeof)===j){t.tag=11,t=Co(null,t,n,e,r);break e}if(a===S){t.tag=14,t=Po(null,t,n,e,r);break e}}throw t=T(n)||n,Error(i(306,t,""))}Ln(n)?(e=go(n,e),t.tag=1,t=Lo(null,t,n,e,r)):(t.tag=0,t=Io(null,t,n,e,r))}return t;case 0:return Io(e,t,t.type,t.pendingProps,r);case 1:return Lo(e,t,n=t.type,a=go(n,t.pendingProps),r);case 3:e:{if(G(t,t.stateNode.containerInfo),null===e)throw Error(i(387));n=t.pendingProps;var s=t.memoizedState;a=s.element,ns(e,t),us(t,n,null,r);var o=t.memoizedState;if(n=o.cache,xa(0,Ta,n),n!==s.cache&&ja(t,[Ta],r,!0),cs(),n=o.element,s.isDehydrated){if(s={element:n,isDehydrated:!1,cache:o.cache},t.updateQueue.baseState=s,t.memoizedState=s,256&t.flags){t=zo(e,t,n,r);break e}if(n!==a){ma(a=kn(Error(i(424)),t)),t=zo(e,t,n,r);break e}if(9===(e=t.stateNode.containerInfo).nodeType)e=e.body;else e="HTML"===e.nodeName?e.ownerDocument.body:e;for(aa=yd(e.firstChild),na=t,sa=!0,ia=null,oa=!0,r=ro(t,null,n,r),t.child=r;r;)r.flags=-3&r.flags|4096,r=r.sibling}else{if(fa(),n===a){t=Yo(e,t,r);break e}Eo(e,t,n,r)}t=t.child}return t;case 26:return Mo(e,t),null===e?(r=Ed(t.type,null,t.pendingProps,null))?t.memoizedState=r:sa||(r=t.type,e=t.pendingProps,(n=nd(V.current).createElement(r))[Te]=t,n[De]=e,ed(n,r,e),We(n),t.stateNode=n):t.memoizedState=Ed(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return K(t),null===e&&sa&&(n=t.stateNode=bd(t.type,t.pendingProps,V.current),na=t,oa=!0,a=aa,fd(t.type)?(vd=a,aa=yd(n.firstChild)):aa=a),Eo(e,t,t.pendingProps.children,r),Mo(e,t),null===e&&(t.flags|=4194304),t.child;case 5:return null===e&&sa&&((a=n=aa)&&(null!==(n=function(e,t,r,n){for(;1===e.nodeType;){var a=r;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!n&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(n){if(!e[Fe])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(s=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(s!==a.rel||e.getAttribute("href")!==(null==a.href||""===a.href?null:a.href)||e.getAttribute("crossorigin")!==(null==a.crossOrigin?null:a.crossOrigin)||e.getAttribute("title")!==(null==a.title?null:a.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((s=e.getAttribute("src"))!==(null==a.src?null:a.src)||e.getAttribute("type")!==(null==a.type?null:a.type)||e.getAttribute("crossorigin")!==(null==a.crossOrigin?null:a.crossOrigin))&&s&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var s=null==a.name?null:""+a.name;if("hidden"===a.type&&e.getAttribute("name")===s)return e}if(null===(e=yd(e.nextSibling)))break}return null}(n,t.type,t.pendingProps,oa))?(t.stateNode=n,na=t,aa=yd(n.firstChild),oa=!1,a=!0):a=!1),a||ca(t)),K(t),a=t.type,s=t.pendingProps,o=null!==e?e.memoizedProps:null,n=s.children,id(a,s)?n=null:null!==o&&id(a,o)&&(t.flags|=32),null!==t.memoizedState&&(a=As(e,t,Ms,null,null,r),Kd._currentValue=a),Mo(e,t),Eo(e,t,n,r),t.child;case 6:return null===e&&sa&&((e=r=aa)&&(null!==(r=function(e,t,r){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!r)return null;if(null===(e=yd(e.nextSibling)))return null}return e}(r,t.pendingProps,oa))?(t.stateNode=r,na=t,aa=null,e=!0):e=!1),e||ca(t)),null;case 13:return qo(e,t,r);case 4:return G(t,t.stateNode.containerInfo),n=t.pendingProps,null===e?t.child=to(t,null,n,r):Eo(e,t,n,r),t.child;case 11:return Co(e,t,t.type,t.pendingProps,r);case 7:return Eo(e,t,t.pendingProps,r),t.child;case 8:case 12:return Eo(e,t,t.pendingProps.children,r),t.child;case 10:return n=t.pendingProps,xa(0,t.type,n.value),Eo(e,t,n.children,r),t.child;case 9:return a=t.type._context,n=t.pendingProps.children,Sa(t),n=n(a=_a(a)),t.flags|=1,Eo(e,t,n,r),t.child;case 14:return Po(e,t,t.type,t.pendingProps,r);case 15:return Ao(e,t,t.type,t.pendingProps,r);case 19:return Ko(e,t,r);case 31:return n=t.pendingProps,r=t.mode,n={mode:n.mode,children:n.children},null===e?((r=Vo(n,r)).ref=t.ref,t.child=r,r.return=t,t=r):((r=zn(e.child,n)).ref=t.ref,t.child=r,r.return=t,t=r),t;case 22:return To(e,t,r);case 24:return Sa(t),n=_a(Ta),null===e?(null===(a=qa())&&(a=nc,s=Da(),a.pooledCache=s,s.refCount++,null!==s&&(a.pooledCacheLanes|=r),a=s),t.memoizedState={parent:n,cache:a},rs(t),xa(0,Ta,a)):(0!==(e.lanes&r)&&(ns(e,t),us(t,null,null,r),cs()),a=e.memoizedState,s=t.memoizedState,a.parent!==n?(a={parent:n,cache:n},t.memoizedState=a,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=a),xa(0,Ta,n)):(n=s.cache,xa(0,Ta,n),n!==a.cache&&ja(t,[Ta],r,!0))),Eo(e,t,t.pendingProps.children,r),t.child;case 29:throw t.pendingProps}throw Error(i(156,t.tag))}function Qo(e){e.flags|=4}function Zo(e,t){if("stylesheet"!==t.type||0!==(4&t.state.loading))e.flags&=-16777217;else if(e.flags|=16777216,!Ud(t)){if(null!==(t=no.current)&&((4194048&sc)===sc?null!==ao:(62914560&sc)!==sc&&0===(536870912&sc)||t!==ao))throw Qa=Ka,Ga;e.flags|=8192}}function el(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?Ne():536870912,e.lanes|=t,yc|=t)}function tl(e,t){if(!sa)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;null!==t;)null!==t.alternate&&(r=t),t=t.sibling;null===r?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;null!==r;)null!==r.alternate&&(n=r),r=r.sibling;null===n?t||null===e.tail?e.tail=null:e.tail.sibling=null:n.sibling=null}}function rl(e){var t=null!==e.alternate&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;null!==a;)r|=a.lanes|a.childLanes,n|=65011712&a.subtreeFlags,n|=65011712&a.flags,a.return=e,a=a.sibling;else for(a=e.child;null!==a;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function nl(e,t,r){var n=t.pendingProps;switch(ra(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return rl(t),null;case 3:return r=t.stateNode,n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),ba(Ta),$(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(ha(t)?Qo(t):null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,pa())),rl(t),null;case 26:return r=t.memoizedState,null===e?(Qo(t),null!==r?(rl(t),Zo(t,r)):(rl(t),t.flags&=-16777217)):r?r!==e.memoizedState?(Qo(t),rl(t),Zo(t,r)):(rl(t),t.flags&=-16777217):(e.memoizedProps!==n&&Qo(t),rl(t),t.flags&=-16777217),null;case 27:Y(t),r=V.current;var a=t.type;if(null!==e&&null!=t.stateNode)e.memoizedProps!==n&&Qo(t);else{if(!n){if(null===t.stateNode)throw Error(i(166));return rl(t),null}e=q.current,ha(t)?ua(t):(e=bd(a,n,r),t.stateNode=e,Qo(t))}return rl(t),null;case 5:if(Y(t),r=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==n&&Qo(t);else{if(!n){if(null===t.stateNode)throw Error(i(166));return rl(t),null}if(e=q.current,ha(t))ua(t);else{switch(a=nd(V.current),e){case 1:e=a.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:e=a.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":e=a.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":e=a.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":(e=a.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e="string"===typeof n.is?a.createElement("select",{is:n.is}):a.createElement("select"),n.multiple?e.multiple=!0:n.size&&(e.size=n.size);break;default:e="string"===typeof n.is?a.createElement(r,{is:n.is}):a.createElement(r)}}e[Te]=t,e[De]=n;e:for(a=t.child;null!==a;){if(5===a.tag||6===a.tag)e.appendChild(a.stateNode);else if(4!==a.tag&&27!==a.tag&&null!==a.child){a.child.return=a,a=a.child;continue}if(a===t)break e;for(;null===a.sibling;){if(null===a.return||a.return===t)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}t.stateNode=e;e:switch(ed(e,r,n),r){case"button":case"input":case"select":case"textarea":e=!!n.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&Qo(t)}}return rl(t),t.flags&=-16777217,null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==n&&Qo(t);else{if("string"!==typeof n&&null===t.stateNode)throw Error(i(166));if(e=V.current,ha(t)){if(e=t.stateNode,r=t.memoizedProps,n=null,null!==(a=na))switch(a.tag){case 27:case 5:n=a.memoizedProps}e[Te]=t,(e=!!(e.nodeValue===r||null!==n&&!0===n.suppressHydrationWarning||Xu(e.nodeValue,r)))||ca(t)}else(e=nd(e).createTextNode(n))[Te]=t,t.stateNode=e}return rl(t),null;case 13:if(n=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(a=ha(t),null!==n&&null!==n.dehydrated){if(null===e){if(!a)throw Error(i(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(i(317));a[Te]=t}else fa(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;rl(t),a=!1}else a=pa(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=a),a=!0;if(!a)return 256&t.flags?(lo(t),t):(lo(t),null)}if(lo(t),0!==(128&t.flags))return t.lanes=r,t;if(r=null!==n,e=null!==e&&null!==e.memoizedState,r){a=null,null!==(n=t.child).alternate&&null!==n.alternate.memoizedState&&null!==n.alternate.memoizedState.cachePool&&(a=n.alternate.memoizedState.cachePool.pool);var s=null;null!==n.memoizedState&&null!==n.memoizedState.cachePool&&(s=n.memoizedState.cachePool.pool),s!==a&&(n.flags|=2048)}return r!==e&&r&&(t.child.flags|=8192),el(t,t.updateQueue),rl(t),null;case 4:return $(),null===e&&Bu(t.stateNode.containerInfo),rl(t),null;case 10:return ba(t.type),rl(t),null;case 19:if(B(co),null===(a=t.memoizedState))return rl(t),null;if(n=0!==(128&t.flags),null===(s=a.rendering))if(n)tl(a,!1);else{if(0!==hc||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(s=uo(e))){for(t.flags|=128,tl(a,!1),e=s.updateQueue,t.updateQueue=e,el(t,e),t.subtreeFlags=0,e=r,r=t.child;null!==r;)Fn(r,e),r=r.sibling;return U(co,1&co.current|2),t.child}e=e.sibling}null!==a.tail&&te()>jc&&(t.flags|=128,n=!0,tl(a,!1),t.lanes=4194304)}else{if(!n)if(null!==(e=uo(s))){if(t.flags|=128,n=!0,e=e.updateQueue,t.updateQueue=e,el(t,e),tl(a,!0),null===a.tail&&"hidden"===a.tailMode&&!s.alternate&&!sa)return rl(t),null}else 2*te()-a.renderingStartTime>jc&&536870912!==r&&(t.flags|=128,n=!0,tl(a,!1),t.lanes=4194304);a.isBackwards?(s.sibling=t.child,t.child=s):(null!==(e=a.last)?e.sibling=s:t.child=s,a.last=s)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=te(),t.sibling=null,e=co.current,U(co,n?1&e|2:1&e),t):(rl(t),null);case 22:case 23:return lo(t),ys(),n=null!==t.memoizedState,null!==e?null!==e.memoizedState!==n&&(t.flags|=8192):n&&(t.flags|=8192),n?0!==(536870912&r)&&0===(128&t.flags)&&(rl(t),6&t.subtreeFlags&&(t.flags|=8192)):rl(t),null!==(r=t.updateQueue)&&el(t,r.retryQueue),r=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(r=e.memoizedState.cachePool.pool),n=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(n=t.memoizedState.cachePool.pool),n!==r&&(t.flags|=2048),null!==e&&B(Ua),null;case 24:return r=null,null!==e&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),ba(Ta),rl(t),null;case 25:case 30:return null}throw Error(i(156,t.tag))}function al(e,t){switch(ra(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return ba(Ta),$(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return Y(t),null;case 13:if(lo(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(i(340));fa()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return B(co),null;case 4:return $(),null;case 10:return ba(t.type),null;case 22:case 23:return lo(t),ys(),null!==e&&B(Ua),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return ba(Ta),null;default:return null}}function sl(e,t){switch(ra(t),t.tag){case 3:ba(Ta),$();break;case 26:case 27:case 5:Y(t);break;case 4:$();break;case 13:lo(t);break;case 19:B(co);break;case 10:ba(t.type);break;case 22:case 23:lo(t),ys(),null!==e&&B(Ua);break;case 24:ba(Ta)}}function il(e,t){try{var r=t.updateQueue,n=null!==r?r.lastEffect:null;if(null!==n){var a=n.next;r=a;do{if((r.tag&e)===e){n=void 0;var s=r.create,i=r.inst;n=s(),i.destroy=n}r=r.next}while(r!==a)}}catch(o){uu(t,t.return,o)}}function ol(e,t,r){try{var n=t.updateQueue,a=null!==n?n.lastEffect:null;if(null!==a){var s=a.next;n=s;do{if((n.tag&e)===e){var i=n.inst,o=i.destroy;if(void 0!==o){i.destroy=void 0,a=t;var l=r,c=o;try{c()}catch(u){uu(a,l,u)}}}n=n.next}while(n!==s)}}catch(u){uu(t,t.return,u)}}function ll(e){var t=e.updateQueue;if(null!==t){var r=e.stateNode;try{hs(t,r)}catch(n){uu(e,e.return,n)}}}function cl(e,t,r){r.props=go(e.type,e.memoizedProps),r.state=e.memoizedState;try{r.componentWillUnmount()}catch(n){uu(e,t,n)}}function ul(e,t){try{var r=e.ref;if(null!==r){switch(e.tag){case 26:case 27:case 5:var n=e.stateNode;break;default:n=e.stateNode}"function"===typeof r?e.refCleanup=r(n):r.current=n}}catch(a){uu(e,t,a)}}function dl(e,t){var r=e.ref,n=e.refCleanup;if(null!==r)if("function"===typeof n)try{n()}catch(a){uu(e,t,a)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"===typeof r)try{r(null)}catch(s){uu(e,t,s)}else r.current=null}function hl(e){var t=e.type,r=e.memoizedProps,n=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":r.autoFocus&&n.focus();break e;case"img":r.src?n.src=r.src:r.srcSet&&(n.srcset=r.srcSet)}}catch(a){uu(e,e.return,a)}}function fl(e,t,r){try{var n=e.stateNode;!function(e,t,r,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var a=null,s=null,o=null,l=null,c=null,u=null,d=null;for(p in r){var h=r[p];if(r.hasOwnProperty(p)&&null!=h)switch(p){case"checked":case"value":break;case"defaultValue":c=h;default:n.hasOwnProperty(p)||Qu(e,t,p,null,n,h)}}for(var f in n){var p=n[f];if(h=r[f],n.hasOwnProperty(f)&&(null!=p||null!=h))switch(f){case"type":s=p;break;case"name":a=p;break;case"checked":u=p;break;case"defaultChecked":d=p;break;case"value":o=p;break;case"defaultValue":l=p;break;case"children":case"dangerouslySetInnerHTML":if(null!=p)throw Error(i(137,t));break;default:p!==h&&Qu(e,t,f,p,n,h)}}return void gt(e,o,l,c,u,d,s,a);case"select":for(s in p=o=l=f=null,r)if(c=r[s],r.hasOwnProperty(s)&&null!=c)switch(s){case"value":break;case"multiple":p=c;default:n.hasOwnProperty(s)||Qu(e,t,s,null,n,c)}for(a in n)if(s=n[a],c=r[a],n.hasOwnProperty(a)&&(null!=s||null!=c))switch(a){case"value":f=s;break;case"defaultValue":l=s;break;case"multiple":o=s;default:s!==c&&Qu(e,t,a,s,n,c)}return t=l,r=o,n=p,void(null!=f?xt(e,!!r,f,!1):!!n!==!!r&&(null!=t?xt(e,!!r,t,!0):xt(e,!!r,r?[]:"",!1)));case"textarea":for(l in p=f=null,r)if(a=r[l],r.hasOwnProperty(l)&&null!=a&&!n.hasOwnProperty(l))switch(l){case"value":case"children":break;default:Qu(e,t,l,null,n,a)}for(o in n)if(a=n[o],s=r[o],n.hasOwnProperty(o)&&(null!=a||null!=s))switch(o){case"value":f=a;break;case"defaultValue":p=a;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=a)throw Error(i(91));break;default:a!==s&&Qu(e,t,o,a,n,s)}return void bt(e,f,p);case"option":for(var m in r)if(f=r[m],r.hasOwnProperty(m)&&null!=f&&!n.hasOwnProperty(m))if("selected"===m)e.selected=!1;else Qu(e,t,m,null,n,f);for(c in n)if(f=n[c],p=r[c],n.hasOwnProperty(c)&&f!==p&&(null!=f||null!=p))if("selected"===c)e.selected=f&&"function"!==typeof f&&"symbol"!==typeof f;else Qu(e,t,c,f,n,p);return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var g in r)f=r[g],r.hasOwnProperty(g)&&null!=f&&!n.hasOwnProperty(g)&&Qu(e,t,g,null,n,f);for(u in n)if(f=n[u],p=r[u],n.hasOwnProperty(u)&&f!==p&&(null!=f||null!=p))switch(u){case"children":case"dangerouslySetInnerHTML":if(null!=f)throw Error(i(137,t));break;default:Qu(e,t,u,f,n,p)}return;default:if(_t(t)){for(var y in r)f=r[y],r.hasOwnProperty(y)&&void 0!==f&&!n.hasOwnProperty(y)&&Zu(e,t,y,void 0,n,f);for(d in n)f=n[d],p=r[d],!n.hasOwnProperty(d)||f===p||void 0===f&&void 0===p||Zu(e,t,d,f,n,p);return}}for(var v in r)f=r[v],r.hasOwnProperty(v)&&null!=f&&!n.hasOwnProperty(v)&&Qu(e,t,v,null,n,f);for(h in n)f=n[h],p=r[h],!n.hasOwnProperty(h)||f===p||null==f&&null==p||Qu(e,t,h,f,n,p)}(n,e.type,r,t),n[De]=t}catch(a){uu(e,e.return,a)}}function pl(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag&&fd(e.type)||4===e.tag}function ml(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||pl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(27===e.tag&&fd(e.type))continue e;if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function gl(e,t,r){var n=e.tag;if(5===n||6===n)e=e.stateNode,t?(9===r.nodeType?r.body:"HTML"===r.nodeName?r.ownerDocument.body:r).insertBefore(e,t):((t=9===r.nodeType?r.body:"HTML"===r.nodeName?r.ownerDocument.body:r).appendChild(e),null!==(r=r._reactRootContainer)&&void 0!==r||null!==t.onclick||(t.onclick=Ju));else if(4!==n&&(27===n&&fd(e.type)&&(r=e.stateNode,t=null),null!==(e=e.child)))for(gl(e,t,r),e=e.sibling;null!==e;)gl(e,t,r),e=e.sibling}function yl(e,t,r){var n=e.tag;if(5===n||6===n)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(4!==n&&(27===n&&fd(e.type)&&(r=e.stateNode),null!==(e=e.child)))for(yl(e,t,r),e=e.sibling;null!==e;)yl(e,t,r),e=e.sibling}function vl(e){var t=e.stateNode,r=e.memoizedProps;try{for(var n=e.type,a=t.attributes;a.length;)t.removeAttributeNode(a[0]);ed(t,n,r),t[Te]=e,t[De]=r}catch(s){uu(e,e.return,s)}}var xl=!1,bl=!1,wl=!1,jl="function"===typeof WeakSet?WeakSet:Set,Nl=null;function kl(e,t,r){var n=r.flags;switch(r.tag){case 0:case 11:case 15:Ll(e,r),4&n&&il(5,r);break;case 1:if(Ll(e,r),4&n)if(e=r.stateNode,null===t)try{e.componentDidMount()}catch(i){uu(r,r.return,i)}else{var a=go(r.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(a,t,e.__reactInternalSnapshotBeforeUpdate)}catch(o){uu(r,r.return,o)}}64&n&&ll(r),512&n&&ul(r,r.return);break;case 3:if(Ll(e,r),64&n&&null!==(e=r.updateQueue)){if(t=null,null!==r.child)switch(r.child.tag){case 27:case 5:case 1:t=r.child.stateNode}try{hs(e,t)}catch(i){uu(r,r.return,i)}}break;case 27:null===t&&4&n&&vl(r);case 26:case 5:Ll(e,r),null===t&&4&n&&hl(r),512&n&&ul(r,r.return);break;case 12:Ll(e,r);break;case 13:Ll(e,r),4&n&&Pl(e,r),64&n&&(null!==(e=r.memoizedState)&&(null!==(e=e.dehydrated)&&function(e,t){var r=e.ownerDocument;if("$?"!==e.data||"complete"===r.readyState)t();else{var n=function(){t(),r.removeEventListener("DOMContentLoaded",n)};r.addEventListener("DOMContentLoaded",n),e._reactRetry=n}}(e,r=pu.bind(null,r))));break;case 22:if(!(n=null!==r.memoizedState||xl)){t=null!==t&&null!==t.memoizedState||bl,a=xl;var s=bl;xl=n,(bl=t)&&!s?Fl(e,r,0!==(8772&r.subtreeFlags)):Ll(e,r),xl=a,bl=s}break;case 30:break;default:Ll(e,r)}}function Sl(e){var t=e.alternate;null!==t&&(e.alternate=null,Sl(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&Be(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var _l=null,Ol=!1;function El(e,t,r){for(r=r.child;null!==r;)Cl(e,t,r),r=r.sibling}function Cl(e,t,r){if(de&&"function"===typeof de.onCommitFiberUnmount)try{de.onCommitFiberUnmount(ue,r)}catch(s){}switch(r.tag){case 26:bl||dl(r,t),El(e,t,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode).parentNode.removeChild(r);break;case 27:bl||dl(r,t);var n=_l,a=Ol;fd(r.type)&&(_l=r.stateNode,Ol=!1),El(e,t,r),wd(r.stateNode),_l=n,Ol=a;break;case 5:bl||dl(r,t);case 6:if(n=_l,a=Ol,_l=null,El(e,t,r),Ol=a,null!==(_l=n))if(Ol)try{(9===_l.nodeType?_l.body:"HTML"===_l.nodeName?_l.ownerDocument.body:_l).removeChild(r.stateNode)}catch(i){uu(r,t,i)}else try{_l.removeChild(r.stateNode)}catch(i){uu(r,t,i)}break;case 18:null!==_l&&(Ol?(pd(9===(e=_l).nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e,r.stateNode),Oh(e)):pd(_l,r.stateNode));break;case 4:n=_l,a=Ol,_l=r.stateNode.containerInfo,Ol=!0,El(e,t,r),_l=n,Ol=a;break;case 0:case 11:case 14:case 15:bl||ol(2,r,t),bl||ol(4,r,t),El(e,t,r);break;case 1:bl||(dl(r,t),"function"===typeof(n=r.stateNode).componentWillUnmount&&cl(r,t,n)),El(e,t,r);break;case 21:El(e,t,r);break;case 22:bl=(n=bl)||null!==r.memoizedState,El(e,t,r),bl=n;break;default:El(e,t,r)}}function Pl(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&(null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))))try{Oh(e)}catch(r){uu(t,t.return,r)}}function Al(e,t){var r=function(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new jl),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new jl),t;default:throw Error(i(435,e.tag))}}(e);t.forEach(function(t){var n=mu.bind(null,e,t);r.has(t)||(r.add(t),t.then(n,n))})}function Tl(e,t){var r=t.deletions;if(null!==r)for(var n=0;n<r.length;n++){var a=r[n],s=e,o=t,l=o;e:for(;null!==l;){switch(l.tag){case 27:if(fd(l.type)){_l=l.stateNode,Ol=!1;break e}break;case 5:_l=l.stateNode,Ol=!1;break e;case 3:case 4:_l=l.stateNode.containerInfo,Ol=!0;break e}l=l.return}if(null===_l)throw Error(i(160));Cl(s,o,a),_l=null,Ol=!1,null!==(s=a.alternate)&&(s.return=null),a.return=null}if(13878&t.subtreeFlags)for(t=t.child;null!==t;)Ml(t,e),t=t.sibling}var Dl=null;function Ml(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Tl(t,e),Il(e),4&n&&(ol(3,e,e.return),il(3,e),ol(5,e,e.return));break;case 1:Tl(t,e),Il(e),512&n&&(bl||null===r||dl(r,r.return)),64&n&&xl&&(null!==(e=e.updateQueue)&&(null!==(n=e.callbacks)&&(r=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===r?n:r.concat(n))));break;case 26:var a=Dl;if(Tl(t,e),Il(e),512&n&&(bl||null===r||dl(r,r.return)),4&n){var s=null!==r?r.memoizedState:null;if(n=e.memoizedState,null===r)if(null===n)if(null===e.stateNode){e:{n=e.type,r=e.memoizedProps,a=a.ownerDocument||a;t:switch(n){case"title":(!(s=a.getElementsByTagName("title")[0])||s[Fe]||s[Te]||"http://www.w3.org/2000/svg"===s.namespaceURI||s.hasAttribute("itemprop"))&&(s=a.createElement(n),a.head.insertBefore(s,a.querySelector("head > title"))),ed(s,n,r),s[Te]=e,We(s),n=s;break e;case"link":var o=Fd("link","href",a).get(n+(r.href||""));if(o)for(var l=0;l<o.length;l++)if((s=o[l]).getAttribute("href")===(null==r.href||""===r.href?null:r.href)&&s.getAttribute("rel")===(null==r.rel?null:r.rel)&&s.getAttribute("title")===(null==r.title?null:r.title)&&s.getAttribute("crossorigin")===(null==r.crossOrigin?null:r.crossOrigin)){o.splice(l,1);break t}ed(s=a.createElement(n),n,r),a.head.appendChild(s);break;case"meta":if(o=Fd("meta","content",a).get(n+(r.content||"")))for(l=0;l<o.length;l++)if((s=o[l]).getAttribute("content")===(null==r.content?null:""+r.content)&&s.getAttribute("name")===(null==r.name?null:r.name)&&s.getAttribute("property")===(null==r.property?null:r.property)&&s.getAttribute("http-equiv")===(null==r.httpEquiv?null:r.httpEquiv)&&s.getAttribute("charset")===(null==r.charSet?null:r.charSet)){o.splice(l,1);break t}ed(s=a.createElement(n),n,r),a.head.appendChild(s);break;default:throw Error(i(468,n))}s[Te]=e,We(s),n=s}e.stateNode=n}else Bd(a,e.type,e.stateNode);else e.stateNode=Md(a,n,e.memoizedProps);else s!==n?(null===s?null!==r.stateNode&&(r=r.stateNode).parentNode.removeChild(r):s.count--,null===n?Bd(a,e.type,e.stateNode):Md(a,n,e.memoizedProps)):null===n&&null!==e.stateNode&&fl(e,e.memoizedProps,r.memoizedProps)}break;case 27:Tl(t,e),Il(e),512&n&&(bl||null===r||dl(r,r.return)),null!==r&&4&n&&fl(e,e.memoizedProps,r.memoizedProps);break;case 5:if(Tl(t,e),Il(e),512&n&&(bl||null===r||dl(r,r.return)),32&e.flags){a=e.stateNode;try{jt(a,"")}catch(p){uu(e,e.return,p)}}4&n&&null!=e.stateNode&&fl(e,a=e.memoizedProps,null!==r?r.memoizedProps:a),1024&n&&(wl=!0);break;case 6:if(Tl(t,e),Il(e),4&n){if(null===e.stateNode)throw Error(i(162));n=e.memoizedProps,r=e.stateNode;try{r.nodeValue=n}catch(p){uu(e,e.return,p)}}break;case 3:if(zd=null,a=Dl,Dl=kd(t.containerInfo),Tl(t,e),Dl=a,Il(e),4&n&&null!==r&&r.memoizedState.isDehydrated)try{Oh(t.containerInfo)}catch(p){uu(e,e.return,p)}wl&&(wl=!1,Rl(e));break;case 4:n=Dl,Dl=kd(e.stateNode.containerInfo),Tl(t,e),Il(e),Dl=n;break;case 12:default:Tl(t,e),Il(e);break;case 13:Tl(t,e),Il(e),8192&e.child.flags&&null!==e.memoizedState!==(null!==r&&null!==r.memoizedState)&&(wc=te()),4&n&&(null!==(n=e.updateQueue)&&(e.updateQueue=null,Al(e,n)));break;case 22:a=null!==e.memoizedState;var c=null!==r&&null!==r.memoizedState,u=xl,d=bl;if(xl=u||a,bl=d||c,Tl(t,e),bl=d,xl=u,Il(e),8192&n)e:for(t=e.stateNode,t._visibility=a?-2&t._visibility:1|t._visibility,a&&(null===r||c||xl||bl||zl(e)),r=null,t=e;;){if(5===t.tag||26===t.tag){if(null===r){c=r=t;try{if(s=c.stateNode,a)"function"===typeof(o=s.style).setProperty?o.setProperty("display","none","important"):o.display="none";else{l=c.stateNode;var h=c.memoizedProps.style,f=void 0!==h&&null!==h&&h.hasOwnProperty("display")?h.display:null;l.style.display=null==f||"boolean"===typeof f?"":(""+f).trim()}}catch(p){uu(c,c.return,p)}}}else if(6===t.tag){if(null===r){c=t;try{c.stateNode.nodeValue=a?"":c.memoizedProps}catch(p){uu(c,c.return,p)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;r===t&&(r=null),t=t.return}r===t&&(r=null),t.sibling.return=t.return,t=t.sibling}4&n&&(null!==(n=e.updateQueue)&&(null!==(r=n.retryQueue)&&(n.retryQueue=null,Al(e,r))));break;case 19:Tl(t,e),Il(e),4&n&&(null!==(n=e.updateQueue)&&(e.updateQueue=null,Al(e,n)));case 30:case 21:}}function Il(e){var t=e.flags;if(2&t){try{for(var r,n=e.return;null!==n;){if(pl(n)){r=n;break}n=n.return}if(null==r)throw Error(i(160));switch(r.tag){case 27:var a=r.stateNode;yl(e,ml(e),a);break;case 5:var s=r.stateNode;32&r.flags&&(jt(s,""),r.flags&=-33),yl(e,ml(e),s);break;case 3:case 4:var o=r.stateNode.containerInfo;gl(e,ml(e),o);break;default:throw Error(i(161))}}catch(l){uu(e,e.return,l)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function Rl(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;Rl(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function Ll(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)kl(e,t.alternate,t),t=t.sibling}function zl(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:ol(4,t,t.return),zl(t);break;case 1:dl(t,t.return);var r=t.stateNode;"function"===typeof r.componentWillUnmount&&cl(t,t.return,r),zl(t);break;case 27:wd(t.stateNode);case 26:case 5:dl(t,t.return),zl(t);break;case 22:null===t.memoizedState&&zl(t);break;default:zl(t)}e=e.sibling}}function Fl(e,t,r){for(r=r&&0!==(8772&t.subtreeFlags),t=t.child;null!==t;){var n=t.alternate,a=e,s=t,i=s.flags;switch(s.tag){case 0:case 11:case 15:Fl(a,s,r),il(4,s);break;case 1:if(Fl(a,s,r),"function"===typeof(a=(n=s).stateNode).componentDidMount)try{a.componentDidMount()}catch(c){uu(n,n.return,c)}if(null!==(a=(n=s).updateQueue)){var o=n.stateNode;try{var l=a.shared.hiddenCallbacks;if(null!==l)for(a.shared.hiddenCallbacks=null,a=0;a<l.length;a++)ds(l[a],o)}catch(c){uu(n,n.return,c)}}r&&64&i&&ll(s),ul(s,s.return);break;case 27:vl(s);case 26:case 5:Fl(a,s,r),r&&null===n&&4&i&&hl(s),ul(s,s.return);break;case 12:Fl(a,s,r);break;case 13:Fl(a,s,r),r&&4&i&&Pl(a,s);break;case 22:null===s.memoizedState&&Fl(a,s,r),ul(s,s.return);break;case 30:break;default:Fl(a,s,r)}t=t.sibling}}function Bl(e,t){var r=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(r=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==r&&(null!=e&&e.refCount++,null!=r&&Ma(r))}function Ul(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Ma(e))}function ql(e,t,r,n){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)Hl(e,t,r,n),t=t.sibling}function Hl(e,t,r,n){var a=t.flags;switch(t.tag){case 0:case 11:case 15:ql(e,t,r,n),2048&a&&il(9,t);break;case 1:case 13:default:ql(e,t,r,n);break;case 3:ql(e,t,r,n),2048&a&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Ma(e)));break;case 12:if(2048&a){ql(e,t,r,n),e=t.stateNode;try{var s=t.memoizedProps,i=s.id,o=s.onPostCommit;"function"===typeof o&&o(i,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(l){uu(t,t.return,l)}}else ql(e,t,r,n);break;case 23:break;case 22:s=t.stateNode,i=t.alternate,null!==t.memoizedState?2&s._visibility?ql(e,t,r,n):Wl(e,t):2&s._visibility?ql(e,t,r,n):(s._visibility|=2,Vl(e,t,r,n,0!==(10256&t.subtreeFlags))),2048&a&&Bl(i,t);break;case 24:ql(e,t,r,n),2048&a&&Ul(t.alternate,t)}}function Vl(e,t,r,n,a){for(a=a&&0!==(10256&t.subtreeFlags),t=t.child;null!==t;){var s=e,i=t,o=r,l=n,c=i.flags;switch(i.tag){case 0:case 11:case 15:Vl(s,i,o,l,a),il(8,i);break;case 23:break;case 22:var u=i.stateNode;null!==i.memoizedState?2&u._visibility?Vl(s,i,o,l,a):Wl(s,i):(u._visibility|=2,Vl(s,i,o,l,a)),a&&2048&c&&Bl(i.alternate,i);break;case 24:Vl(s,i,o,l,a),a&&2048&c&&Ul(i.alternate,i);break;default:Vl(s,i,o,l,a)}t=t.sibling}}function Wl(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var r=e,n=t,a=n.flags;switch(n.tag){case 22:Wl(r,n),2048&a&&Bl(n.alternate,n);break;case 24:Wl(r,n),2048&a&&Ul(n.alternate,n);break;default:Wl(r,n)}t=t.sibling}}var Gl=8192;function $l(e){if(e.subtreeFlags&Gl)for(e=e.child;null!==e;)Kl(e),e=e.sibling}function Kl(e){switch(e.tag){case 26:$l(e),e.flags&Gl&&null!==e.memoizedState&&function(e,t,r){if(null===qd)throw Error(i(475));var n=qd;if("stylesheet"===t.type&&("string"!==typeof r.media||!1!==matchMedia(r.media).matches)&&0===(4&t.state.loading)){if(null===t.instance){var a=Cd(r.href),s=e.querySelector(Pd(a));if(s)return null!==(e=s._p)&&"object"===typeof e&&"function"===typeof e.then&&(n.count++,n=Vd.bind(n),e.then(n,n)),t.state.loading|=4,t.instance=s,void We(s);s=e.ownerDocument||e,r=Ad(r),(a=jd.get(a))&&Rd(r,a),We(s=s.createElement("link"));var o=s;o._p=new Promise(function(e,t){o.onload=e,o.onerror=t}),ed(s,"link",r),t.instance=s}null===n.stylesheets&&(n.stylesheets=new Map),n.stylesheets.set(t,e),(e=t.state.preload)&&0===(3&t.state.loading)&&(n.count++,t=Vd.bind(n),e.addEventListener("load",t),e.addEventListener("error",t))}}(Dl,e.memoizedState,e.memoizedProps);break;case 5:default:$l(e);break;case 3:case 4:var t=Dl;Dl=kd(e.stateNode.containerInfo),$l(e),Dl=t;break;case 22:null===e.memoizedState&&(null!==(t=e.alternate)&&null!==t.memoizedState?(t=Gl,Gl=16777216,$l(e),Gl=t):$l(e))}}function Yl(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function Xl(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var r=0;r<t.length;r++){var n=t[r];Nl=n,Zl(n,e)}Yl(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)Jl(e),e=e.sibling}function Jl(e){switch(e.tag){case 0:case 11:case 15:Xl(e),2048&e.flags&&ol(9,e,e.return);break;case 3:case 12:default:Xl(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&2&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-3,Ql(e)):Xl(e)}}function Ql(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var r=0;r<t.length;r++){var n=t[r];Nl=n,Zl(n,e)}Yl(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:ol(8,t,t.return),Ql(t);break;case 22:2&(r=t.stateNode)._visibility&&(r._visibility&=-3,Ql(t));break;default:Ql(t)}e=e.sibling}}function Zl(e,t){for(;null!==Nl;){var r=Nl;switch(r.tag){case 0:case 11:case 15:ol(8,r,t);break;case 23:case 22:if(null!==r.memoizedState&&null!==r.memoizedState.cachePool){var n=r.memoizedState.cachePool.pool;null!=n&&n.refCount++}break;case 24:Ma(r.memoizedState.cache)}if(null!==(n=r.child))n.return=r,Nl=n;else e:for(r=e;null!==Nl;){var a=(n=Nl).sibling,s=n.return;if(Sl(n),n===r){Nl=null;break e}if(null!==a){a.return=s,Nl=a;break e}Nl=s}}}var ec={getCacheForType:function(e){var t=_a(Ta),r=t.data.get(e);return void 0===r&&(r=e(),t.data.set(e,r)),r}},tc="function"===typeof WeakMap?WeakMap:Map,rc=0,nc=null,ac=null,sc=0,ic=0,oc=null,lc=!1,cc=!1,uc=!1,dc=0,hc=0,fc=0,pc=0,mc=0,gc=0,yc=0,vc=null,xc=null,bc=!1,wc=0,jc=1/0,Nc=null,kc=null,Sc=0,_c=null,Oc=null,Ec=0,Cc=0,Pc=null,Ac=null,Tc=0,Dc=null;function Mc(){if(0!==(2&rc)&&0!==sc)return sc&-sc;if(null!==M.T){return 0!==La?La:Cu()}return Pe()}function Ic(){0===gc&&(gc=0===(536870912&sc)||sa?je():536870912);var e=no.current;return null!==e&&(e.flags|=32),gc}function Rc(e,t,r){(e!==nc||2!==ic&&9!==ic)&&null===e.cancelPendingCommit||(Hc(e,0),Bc(e,sc,gc,!1)),Se(e,r),0!==(2&rc)&&e===nc||(e===nc&&(0===(2&rc)&&(pc|=r),4===hc&&Bc(e,sc,gc,!1)),ju(e))}function Lc(e,t,r){if(0!==(6&rc))throw Error(i(327));for(var n=!r&&0===(124&t)&&0===(t&e.expiredLanes)||be(e,t),a=n?function(e,t){var r=rc;rc|=2;var n=Wc(),a=Gc();nc!==e||sc!==t?(Nc=null,jc=te()+500,Hc(e,t)):cc=be(e,t);e:for(;;)try{if(0!==ic&&null!==ac){t=ac;var s=oc;t:switch(ic){case 1:ic=0,oc=null,Zc(e,t,s,1);break;case 2:case 9:if(Ya(s)){ic=0,oc=null,Qc(t);break}t=function(){2!==ic&&9!==ic||nc!==e||(ic=7),ju(e)},s.then(t,t);break e;case 3:ic=7;break e;case 4:ic=5;break e;case 7:Ya(s)?(ic=0,oc=null,Qc(t)):(ic=0,oc=null,Zc(e,t,s,7));break;case 5:var o=null;switch(ac.tag){case 26:o=ac.memoizedState;case 5:case 27:var l=ac;if(!o||Ud(o)){ic=0,oc=null;var c=l.sibling;if(null!==c)ac=c;else{var u=l.return;null!==u?(ac=u,eu(u)):ac=null}break t}}ic=0,oc=null,Zc(e,t,s,5);break;case 6:ic=0,oc=null,Zc(e,t,s,6);break;case 8:qc(),hc=6;break e;default:throw Error(i(462))}}Xc();break}catch(d){Vc(e,d)}return va=ya=null,M.H=n,M.A=a,rc=r,null!==ac?0:(nc=null,sc=0,En(),hc)}(e,t):Kc(e,t,!0),s=n;;){if(0===a){cc&&!n&&Bc(e,t,0,!1);break}if(r=e.current.alternate,!s||Fc(r)){if(2===a){if(s=t,e.errorRecoveryDisabledLanes&s)var o=0;else o=0!==(o=-536870913&e.pendingLanes)?o:536870912&o?536870912:0;if(0!==o){t=o;e:{var l=e;a=vc;var c=l.current.memoizedState.isDehydrated;if(c&&(Hc(l,o).flags|=256),2!==(o=Kc(l,o,!1))){if(uc&&!c){l.errorRecoveryDisabledLanes|=s,pc|=s,a=4;break e}s=xc,xc=a,null!==s&&(null===xc?xc=s:xc.push.apply(xc,s))}a=o}if(s=!1,2!==a)continue}}if(1===a){Hc(e,0),Bc(e,t,0,!0);break}e:{switch(n=e,s=a){case 0:case 1:throw Error(i(345));case 4:if((4194048&t)!==t)break;case 6:Bc(n,t,gc,!lc);break e;case 2:xc=null;break;case 3:case 5:break;default:throw Error(i(329))}if((62914560&t)===t&&10<(a=wc+300-te())){if(Bc(n,t,gc,!lc),0!==xe(n,0,!0))break e;n.timeoutHandle=ld(zc.bind(null,n,r,xc,Nc,bc,t,gc,pc,yc,lc,s,2,-0,0),a)}else zc(n,r,xc,Nc,bc,t,gc,pc,yc,lc,s,0,-0,0)}break}a=Kc(e,t,!1),s=!1}ju(e)}function zc(e,t,r,n,a,s,o,l,c,u,d,h,f,p){if(e.timeoutHandle=-1,(8192&(h=t.subtreeFlags)||16785408===(16785408&h))&&(qd={stylesheets:null,count:0,unsuspend:Hd},Kl(t),null!==(h=function(){if(null===qd)throw Error(i(475));var e=qd;return e.stylesheets&&0===e.count&&Gd(e,e.stylesheets),0<e.count?function(t){var r=setTimeout(function(){if(e.stylesheets&&Gd(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(r)}}:null}())))return e.cancelPendingCommit=h(ru.bind(null,e,t,s,r,n,a,o,l,c,d,1,f,p)),void Bc(e,s,o,!u);ru(e,t,s,r,n,a,o,l,c)}function Fc(e){for(var t=e;;){var r=t.tag;if((0===r||11===r||15===r)&&16384&t.flags&&(null!==(r=t.updateQueue)&&null!==(r=r.stores)))for(var n=0;n<r.length;n++){var a=r[n],s=a.getSnapshot;a=a.value;try{if(!Kr(s(),a))return!1}catch(i){return!1}}if(r=t.child,16384&t.subtreeFlags&&null!==r)r.return=t,t=r;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Bc(e,t,r,n){t&=~mc,t&=~pc,e.suspendedLanes|=t,e.pingedLanes&=~t,n&&(e.warmLanes|=t),n=e.expirationTimes;for(var a=t;0<a;){var s=31-fe(a),i=1<<s;n[s]=-1,a&=~i}0!==r&&_e(e,r,t)}function Uc(){return 0!==(6&rc)||(Nu(0,!1),!1)}function qc(){if(null!==ac){if(0===ic)var e=ac.return;else va=ya=null,Ls(e=ac),Ki=null,Yi=0,e=ac;for(;null!==e;)sl(e.alternate,e),e=e.return;ac=null}}function Hc(e,t){var r=e.timeoutHandle;-1!==r&&(e.timeoutHandle=-1,cd(r)),null!==(r=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,r()),qc(),nc=e,ac=r=zn(e.current,null),sc=t,ic=0,oc=null,lc=!1,cc=be(e,t),uc=!1,yc=gc=mc=pc=fc=hc=0,xc=vc=null,bc=!1,0!==(8&t)&&(t|=32&t);var n=e.entangledLanes;if(0!==n)for(e=e.entanglements,n&=t;0<n;){var a=31-fe(n),s=1<<a;t|=e[a],n&=~s}return dc=t,En(),r}function Vc(e,t){xs=null,M.H=Vi,t===Wa||t===$a?(t=Za(),ic=3):t===Ga?(t=Za(),ic=4):ic=t===_o?8:null!==t&&"object"===typeof t&&"function"===typeof t.then?6:1,oc=t,null===ac&&(hc=1,wo(e,kn(t,e.current)))}function Wc(){var e=M.H;return M.H=Vi,null===e?Vi:e}function Gc(){var e=M.A;return M.A=ec,e}function $c(){hc=4,lc||(4194048&sc)!==sc&&null!==no.current||(cc=!0),0===(134217727&fc)&&0===(134217727&pc)||null===nc||Bc(nc,sc,gc,!1)}function Kc(e,t,r){var n=rc;rc|=2;var a=Wc(),s=Gc();nc===e&&sc===t||(Nc=null,Hc(e,t)),t=!1;var i=hc;e:for(;;)try{if(0!==ic&&null!==ac){var o=ac,l=oc;switch(ic){case 8:qc(),i=6;break e;case 3:case 2:case 9:case 6:null===no.current&&(t=!0);var c=ic;if(ic=0,oc=null,Zc(e,o,l,c),r&&cc){i=0;break e}break;default:c=ic,ic=0,oc=null,Zc(e,o,l,c)}}Yc(),i=hc;break}catch(u){Vc(e,u)}return t&&e.shellSuspendCounter++,va=ya=null,rc=n,M.H=a,M.A=s,null===ac&&(nc=null,sc=0,En()),i}function Yc(){for(;null!==ac;)Jc(ac)}function Xc(){for(;null!==ac&&!Z();)Jc(ac)}function Jc(e){var t=Jo(e.alternate,e,dc);e.memoizedProps=e.pendingProps,null===t?eu(e):ac=t}function Qc(e){var t=e,r=t.alternate;switch(t.tag){case 15:case 0:t=Ro(r,t,t.pendingProps,t.type,void 0,sc);break;case 11:t=Ro(r,t,t.pendingProps,t.type.render,t.ref,sc);break;case 5:Ls(t);default:sl(r,t),t=Jo(r,t=ac=Fn(t,dc),dc)}e.memoizedProps=e.pendingProps,null===t?eu(e):ac=t}function Zc(e,t,r,n){va=ya=null,Ls(t),Ki=null,Yi=0;var a=t.return;try{if(function(e,t,r,n,a){if(r.flags|=32768,null!==n&&"object"===typeof n&&"function"===typeof n.then){if(null!==(t=r.alternate)&&Na(t,r,a,!0),null!==(r=no.current)){switch(r.tag){case 13:return null===ao?$c():null===r.alternate&&0===hc&&(hc=3),r.flags&=-257,r.flags|=65536,r.lanes=a,n===Ka?r.flags|=16384:(null===(t=r.updateQueue)?r.updateQueue=new Set([n]):t.add(n),du(e,n,a)),!1;case 22:return r.flags|=65536,n===Ka?r.flags|=16384:(null===(t=r.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([n])},r.updateQueue=t):null===(r=t.retryQueue)?t.retryQueue=new Set([n]):r.add(n),du(e,n,a)),!1}throw Error(i(435,r.tag))}return du(e,n,a),$c(),!1}if(sa)return null!==(t=no.current)?(0===(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=a,n!==la&&ma(kn(e=Error(i(422),{cause:n}),r))):(n!==la&&ma(kn(t=Error(i(423),{cause:n}),r)),(e=e.current.alternate).flags|=65536,a&=-a,e.lanes|=a,n=kn(n,r),os(e,a=No(e.stateNode,n,a)),4!==hc&&(hc=2)),!1;var s=Error(i(520),{cause:n});if(s=kn(s,r),null===vc?vc=[s]:vc.push(s),4!==hc&&(hc=2),null===t)return!0;n=kn(n,r),r=t;do{switch(r.tag){case 3:return r.flags|=65536,e=a&-a,r.lanes|=e,os(r,e=No(r.stateNode,n,e)),!1;case 1:if(t=r.type,s=r.stateNode,0===(128&r.flags)&&("function"===typeof t.getDerivedStateFromError||null!==s&&"function"===typeof s.componentDidCatch&&(null===kc||!kc.has(s))))return r.flags|=65536,a&=-a,r.lanes|=a,So(a=ko(a),e,r,n),os(r,a),!1}r=r.return}while(null!==r);return!1}(e,a,t,r,sc))return hc=1,wo(e,kn(r,e.current)),void(ac=null)}catch(s){if(null!==a)throw ac=a,s;return hc=1,wo(e,kn(r,e.current)),void(ac=null)}32768&t.flags?(sa||1===n?e=!0:cc||0!==(536870912&sc)?e=!1:(lc=e=!0,(2===n||9===n||3===n||6===n)&&(null!==(n=no.current)&&13===n.tag&&(n.flags|=16384))),tu(t,e)):eu(t)}function eu(e){var t=e;do{if(0!==(32768&t.flags))return void tu(t,lc);e=t.return;var r=nl(t.alternate,t,dc);if(null!==r)return void(ac=r);if(null!==(t=t.sibling))return void(ac=t);ac=t=e}while(null!==t);0===hc&&(hc=5)}function tu(e,t){do{var r=al(e.alternate,e);if(null!==r)return r.flags&=32767,void(ac=r);if(null!==(r=e.return)&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!t&&null!==(e=e.sibling))return void(ac=e);ac=e=r}while(null!==e);hc=6,ac=null}function ru(e,t,r,n,a,s,o,l,c){e.cancelPendingCommit=null;do{ou()}while(0!==Sc);if(0!==(6&rc))throw Error(i(327));if(null!==t){if(t===e.current)throw Error(i(177));if(s=t.lanes|t.childLanes,function(e,t,r,n,a,s){var i=e.pendingLanes;e.pendingLanes=r,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=r,e.entangledLanes&=r,e.errorRecoveryDisabledLanes&=r,e.shellSuspendCounter=0;var o=e.entanglements,l=e.expirationTimes,c=e.hiddenUpdates;for(r=i&~r;0<r;){var u=31-fe(r),d=1<<u;o[u]=0,l[u]=-1;var h=c[u];if(null!==h)for(c[u]=null,u=0;u<h.length;u++){var f=h[u];null!==f&&(f.lane&=-536870913)}r&=~d}0!==n&&_e(e,n,0),0!==s&&0===a&&0!==e.tag&&(e.suspendedLanes|=s&~(i&~t))}(e,r,s|=On,o,l,c),e===nc&&(ac=nc=null,sc=0),Oc=t,_c=e,Ec=r,Cc=s,Pc=a,Ac=n,0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?(e.callbackNode=null,e.callbackPriority=0,J(se,function(){return lu(),null})):(e.callbackNode=null,e.callbackPriority=0),n=0!==(13878&t.flags),0!==(13878&t.subtreeFlags)||n){n=M.T,M.T=null,a=I.p,I.p=2,o=rc,rc|=4;try{!function(e,t){if(e=e.containerInfo,td=rh,en(e=Zr(e))){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{var n=(r=(r=e.ownerDocument)&&r.defaultView||window).getSelection&&r.getSelection();if(n&&0!==n.rangeCount){r=n.anchorNode;var a=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch(g){r=null;break e}var o=0,l=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var p;h!==r||0!==a&&3!==h.nodeType||(l=o+a),h!==s||0!==n&&3!==h.nodeType||(c=o+n),3===h.nodeType&&(o+=h.nodeValue.length),null!==(p=h.firstChild);)f=h,h=p;for(;;){if(h===e)break t;if(f===r&&++u===a&&(l=o),f===s&&++d===n&&(c=o),null!==(p=h.nextSibling))break;f=(h=f).parentNode}h=p}r=-1===l||-1===c?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(rd={focusedElem:e,selectionRange:r},rh=!1,Nl=t;null!==Nl;)if(e=(t=Nl).child,0!==(1024&t.subtreeFlags)&&null!==e)e.return=t,Nl=e;else for(;null!==Nl;){switch(s=(t=Nl).alternate,e=t.flags,t.tag){case 0:case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(0!==(1024&e)&&null!==s){e=void 0,r=t,a=s.memoizedProps,s=s.memoizedState,n=r.stateNode;try{var m=go(r.type,a,(r.elementType,r.type));e=n.getSnapshotBeforeUpdate(m,s),n.__reactInternalSnapshotBeforeUpdate=e}catch(y){uu(r,r.return,y)}}break;case 3:if(0!==(1024&e))if(9===(r=(e=t.stateNode.containerInfo).nodeType))md(e);else if(1===r)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":md(e);break;default:e.textContent=""}break;default:if(0!==(1024&e))throw Error(i(163))}if(null!==(e=t.sibling)){e.return=t.return,Nl=e;break}Nl=t.return}}(e,t)}finally{rc=o,I.p=a,M.T=n}}Sc=1,nu(),au(),su()}}function nu(){if(1===Sc){Sc=0;var e=_c,t=Oc,r=0!==(13878&t.flags);if(0!==(13878&t.subtreeFlags)||r){r=M.T,M.T=null;var n=I.p;I.p=2;var a=rc;rc|=4;try{Ml(t,e);var s=rd,i=Zr(e.containerInfo),o=s.focusedElem,l=s.selectionRange;if(i!==o&&o&&o.ownerDocument&&Qr(o.ownerDocument.documentElement,o)){if(null!==l&&en(o)){var c=l.start,u=l.end;if(void 0===u&&(u=c),"selectionStart"in o)o.selectionStart=c,o.selectionEnd=Math.min(u,o.value.length);else{var d=o.ownerDocument||document,h=d&&d.defaultView||window;if(h.getSelection){var f=h.getSelection(),p=o.textContent.length,m=Math.min(l.start,p),g=void 0===l.end?m:Math.min(l.end,p);!f.extend&&m>g&&(i=g,g=m,m=i);var y=Jr(o,m),v=Jr(o,g);if(y&&v&&(1!==f.rangeCount||f.anchorNode!==y.node||f.anchorOffset!==y.offset||f.focusNode!==v.node||f.focusOffset!==v.offset)){var x=d.createRange();x.setStart(y.node,y.offset),f.removeAllRanges(),m>g?(f.addRange(x),f.extend(v.node,v.offset)):(x.setEnd(v.node,v.offset),f.addRange(x))}}}}for(d=[],f=o;f=f.parentNode;)1===f.nodeType&&d.push({element:f,left:f.scrollLeft,top:f.scrollTop});for("function"===typeof o.focus&&o.focus(),o=0;o<d.length;o++){var b=d[o];b.element.scrollLeft=b.left,b.element.scrollTop=b.top}}rh=!!td,rd=td=null}finally{rc=a,I.p=n,M.T=r}}e.current=t,Sc=2}}function au(){if(2===Sc){Sc=0;var e=_c,t=Oc,r=0!==(8772&t.flags);if(0!==(8772&t.subtreeFlags)||r){r=M.T,M.T=null;var n=I.p;I.p=2;var a=rc;rc|=4;try{kl(e,t.alternate,t)}finally{rc=a,I.p=n,M.T=r}}Sc=3}}function su(){if(4===Sc||3===Sc){Sc=0,ee();var e=_c,t=Oc,r=Ec,n=Ac;0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?Sc=5:(Sc=0,Oc=_c=null,iu(e,e.pendingLanes));var a=e.pendingLanes;if(0===a&&(kc=null),Ce(r),t=t.stateNode,de&&"function"===typeof de.onCommitFiberRoot)try{de.onCommitFiberRoot(ue,t,void 0,128===(128&t.current.flags))}catch(l){}if(null!==n){t=M.T,a=I.p,I.p=2,M.T=null;try{for(var s=e.onRecoverableError,i=0;i<n.length;i++){var o=n[i];s(o.value,{componentStack:o.stack})}}finally{M.T=t,I.p=a}}0!==(3&Ec)&&ou(),ju(e),a=e.pendingLanes,0!==(4194090&r)&&0!==(42&a)?e===Dc?Tc++:(Tc=0,Dc=e):Tc=0,Nu(0,!1)}}function iu(e,t){0===(e.pooledCacheLanes&=t)&&(null!=(t=e.pooledCache)&&(e.pooledCache=null,Ma(t)))}function ou(e){return nu(),au(),su(),lu()}function lu(){if(5!==Sc)return!1;var e=_c,t=Cc;Cc=0;var r=Ce(Ec),n=M.T,a=I.p;try{I.p=32>r?32:r,M.T=null,r=Pc,Pc=null;var s=_c,o=Ec;if(Sc=0,Oc=_c=null,Ec=0,0!==(6&rc))throw Error(i(331));var l=rc;if(rc|=4,Jl(s.current),Hl(s,s.current,o,r),rc=l,Nu(0,!1),de&&"function"===typeof de.onPostCommitFiberRoot)try{de.onPostCommitFiberRoot(ue,s)}catch(c){}return!0}finally{I.p=a,M.T=n,iu(e,t)}}function cu(e,t,r){t=kn(r,t),null!==(e=ss(e,t=No(e.stateNode,t,2),2))&&(Se(e,2),ju(e))}function uu(e,t,r){if(3===e.tag)cu(e,e,r);else for(;null!==t;){if(3===t.tag){cu(t,e,r);break}if(1===t.tag){var n=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof n.componentDidCatch&&(null===kc||!kc.has(n))){e=kn(r,e),null!==(n=ss(t,r=ko(2),2))&&(So(r,n,t,e),Se(n,2),ju(n));break}}t=t.return}}function du(e,t,r){var n=e.pingCache;if(null===n){n=e.pingCache=new tc;var a=new Set;n.set(t,a)}else void 0===(a=n.get(t))&&(a=new Set,n.set(t,a));a.has(r)||(uc=!0,a.add(r),e=hu.bind(null,e,t,r),t.then(e,e))}function hu(e,t,r){var n=e.pingCache;null!==n&&n.delete(t),e.pingedLanes|=e.suspendedLanes&r,e.warmLanes&=~r,nc===e&&(sc&r)===r&&(4===hc||3===hc&&(62914560&sc)===sc&&300>te()-wc?0===(2&rc)&&Hc(e,0):mc|=r,yc===sc&&(yc=0)),ju(e)}function fu(e,t){0===t&&(t=Ne()),null!==(e=An(e,t))&&(Se(e,t),ju(e))}function pu(e){var t=e.memoizedState,r=0;null!==t&&(r=t.retryLane),fu(e,r)}function mu(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;null!==a&&(r=a.retryLane);break;case 19:n=e.stateNode;break;case 22:n=e.stateNode._retryCache;break;default:throw Error(i(314))}null!==n&&n.delete(t),fu(e,r)}var gu=null,yu=null,vu=!1,xu=!1,bu=!1,wu=0;function ju(e){e!==yu&&null===e.next&&(null===yu?gu=yu=e:yu=yu.next=e),xu=!0,vu||(vu=!0,dd(function(){0!==(6&rc)?J(ne,ku):Su()}))}function Nu(e,t){if(!bu&&xu){bu=!0;do{for(var r=!1,n=gu;null!==n;){if(!t)if(0!==e){var a=n.pendingLanes;if(0===a)var s=0;else{var i=n.suspendedLanes,o=n.pingedLanes;s=(1<<31-fe(42|e)+1)-1,s=201326741&(s&=a&~(i&~o))?201326741&s|1:s?2|s:0}0!==s&&(r=!0,Eu(n,s))}else s=sc,0===(3&(s=xe(n,n===nc?s:0,null!==n.cancelPendingCommit||-1!==n.timeoutHandle)))||be(n,s)||(r=!0,Eu(n,s));n=n.next}}while(r);bu=!1}}function ku(){Su()}function Su(){xu=vu=!1;var e=0;0!==wu&&(function(){var e=window.event;if(e&&"popstate"===e.type)return e!==od&&(od=e,!0);return od=null,!1}()&&(e=wu),wu=0);for(var t=te(),r=null,n=gu;null!==n;){var a=n.next,s=_u(n,t);0===s?(n.next=null,null===r?gu=a:r.next=a,null===a&&(yu=r)):(r=n,(0!==e||0!==(3&s))&&(xu=!0)),n=a}Nu(e,!1)}function _u(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,s=-62914561&e.pendingLanes;0<s;){var i=31-fe(s),o=1<<i,l=a[i];-1===l?0!==(o&r)&&0===(o&n)||(a[i]=we(o,t)):l<=t&&(e.expiredLanes|=o),s&=~o}if(r=sc,r=xe(e,e===(t=nc)?r:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle),n=e.callbackNode,0===r||e===t&&(2===ic||9===ic)||null!==e.cancelPendingCommit)return null!==n&&null!==n&&Q(n),e.callbackNode=null,e.callbackPriority=0;if(0===(3&r)||be(e,r)){if((t=r&-r)===e.callbackPriority)return t;switch(null!==n&&Q(n),Ce(r)){case 2:case 8:r=ae;break;case 32:default:r=se;break;case 268435456:r=oe}return n=Ou.bind(null,e),r=J(r,n),e.callbackPriority=t,e.callbackNode=r,t}return null!==n&&null!==n&&Q(n),e.callbackPriority=2,e.callbackNode=null,2}function Ou(e,t){if(0!==Sc&&5!==Sc)return e.callbackNode=null,e.callbackPriority=0,null;var r=e.callbackNode;if(ou()&&e.callbackNode!==r)return null;var n=sc;return 0===(n=xe(e,e===nc?n:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle))?null:(Lc(e,n,t),_u(e,te()),null!=e.callbackNode&&e.callbackNode===r?Ou.bind(null,e):null)}function Eu(e,t){if(ou())return null;Lc(e,t,!0)}function Cu(){return 0===wu&&(wu=je()),wu}function Pu(e){return null==e||"symbol"===typeof e||"boolean"===typeof e?null:"function"===typeof e?e:Ct(""+e)}function Au(e,t){var r=t.ownerDocument.createElement("input");return r.name=t.name,r.value=t.value,e.id&&r.setAttribute("form",e.id),t.parentNode.insertBefore(r,t),e=new FormData(e),r.parentNode.removeChild(r),e}for(var Tu=0;Tu<wn.length;Tu++){var Du=wn[Tu];jn(Du.toLowerCase(),"on"+(Du[0].toUpperCase()+Du.slice(1)))}jn(fn,"onAnimationEnd"),jn(pn,"onAnimationIteration"),jn(mn,"onAnimationStart"),jn("dblclick","onDoubleClick"),jn("focusin","onFocus"),jn("focusout","onBlur"),jn(gn,"onTransitionRun"),jn(yn,"onTransitionStart"),jn(vn,"onTransitionCancel"),jn(xn,"onTransitionEnd"),Ye("onMouseEnter",["mouseout","mouseover"]),Ye("onMouseLeave",["mouseout","mouseover"]),Ye("onPointerEnter",["pointerout","pointerover"]),Ye("onPointerLeave",["pointerout","pointerover"]),Ke("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ke("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ke("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ke("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ke("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ke("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Mu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Iu=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Mu));function Ru(e,t){t=0!==(4&t);for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var s=void 0;if(t)for(var i=n.length-1;0<=i;i--){var o=n[i],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==s&&a.isPropagationStopped())break e;s=o,a.currentTarget=c;try{s(a)}catch(u){yo(u)}a.currentTarget=null,s=l}else for(i=0;i<n.length;i++){if(l=(o=n[i]).instance,c=o.currentTarget,o=o.listener,l!==s&&a.isPropagationStopped())break e;s=o,a.currentTarget=c;try{s(a)}catch(u){yo(u)}a.currentTarget=null,s=l}}}}function Lu(e,t){var r=t[Ie];void 0===r&&(r=t[Ie]=new Set);var n=e+"__bubble";r.has(n)||(Uu(t,e,2,!1),r.add(n))}function zu(e,t,r){var n=0;t&&(n|=4),Uu(r,e,n,t)}var Fu="_reactListening"+Math.random().toString(36).slice(2);function Bu(e){if(!e[Fu]){e[Fu]=!0,Ge.forEach(function(t){"selectionchange"!==t&&(Iu.has(t)||zu(t,!1,e),zu(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Fu]||(t[Fu]=!0,zu("selectionchange",!1,t))}}function Uu(e,t,r,n){switch(ch(t)){case 2:var a=nh;break;case 8:a=ah;break;default:a=sh}r=a.bind(null,t,r,e),a=void 0,!Ft||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(a=!0),n?void 0!==a?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):void 0!==a?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function qu(e,t,r,n,a){var s=n;if(0===(1&t)&&0===(2&t)&&null!==n)e:for(;;){if(null===n)return;var i=n.tag;if(3===i||4===i){var o=n.stateNode.containerInfo;if(o===a)break;if(4===i)for(i=n.return;null!==i;){var c=i.tag;if((3===c||4===c)&&i.stateNode.containerInfo===a)return;i=i.return}for(;null!==o;){if(null===(i=Ue(o)))return;if(5===(c=i.tag)||6===c||26===c||27===c){n=s=i;continue e}o=o.parentNode}}n=n.return}Rt(function(){var n=s,a=At(r),i=[];e:{var o=bn.get(e);if(void 0!==o){var c=Zt,u=e;switch(e){case"keypress":if(0===Wt(r))break e;case"keydown":case"keyup":c=pr;break;case"focusin":u="focus",c=sr;break;case"focusout":u="blur",c=sr;break;case"beforeblur":case"afterblur":c=sr;break;case"click":if(2===r.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=nr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=ar;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=gr;break;case fn:case pn:case mn:c=ir;break;case xn:c=yr;break;case"scroll":case"scrollend":c=tr;break;case"wheel":c=vr;break;case"copy":case"cut":case"paste":c=or;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=mr;break;case"toggle":case"beforetoggle":c=xr}var d=0!==(4&t),h=!d&&("scroll"===e||"scrollend"===e),f=d?null!==o?o+"Capture":null:o;d=[];for(var p,m=n;null!==m;){var g=m;if(p=g.stateNode,5!==(g=g.tag)&&26!==g&&27!==g||null===p||null===f||null!=(g=Lt(m,f))&&d.push(Hu(m,g,p)),h)break;m=m.return}0<d.length&&(o=new c(o,u,null,r,a),i.push({event:o,listeners:d}))}}if(0===(7&t)){if(c="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||r===Pt||!(u=r.relatedTarget||r.fromElement)||!Ue(u)&&!u[Me])&&(c||o)&&(o=a.window===a?a:(o=a.ownerDocument)?o.defaultView||o.parentWindow:window,c?(c=n,null!==(u=(u=r.relatedTarget||r.toElement)?Ue(u):null)&&(h=l(u),d=u.tag,u!==h||5!==d&&27!==d&&6!==d)&&(u=null)):(c=null,u=n),c!==u)){if(d=nr,g="onMouseLeave",f="onMouseEnter",m="mouse","pointerout"!==e&&"pointerover"!==e||(d=mr,g="onPointerLeave",f="onPointerEnter",m="pointer"),h=null==c?o:He(c),p=null==u?o:He(u),(o=new d(g,m+"leave",c,r,a)).target=h,o.relatedTarget=p,g=null,Ue(a)===n&&((d=new d(f,m+"enter",u,r,a)).target=p,d.relatedTarget=h,g=d),h=g,c&&u)e:{for(f=u,m=0,p=d=c;p;p=Wu(p))m++;for(p=0,g=f;g;g=Wu(g))p++;for(;0<m-p;)d=Wu(d),m--;for(;0<p-m;)f=Wu(f),p--;for(;m--;){if(d===f||null!==f&&d===f.alternate)break e;d=Wu(d),f=Wu(f)}d=null}else d=null;null!==c&&Gu(i,o,c,d,!1),null!==u&&null!==h&&Gu(i,h,u,d,!0)}if("select"===(c=(o=n?He(n):window).nodeName&&o.nodeName.toLowerCase())||"input"===c&&"file"===o.type)var y=Lr;else if(Ar(o))if(zr)y=$r;else{y=Wr;var v=Vr}else!(c=o.nodeName)||"input"!==c.toLowerCase()||"checkbox"!==o.type&&"radio"!==o.type?n&&_t(n.elementType)&&(y=Lr):y=Gr;switch(y&&(y=y(e,n))?Tr(i,y,r,a):(v&&v(e,o,n),"focusout"===e&&n&&"number"===o.type&&null!=n.memoizedProps.value&&vt(o,"number",o.value)),v=n?He(n):window,e){case"focusin":(Ar(v)||"true"===v.contentEditable)&&(rn=v,nn=n,an=null);break;case"focusout":an=nn=rn=null;break;case"mousedown":sn=!0;break;case"contextmenu":case"mouseup":case"dragend":sn=!1,on(i,r,a);break;case"selectionchange":if(tn)break;case"keydown":case"keyup":on(i,r,a)}var x;if(wr)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Cr?Or(e,r)&&(b="onCompositionEnd"):"keydown"===e&&229===r.keyCode&&(b="onCompositionStart");b&&(kr&&"ko"!==r.locale&&(Cr||"onCompositionStart"!==b?"onCompositionEnd"===b&&Cr&&(x=Vt()):(qt="value"in(Ut=a)?Ut.value:Ut.textContent,Cr=!0)),0<(v=Vu(n,b)).length&&(b=new lr(b,e,null,r,a),i.push({event:b,listeners:v}),x?b.data=x:null!==(x=Er(r))&&(b.data=x))),(x=Nr?function(e,t){switch(e){case"compositionend":return Er(t);case"keypress":return 32!==t.which?null:(_r=!0,Sr);case"textInput":return(e=t.data)===Sr&&_r?null:e;default:return null}}(e,r):function(e,t){if(Cr)return"compositionend"===e||!wr&&Or(e,t)?(e=Vt(),Ht=qt=Ut=null,Cr=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return kr&&"ko"!==t.locale?null:t.data}}(e,r))&&(0<(b=Vu(n,"onBeforeInput")).length&&(v=new lr("onBeforeInput","beforeinput",null,r,a),i.push({event:v,listeners:b}),v.data=x)),function(e,t,r,n,a){if("submit"===t&&r&&r.stateNode===a){var s=Pu((a[De]||null).action),i=n.submitter;i&&null!==(t=(t=i[De]||null)?Pu(t.formAction):i.getAttribute("formAction"))&&(s=t,i=null);var o=new Zt("action","action",null,n,a);e.push({event:o,listeners:[{instance:null,listener:function(){if(n.defaultPrevented){if(0!==wu){var e=i?Au(a,i):new FormData(a);Pi(r,{pending:!0,data:e,method:a.method,action:s},null,e)}}else"function"===typeof s&&(o.preventDefault(),e=i?Au(a,i):new FormData(a),Pi(r,{pending:!0,data:e,method:a.method,action:s},s,e))},currentTarget:a}]})}}(i,e,n,r,a)}Ru(i,t)})}function Hu(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Vu(e,t){for(var r=t+"Capture",n=[];null!==e;){var a=e,s=a.stateNode;if(5!==(a=a.tag)&&26!==a&&27!==a||null===s||(null!=(a=Lt(e,r))&&n.unshift(Hu(e,a,s)),null!=(a=Lt(e,t))&&n.push(Hu(e,a,s))),3===e.tag)return n;e=e.return}return[]}function Wu(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function Gu(e,t,r,n,a){for(var s=t._reactName,i=[];null!==r&&r!==n;){var o=r,l=o.alternate,c=o.stateNode;if(o=o.tag,null!==l&&l===n)break;5!==o&&26!==o&&27!==o||null===c||(l=c,a?null!=(c=Lt(r,s))&&i.unshift(Hu(r,c,l)):a||null!=(c=Lt(r,s))&&i.push(Hu(r,c,l))),r=r.return}0!==i.length&&e.push({event:t,listeners:i})}var $u=/\r\n?/g,Ku=/\u0000|\uFFFD/g;function Yu(e){return("string"===typeof e?e:""+e).replace($u,"\n").replace(Ku,"")}function Xu(e,t){return t=Yu(t),Yu(e)===t}function Ju(){}function Qu(e,t,r,n,a,s){switch(r){case"children":"string"===typeof n?"body"===t||"textarea"===t&&""===n||jt(e,n):("number"===typeof n||"bigint"===typeof n)&&"body"!==t&&jt(e,""+n);break;case"className":rt(e,"class",n);break;case"tabIndex":rt(e,"tabindex",n);break;case"dir":case"role":case"viewBox":case"width":case"height":rt(e,r,n);break;case"style":St(e,n,s);break;case"data":if("object"!==t){rt(e,"data",n);break}case"src":case"href":if(""===n&&("a"!==t||"href"!==r)){e.removeAttribute(r);break}if(null==n||"function"===typeof n||"symbol"===typeof n||"boolean"===typeof n){e.removeAttribute(r);break}n=Ct(""+n),e.setAttribute(r,n);break;case"action":case"formAction":if("function"===typeof n){e.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"===typeof s&&("formAction"===r?("input"!==t&&Qu(e,t,"name",a.name,a,null),Qu(e,t,"formEncType",a.formEncType,a,null),Qu(e,t,"formMethod",a.formMethod,a,null),Qu(e,t,"formTarget",a.formTarget,a,null)):(Qu(e,t,"encType",a.encType,a,null),Qu(e,t,"method",a.method,a,null),Qu(e,t,"target",a.target,a,null))),null==n||"symbol"===typeof n||"boolean"===typeof n){e.removeAttribute(r);break}n=Ct(""+n),e.setAttribute(r,n);break;case"onClick":null!=n&&(e.onclick=Ju);break;case"onScroll":null!=n&&Lu("scroll",e);break;case"onScrollEnd":null!=n&&Lu("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=n){if("object"!==typeof n||!("__html"in n))throw Error(i(61));if(null!=(r=n.__html)){if(null!=a.children)throw Error(i(60));e.innerHTML=r}}break;case"multiple":e.multiple=n&&"function"!==typeof n&&"symbol"!==typeof n;break;case"muted":e.muted=n&&"function"!==typeof n&&"symbol"!==typeof n;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==n||"function"===typeof n||"boolean"===typeof n||"symbol"===typeof n){e.removeAttribute("xlink:href");break}r=Ct(""+n),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=n&&"function"!==typeof n&&"symbol"!==typeof n?e.setAttribute(r,""+n):e.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":n&&"function"!==typeof n&&"symbol"!==typeof n?e.setAttribute(r,""):e.removeAttribute(r);break;case"capture":case"download":!0===n?e.setAttribute(r,""):!1!==n&&null!=n&&"function"!==typeof n&&"symbol"!==typeof n?e.setAttribute(r,n):e.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":null!=n&&"function"!==typeof n&&"symbol"!==typeof n&&!isNaN(n)&&1<=n?e.setAttribute(r,n):e.removeAttribute(r);break;case"rowSpan":case"start":null==n||"function"===typeof n||"symbol"===typeof n||isNaN(n)?e.removeAttribute(r):e.setAttribute(r,n);break;case"popover":Lu("beforetoggle",e),Lu("toggle",e),tt(e,"popover",n);break;case"xlinkActuate":nt(e,"http://www.w3.org/1999/xlink","xlink:actuate",n);break;case"xlinkArcrole":nt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",n);break;case"xlinkRole":nt(e,"http://www.w3.org/1999/xlink","xlink:role",n);break;case"xlinkShow":nt(e,"http://www.w3.org/1999/xlink","xlink:show",n);break;case"xlinkTitle":nt(e,"http://www.w3.org/1999/xlink","xlink:title",n);break;case"xlinkType":nt(e,"http://www.w3.org/1999/xlink","xlink:type",n);break;case"xmlBase":nt(e,"http://www.w3.org/XML/1998/namespace","xml:base",n);break;case"xmlLang":nt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",n);break;case"xmlSpace":nt(e,"http://www.w3.org/XML/1998/namespace","xml:space",n);break;case"is":tt(e,"is",n);break;case"innerText":case"textContent":break;default:(!(2<r.length)||"o"!==r[0]&&"O"!==r[0]||"n"!==r[1]&&"N"!==r[1])&&tt(e,r=Ot.get(r)||r,n)}}function Zu(e,t,r,n,a,s){switch(r){case"style":St(e,n,s);break;case"dangerouslySetInnerHTML":if(null!=n){if("object"!==typeof n||!("__html"in n))throw Error(i(61));if(null!=(r=n.__html)){if(null!=a.children)throw Error(i(60));e.innerHTML=r}}break;case"children":"string"===typeof n?jt(e,n):("number"===typeof n||"bigint"===typeof n)&&jt(e,""+n);break;case"onScroll":null!=n&&Lu("scroll",e);break;case"onScrollEnd":null!=n&&Lu("scrollend",e);break;case"onClick":null!=n&&(e.onclick=Ju);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:$e.hasOwnProperty(r)||("o"!==r[0]||"n"!==r[1]||(a=r.endsWith("Capture"),t=r.slice(2,a?r.length-7:void 0),"function"===typeof(s=null!=(s=e[De]||null)?s[r]:null)&&e.removeEventListener(t,s,a),"function"!==typeof n)?r in e?e[r]=n:!0===n?e.setAttribute(r,""):tt(e,r,n):("function"!==typeof s&&null!==s&&(r in e?e[r]=null:e.hasAttribute(r)&&e.removeAttribute(r)),e.addEventListener(t,n,a)))}}function ed(e,t,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Lu("error",e),Lu("load",e);var n,a=!1,s=!1;for(n in r)if(r.hasOwnProperty(n)){var o=r[n];if(null!=o)switch(n){case"src":a=!0;break;case"srcSet":s=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,t));default:Qu(e,t,n,o,r,null)}}return s&&Qu(e,t,"srcSet",r.srcSet,r,null),void(a&&Qu(e,t,"src",r.src,r,null));case"input":Lu("invalid",e);var l=n=o=s=null,c=null,u=null;for(a in r)if(r.hasOwnProperty(a)){var d=r[a];if(null!=d)switch(a){case"name":s=d;break;case"type":o=d;break;case"checked":c=d;break;case"defaultChecked":u=d;break;case"value":n=d;break;case"defaultValue":l=d;break;case"children":case"dangerouslySetInnerHTML":if(null!=d)throw Error(i(137,t));break;default:Qu(e,t,a,d,r,null)}}return yt(e,n,l,c,u,o,s,!1),void dt(e);case"select":for(s in Lu("invalid",e),a=o=n=null,r)if(r.hasOwnProperty(s)&&null!=(l=r[s]))switch(s){case"value":n=l;break;case"defaultValue":o=l;break;case"multiple":a=l;default:Qu(e,t,s,l,r,null)}return t=n,r=o,e.multiple=!!a,void(null!=t?xt(e,!!a,t,!1):null!=r&&xt(e,!!a,r,!0));case"textarea":for(o in Lu("invalid",e),n=s=a=null,r)if(r.hasOwnProperty(o)&&null!=(l=r[o]))switch(o){case"value":a=l;break;case"defaultValue":s=l;break;case"children":n=l;break;case"dangerouslySetInnerHTML":if(null!=l)throw Error(i(91));break;default:Qu(e,t,o,l,r,null)}return wt(e,a,s,n),void dt(e);case"option":for(c in r)if(r.hasOwnProperty(c)&&null!=(a=r[c]))if("selected"===c)e.selected=a&&"function"!==typeof a&&"symbol"!==typeof a;else Qu(e,t,c,a,r,null);return;case"dialog":Lu("beforetoggle",e),Lu("toggle",e),Lu("cancel",e),Lu("close",e);break;case"iframe":case"object":Lu("load",e);break;case"video":case"audio":for(a=0;a<Mu.length;a++)Lu(Mu[a],e);break;case"image":Lu("error",e),Lu("load",e);break;case"details":Lu("toggle",e);break;case"embed":case"source":case"link":Lu("error",e),Lu("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in r)if(r.hasOwnProperty(u)&&null!=(a=r[u]))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,t));default:Qu(e,t,u,a,r,null)}return;default:if(_t(t)){for(d in r)r.hasOwnProperty(d)&&(void 0!==(a=r[d])&&Zu(e,t,d,a,r,void 0));return}}for(l in r)r.hasOwnProperty(l)&&(null!=(a=r[l])&&Qu(e,t,l,a,r,null))}var td=null,rd=null;function nd(e){return 9===e.nodeType?e:e.ownerDocument}function ad(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function sd(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function id(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"bigint"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var od=null;var ld="function"===typeof setTimeout?setTimeout:void 0,cd="function"===typeof clearTimeout?clearTimeout:void 0,ud="function"===typeof Promise?Promise:void 0,dd="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ud?function(e){return ud.resolve(null).then(e).catch(hd)}:ld;function hd(e){setTimeout(function(){throw e})}function fd(e){return"head"===e}function pd(e,t){var r=t,n=0,a=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&8===s.nodeType)if("/$"===(r=s.data)){if(0<n&&8>n){r=n;var i=e.ownerDocument;if(1&r&&wd(i.documentElement),2&r&&wd(i.body),4&r)for(wd(r=i.head),i=r.firstChild;i;){var o=i.nextSibling,l=i.nodeName;i[Fe]||"SCRIPT"===l||"STYLE"===l||"LINK"===l&&"stylesheet"===i.rel.toLowerCase()||r.removeChild(i),i=o}}if(0===a)return e.removeChild(s),void Oh(t);a--}else"$"===r||"$?"===r||"$!"===r?a++:n=r.charCodeAt(0)-48;else n=0;r=s}while(r);Oh(t)}function md(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var r=t;switch(t=t.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":md(r),Be(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===r.rel.toLowerCase())continue}e.removeChild(r)}}function gd(e){return"$!"===e.data||"$?"===e.data&&"complete"===e.ownerDocument.readyState}function yd(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"F!"===t||"F"===t)break;if("/$"===t)return null}}return e}var vd=null;function xd(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var r=e.data;if("$"===r||"$!"===r||"$?"===r){if(0===t)return e;t--}else"/$"===r&&t++}e=e.previousSibling}return null}function bd(e,t,r){switch(t=nd(r),e){case"html":if(!(e=t.documentElement))throw Error(i(452));return e;case"head":if(!(e=t.head))throw Error(i(453));return e;case"body":if(!(e=t.body))throw Error(i(454));return e;default:throw Error(i(451))}}function wd(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Be(e)}var jd=new Map,Nd=new Set;function kd(e){return"function"===typeof e.getRootNode?e.getRootNode():9===e.nodeType?e:e.ownerDocument}var Sd=I.d;I.d={f:function(){var e=Sd.f(),t=Uc();return e||t},r:function(e){var t=qe(e);null!==t&&5===t.tag&&"form"===t.type?Ti(t):Sd.r(e)},D:function(e){Sd.D(e),Od("dns-prefetch",e,null)},C:function(e,t){Sd.C(e,t),Od("preconnect",e,t)},L:function(e,t,r){Sd.L(e,t,r);var n=_d;if(n&&e&&t){var a='link[rel="preload"][as="'+mt(t)+'"]';"image"===t&&r&&r.imageSrcSet?(a+='[imagesrcset="'+mt(r.imageSrcSet)+'"]',"string"===typeof r.imageSizes&&(a+='[imagesizes="'+mt(r.imageSizes)+'"]')):a+='[href="'+mt(e)+'"]';var s=a;switch(t){case"style":s=Cd(e);break;case"script":s=Td(e)}jd.has(s)||(e=h({rel:"preload",href:"image"===t&&r&&r.imageSrcSet?void 0:e,as:t},r),jd.set(s,e),null!==n.querySelector(a)||"style"===t&&n.querySelector(Pd(s))||"script"===t&&n.querySelector(Dd(s))||(ed(t=n.createElement("link"),"link",e),We(t),n.head.appendChild(t)))}},m:function(e,t){Sd.m(e,t);var r=_d;if(r&&e){var n=t&&"string"===typeof t.as?t.as:"script",a='link[rel="modulepreload"][as="'+mt(n)+'"][href="'+mt(e)+'"]',s=a;switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":s=Td(e)}if(!jd.has(s)&&(e=h({rel:"modulepreload",href:e},t),jd.set(s,e),null===r.querySelector(a))){switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(Dd(s)))return}ed(n=r.createElement("link"),"link",e),We(n),r.head.appendChild(n)}}},X:function(e,t){Sd.X(e,t);var r=_d;if(r&&e){var n=Ve(r).hoistableScripts,a=Td(e),s=n.get(a);s||((s=r.querySelector(Dd(a)))||(e=h({src:e,async:!0},t),(t=jd.get(a))&&Ld(e,t),We(s=r.createElement("script")),ed(s,"link",e),r.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},n.set(a,s))}},S:function(e,t,r){Sd.S(e,t,r);var n=_d;if(n&&e){var a=Ve(n).hoistableStyles,s=Cd(e);t=t||"default";var i=a.get(s);if(!i){var o={loading:0,preload:null};if(i=n.querySelector(Pd(s)))o.loading=5;else{e=h({rel:"stylesheet",href:e,"data-precedence":t},r),(r=jd.get(s))&&Rd(e,r);var l=i=n.createElement("link");We(l),ed(l,"link",e),l._p=new Promise(function(e,t){l.onload=e,l.onerror=t}),l.addEventListener("load",function(){o.loading|=1}),l.addEventListener("error",function(){o.loading|=2}),o.loading|=4,Id(i,t,n)}i={type:"stylesheet",instance:i,count:1,state:o},a.set(s,i)}}},M:function(e,t){Sd.M(e,t);var r=_d;if(r&&e){var n=Ve(r).hoistableScripts,a=Td(e),s=n.get(a);s||((s=r.querySelector(Dd(a)))||(e=h({src:e,async:!0,type:"module"},t),(t=jd.get(a))&&Ld(e,t),We(s=r.createElement("script")),ed(s,"link",e),r.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},n.set(a,s))}}};var _d="undefined"===typeof document?null:document;function Od(e,t,r){var n=_d;if(n&&"string"===typeof t&&t){var a=mt(t);a='link[rel="'+e+'"][href="'+a+'"]',"string"===typeof r&&(a+='[crossorigin="'+r+'"]'),Nd.has(a)||(Nd.add(a),e={rel:e,crossOrigin:r,href:t},null===n.querySelector(a)&&(ed(t=n.createElement("link"),"link",e),We(t),n.head.appendChild(t)))}}function Ed(e,t,r,n){var a,s,o,l,c=(c=V.current)?kd(c):null;if(!c)throw Error(i(446));switch(e){case"meta":case"title":return null;case"style":return"string"===typeof r.precedence&&"string"===typeof r.href?(t=Cd(r.href),(n=(r=Ve(c).hoistableStyles).get(t))||(n={type:"style",instance:null,count:0,state:null},r.set(t,n)),n):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===r.rel&&"string"===typeof r.href&&"string"===typeof r.precedence){e=Cd(r.href);var u=Ve(c).hoistableStyles,d=u.get(e);if(d||(c=c.ownerDocument||c,d={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,d),(u=c.querySelector(Pd(e)))&&!u._p&&(d.instance=u,d.state.loading=5),jd.has(e)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},jd.set(e,r),u||(a=c,s=e,o=r,l=d.state,a.querySelector('link[rel="preload"][as="style"]['+s+"]")?l.loading=1:(s=a.createElement("link"),l.preload=s,s.addEventListener("load",function(){return l.loading|=1}),s.addEventListener("error",function(){return l.loading|=2}),ed(s,"link",o),We(s),a.head.appendChild(s))))),t&&null===n)throw Error(i(528,""));return d}if(t&&null!==n)throw Error(i(529,""));return null;case"script":return t=r.async,"string"===typeof(r=r.src)&&t&&"function"!==typeof t&&"symbol"!==typeof t?(t=Td(r),(n=(r=Ve(c).hoistableScripts).get(t))||(n={type:"script",instance:null,count:0,state:null},r.set(t,n)),n):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,e))}}function Cd(e){return'href="'+mt(e)+'"'}function Pd(e){return'link[rel="stylesheet"]['+e+"]"}function Ad(e){return h({},e,{"data-precedence":e.precedence,precedence:null})}function Td(e){return'[src="'+mt(e)+'"]'}function Dd(e){return"script[async]"+e}function Md(e,t,r){if(t.count++,null===t.instance)switch(t.type){case"style":var n=e.querySelector('style[data-href~="'+mt(r.href)+'"]');if(n)return t.instance=n,We(n),n;var a=h({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return We(n=(e.ownerDocument||e).createElement("style")),ed(n,"style",a),Id(n,r.precedence,e),t.instance=n;case"stylesheet":a=Cd(r.href);var s=e.querySelector(Pd(a));if(s)return t.state.loading|=4,t.instance=s,We(s),s;n=Ad(r),(a=jd.get(a))&&Rd(n,a),We(s=(e.ownerDocument||e).createElement("link"));var o=s;return o._p=new Promise(function(e,t){o.onload=e,o.onerror=t}),ed(s,"link",n),t.state.loading|=4,Id(s,r.precedence,e),t.instance=s;case"script":return s=Td(r.src),(a=e.querySelector(Dd(s)))?(t.instance=a,We(a),a):(n=r,(a=jd.get(s))&&Ld(n=h({},r),a),We(a=(e=e.ownerDocument||e).createElement("script")),ed(a,"link",n),e.head.appendChild(a),t.instance=a);case"void":return null;default:throw Error(i(443,t.type))}else"stylesheet"===t.type&&0===(4&t.state.loading)&&(n=t.instance,t.state.loading|=4,Id(n,r.precedence,e));return t.instance}function Id(e,t,r){for(var n=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),a=n.length?n[n.length-1]:null,s=a,i=0;i<n.length;i++){var o=n[i];if(o.dataset.precedence===t)s=o;else if(s!==a)break}s?s.parentNode.insertBefore(e,s.nextSibling):(t=9===r.nodeType?r.head:r).insertBefore(e,t.firstChild)}function Rd(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function Ld(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var zd=null;function Fd(e,t,r){if(null===zd){var n=new Map,a=zd=new Map;a.set(r,n)}else(n=(a=zd).get(r))||(n=new Map,a.set(r,n));if(n.has(e))return n;for(n.set(e,null),r=r.getElementsByTagName(e),a=0;a<r.length;a++){var s=r[a];if(!(s[Fe]||s[Te]||"link"===e&&"stylesheet"===s.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==s.namespaceURI){var i=s.getAttribute(t)||"";i=e+i;var o=n.get(i);o?o.push(s):n.set(i,[s])}}return n}function Bd(e,t,r){(e=e.ownerDocument||e).head.insertBefore(r,"title"===t?e.querySelector("head > title"):null)}function Ud(e){return"stylesheet"!==e.type||0!==(3&e.state.loading)}var qd=null;function Hd(){}function Vd(){if(this.count--,0===this.count)if(this.stylesheets)Gd(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var Wd=null;function Gd(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,Wd=new Map,t.forEach($d,e),Wd=null,Vd.call(e))}function $d(e,t){if(!(4&t.state.loading)){var r=Wd.get(e);if(r)var n=r.get(null);else{r=new Map,Wd.set(e,r);for(var a=e.querySelectorAll("link[data-precedence],style[data-precedence]"),s=0;s<a.length;s++){var i=a[s];"LINK"!==i.nodeName&&"not all"===i.getAttribute("media")||(r.set(i.dataset.precedence,i),n=i)}n&&r.set(null,n)}i=(a=t.instance).getAttribute("data-precedence"),(s=r.get(i)||n)===n&&r.set(null,a),r.set(i,a),this.count++,n=Vd.bind(this),a.addEventListener("load",n),a.addEventListener("error",n),s?s.parentNode.insertBefore(a,s.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(a,e.firstChild),t.state.loading|=4}}var Kd={$$typeof:w,Provider:null,Consumer:null,_currentValue:R,_currentValue2:R,_threadCount:0};function Yd(e,t,r,n,a,s,i,o){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ke(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ke(0),this.hiddenUpdates=ke(null),this.identifierPrefix=n,this.onUncaughtError=a,this.onCaughtError=s,this.onRecoverableError=i,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=o,this.incompleteTransitions=new Map}function Xd(e,t,r,n,a,s,i,o,l,c,u,d){return e=new Yd(e,t,r,i,o,l,c,d),t=1,!0===s&&(t|=24),s=Rn(3,null,null,t),e.current=s,s.stateNode=e,(t=Da()).refCount++,e.pooledCache=t,t.refCount++,s.memoizedState={element:n,isDehydrated:r,cache:t},rs(s),e}function Jd(e){return e?e=Mn:Mn}function Qd(e,t,r,n,a,s){a=Jd(a),null===n.context?n.context=a:n.pendingContext=a,(n=as(t)).payload={element:r},null!==(s=void 0===s?null:s)&&(n.callback=s),null!==(r=ss(e,n,t))&&(Rc(r,0,t),is(r,e,t))}function Zd(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var r=e.retryLane;e.retryLane=0!==r&&r<t?r:t}}function eh(e,t){Zd(e,t),(e=e.alternate)&&Zd(e,t)}function th(e){if(13===e.tag){var t=An(e,67108864);null!==t&&Rc(t,0,67108864),eh(e,67108864)}}var rh=!0;function nh(e,t,r,n){var a=M.T;M.T=null;var s=I.p;try{I.p=2,sh(e,t,r,n)}finally{I.p=s,M.T=a}}function ah(e,t,r,n){var a=M.T;M.T=null;var s=I.p;try{I.p=8,sh(e,t,r,n)}finally{I.p=s,M.T=a}}function sh(e,t,r,n){if(rh){var a=ih(n);if(null===a)qu(e,t,n,oh,r),vh(e,n);else if(function(e,t,r,n,a){switch(t){case"focusin":return dh=xh(dh,e,t,r,n,a),!0;case"dragenter":return hh=xh(hh,e,t,r,n,a),!0;case"mouseover":return fh=xh(fh,e,t,r,n,a),!0;case"pointerover":var s=a.pointerId;return ph.set(s,xh(ph.get(s)||null,e,t,r,n,a)),!0;case"gotpointercapture":return s=a.pointerId,mh.set(s,xh(mh.get(s)||null,e,t,r,n,a)),!0}return!1}(a,e,t,r,n))n.stopPropagation();else if(vh(e,n),4&t&&-1<yh.indexOf(e)){for(;null!==a;){var s=qe(a);if(null!==s)switch(s.tag){case 3:if((s=s.stateNode).current.memoizedState.isDehydrated){var i=ve(s.pendingLanes);if(0!==i){var o=s;for(o.pendingLanes|=2,o.entangledLanes|=2;i;){var l=1<<31-fe(i);o.entanglements[1]|=l,i&=~l}ju(s),0===(6&rc)&&(jc=te()+500,Nu(0,!1))}}break;case 13:null!==(o=An(s,2))&&Rc(o,0,2),Uc(),eh(s,2)}if(null===(s=ih(n))&&qu(e,t,n,oh,r),s===a)break;a=s}null!==a&&n.stopPropagation()}else qu(e,t,n,null,r)}}function ih(e){return lh(e=At(e))}var oh=null;function lh(e){if(oh=null,null!==(e=Ue(e))){var t=l(e);if(null===t)e=null;else{var r=t.tag;if(13===r){if(null!==(e=c(t)))return e;e=null}else if(3===r){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return oh=e,null}function ch(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(re()){case ne:return 2;case ae:return 8;case se:case ie:return 32;case oe:return 268435456;default:return 32}default:return 32}}var uh=!1,dh=null,hh=null,fh=null,ph=new Map,mh=new Map,gh=[],yh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function vh(e,t){switch(e){case"focusin":case"focusout":dh=null;break;case"dragenter":case"dragleave":hh=null;break;case"mouseover":case"mouseout":fh=null;break;case"pointerover":case"pointerout":ph.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":mh.delete(t.pointerId)}}function xh(e,t,r,n,a,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[a]},null!==t&&(null!==(t=qe(t))&&th(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,null!==a&&-1===t.indexOf(a)&&t.push(a),e)}function bh(e){var t=Ue(e.target);if(null!==t){var r=l(t);if(null!==r)if(13===(t=r.tag)){if(null!==(t=c(r)))return e.blockedOn=t,void function(e,t){var r=I.p;try{return I.p=e,t()}finally{I.p=r}}(e.priority,function(){if(13===r.tag){var e=Mc();e=Ee(e);var t=An(r,e);null!==t&&Rc(t,0,e),eh(r,e)}})}else if(3===t&&r.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===r.tag?r.stateNode.containerInfo:null)}e.blockedOn=null}function wh(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var r=ih(e.nativeEvent);if(null!==r)return null!==(t=qe(r))&&th(t),e.blockedOn=r,!1;var n=new(r=e.nativeEvent).constructor(r.type,r);Pt=n,r.target.dispatchEvent(n),Pt=null,t.shift()}return!0}function jh(e,t,r){wh(e)&&r.delete(t)}function Nh(){uh=!1,null!==dh&&wh(dh)&&(dh=null),null!==hh&&wh(hh)&&(hh=null),null!==fh&&wh(fh)&&(fh=null),ph.forEach(jh),mh.forEach(jh)}function kh(e,t){e.blockedOn===t&&(e.blockedOn=null,uh||(uh=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,Nh)))}var Sh=null;function _h(e){Sh!==e&&(Sh=e,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Sh===e&&(Sh=null);for(var t=0;t<e.length;t+=3){var r=e[t],n=e[t+1],a=e[t+2];if("function"!==typeof n){if(null===lh(n||r))continue;break}var s=qe(r);null!==s&&(e.splice(t,3),t-=3,Pi(s,{pending:!0,data:a,method:r.method,action:n},n,a))}}))}function Oh(e){function t(t){return kh(t,e)}null!==dh&&kh(dh,e),null!==hh&&kh(hh,e),null!==fh&&kh(fh,e),ph.forEach(t),mh.forEach(t);for(var r=0;r<gh.length;r++){var n=gh[r];n.blockedOn===e&&(n.blockedOn=null)}for(;0<gh.length&&null===(r=gh[0]).blockedOn;)bh(r),null===r.blockedOn&&gh.shift();if(null!=(r=(e.ownerDocument||e).$$reactFormReplay))for(n=0;n<r.length;n+=3){var a=r[n],s=r[n+1],i=a[De]||null;if("function"===typeof s)i||_h(r);else if(i){var o=null;if(s&&s.hasAttribute("formAction")){if(a=s,i=s[De]||null)o=i.formAction;else if(null!==lh(a))continue}else o=i.action;"function"===typeof o?r[n+1]=o:(r.splice(n,3),n-=3),_h(r)}}}function Eh(e){this._internalRoot=e}function Ch(e){this._internalRoot=e}Ch.prototype.render=Eh.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(i(409));Qd(t.current,Mc(),e,t,null,null)},Ch.prototype.unmount=Eh.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;Qd(e.current,2,null,e,null,null),Uc(),t[Me]=null}},Ch.prototype.unstable_scheduleHydration=function(e){if(e){var t=Pe();e={blockedOn:null,target:e,priority:t};for(var r=0;r<gh.length&&0!==t&&t<gh[r].priority;r++);gh.splice(r,0,e),0===r&&bh(e)}};var Ph=a.version;if("19.1.0"!==Ph)throw Error(i(527,Ph,"19.1.0"));I.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(i(188));throw e=Object.keys(e).join(","),Error(i(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=l(e)))throw Error(i(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(null===a)break;var s=a.alternate;if(null===s){if(null!==(n=a.return)){r=n;continue}break}if(a.child===s.child){for(s=a.child;s;){if(s===r)return u(a),e;if(s===n)return u(a),t;s=s.sibling}throw Error(i(188))}if(r.return!==n.return)r=a,n=s;else{for(var o=!1,c=a.child;c;){if(c===r){o=!0,r=a,n=s;break}if(c===n){o=!0,n=a,r=s;break}c=c.sibling}if(!o){for(c=s.child;c;){if(c===r){o=!0,r=s,n=a;break}if(c===n){o=!0,n=s,r=a;break}c=c.sibling}if(!o)throw Error(i(189))}}if(r.alternate!==n)throw Error(i(190))}if(3!==r.tag)throw Error(i(188));return r.stateNode.current===r?e:t}(t),e=null===(e=null!==e?d(e):null)?null:e.stateNode};var Ah={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:M,reconcilerVersion:"19.1.0"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Th=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Th.isDisabled&&Th.supportsFiber)try{ue=Th.inject(Ah),de=Th}catch(Mh){}}t.createRoot=function(e,t){if(!o(e))throw Error(i(299));var r=!1,n="",a=vo,s=xo,l=bo;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(r=!0),void 0!==t.identifierPrefix&&(n=t.identifierPrefix),void 0!==t.onUncaughtError&&(a=t.onUncaughtError),void 0!==t.onCaughtError&&(s=t.onCaughtError),void 0!==t.onRecoverableError&&(l=t.onRecoverableError),void 0!==t.unstable_transitionCallbacks&&t.unstable_transitionCallbacks),t=Xd(e,1,!1,null,0,r,n,a,s,l,0,null),e[Me]=t.current,Bu(e),new Eh(t)},t.hydrateRoot=function(e,t,r){if(!o(e))throw Error(i(299));var n=!1,a="",s=vo,l=xo,c=bo,u=null;return null!==r&&void 0!==r&&(!0===r.unstable_strictMode&&(n=!0),void 0!==r.identifierPrefix&&(a=r.identifierPrefix),void 0!==r.onUncaughtError&&(s=r.onUncaughtError),void 0!==r.onCaughtError&&(l=r.onCaughtError),void 0!==r.onRecoverableError&&(c=r.onRecoverableError),void 0!==r.unstable_transitionCallbacks&&r.unstable_transitionCallbacks,void 0!==r.formState&&(u=r.formState)),(t=Xd(e,1,!0,t,0,n,a,s,l,c,0,u)).context=Jd(null),r=t.current,(a=as(n=Ee(n=Mc()))).callback=null,ss(r,a,n),r=n,t.current.lanes=r,Se(t,r),ju(t),e[Me]=t.current,Bu(e),new Ch(t)},t.version="19.1.0"},7105:(e,t,r)=>{var n="object"==typeof r.g&&r.g&&r.g.Object===Object&&r.g;e.exports=n},7116:(e,t,r)=>{var n=r(9812),a=r(2777),s=r(4052),i=n?n.isConcatSpreadable:void 0;e.exports=function(e){return s(e)||a(e)||!!(i&&e&&e[i])}},7159:(e,t,r)=>{var n=r(2622);e.exports=function(e){var t=n(this,e).delete(e);return this.size-=t?1:0,t}},7160:(e,t,r)=>{var n=r(7563),a=r(9935),s=r(4190),i=r(1946),o=r(1714);function l(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}l.prototype.clear=n,l.prototype.delete=a,l.prototype.get=s,l.prototype.has=i,l.prototype.set=o,e.exports=l},7251:(e,t,r)=>{var n=r(8724),a=r(7160),s=r(5204);e.exports=function(){this.size=0,this.__data__={hash:new n,map:new(s||a),string:new n}}},7283:e=>{"use strict";var t=Object.prototype.hasOwnProperty,r="~";function n(){}function a(e,t,r){this.fn=e,this.context=t,this.once=r||!1}function s(e,t,n,s,i){if("function"!==typeof n)throw new TypeError("The listener must be a function");var o=new a(n,s||e,i),l=r?r+t:t;return e._events[l]?e._events[l].fn?e._events[l]=[e._events[l],o]:e._events[l].push(o):(e._events[l]=o,e._eventsCount++),e}function i(e,t){0===--e._eventsCount?e._events=new n:delete e._events[t]}function o(){this._events=new n,this._eventsCount=0}Object.create&&(n.prototype=Object.create(null),(new n).__proto__||(r=!1)),o.prototype.eventNames=function(){var e,n,a=[];if(0===this._eventsCount)return a;for(n in e=this._events)t.call(e,n)&&a.push(r?n.slice(1):n);return Object.getOwnPropertySymbols?a.concat(Object.getOwnPropertySymbols(e)):a},o.prototype.listeners=function(e){var t=r?r+e:e,n=this._events[t];if(!n)return[];if(n.fn)return[n.fn];for(var a=0,s=n.length,i=new Array(s);a<s;a++)i[a]=n[a].fn;return i},o.prototype.listenerCount=function(e){var t=r?r+e:e,n=this._events[t];return n?n.fn?1:n.length:0},o.prototype.emit=function(e,t,n,a,s,i){var o=r?r+e:e;if(!this._events[o])return!1;var l,c,u=this._events[o],d=arguments.length;if(u.fn){switch(u.once&&this.removeListener(e,u.fn,void 0,!0),d){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,t),!0;case 3:return u.fn.call(u.context,t,n),!0;case 4:return u.fn.call(u.context,t,n,a),!0;case 5:return u.fn.call(u.context,t,n,a,s),!0;case 6:return u.fn.call(u.context,t,n,a,s,i),!0}for(c=1,l=new Array(d-1);c<d;c++)l[c-1]=arguments[c];u.fn.apply(u.context,l)}else{var h,f=u.length;for(c=0;c<f;c++)switch(u[c].once&&this.removeListener(e,u[c].fn,void 0,!0),d){case 1:u[c].fn.call(u[c].context);break;case 2:u[c].fn.call(u[c].context,t);break;case 3:u[c].fn.call(u[c].context,t,n);break;case 4:u[c].fn.call(u[c].context,t,n,a);break;default:if(!l)for(h=1,l=new Array(d-1);h<d;h++)l[h-1]=arguments[h];u[c].fn.apply(u[c].context,l)}}return!0},o.prototype.on=function(e,t,r){return s(this,e,t,r,!1)},o.prototype.once=function(e,t,r){return s(this,e,t,r,!0)},o.prototype.removeListener=function(e,t,n,a){var s=r?r+e:e;if(!this._events[s])return this;if(!t)return i(this,s),this;var o=this._events[s];if(o.fn)o.fn!==t||a&&!o.once||n&&o.context!==n||i(this,s);else{for(var l=0,c=[],u=o.length;l<u;l++)(o[l].fn!==t||a&&!o[l].once||n&&o[l].context!==n)&&c.push(o[l]);c.length?this._events[s]=1===c.length?c[0]:c:i(this,s)}return this},o.prototype.removeAllListeners=function(e){var t;return e?(t=r?r+e:e,this._events[t]&&i(this,t)):(this._events=new n,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=r,o.EventEmitter=o,e.exports=o},7303:(e,t,r)=>{var n=r(801),a=1/0;e.exports=function(e){return e?(e=n(e))===a||e===-1/0?17976931348623157e292*(e<0?-1:1):e===e?e:0:0===e?e:0}},7374:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=n(r(9286));class s extends a.default{select(e){let t=!1;const r=(null!==e&&void 0!==e?e:"*").split("").map(e=>/\s/.test(e)&&!t?"":('"'===e&&(t=!t),e)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e){let{ascending:t=!0,nullsFirst:r,foreignTable:n,referencedTable:a=n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const s=a?"".concat(a,".order"):"order",i=this.url.searchParams.get(s);return this.url.searchParams.set(s,"".concat(i?"".concat(i,","):"").concat(e,".").concat(t?"asc":"desc").concat(void 0===r?"":r?".nullsfirst":".nullslast")),this}limit(e){let{foreignTable:t,referencedTable:r=t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n="undefined"===typeof r?"limit":"".concat(r,".limit");return this.url.searchParams.set(n,"".concat(e)),this}range(e,t){let{foreignTable:r,referencedTable:n=r}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a="undefined"===typeof n?"offset":"".concat(n,".offset"),s="undefined"===typeof n?"limit":"".concat(n,".limit");return this.url.searchParams.set(a,"".concat(e)),this.url.searchParams.set(s,"".concat(t-e+1)),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return"GET"===this.method?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain(){let{analyze:e=!1,verbose:t=!1,settings:r=!1,buffers:n=!1,wal:a=!1,format:s="text"}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var i;const o=[e?"analyze":null,t?"verbose":null,r?"settings":null,n?"buffers":null,a?"wal":null].filter(Boolean).join("|"),l=null!==(i=this.headers.Accept)&&void 0!==i?i:"application/json";return this.headers.Accept="application/vnd.pgrst.plan+".concat(s,'; for="').concat(l,'"; options=').concat(o,";"),this}rollback(){var e;return(null!==(e=this.headers.Prefer)&&void 0!==e?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}t.default=s},7424:(e,t,r)=>{var n=r(755),a=r(2536),s=r(5647),i=r(929),o=s(function(e,t){if(null==e)return[];var r=t.length;return r>1&&i(e,t[0],t[1])?t=[]:r>2&&i(t[0],t[1],t[2])&&(t=[t[0]]),a(e,n(t,1),[])});e.exports=o},7498:e=>{e.exports=function(e,t){return e>t}},7529:e=>{e.exports=function(e,t){for(var r=-1,n=null==e?0:e.length,a=0,s=[];++r<n;){var i=e[r];t(i,r,e)&&(s[a++]=i)}return s}},7563:e=>{e.exports=function(){this.__data__=[],this.size=0}},7574:e=>{e.exports=function(e){return function(t){return e(t)}}},7615:(e,t,r)=>{var n=r(5575);e.exports=function(){this.__data__=n?n(null):{},this.size=0}},7676:(e,t,r)=>{var n=r(8189),a=r(6311),s=r(9115),i=r(1069);e.exports=function(e){return function(t){t=i(t);var r=a(t)?s(t):void 0,o=r?r[0]:t.charAt(0),l=r?n(r,1).join(""):t.slice(1);return o[e]()+l}}},7685:(e,t,r)=>{var n=r(7937)(r(6552),"DataView");e.exports=n},7760:e=>{e.exports=function(e){return this.__data__.get(e)}},7828:e=>{e.exports=function(){return[]}},7857:(e,t,r)=>{var n=r(3440),a=function(){var e=/[^.]+$/.exec(n&&n.keys&&n.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();e.exports=function(e){return!!a&&a in e}},7894:e=>{e.exports=function(e,t){return null!=e&&t in Object(e)}},7937:(e,t,r)=>{var n=r(6954),a=r(4657);e.exports=function(e,t){var r=a(e,t);return n(r)?r:void 0}},7950:(e,t,r)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=r(6672)},7980:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.PostgrestError=t.PostgrestBuilder=t.PostgrestTransformBuilder=t.PostgrestFilterBuilder=t.PostgrestQueryBuilder=t.PostgrestClient=void 0;const a=n(r(1210));t.PostgrestClient=a.default;const s=n(r(8829));t.PostgrestQueryBuilder=s.default;const i=n(r(5736));t.PostgrestFilterBuilder=i.default;const o=n(r(7374));t.PostgrestTransformBuilder=o.default;const l=n(r(9286));t.PostgrestBuilder=l.default;const c=n(r(2611));t.PostgrestError=c.default,t.default={PostgrestClient:a.default,PostgrestQueryBuilder:s.default,PostgrestFilterBuilder:i.default,PostgrestTransformBuilder:o.default,PostgrestBuilder:l.default,PostgrestError:c.default}},8114:e=>{e.exports=function(e,t){return e.has(t)}},8139:(e,t)=>{var r;!function(){"use strict";var n={}.hasOwnProperty;function a(){for(var e="",t=0;t<arguments.length;t++){var r=arguments[t];r&&(e=i(e,s(r)))}return e}function s(e){if("string"===typeof e||"number"===typeof e)return e;if("object"!==typeof e)return"";if(Array.isArray(e))return a.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var r in e)n.call(e,r)&&e[r]&&(t=i(t,r));return t}function i(e,t){return t?e?e+" "+t:e+t:e}e.exports?(a.default=a,e.exports=a):void 0===(r=function(){return a}.apply(t,[]))||(e.exports=r)}()},8182:(e,t,r)=>{var n=r(2070),a=r(5713),s=r(2074),i=n&&1/s(new n([,-0]))[1]==1/0?function(e){return new n(e)}:a;e.exports=i},8189:(e,t,r)=>{var n=r(3871);e.exports=function(e,t,r){var a=e.length;return r=void 0===r?a:r,!t&&r>=a?e:n(e,t,r)}},8210:function(e,t,r){var n;!function(){"use strict";var a,s=1e9,i={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},o=!0,l="[DecimalError] ",c=l+"Invalid argument: ",u=l+"Exponent out of range: ",d=Math.floor,h=Math.pow,f=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,p=1e7,m=9007199254740991,g=d(1286742750677284.5),y={};function v(e,t){var r,n,a,s,i,l,c,u,d=e.constructor,h=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),o?E(t,h):t;if(c=e.d,u=t.d,i=e.e,a=t.e,c=c.slice(),s=i-a){for(s<0?(n=c,s=-s,l=u.length):(n=u,a=i,l=c.length),s>(l=(i=Math.ceil(h/7))>l?i+1:l+1)&&(s=l,n.length=1),n.reverse();s--;)n.push(0);n.reverse()}for((l=c.length)-(s=u.length)<0&&(s=l,n=u,u=c,c=n),r=0;s;)r=(c[--s]=c[s]+u[s]+r)/p|0,c[s]%=p;for(r&&(c.unshift(r),++a),l=c.length;0==c[--l];)c.pop();return t.d=c,t.e=a,o?E(t,h):t}function x(e,t,r){if(e!==~~e||e<t||e>r)throw Error(c+e)}function b(e){var t,r,n,a=e.length-1,s="",i=e[0];if(a>0){for(s+=i,t=1;t<a;t++)(r=7-(n=e[t]+"").length)&&(s+=S(r)),s+=n;(r=7-(n=(i=e[t])+"").length)&&(s+=S(r))}else if(0===i)return"0";for(;i%10===0;)i/=10;return s+i}y.absoluteValue=y.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e},y.comparedTo=y.cmp=function(e){var t,r,n,a,s=this;if(e=new s.constructor(e),s.s!==e.s)return s.s||-e.s;if(s.e!==e.e)return s.e>e.e^s.s<0?1:-1;for(t=0,r=(n=s.d.length)<(a=e.d.length)?n:a;t<r;++t)if(s.d[t]!==e.d[t])return s.d[t]>e.d[t]^s.s<0?1:-1;return n===a?0:n>a^s.s<0?1:-1},y.decimalPlaces=y.dp=function(){var e=this,t=e.d.length-1,r=7*(t-e.e);if(t=e.d[t])for(;t%10==0;t/=10)r--;return r<0?0:r},y.dividedBy=y.div=function(e){return w(this,new this.constructor(e))},y.dividedToIntegerBy=y.idiv=function(e){var t=this.constructor;return E(w(this,new t(e),0,1),t.precision)},y.equals=y.eq=function(e){return!this.cmp(e)},y.exponent=function(){return N(this)},y.greaterThan=y.gt=function(e){return this.cmp(e)>0},y.greaterThanOrEqualTo=y.gte=function(e){return this.cmp(e)>=0},y.isInteger=y.isint=function(){return this.e>this.d.length-2},y.isNegative=y.isneg=function(){return this.s<0},y.isPositive=y.ispos=function(){return this.s>0},y.isZero=function(){return 0===this.s},y.lessThan=y.lt=function(e){return this.cmp(e)<0},y.lessThanOrEqualTo=y.lte=function(e){return this.cmp(e)<1},y.logarithm=y.log=function(e){var t,r=this,n=r.constructor,s=n.precision,i=s+5;if(void 0===e)e=new n(10);else if((e=new n(e)).s<1||e.eq(a))throw Error(l+"NaN");if(r.s<1)throw Error(l+(r.s?"NaN":"-Infinity"));return r.eq(a)?new n(0):(o=!1,t=w(_(r,i),_(e,i),i),o=!0,E(t,s))},y.minus=y.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?C(t,e):v(t,(e.s=-e.s,e))},y.modulo=y.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(!(e=new n(e)).s)throw Error(l+"NaN");return r.s?(o=!1,t=w(r,e,0,1).times(e),o=!0,r.minus(t)):E(new n(r),a)},y.naturalExponential=y.exp=function(){return j(this)},y.naturalLogarithm=y.ln=function(){return _(this)},y.negated=y.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e},y.plus=y.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?v(t,e):C(t,(e.s=-e.s,e))},y.precision=y.sd=function(e){var t,r,n,a=this;if(void 0!==e&&e!==!!e&&1!==e&&0!==e)throw Error(c+e);if(t=N(a)+1,r=7*(n=a.d.length-1)+1,n=a.d[n]){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r},y.squareRoot=y.sqrt=function(){var e,t,r,n,a,s,i,c=this,u=c.constructor;if(c.s<1){if(!c.s)return new u(0);throw Error(l+"NaN")}for(e=N(c),o=!1,0==(a=Math.sqrt(+c))||a==1/0?(((t=b(c.d)).length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=d((e+1)/2)-(e<0||e%2),n=new u(t=a==1/0?"5e"+e:(t=a.toExponential()).slice(0,t.indexOf("e")+1)+e)):n=new u(a.toString()),a=i=(r=u.precision)+3;;)if(n=(s=n).plus(w(c,s,i+2)).times(.5),b(s.d).slice(0,i)===(t=b(n.d)).slice(0,i)){if(t=t.slice(i-3,i+1),a==i&&"4999"==t){if(E(s,r+1,0),s.times(s).eq(c)){n=s;break}}else if("9999"!=t)break;i+=4}return o=!0,E(n,r)},y.times=y.mul=function(e){var t,r,n,a,s,i,l,c,u,d=this,h=d.constructor,f=d.d,m=(e=new h(e)).d;if(!d.s||!e.s)return new h(0);for(e.s*=d.s,r=d.e+e.e,(c=f.length)<(u=m.length)&&(s=f,f=m,m=s,i=c,c=u,u=i),s=[],n=i=c+u;n--;)s.push(0);for(n=u;--n>=0;){for(t=0,a=c+n;a>n;)l=s[a]+m[n]*f[a-n-1]+t,s[a--]=l%p|0,t=l/p|0;s[a]=(s[a]+t)%p|0}for(;!s[--i];)s.pop();return t?++r:s.shift(),e.d=s,e.e=r,o?E(e,h.precision):e},y.toDecimalPlaces=y.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),void 0===e?r:(x(e,0,s),void 0===t?t=n.rounding:x(t,0,8),E(r,e+N(r)+1,t))},y.toExponential=function(e,t){var r,n=this,a=n.constructor;return void 0===e?r=P(n,!0):(x(e,0,s),void 0===t?t=a.rounding:x(t,0,8),r=P(n=E(new a(n),e+1,t),!0,e+1)),r},y.toFixed=function(e,t){var r,n,a=this,i=a.constructor;return void 0===e?P(a):(x(e,0,s),void 0===t?t=i.rounding:x(t,0,8),r=P((n=E(new i(a),e+N(a)+1,t)).abs(),!1,e+N(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)},y.toInteger=y.toint=function(){var e=this,t=e.constructor;return E(new t(e),N(e)+1,t.rounding)},y.toNumber=function(){return+this},y.toPower=y.pow=function(e){var t,r,n,s,i,c,u=this,h=u.constructor,f=+(e=new h(e));if(!e.s)return new h(a);if(!(u=new h(u)).s){if(e.s<1)throw Error(l+"Infinity");return u}if(u.eq(a))return u;if(n=h.precision,e.eq(a))return E(u,n);if(c=(t=e.e)>=(r=e.d.length-1),i=u.s,c){if((r=f<0?-f:f)<=m){for(s=new h(a),t=Math.ceil(n/7+4),o=!1;r%2&&A((s=s.times(u)).d,t),0!==(r=d(r/2));)A((u=u.times(u)).d,t);return o=!0,e.s<0?new h(a).div(s):E(s,n)}}else if(i<0)throw Error(l+"NaN");return i=i<0&&1&e.d[Math.max(t,r)]?-1:1,u.s=1,o=!1,s=e.times(_(u,n+12)),o=!0,(s=j(s)).s=i,s},y.toPrecision=function(e,t){var r,n,a=this,i=a.constructor;return void 0===e?n=P(a,(r=N(a))<=i.toExpNeg||r>=i.toExpPos):(x(e,1,s),void 0===t?t=i.rounding:x(t,0,8),n=P(a=E(new i(a),e,t),e<=(r=N(a))||r<=i.toExpNeg,e)),n},y.toSignificantDigits=y.tosd=function(e,t){var r=this.constructor;return void 0===e?(e=r.precision,t=r.rounding):(x(e,1,s),void 0===t?t=r.rounding:x(t,0,8)),E(new r(this),e,t)},y.toString=y.valueOf=y.val=y.toJSON=function(){var e=this,t=N(e),r=e.constructor;return P(e,t<=r.toExpNeg||t>=r.toExpPos)};var w=function(){function e(e,t){var r,n=0,a=e.length;for(e=e.slice();a--;)r=e[a]*t+n,e[a]=r%p|0,n=r/p|0;return n&&e.unshift(n),e}function t(e,t,r,n){var a,s;if(r!=n)s=r>n?1:-1;else for(a=s=0;a<r;a++)if(e[a]!=t[a]){s=e[a]>t[a]?1:-1;break}return s}function r(e,t,r){for(var n=0;r--;)e[r]-=n,n=e[r]<t[r]?1:0,e[r]=n*p+e[r]-t[r];for(;!e[0]&&e.length>1;)e.shift()}return function(n,a,s,i){var o,c,u,d,h,f,m,g,y,v,x,b,w,j,k,S,_,O,C=n.constructor,P=n.s==a.s?1:-1,A=n.d,T=a.d;if(!n.s)return new C(n);if(!a.s)throw Error(l+"Division by zero");for(c=n.e-a.e,_=T.length,k=A.length,g=(m=new C(P)).d=[],u=0;T[u]==(A[u]||0);)++u;if(T[u]>(A[u]||0)&&--c,(b=null==s?s=C.precision:i?s+(N(n)-N(a))+1:s)<0)return new C(0);if(b=b/7+2|0,u=0,1==_)for(d=0,T=T[0],b++;(u<k||d)&&b--;u++)w=d*p+(A[u]||0),g[u]=w/T|0,d=w%T|0;else{for((d=p/(T[0]+1)|0)>1&&(T=e(T,d),A=e(A,d),_=T.length,k=A.length),j=_,v=(y=A.slice(0,_)).length;v<_;)y[v++]=0;(O=T.slice()).unshift(0),S=T[0],T[1]>=p/2&&++S;do{d=0,(o=t(T,y,_,v))<0?(x=y[0],_!=v&&(x=x*p+(y[1]||0)),(d=x/S|0)>1?(d>=p&&(d=p-1),1==(o=t(h=e(T,d),y,f=h.length,v=y.length))&&(d--,r(h,_<f?O:T,f))):(0==d&&(o=d=1),h=T.slice()),(f=h.length)<v&&h.unshift(0),r(y,h,v),-1==o&&(o=t(T,y,_,v=y.length))<1&&(d++,r(y,_<v?O:T,v)),v=y.length):0===o&&(d++,y=[0]),g[u++]=d,o&&y[0]?y[v++]=A[j]||0:(y=[A[j]],v=1)}while((j++<k||void 0!==y[0])&&b--)}return g[0]||g.shift(),m.e=c,E(m,i?s+N(m)+1:s)}}();function j(e,t){var r,n,s,i,l,c=0,d=0,f=e.constructor,p=f.precision;if(N(e)>16)throw Error(u+N(e));if(!e.s)return new f(a);for(null==t?(o=!1,l=p):l=t,i=new f(.03125);e.abs().gte(.1);)e=e.times(i),d+=5;for(l+=Math.log(h(2,d))/Math.LN10*2+5|0,r=n=s=new f(a),f.precision=l;;){if(n=E(n.times(e),l),r=r.times(++c),b((i=s.plus(w(n,r,l))).d).slice(0,l)===b(s.d).slice(0,l)){for(;d--;)s=E(s.times(s),l);return f.precision=p,null==t?(o=!0,E(s,p)):s}s=i}}function N(e){for(var t=7*e.e,r=e.d[0];r>=10;r/=10)t++;return t}function k(e,t,r){if(t>e.LN10.sd())throw o=!0,r&&(e.precision=r),Error(l+"LN10 precision limit exceeded");return E(new e(e.LN10),t)}function S(e){for(var t="";e--;)t+="0";return t}function _(e,t){var r,n,s,i,c,u,d,h,f,p=1,m=e,g=m.d,y=m.constructor,v=y.precision;if(m.s<1)throw Error(l+(m.s?"NaN":"-Infinity"));if(m.eq(a))return new y(0);if(null==t?(o=!1,h=v):h=t,m.eq(10))return null==t&&(o=!0),k(y,h);if(h+=10,y.precision=h,n=(r=b(g)).charAt(0),i=N(m),!(Math.abs(i)<15e14))return d=k(y,h+2,v).times(i+""),m=_(new y(n+"."+r.slice(1)),h-10).plus(d),y.precision=v,null==t?(o=!0,E(m,v)):m;for(;n<7&&1!=n||1==n&&r.charAt(1)>3;)n=(r=b((m=m.times(e)).d)).charAt(0),p++;for(i=N(m),n>1?(m=new y("0."+r),i++):m=new y(n+"."+r.slice(1)),u=c=m=w(m.minus(a),m.plus(a),h),f=E(m.times(m),h),s=3;;){if(c=E(c.times(f),h),b((d=u.plus(w(c,new y(s),h))).d).slice(0,h)===b(u.d).slice(0,h))return u=u.times(2),0!==i&&(u=u.plus(k(y,h+2,v).times(i+""))),u=w(u,new y(p),h),y.precision=v,null==t?(o=!0,E(u,v)):u;u=d,s+=2}}function O(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;48===t.charCodeAt(n);)++n;for(a=t.length;48===t.charCodeAt(a-1);)--a;if(t=t.slice(n,a)){if(a-=n,r=r-n-1,e.e=d(r/7),e.d=[],n=(r+1)%7,r<0&&(n+=7),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=7;n<a;)e.d.push(+t.slice(n,n+=7));n=7-(t=t.slice(n)).length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),o&&(e.e>g||e.e<-g))throw Error(u+r)}else e.s=0,e.e=0,e.d=[0];return e}function E(e,t,r){var n,a,s,i,l,c,f,m,y=e.d;for(i=1,s=y[0];s>=10;s/=10)i++;if((n=t-i)<0)n+=7,a=t,f=y[m=0];else{if((m=Math.ceil((n+1)/7))>=(s=y.length))return e;for(f=s=y[m],i=1;s>=10;s/=10)i++;a=(n%=7)-7+i}if(void 0!==r&&(l=f/(s=h(10,i-a-1))%10|0,c=t<0||void 0!==y[m+1]||f%s,c=r<4?(l||c)&&(0==r||r==(e.s<0?3:2)):l>5||5==l&&(4==r||c||6==r&&(n>0?a>0?f/h(10,i-a):0:y[m-1])%10&1||r==(e.s<0?8:7))),t<1||!y[0])return c?(s=N(e),y.length=1,t=t-s-1,y[0]=h(10,(7-t%7)%7),e.e=d(-t/7)||0):(y.length=1,y[0]=e.e=e.s=0),e;if(0==n?(y.length=m,s=1,m--):(y.length=m+1,s=h(10,7-n),y[m]=a>0?(f/h(10,i-a)%h(10,a)|0)*s:0),c)for(;;){if(0==m){(y[0]+=s)==p&&(y[0]=1,++e.e);break}if(y[m]+=s,y[m]!=p)break;y[m--]=0,s=1}for(n=y.length;0===y[--n];)y.pop();if(o&&(e.e>g||e.e<-g))throw Error(u+N(e));return e}function C(e,t){var r,n,a,s,i,l,c,u,d,h,f=e.constructor,m=f.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new f(e),o?E(t,m):t;if(c=e.d,h=t.d,n=t.e,u=e.e,c=c.slice(),i=u-n){for((d=i<0)?(r=c,i=-i,l=h.length):(r=h,n=u,l=c.length),i>(a=Math.max(Math.ceil(m/7),l)+2)&&(i=a,r.length=1),r.reverse(),a=i;a--;)r.push(0);r.reverse()}else{for((d=(a=c.length)<(l=h.length))&&(l=a),a=0;a<l;a++)if(c[a]!=h[a]){d=c[a]<h[a];break}i=0}for(d&&(r=c,c=h,h=r,t.s=-t.s),l=c.length,a=h.length-l;a>0;--a)c[l++]=0;for(a=h.length;a>i;){if(c[--a]<h[a]){for(s=a;s&&0===c[--s];)c[s]=p-1;--c[s],c[a]+=p}c[a]-=h[a]}for(;0===c[--l];)c.pop();for(;0===c[0];c.shift())--n;return c[0]?(t.d=c,t.e=n,o?E(t,m):t):new f(0)}function P(e,t,r){var n,a=N(e),s=b(e.d),i=s.length;return t?(r&&(n=r-i)>0?s=s.charAt(0)+"."+s.slice(1)+S(n):i>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(a<0?"e":"e+")+a):a<0?(s="0."+S(-a-1)+s,r&&(n=r-i)>0&&(s+=S(n))):a>=i?(s+=S(a+1-i),r&&(n=r-a-1)>0&&(s=s+"."+S(n))):((n=a+1)<i&&(s=s.slice(0,n)+"."+s.slice(n)),r&&(n=r-i)>0&&(a+1===i&&(s+="."),s+=S(n))),e.s<0?"-"+s:s}function A(e,t){if(e.length>t)return e.length=t,!0}function T(e){if(!e||"object"!==typeof e)throw Error(l+"Object expected");var t,r,n,a=["precision",1,s,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if(void 0!==(n=e[r=a[t]])){if(!(d(n)===n&&n>=a[t+1]&&n<=a[t+2]))throw Error(c+r+": "+n);this[r]=n}if(void 0!==(n=e[r="LN10"])){if(n!=Math.LN10)throw Error(c+r+": "+n);this[r]=new this(n)}return this}i=function e(t){var r,n,a;function s(e){var t=this;if(!(t instanceof s))return new s(e);if(t.constructor=s,e instanceof s)return t.s=e.s,t.e=e.e,void(t.d=(e=e.d)?e.slice():e);if("number"===typeof e){if(0*e!==0)throw Error(c+e);if(e>0)t.s=1;else{if(!(e<0))return t.s=0,t.e=0,void(t.d=[0]);e=-e,t.s=-1}return e===~~e&&e<1e7?(t.e=0,void(t.d=[e])):O(t,e.toString())}if("string"!==typeof e)throw Error(c+e);if(45===e.charCodeAt(0)?(e=e.slice(1),t.s=-1):t.s=1,!f.test(e))throw Error(c+e);O(t,e)}if(s.prototype=y,s.ROUND_UP=0,s.ROUND_DOWN=1,s.ROUND_CEIL=2,s.ROUND_FLOOR=3,s.ROUND_HALF_UP=4,s.ROUND_HALF_DOWN=5,s.ROUND_HALF_EVEN=6,s.ROUND_HALF_CEIL=7,s.ROUND_HALF_FLOOR=8,s.clone=e,s.config=s.set=T,void 0===t&&(t={}),t)for(a=["precision","rounding","toExpNeg","toExpPos","LN10"],r=0;r<a.length;)t.hasOwnProperty(n=a[r++])||(t[n]=this[n]);return s.config(t),s}(i),i.default=i.Decimal=i,a=new i(1),void 0===(n=function(){return i}.call(t,r,t,e))||(e.exports=n)}()},8259:(e,t,r)=>{var n=r(5797);e.exports=function(e){var t=n(e,function(e){return 500===r.size&&r.clear(),e}),r=t.cache;return t}},8325:(e,t,r)=>{var n=r(2541),a=r(5654),s=r(3279),i=a?function(e,t){return a(e,"toString",{configurable:!0,enumerable:!1,value:n(t),writable:!0})}:s;e.exports=i},8468:(e,t,r)=>{var n=r(5816),a=r(644),s=r(4020);e.exports=function(e,t,r){return t===t?s(e,t,r):n(e,a,r)}},8541:(e,t,r)=>{var n=r(9812),a=r(149),s=r(4052),i=r(9841),o=n?n.prototype:void 0,l=o?o.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(s(t))return a(t,e)+"";if(i(t))return l?l.call(t):"";var r=t+"";return"0"==r&&1/t==-1/0?"-0":r}},8673:(e,t,r)=>{var n=r(3204),a=r(3713),s=r(6571);e.exports=function(e){return s(e)?n(e):a(e)}},8704:e=>{function t(e,t){var r=e.length,n=new Array(r),a={},s=r,i=function(e){for(var t=new Map,r=0,n=e.length;r<n;r++){var a=e[r];t.has(a[0])||t.set(a[0],new Set),t.has(a[1])||t.set(a[1],new Set),t.get(a[0]).add(a[1])}return t}(t),o=function(e){for(var t=new Map,r=0,n=e.length;r<n;r++)t.set(e[r],r);return t}(e);for(t.forEach(function(e){if(!o.has(e[0])||!o.has(e[1]))throw new Error("Unknown node. There is an unknown node in the supplied edges.")});s--;)a[s]||l(e[s],s,new Set);return n;function l(e,t,s){if(s.has(e)){var c;try{c=", node was:"+JSON.stringify(e)}catch(h){c=""}throw new Error("Cyclic dependency"+c)}if(!o.has(e))throw new Error("Found unknown node. Make sure to provided all involved nodes. Unknown node: "+JSON.stringify(e));if(!a[t]){a[t]=!0;var u=i.get(e)||new Set;if(t=(u=Array.from(u)).length){s.add(e);do{var d=u[--t];l(d,o.get(d),s)}while(t);s.delete(e)}n[--r]=e}}}e.exports=function(e){return t(function(e){for(var t=new Set,r=0,n=e.length;r<n;r++){var a=e[r];t.add(a[0]),t.add(a[1])}return Array.from(t)}(e),e)},e.exports.array=t},8724:(e,t,r)=>{var n=r(7615),a=r(5051),s=r(2154),i=r(8734),o=r(2662);function l(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}l.prototype.clear=n,l.prototype.delete=a,l.prototype.get=s,l.prototype.has=i,l.prototype.set=o,e.exports=l},8734:(e,t,r)=>{var n=r(5575),a=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return n?void 0!==t[e]:a.call(t,e)}},8829:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=n(r(5736));t.default=class{constructor(e,t){let{headers:r={},schema:n,fetch:a}=t;this.url=e,this.headers=r,this.schema=n,this.fetch=a}select(e){let{head:t=!1,count:r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=t?"HEAD":"GET";let s=!1;const i=(null!==e&&void 0!==e?e:"*").split("").map(e=>/\s/.test(e)&&!s?"":('"'===e&&(s=!s),e)).join("");return this.url.searchParams.set("select",i),r&&(this.headers.Prefer="count=".concat(r)),new a.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e){let{count:t,defaultToNull:r=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=[];if(this.headers.Prefer&&n.push(this.headers.Prefer),t&&n.push("count=".concat(t)),r||n.push("missing=default"),this.headers.Prefer=n.join(","),Array.isArray(e)){const t=e.reduce((e,t)=>e.concat(Object.keys(t)),[]);if(t.length>0){const e=[...new Set(t)].map(e=>'"'.concat(e,'"'));this.url.searchParams.set("columns",e.join(","))}}return new a.default({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e){let{onConflict:t,ignoreDuplicates:r=!1,count:n,defaultToNull:s=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const i=["resolution=".concat(r?"ignore":"merge","-duplicates")];if(void 0!==t&&this.url.searchParams.set("on_conflict",t),this.headers.Prefer&&i.push(this.headers.Prefer),n&&i.push("count=".concat(n)),s||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(e)){const t=e.reduce((e,t)=>e.concat(Object.keys(t)),[]);if(t.length>0){const e=[...new Set(t)].map(e=>'"'.concat(e,'"'));this.url.searchParams.set("columns",e.join(","))}}return new a.default({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e){let{count:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=[];return this.headers.Prefer&&r.push(this.headers.Prefer),t&&r.push("count=".concat(t)),this.headers.Prefer=r.join(","),new a.default({method:"PATCH",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete(){let{count:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=[];return e&&t.push("count=".concat(e)),this.headers.Prefer&&t.unshift(this.headers.Prefer),this.headers.Prefer=t.join(","),new a.default({method:"DELETE",url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}},8853:(e,t,r)=>{"use strict";e.exports=r(5896)},8883:(e,t,r)=>{var n=r(5652),a=r(6571);e.exports=function(e,t){var r=-1,s=a(e)?Array(e.length):[];return n(e,function(e,n,a){s[++r]=t(e,n,a)}),s}},8895:e=>{e.exports=function(e,t){for(var r=-1,n=t.length,a=e.length;++r<n;)e[a+r]=t[r];return e}},8902:(e,t,r)=>{var n=r(4816),a=r(6179),s=r(6704);function i(e){var t=-1,r=null==e?0:e.length;for(this.__data__=new n;++t<r;)this.add(e[t])}i.prototype.add=i.prototype.push=a,i.prototype.has=s,e.exports=i},8990:(e,t,r)=>{var n=r(9995)(r(2520));e.exports=n},9057:(e,t,r)=>{var n=r(5324),a=r(2777),s=r(4052),i=r(9194),o=r(6173),l=r(914);e.exports=function(e,t,r){for(var c=-1,u=(t=n(t,e)).length,d=!1;++c<u;){var h=l(t[c]);if(!(d=null!=e&&r(e,h)))break;e=e[h]}return d||++c!=u?d:!!(u=null==e?0:e.length)&&o(u)&&i(h,u)&&(s(e)||a(e))}},9062:(e,t,r)=>{"use strict";e.exports=r(6378)},9096:(e,t,r)=>{var n=r(9256),a=r(5029),s=r(3279),i=r(4052),o=r(3932);e.exports=function(e){return"function"==typeof e?e:null==e?s:"object"==typeof e?i(e)?a(e[0],e[1]):n(e):o(e)}},9115:(e,t,r)=>{var n=r(5967),a=r(6311),s=r(715);e.exports=function(e){return a(e)?s(e):n(e)}},9140:(e,t,r)=>{var n=r(7303);e.exports=function(e){var t=n(e),r=t%1;return t===t?r?t-r:t:0}},9160:(e,t,r)=>{var n=r(6913),a=r(2761);e.exports=function(e){return"number"==typeof e||a(e)&&"[object Number]"==n(e)}},9194:e=>{var t=/^(?:0|[1-9]\d*)$/;e.exports=function(e,r){var n=typeof e;return!!(r=null==r?9007199254740991:r)&&("number"==n||"symbol"!=n&&t.test(e))&&e>-1&&e%1==0&&e<r}},9256:(e,t,r)=>{var n=r(6532),a=r(3781),s=r(1310);e.exports=function(e){var t=a(e);return 1==t.length&&t[0][2]?s(t[0][0],t[0][1]):function(r){return r===e||n(r,e,t)}}},9286:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=n(r(4630)),s=n(r(2611));t.default=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:"undefined"===typeof fetch?this.fetch=a.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=Object.assign({},this.headers),this.headers[e]=t,this}then(e,t){void 0===this.schema||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),"GET"!==this.method&&"HEAD"!==this.method&&(this.headers["Content-Type"]="application/json");let r=(0,this.fetch)(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async e=>{var t,r,n;let a=null,i=null,o=null,l=e.status,c=e.statusText;if(e.ok){if("HEAD"!==this.method){const t=await e.text();""===t||(i="text/csv"===this.headers.Accept||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?t:JSON.parse(t))}const n=null===(t=this.headers.Prefer)||void 0===t?void 0:t.match(/count=(exact|planned|estimated)/),s=null===(r=e.headers.get("content-range"))||void 0===r?void 0:r.split("/");n&&s&&s.length>1&&(o=parseInt(s[1])),this.isMaybeSingle&&"GET"===this.method&&Array.isArray(i)&&(i.length>1?(a={code:"PGRST116",details:"Results contain ".concat(i.length," rows, application/vnd.pgrst.object+json requires 1 row"),hint:null,message:"JSON object requested, multiple (or no) rows returned"},i=null,o=null,l=406,c="Not Acceptable"):i=1===i.length?i[0]:null)}else{const t=await e.text();try{a=JSON.parse(t),Array.isArray(a)&&404===e.status&&(i=[],a=null,l=200,c="OK")}catch(u){404===e.status&&""===t?(l=204,c="No Content"):a={message:t}}if(a&&this.isMaybeSingle&&(null===(n=null===a||void 0===a?void 0:a.details)||void 0===n?void 0:n.includes("0 rows"))&&(a=null,l=200,c="OK"),a&&this.shouldThrowOnError)throw new s.default(a)}return{error:a,data:i,count:o,status:l,statusText:c}});return this.shouldThrowOnError||(r=r.catch(e=>{var t,r,n;return{error:{message:"".concat(null!==(t=null===e||void 0===e?void 0:e.name)&&void 0!==t?t:"FetchError",": ").concat(null===e||void 0===e?void 0:e.message),details:"".concat(null!==(r=null===e||void 0===e?void 0:e.stack)&&void 0!==r?r:""),hint:"",code:"".concat(null!==(n=null===e||void 0===e?void 0:e.code)&&void 0!==n?n:"")},data:null,count:null,status:0,statusText:""}})),r.then(e,t)}returns(){return this}overrideTypes(){return this}}},9364:(e,t,r)=>{var n=r(9742),a=r(9096),s=r(61);e.exports=function(e,t){return e&&e.length?n(e,a(t,2),s):void 0}},9394:(e,t,r)=>{var n=r(2622);e.exports=function(e){return n(this,e).has(e)}},9395:(e,t,r)=>{var n=r(4262),a=r(9621),s=r(8673);e.exports=function(e){return n(e,s,a)}},9417:(e,t,r)=>{var n=r(6686);e.exports=function(e){return e===e&&!n(e)}},9621:(e,t,r)=>{var n=r(7529),a=r(7828),s=Object.prototype.propertyIsEnumerable,i=Object.getOwnPropertySymbols,o=i?function(e){return null==e?[]:(e=Object(e),n(i(e),function(t){return s.call(e,t)}))}:a;e.exports=o},9676:e=>{var t=Math.ceil,r=Math.max;e.exports=function(e,n,a,s){for(var i=-1,o=r(t((n-e)/(a||1)),0),l=Array(o);o--;)l[s?o:++i]=e,e+=a;return l}},9686:e=>{e.exports=function(e){return null==e}},9742:(e,t,r)=>{var n=r(9841);e.exports=function(e,t,r){for(var a=-1,s=e.length;++a<s;){var i=e[a],o=t(i);if(null!=o&&(void 0===l?o===o&&!n(o):r(o,l)))var l=o,c=i}return c}},9812:(e,t,r)=>{var n=r(6552).Symbol;e.exports=n},9841:(e,t,r)=>{var n=r(6913),a=r(2761);e.exports=function(e){return"symbol"==typeof e||a(e)&&"[object Symbol]"==n(e)}},9853:(e,t,r)=>{var n=r(6989);e.exports=function(e,t){return n(e,t)}},9889:(e,t,r)=>{var n=r(3950),a=r(6686);e.exports=function(e,t,r){var s=!0,i=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return a(r)&&(s="leading"in r?!!r.leading:s,i="trailing"in r?!!r.trailing:i),n(e,t,{leading:s,maxWait:t,trailing:i})}},9935:(e,t,r)=>{var n=r(1340),a=Array.prototype.splice;e.exports=function(e){var t=this.__data__,r=n(t,e);return!(r<0)&&(r==t.length-1?t.pop():a.call(t,r,1),--this.size,!0)}},9987:(e,t,r)=>{var n=r(9812),a=r(2929),s=r(3211),i=r(3668),o=r(4160),l=r(2074),c=n?n.prototype:void 0,u=c?c.valueOf:void 0;e.exports=function(e,t,r,n,c,d,h){switch(r){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!d(new a(e),new a(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return s(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var f=o;case"[object Set]":var p=1&n;if(f||(f=l),e.size!=t.size&&!p)return!1;var m=h.get(e);if(m)return m==t;n|=2,h.set(e,t);var g=i(f(e),f(t),n,c,d,h);return h.delete(e),g;case"[object Symbol]":if(u)return u.call(e)==u.call(t)}return!1}},9995:(e,t,r)=>{var n=r(9096),a=r(6571),s=r(8673);e.exports=function(e){return function(t,r,i){var o=Object(t);if(!a(t)){var l=n(r,3);t=s(t),r=function(e){return l(o[e],e,o)}}var c=e(t,r,i);return c>-1?o[l?t[c]:c]:void 0}}}},t={};function r(n){var a=t[n];if(void 0!==a)return a.exports;var s=t[n]={id:n,loaded:!1,exports:{}};return e[n].call(s.exports,s,s.exports,r),s.loaded=!0,s.exports}r.m=e,r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.f={},r.e=e=>Promise.all(Object.keys(r.f).reduce((t,n)=>(r.f[n](e,t),t),[])),r.u=e=>"static/js/"+e+".8ef1d999.chunk.js",r.miniCssF=e=>{},r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="hotel-management-clean:";r.l=(n,a,s,i)=>{if(e[n])e[n].push(a);else{var o,l;if(void 0!==s)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var d=c[u];if(d.getAttribute("src")==n||d.getAttribute("data-webpack")==t+s){o=d;break}}o||(l=!0,(o=document.createElement("script")).charset="utf-8",o.timeout=120,r.nc&&o.setAttribute("nonce",r.nc),o.setAttribute("data-webpack",t+s),o.src=n),e[n]=[a];var h=(t,r)=>{o.onerror=o.onload=null,clearTimeout(f);var a=e[n];if(delete e[n],o.parentNode&&o.parentNode.removeChild(o),a&&a.forEach(e=>e(r)),t)return t(r)},f=setTimeout(h.bind(null,void 0,{type:"timeout",target:o}),12e4);o.onerror=h.bind(null,o.onerror),o.onload=h.bind(null,o.onload),l&&document.head.appendChild(o)}}})(),r.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),r.p="/",(()=>{var e={792:0};r.f.j=(t,n)=>{var a=r.o(e,t)?e[t]:void 0;if(0!==a)if(a)n.push(a[2]);else{var s=new Promise((r,n)=>a=e[t]=[r,n]);n.push(a[2]=s);var i=r.p+r.u(t),o=new Error;r.l(i,n=>{if(r.o(e,t)&&(0!==(a=e[t])&&(e[t]=void 0),a)){var s=n&&("load"===n.type?"missing":n.type),i=n&&n.target&&n.target.src;o.message="Loading chunk "+t+" failed.\n("+s+": "+i+")",o.name="ChunkLoadError",o.type=s,o.request=i,a[1](o)}},"chunk-"+t,t)}};var t=(t,n)=>{var a,s,i=n[0],o=n[1],l=n[2],c=0;if(i.some(t=>0!==e[t])){for(a in o)r.o(o,a)&&(r.m[a]=o[a]);if(l)l(r)}for(t&&t(n);c<i.length;c++)s=i[c],r.o(e,s)&&e[s]&&e[s][0](),e[s]=0},n=self.webpackChunkhotel_management_clean=self.webpackChunkhotel_management_clean||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})(),(()=>{"use strict";var e={};r.r(e),r.d(e,{scaleBand:()=>wh,scaleDiverging:()=>Zy,scaleDivergingLog:()=>ev,scaleDivergingPow:()=>rv,scaleDivergingSqrt:()=>nv,scaleDivergingSymlog:()=>tv,scaleIdentity:()=>$p,scaleImplicit:()=>xh,scaleLinear:()=>Gp,scaleLog:()=>rm,scaleOrdinal:()=>bh,scalePoint:()=>Nh,scalePow:()=>dm,scaleQuantile:()=>Nm,scaleQuantize:()=>km,scaleRadial:()=>pm,scaleSequential:()=>Gy,scaleSequentialLog:()=>$y,scaleSequentialPow:()=>Yy,scaleSequentialQuantile:()=>Jy,scaleSequentialSqrt:()=>Xy,scaleSequentialSymlog:()=>Ky,scaleSqrt:()=>hm,scaleSymlog:()=>im,scaleThreshold:()=>Sm,scaleTime:()=>qy,scaleUtc:()=>Hy,tickFormat:()=>Vp});var t=r(5043),n=r(4391);function a(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function i(e){var t=function(e,t){if("object"!=s(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=s(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==s(t)?t:t+""}function o(e,t,r){return(t=i(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach(function(t){o(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}r(3175);const u=["sri"],d=["page"],h=["page","matches"],f=["onClick","discover","prefetch","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],p=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],m=["discover","fetcherKey","navigate","reloadDocument","replace","state","method","action","onSubmit","relative","preventScrollReset","viewTransition"];var g="popstate";function y(){return k(function(e,t){let{pathname:r,search:n,hash:a}=e.location;return w("",{pathname:r,search:n,hash:a},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){return"string"===typeof t?t:j(t)},null,arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}function v(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function x(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(Nt){}}}function b(e,t){return{usr:e.state,key:e.key,idx:t}}function w(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=arguments.length>3?arguments[3]:void 0;return c(c({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?N(t):t),{},{state:r,key:t&&t.key||n||Math.random().toString(36).substring(2,10)})}function j(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&"?"!==r&&(t+="?"===r.charAt(0)?r:"?"+r),n&&"#"!==n&&(t+="#"===n.charAt(0)?n:"#"+n),t}function N(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substring(r),e=e.substring(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substring(n),e=e.substring(0,n)),e&&(t.pathname=e)}return t}function k(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},{window:a=document.defaultView,v5Compat:s=!1}=n,i=a.history,o="POP",l=null,u=d();function d(){return(i.state||{idx:null}).idx}function h(){o="POP";let e=d(),t=null==e?null:e-u;u=e,l&&l({action:o,location:p.location,delta:t})}function f(e){return S(e)}null==u&&(u=0,i.replaceState(c(c({},i.state),{},{idx:u}),""));let p={get action(){return o},get location(){return e(a,i)},listen(e){if(l)throw new Error("A history only accepts one active listener");return a.addEventListener(g,h),l=e,()=>{a.removeEventListener(g,h),l=null}},createHref:e=>t(a,e),createURL:f,encodeLocation(e){let t=f(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){o="PUSH";let n=w(p.location,e,t);r&&r(n,e),u=d()+1;let c=b(n,u),h=p.createHref(n);try{i.pushState(c,"",h)}catch(f){if(f instanceof DOMException&&"DataCloneError"===f.name)throw f;a.location.assign(h)}s&&l&&l({action:o,location:p.location,delta:1})},replace:function(e,t){o="REPLACE";let n=w(p.location,e,t);r&&r(n,e),u=d();let a=b(n,u),c=p.createHref(n);i.replaceState(a,"",c),s&&l&&l({action:o,location:p.location,delta:0})},go:e=>i.go(e)};return p}function S(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r="http://localhost";"undefined"!==typeof window&&(r="null"!==window.location.origin?window.location.origin:window.location.href),v(r,"No window.location.(origin|href) available to create URL");let n="string"===typeof e?e:j(e);return n=n.replace(/ $/,"%20"),!t&&n.startsWith("//")&&(n=r+n),new URL(n,r)}new WeakMap;function _(e,t){return O(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"/",!1)}function O(e,t,r,n){let a=q(("string"===typeof t?N(t):t).pathname||"/",r);if(null==a)return null;let s=E(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let r=e.length===t.length&&e.slice(0,-1).every((e,r)=>e===t[r]);return r?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(s);let i=null;for(let o=0;null==i&&o<s.length;++o){let e=U(a);i=z(s[o],e,n)}return i}function E(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",a=(e,a,s)=>{let i={relativePath:void 0===s?e.path||"":s,caseSensitive:!0===e.caseSensitive,childrenIndex:a,route:e};i.relativePath.startsWith("/")&&(v(i.relativePath.startsWith(n),'Absolute route path "'.concat(i.relativePath,'" nested under path "').concat(n,'" is not valid. An absolute child route path must start with the combined path of all its parent routes.')),i.relativePath=i.relativePath.slice(n.length));let o=$([n,i.relativePath]),l=r.concat(i);e.children&&e.children.length>0&&(v(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'.concat(o,'".')),E(e.children,t,l,o)),(null!=e.path||e.index)&&t.push({path:o,score:L(o,e.index),routesMeta:l})};return e.forEach((e,t)=>{var r;if(""!==e.path&&null!==(r=e.path)&&void 0!==r&&r.includes("?"))for(let n of C(e.path))a(e,t,n);else a(e,t)}),t}function C(e){let t=e.split("/");if(0===t.length)return[];let[r,...n]=t,a=r.endsWith("?"),s=r.replace(/\?$/,"");if(0===n.length)return a?[s,""]:[s];let i=C(n.join("/")),o=[];return o.push(...i.map(e=>""===e?s:[s,e].join("/"))),a&&o.push(...i),o.map(t=>e.startsWith("/")&&""===t?"/":t)}var P=/^:[\w-]+$/,A=3,T=2,D=1,M=10,I=-2,R=e=>"*"===e;function L(e,t){let r=e.split("/"),n=r.length;return r.some(R)&&(n+=I),t&&(n+=T),r.filter(e=>!R(e)).reduce((e,t)=>e+(P.test(t)?A:""===t?D:M),n)}function z(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],{routesMeta:n}=e,a={},s="/",i=[];for(let o=0;o<n.length;++o){let e=n[o],l=o===n.length-1,c="/"===s?t:t.slice(s.length)||"/",u=F({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),d=e.route;if(!u&&l&&r&&!n[n.length-1].route.index&&(u=F({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!u)return null;Object.assign(a,u.params),i.push({params:a,pathname:$([s,u.pathname]),pathnameBase:K($([s,u.pathnameBase])),route:d}),"/"!==u.pathnameBase&&(s=$([s,u.pathnameBase]))}return i}function F(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=B(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let s=a[0],i=s.replace(/(.)\/+$/,"$1"),o=a.slice(1),l=n.reduce((e,t,r)=>{let{paramName:n,isOptional:a}=t;if("*"===n){let e=o[r]||"";i=s.slice(0,s.length-e.length).replace(/(.)\/+$/,"$1")}const l=o[r];return e[n]=a&&!l?void 0:(l||"").replace(/%2F/g,"/"),e},{});return{params:l,pathname:s,pathnameBase:i,pattern:e}}function B(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];x("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'.concat(e,'" will be treated as if it were "').concat(e.replace(/\*$/,"/*"),'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "').concat(e.replace(/\*$/,"/*"),'".'));let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,r)=>(n.push({paramName:t,isOptional:null!=r}),r?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),a+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":""!==e&&"/"!==e&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function U(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return x(!1,'The URL path "'.concat(e,'" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (').concat(t,").")),e}}function q(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&"/"!==n?null:e.slice(r)||"/"}function H(e,t,r,n){return"Cannot include a '".concat(e,"' character in a manually specified `to.").concat(t,"` field [").concat(JSON.stringify(n),"].  Please separate it out to the `to.").concat(r,'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.')}function V(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}function W(e){let t=V(e);return t.map((e,r)=>r===t.length-1?e.pathname:e.pathnameBase)}function G(e,t,r){let n,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];"string"===typeof e?n=N(e):(n=c({},e),v(!n.pathname||!n.pathname.includes("?"),H("?","pathname","search",n)),v(!n.pathname||!n.pathname.includes("#"),H("#","pathname","hash",n)),v(!n.search||!n.search.includes("#"),H("#","search","hash",n)));let s,i=""===e||""===n.pathname,o=i?"/":n.pathname;if(null==o)s=r;else{let e=t.length-1;if(!a&&o.startsWith("..")){let t=o.split("/");for(;".."===t[0];)t.shift(),e-=1;n.pathname=t.join("/")}s=e>=0?t[e]:"/"}let l=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/",{pathname:r,search:n="",hash:a=""}="string"===typeof e?N(e):e,s=r?r.startsWith("/")?r:function(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?r.length>1&&r.pop():"."!==e&&r.push(e)}),r.length>1?r.join("/"):"/"}(r,t):t;return{pathname:s,search:Y(n),hash:X(a)}}(n,s),u=o&&"/"!==o&&o.endsWith("/"),d=(i||"."===o)&&r.endsWith("/");return l.pathname.endsWith("/")||!u&&!d||(l.pathname+="/"),l}var $=e=>e.join("/").replace(/\/\/+/g,"/"),K=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Y=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",X=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";function J(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}var Q=["POST","PUT","PATCH","DELETE"],Z=(new Set(Q),["GET",...Q]);new Set(Z),Symbol("ResetLoaderData");var ee=t.createContext(null);ee.displayName="DataRouter";var te=t.createContext(null);te.displayName="DataRouterState";var re=t.createContext({isTransitioning:!1});re.displayName="ViewTransition";var ne=t.createContext(new Map);ne.displayName="Fetchers";var ae=t.createContext(null);ae.displayName="Await";var se=t.createContext(null);se.displayName="Navigation";var ie=t.createContext(null);ie.displayName="Location";var oe=t.createContext({outlet:null,matches:[],isDataRoute:!1});oe.displayName="Route";var le=t.createContext(null);le.displayName="RouteError";function ce(){return null!=t.useContext(ie)}function ue(){return v(ce(),"useLocation() may be used only in the context of a <Router> component."),t.useContext(ie).location}var de="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function he(e){t.useContext(se).static||t.useLayoutEffect(e)}function fe(){let{isDataRoute:e}=t.useContext(oe);return e?function(){let{router:e}=je("useNavigate"),r=ke("useNavigate"),n=t.useRef(!1);he(()=>{n.current=!0});let a=t.useCallback(async function(t){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};x(n.current,de),n.current&&("number"===typeof t?e.navigate(t):await e.navigate(t,c({fromRouteId:r},a)))},[e,r]);return a}():function(){v(ce(),"useNavigate() may be used only in the context of a <Router> component.");let e=t.useContext(ee),{basename:r,navigator:n}=t.useContext(se),{matches:a}=t.useContext(oe),{pathname:s}=ue(),i=JSON.stringify(W(a)),o=t.useRef(!1);he(()=>{o.current=!0});let l=t.useCallback(function(t){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(x(o.current,de),!o.current)return;if("number"===typeof t)return void n.go(t);let l=G(t,JSON.parse(i),s,"path"===a.relative);null==e&&"/"!==r&&(l.pathname="/"===l.pathname?r:$([r,l.pathname])),(a.replace?n.replace:n.push)(l,a.state,a)},[r,n,i,s,e]);return l}()}t.createContext(null);function pe(e){let{relative:r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{matches:n}=t.useContext(oe),{pathname:a}=ue(),s=JSON.stringify(W(n));return t.useMemo(()=>G(e,JSON.parse(s),a,"path"===r),[e,s,a,r])}function me(e,r,n,a){v(ce(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=t.useContext(se),{matches:i}=t.useContext(oe),o=i[i.length-1],l=o?o.params:{},u=o?o.pathname:"/",d=o?o.pathnameBase:"/",h=o&&o.route;{let e=h&&h.path||"";Oe(u,!h||e.endsWith("*")||e.endsWith("*?"),'You rendered descendant <Routes> (or called `useRoutes()`) at "'.concat(u,'" (under <Route path="').concat(e,'">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won\'t match anymore and therefore the child routes will never render.\n\nPlease change the parent <Route path="').concat(e,'"> to <Route path="').concat("/"===e?"*":"".concat(e,"/*"),'">.'))}let f,p=ue();if(r){var m;let e="string"===typeof r?N(r):r;v("/"===d||(null===(m=e.pathname)||void 0===m?void 0:m.startsWith(d)),'When overriding the location using `<Routes location>` or `useRoutes(routes, location)`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "'.concat(d,'" but pathname "').concat(e.pathname,'" was given in the `location` prop.')),f=e}else f=p;let g=f.pathname||"/",y=g;if("/"!==d){let e=d.replace(/^\//,"").split("/");y="/"+g.replace(/^\//,"").split("/").slice(e.length).join("/")}let b=_(e,{pathname:y});x(h||null!=b,'No routes matched location "'.concat(f.pathname).concat(f.search).concat(f.hash,'" ')),x(null==b||void 0!==b[b.length-1].route.element||void 0!==b[b.length-1].route.Component||void 0!==b[b.length-1].route.lazy,'Matched leaf route at location "'.concat(f.pathname).concat(f.search).concat(f.hash,'" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.'));let w=be(b&&b.map(e=>Object.assign({},e,{params:Object.assign({},l,e.params),pathname:$([d,s.encodeLocation?s.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?d:$([d,s.encodeLocation?s.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})),i,n,a);return r&&w?t.createElement(ie.Provider,{value:{location:c({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:"POP"}},w):w}function ge(){let e=Se(),r=J(e)?"".concat(e.status," ").concat(e.statusText):e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,a="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:a},i={padding:"2px 4px",backgroundColor:a},o=null;return console.error("Error handled by React Router default ErrorBoundary:",e),o=t.createElement(t.Fragment,null,t.createElement("p",null,"\ud83d\udcbf Hey developer \ud83d\udc4b"),t.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",t.createElement("code",{style:i},"ErrorBoundary")," or"," ",t.createElement("code",{style:i},"errorElement")," prop on your route.")),t.createElement(t.Fragment,null,t.createElement("h2",null,"Unexpected Application Error!"),t.createElement("h3",{style:{fontStyle:"italic"}},r),n?t.createElement("pre",{style:s},n):null,o)}var ye=t.createElement(ge,null),ve=class extends t.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?t.createElement(oe.Provider,{value:this.props.routeContext},t.createElement(le.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function xe(e){let{routeContext:r,match:n,children:a}=e,s=t.useContext(ee);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),t.createElement(oe.Provider,{value:r},a)}function be(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(null==e){if(!n)return null;if(n.errors)e=n.matches;else{if(0!==r.length||n.initialized||!(n.matches.length>0))return null;e=n.matches}}let a=e,s=null===n||void 0===n?void 0:n.errors;if(null!=s){let e=a.findIndex(e=>e.route.id&&void 0!==(null===s||void 0===s?void 0:s[e.route.id]));v(e>=0,"Could not find a matching route for errors on route IDs: ".concat(Object.keys(s).join(","))),a=a.slice(0,Math.min(a.length,e+1))}let i=!1,o=-1;if(n)for(let t=0;t<a.length;t++){let e=a[t];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(o=t),e.route.id){let{loaderData:t,errors:r}=n,s=e.route.loader&&!t.hasOwnProperty(e.route.id)&&(!r||void 0===r[e.route.id]);if(e.route.lazy||s){i=!0,a=o>=0?a.slice(0,o+1):[a[0]];break}}}return a.reduceRight((e,l,c)=>{let u,d=!1,h=null,f=null;n&&(u=s&&l.route.id?s[l.route.id]:void 0,h=l.route.errorElement||ye,i&&(o<0&&0===c?(Oe("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),d=!0,f=null):o===c&&(d=!0,f=l.route.hydrateFallbackElement||null)));let p=r.concat(a.slice(0,c+1)),m=()=>{let r;return r=u?h:d?f:l.route.Component?t.createElement(l.route.Component,null):l.route.element?l.route.element:e,t.createElement(xe,{match:l,routeContext:{outlet:e,matches:p,isDataRoute:null!=n},children:r})};return n&&(l.route.ErrorBoundary||l.route.errorElement||0===c)?t.createElement(ve,{location:n.location,revalidation:n.revalidation,component:h,error:u,children:m(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):m()},null)}function we(e){return"".concat(e," must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.")}function je(e){let r=t.useContext(ee);return v(r,we(e)),r}function Ne(e){let r=t.useContext(te);return v(r,we(e)),r}function ke(e){let r=function(e){let r=t.useContext(oe);return v(r,we(e)),r}(e),n=r.matches[r.matches.length-1];return v(n.route.id,"".concat(e,' can only be used on routes that contain a unique "id"')),n.route.id}function Se(){var e;let r=t.useContext(le),n=Ne("useRouteError"),a=ke("useRouteError");return void 0!==r?r:null===(e=n.errors)||void 0===e?void 0:e[a]}var _e={};function Oe(e,t,r){t||_e[e]||(_e[e]=!0,x(!1,r))}t.memo(function(e){let{routes:t,future:r,state:n}=e;return me(t,void 0,n,r)});function Ee(e){let{to:r,replace:n,state:a,relative:s}=e;v(ce(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=t.useContext(se);x(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=t.useContext(oe),{pathname:l}=ue(),c=fe(),u=G(r,W(o),l,"path"===s),d=JSON.stringify(u);return t.useEffect(()=>{c(JSON.parse(d),{replace:n,state:a,relative:s})},[c,d,s,n,a]),null}function Ce(e){v(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Pe(e){let{basename:r="/",children:n=null,location:a,navigationType:s="POP",navigator:i,static:o=!1}=e;v(!ce(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=r.replace(/^\/*/,"/"),c=t.useMemo(()=>({basename:l,navigator:i,static:o,future:{}}),[l,i,o]);"string"===typeof a&&(a=N(a));let{pathname:u="/",search:d="",hash:h="",state:f=null,key:p="default"}=a,m=t.useMemo(()=>{let e=q(u,l);return null==e?null:{location:{pathname:e,search:d,hash:h,state:f,key:p},navigationType:s}},[l,u,d,h,f,p,s]);return x(null!=m,'<Router basename="'.concat(l,'"> is not able to match the URL "').concat(u).concat(d).concat(h,"\" because it does not start with the basename, so the <Router> won't render anything.")),null==m?null:t.createElement(se.Provider,{value:c},t.createElement(ie.Provider,{children:n,value:m}))}function Ae(e){let{children:t,location:r}=e;return me(Te(t),r)}t.Component;function Te(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=[];return t.Children.forEach(e,(e,a)=>{if(!t.isValidElement(e))return;let s=[...r,a];if(e.type===t.Fragment)return void n.push.apply(n,Te(e.props.children,s));v(e.type===Ce,"[".concat("string"===typeof e.type?e.type:e.type.name,"] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>")),v(!e.props.index||!e.props.children,"An index route cannot have child routes.");let i={id:e.props.id||s.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,hydrateFallbackElement:e.props.hydrateFallbackElement,HydrateFallback:e.props.HydrateFallback,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:!0===e.props.hasErrorBoundary||null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(i.children=Te(e.props.children,s)),n.push(i)}),n}var De="get",Me="application/x-www-form-urlencoded";function Ie(e){return null!=e&&"string"===typeof e.tagName}var Re=null;var Le=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function ze(e){return null==e||Le.has(e)?e:(x(!1,'"'.concat(e,'" is not a valid `encType` for `<Form>`/`<fetcher.Form>` and will default to "').concat(Me,'"')),null)}function Fe(e,t){let r,n,a,s,i;if(function(e){return Ie(e)&&"form"===e.tagName.toLowerCase()}(e)){let i=e.getAttribute("action");n=i?q(i,t):null,r=e.getAttribute("method")||De,a=ze(e.getAttribute("enctype"))||Me,s=new FormData(e)}else if(function(e){return Ie(e)&&"button"===e.tagName.toLowerCase()}(e)||function(e){return Ie(e)&&"input"===e.tagName.toLowerCase()}(e)&&("submit"===e.type||"image"===e.type)){let i=e.form;if(null==i)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let o=e.getAttribute("formaction")||i.getAttribute("action");if(n=o?q(o,t):null,r=e.getAttribute("formmethod")||i.getAttribute("method")||De,a=ze(e.getAttribute("formenctype"))||ze(i.getAttribute("enctype"))||Me,s=new FormData(i,e),!function(){if(null===Re)try{new FormData(document.createElement("form"),0),Re=!1}catch(Nt){Re=!0}return Re}()){let{name:t,type:r,value:n}=e;if("image"===r){let e=t?"".concat(t,"."):"";s.append("".concat(e,"x"),"0"),s.append("".concat(e,"y"),"0")}else t&&s.append(t,n)}}else{if(Ie(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=De,n=null,a=Me,i=e}return s&&"text/plain"===a&&(i=s,s=void 0),{action:n,method:r.toLowerCase(),encType:a,formData:s,body:i}}function Be(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}async function Ue(e,t){if(e.id in t)return t[e.id];try{let r=await import(e.module);return t[e.id]=r,r}catch(r){return console.error("Error loading route module `".concat(e.module,"`, reloading page...")),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function qe(e){return null!=e&&"string"===typeof e.page}function He(e){return null!=e&&(null==e.href?"preload"===e.rel&&"string"===typeof e.imageSrcSet&&"string"===typeof e.imageSizes:"string"===typeof e.rel&&"string"===typeof e.href)}function Ve(e,t,r,n,a,s){let i=(e,t)=>!r[t]||e.route.id!==r[t].route.id,o=(e,t)=>{var n;return r[t].pathname!==e.pathname||(null===(n=r[t].route.path)||void 0===n?void 0:n.endsWith("*"))&&r[t].params["*"]!==e.params["*"]};return"assets"===s?t.filter((e,t)=>i(e,t)||o(e,t)):"data"===s?t.filter((t,s)=>{let l=n.routes[t.route.id];if(!l||!l.hasLoader)return!1;if(i(t,s)||o(t,s))return!0;if(t.route.shouldRevalidate){var c;let n=t.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:(null===(c=r[0])||void 0===c?void 0:c.params)||{},nextUrl:new URL(e,window.origin),nextParams:t.params,defaultShouldRevalidate:!0});if("boolean"===typeof n)return n}return!0}):[]}function We(e,t){let{includeHydrateFallback:r}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return n=e.map(e=>{let n=t.routes[e.route.id];if(!n)return[];let a=[n.module];return n.clientActionModule&&(a=a.concat(n.clientActionModule)),n.clientLoaderModule&&(a=a.concat(n.clientLoaderModule)),r&&n.hydrateFallbackModule&&(a=a.concat(n.hydrateFallbackModule)),n.imports&&(a=a.concat(n.imports)),a}).flat(1),[...new Set(n)];var n}function Ge(e,t){let r=new Set,n=new Set(t);return e.reduce((e,a)=>{if(t&&!qe(a)&&"script"===a.as&&a.href&&n.has(a.href))return e;let s=JSON.stringify(function(e){let t={},r=Object.keys(e).sort();for(let n of r)t[n]=e[n];return t}(a));return r.has(s)||(r.add(s),e.push({key:s,link:a})),e},[])}function $e(e){return{__html:e}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");"undefined"!==typeof window?window:"undefined"!==typeof globalThis&&globalThis;Symbol("SingleFetchRedirect");var Ke=new Set([100,101,204,205]);function Ye(e,t){let r="string"===typeof e?new URL(e,"undefined"===typeof window?"server://singlefetch/":window.location.origin):e;return"/"===r.pathname?r.pathname="_root.data":t&&"/"===q(r.pathname,t)?r.pathname="".concat(t.replace(/\/$/,""),"/_root.data"):r.pathname="".concat(r.pathname.replace(/\/$/,""),".data"),r}t.Component;function Xe(e){let{error:r,isOutsideRemixApp:n}=e;console.error(r);let a,s=t.createElement("script",{dangerouslySetInnerHTML:{__html:'\n        console.log(\n          "\ud83d\udcbf Hey developer \ud83d\udc4b. You can provide a way better UX than this when your app throws errors. Check out https://reactrouter.com/how-to/error-boundary for more information."\n        );\n      '}});if(J(r))return t.createElement(Je,{title:"Unhandled Thrown Response!"},t.createElement("h1",{style:{fontSize:"24px"}},r.status," ",r.statusText),s);if(r instanceof Error)0;else{let e=null==r?"Unknown Error":"object"===typeof r&&"toString"in r?r.toString():JSON.stringify(r);new Error(e)}return t.createElement(Je,{title:"Application Error!",isOutsideRemixApp:n},t.createElement("h1",{style:{fontSize:"24px"}},"Application Error"),t.createElement("pre",{style:{padding:"2rem",background:"hsla(10, 50%, 50%, 0.1)",color:"red",overflow:"auto"}},a.stack),s)}function Je(e){var r;let{title:n,renderScripts:a,isOutsideRemixApp:s,children:i}=e,{routeModules:o}=rt();return null!==o.root&&void 0!==r&&r.Layout&&!s?i:t.createElement("html",{lang:"en"},t.createElement("head",null,t.createElement("meta",{charSet:"utf-8"}),t.createElement("meta",{name:"viewport",content:"width=device-width,initial-scale=1,viewport-fit=cover"}),t.createElement("title",null,n)),t.createElement("body",null,t.createElement("main",{style:{fontFamily:"system-ui, sans-serif",padding:"2rem"}},i,a?t.createElement(ct,null):null)))}function Qe(e,t){return"lazy"===e.mode&&!0===t}function Ze(){let e=t.useContext(ee);return Be(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function et(){let e=t.useContext(te);return Be(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var tt=t.createContext(void 0);function rt(){let e=t.useContext(tt);return Be(e,"You must render this element inside a <HydratedRouter> element"),e}function nt(e,t){return r=>{e&&e(r),r.defaultPrevented||t(r)}}function at(e,t,r){if(r&&!lt)return[e[0]];if(t){let r=e.findIndex(e=>void 0!==t[e.route.id]);return e.slice(0,r+1)}return e}function st(e){let{page:r}=e,n=a(e,d),{router:s}=Ze(),i=t.useMemo(()=>_(s.routes,r,s.basename),[s.routes,r,s.basename]);return i?t.createElement(ot,c({page:r,matches:i},n)):null}function it(e){let{manifest:r,routeModules:n}=rt(),[a,s]=t.useState([]);return t.useEffect(()=>{let t=!1;return async function(e,t,r){let n=await Promise.all(e.map(async e=>{let n=t.routes[e.route.id];if(n){let e=await Ue(n,r);return e.links?e.links():[]}return[]}));return Ge(n.flat(1).filter(He).filter(e=>"stylesheet"===e.rel||"preload"===e.rel).map(e=>"stylesheet"===e.rel?c(c({},e),{},{rel:"prefetch",as:"style"}):c(c({},e),{},{rel:"prefetch"})))}(e,r,n).then(e=>{t||s(e)}),()=>{t=!0}},[e,r,n]),a}function ot(e){let{page:r,matches:n}=e,s=a(e,h),i=ue(),{manifest:o,routeModules:l}=rt(),{basename:u}=Ze(),{loaderData:d,matches:f}=et(),p=t.useMemo(()=>Ve(r,n,f,o,i,"data"),[r,n,f,o,i]),m=t.useMemo(()=>Ve(r,n,f,o,i,"assets"),[r,n,f,o,i]),g=t.useMemo(()=>{if(r===i.pathname+i.search+i.hash)return[];let e=new Set,t=!1;if(n.forEach(r=>{var n;let a=o.routes[r.route.id];a&&a.hasLoader&&(!p.some(e=>e.route.id===r.route.id)&&r.route.id in d&&null!==(n=l[r.route.id])&&void 0!==n&&n.shouldRevalidate||a.hasClientLoader?t=!0:e.add(r.route.id))}),0===e.size)return[];let a=Ye(r,u);return t&&e.size>0&&a.searchParams.set("_routes",n.filter(t=>e.has(t.route.id)).map(e=>e.route.id).join(",")),[a.pathname+a.search]},[u,d,i,o,p,n,r,l]),y=t.useMemo(()=>We(m,o),[m,o]),v=it(m);return t.createElement(t.Fragment,null,g.map(e=>t.createElement("link",c({key:e,rel:"prefetch",as:"fetch",href:e},s))),y.map(e=>t.createElement("link",c({key:e,rel:"modulepreload",href:e},s))),v.map(e=>{let{key:r,link:n}=e;return t.createElement("link",c({key:r},n))}))}tt.displayName="FrameworkContext";var lt=!1;function ct(e){let{manifest:r,serverHandoffString:n,isSpaMode:s,renderMeta:i,routeDiscovery:o,ssr:l}=rt(),{router:d,static:h,staticContext:f}=Ze(),{matches:p}=et(),m=Qe(o,l);i&&(i.didRenderScripts=!0);let g=at(p,null,s);t.useEffect(()=>{0},[]);let y=t.useMemo(()=>{var s;let i=f?"window.__reactRouterContext = ".concat(n,";").concat("window.__reactRouterContext.stream = new ReadableStream({start(controller){window.__reactRouterContext.streamController = controller;}}).pipeThrough(new TextEncoderStream());"):" ",o=h?"".concat(null!==r.hmr&&void 0!==s&&s.runtime?"import ".concat(JSON.stringify(r.hmr.runtime),";"):"").concat(m?"":"import ".concat(JSON.stringify(r.url)),";\n").concat(g.map((e,t)=>{let n="route".concat(t),a=r.routes[e.route.id];Be(a,"Route ".concat(e.route.id," not found in manifest"));let{clientActionModule:s,clientLoaderModule:i,clientMiddlewareModule:o,hydrateFallbackModule:l,module:c}=a,u=[...s?[{module:s,varName:"".concat(n,"_clientAction")}]:[],...i?[{module:i,varName:"".concat(n,"_clientLoader")}]:[],...o?[{module:o,varName:"".concat(n,"_clientMiddleware")}]:[],...l?[{module:l,varName:"".concat(n,"_HydrateFallback")}]:[],{module:c,varName:"".concat(n,"_main")}];return 1===u.length?"import * as ".concat(n," from ").concat(JSON.stringify(c),";"):[u.map(e=>"import * as ".concat(e.varName,' from "').concat(e.module,'";')).join("\n"),"const ".concat(n," = {").concat(u.map(e=>"...".concat(e.varName)).join(","),"};")].join("\n")}).join("\n"),"\n  ").concat(m?"window.__reactRouterManifest = ".concat(JSON.stringify(function(e,t){let{sri:r}=e,n=a(e,u),s=new Set(t.state.matches.map(e=>e.route.id)),i=t.state.location.pathname.split("/").filter(Boolean),o=["/"];for(i.pop();i.length>0;)o.push("/".concat(i.join("/"))),i.pop();o.forEach(e=>{let r=_(t.routes,e,t.basename);r&&r.forEach(e=>s.add(e.route.id))});let l=[...s].reduce((e,t)=>Object.assign(e,{[t]:n.routes[t]}),{});return c(c({},n),{},{routes:l,sri:!!r||void 0})}(r,d),null,2),";"):"","\n  window.__reactRouterRouteModules = {").concat(g.map((e,t)=>"".concat(JSON.stringify(e.route.id),":route").concat(t)).join(","),"};\n\nimport(").concat(JSON.stringify(r.entry.module),");"):" ";return t.createElement(t.Fragment,null,t.createElement("script",c(c({},e),{},{suppressHydrationWarning:!0,dangerouslySetInnerHTML:$e(i),type:void 0})),t.createElement("script",c(c({},e),{},{suppressHydrationWarning:!0,dangerouslySetInnerHTML:$e(o),type:"module",async:!0})))},[]),v=lt?[]:function(e){return[...new Set(e)]}(r.entry.imports.concat(We(g,r,{includeHydrateFallback:!0}))),x="object"===typeof r.sri?r.sri:{};return lt?null:t.createElement(t.Fragment,null,"object"===typeof r.sri?t.createElement("script",{"rr-importmap":"",type:"importmap",suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:JSON.stringify({integrity:x})}}):null,m?null:t.createElement("link",{rel:"modulepreload",href:r.url,crossOrigin:e.crossOrigin,integrity:x[r.url],suppressHydrationWarning:!0}),t.createElement("link",{rel:"modulepreload",href:r.entry.module,crossOrigin:e.crossOrigin,integrity:x[r.entry.module],suppressHydrationWarning:!0}),v.map(r=>t.createElement("link",{key:r,rel:"modulepreload",href:r,crossOrigin:e.crossOrigin,integrity:x[r],suppressHydrationWarning:!0})),y)}function ut(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return e=>{t.forEach(t=>{"function"===typeof t?t(e):null!=t&&(t.current=e)})}}var dt="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement;try{dt&&(window.__reactRouterVersion="7.6.2")}catch(Nt){}function ht(e){let{basename:r,children:n,window:a}=e,s=t.useRef();null==s.current&&(s.current=y({window:a,v5Compat:!0}));let i=s.current,[o,l]=t.useState({action:i.action,location:i.location}),c=t.useCallback(e=>{t.startTransition(()=>l(e))},[l]);return t.useLayoutEffect(()=>i.listen(c),[i,c]),t.createElement(Pe,{basename:r,children:n,location:o.location,navigationType:o.action,navigator:i})}var ft=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,pt=t.forwardRef(function(e,r){let n,{onClick:s,discover:i="render",prefetch:o="none",relative:l,reloadDocument:u,replace:d,state:h,target:p,to:m,preventScrollReset:g,viewTransition:y}=e,b=a(e,f),{basename:w}=t.useContext(se),N="string"===typeof m&&ft.test(m),k=!1;if("string"===typeof m&&N&&(n=m,dt))try{let e=new URL(window.location.href),t=m.startsWith("//")?new URL(e.protocol+m):new URL(m),r=q(t.pathname,w);t.origin===e.origin&&null!=r?m=r+t.search+t.hash:k=!0}catch(Nt){x(!1,'<Link to="'.concat(m,'"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.'))}let S=function(e){let{relative:r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};v(ce(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:a}=t.useContext(se),{hash:s,pathname:i,search:o}=pe(e,{relative:r}),l=i;return"/"!==n&&(l="/"===i?n:$([n,i])),a.createHref({pathname:l,search:o,hash:s})}(m,{relative:l}),[_,O,E]=function(e,r){let n=t.useContext(tt),[a,s]=t.useState(!1),[i,o]=t.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:u,onMouseLeave:d,onTouchStart:h}=r,f=t.useRef(null);t.useEffect(()=>{if("render"===e&&o(!0),"viewport"===e){let e=new IntersectionObserver(e=>{e.forEach(e=>{o(e.isIntersecting)})},{threshold:.5});return f.current&&e.observe(f.current),()=>{e.disconnect()}}},[e]),t.useEffect(()=>{if(a){let e=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(e)}}},[a]);let p=()=>{s(!0)},m=()=>{s(!1),o(!1)};return n?"intent"!==e?[i,f,{}]:[i,f,{onFocus:nt(l,p),onBlur:nt(c,m),onMouseEnter:nt(u,p),onMouseLeave:nt(d,m),onTouchStart:nt(h,p)}]:[!1,f,{}]}(o,b),C=function(e){let{target:r,replace:n,state:a,preventScrollReset:s,relative:i,viewTransition:o}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=fe(),c=ue(),u=pe(e,{relative:i});return t.useCallback(t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,r)){t.preventDefault();let r=void 0!==n?n:j(c)===j(u);l(e,{replace:r,state:a,preventScrollReset:s,relative:i,viewTransition:o})}},[c,l,u,n,a,r,e,s,i,o])}(m,{replace:d,state:h,target:p,preventScrollReset:g,relative:l,viewTransition:y});let P=t.createElement("a",c(c(c({},b),E),{},{href:n||S,onClick:k||u?s:function(e){s&&s(e),e.defaultPrevented||C(e)},ref:ut(r,O),target:p,"data-discover":N||"render"!==i?void 0:"true"}));return _&&!N?t.createElement(t.Fragment,null,P,t.createElement(st,{page:S})):P});pt.displayName="Link";var mt=t.forwardRef(function(e,r){let{"aria-current":n="page",caseSensitive:s=!1,className:i="",end:o=!1,style:l,to:u,viewTransition:d,children:h}=e,f=a(e,p),m=pe(u,{relative:f.relative}),g=ue(),y=t.useContext(te),{navigator:x,basename:b}=t.useContext(se),w=null!=y&&function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.useContext(re);v(null!=n,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=vt("useViewTransitionState"),s=pe(e,{relative:r.relative});if(!n.isTransitioning)return!1;let i=q(n.currentLocation.pathname,a)||n.currentLocation.pathname,o=q(n.nextLocation.pathname,a)||n.nextLocation.pathname;return null!=F(s.pathname,o)||null!=F(s.pathname,i)}(m)&&!0===d,j=x.encodeLocation?x.encodeLocation(m).pathname:m.pathname,N=g.pathname,k=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;s||(N=N.toLowerCase(),k=k?k.toLowerCase():null,j=j.toLowerCase()),k&&b&&(k=q(k,b)||k);const S="/"!==j&&j.endsWith("/")?j.length-1:j.length;let _,O=N===j||!o&&N.startsWith(j)&&"/"===N.charAt(S),E=null!=k&&(k===j||!o&&k.startsWith(j)&&"/"===k.charAt(j.length)),C={isActive:O,isPending:E,isTransitioning:w},P=O?n:void 0;_="function"===typeof i?i(C):[i,O?"active":null,E?"pending":null,w?"transitioning":null].filter(Boolean).join(" ");let A="function"===typeof l?l(C):l;return t.createElement(pt,c(c({},f),{},{"aria-current":P,className:_,ref:r,style:A,to:u,viewTransition:d}),"function"===typeof h?h(C):h)});mt.displayName="NavLink";var gt=t.forwardRef((e,r)=>{let{discover:n="render",fetcherKey:s,navigate:i,reloadDocument:o,replace:l,state:u,method:d=De,action:h,onSubmit:f,relative:p,preventScrollReset:g,viewTransition:y}=e,x=a(e,m),b=wt(),w=function(e){let{relative:r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{basename:n}=t.useContext(se),a=t.useContext(oe);v(a,"useFormAction must be used inside a RouteContext");let[s]=a.matches.slice(-1),i=c({},pe(e||".",{relative:r})),o=ue();if(null==e){i.search=o.search;let e=new URLSearchParams(i.search),t=e.getAll("index");if(t.some(e=>""===e)){e.delete("index"),t.filter(e=>e).forEach(t=>e.append("index",t));let r=e.toString();i.search=r?"?".concat(r):""}}e&&"."!==e||!s.route.index||(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index");"/"!==n&&(i.pathname="/"===i.pathname?n:$([n,i.pathname]));return j(i)}(h,{relative:p}),N="get"===d.toLowerCase()?"get":"post",k="string"===typeof h&&ft.test(h);return t.createElement("form",c(c({ref:r,method:N,action:w,onSubmit:o?f:e=>{if(f&&f(e),e.defaultPrevented)return;e.preventDefault();let t=e.nativeEvent.submitter,r=(null===t||void 0===t?void 0:t.getAttribute("formmethod"))||d;b(t||e.currentTarget,{fetcherKey:s,method:r,navigate:i,replace:l,state:u,relative:p,preventScrollReset:g,viewTransition:y})}},x),{},{"data-discover":k||"render"!==n?void 0:"true"}))});function yt(e){return"".concat(e," must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.")}function vt(e){let r=t.useContext(ee);return v(r,yt(e)),r}gt.displayName="Form";var xt=0,bt=()=>"__".concat(String(++xt),"__");function wt(){let{router:e}=vt("useSubmit"),{basename:r}=t.useContext(se),n=ke("useRouteId");return t.useCallback(async function(t){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{action:s,method:i,encType:o,formData:l,body:c}=Fe(t,r);if(!1===a.navigate){let t=a.fetcherKey||bt();await e.fetch(t,n,a.action||s,{preventScrollReset:a.preventScrollReset,formData:l,body:c,formMethod:a.method||i,formEncType:a.encType||o,flushSync:a.flushSync})}else await e.navigate(a.action||s,{preventScrollReset:a.preventScrollReset,formData:l,body:c,formMethod:a.method||i,formEncType:a.encType||o,replace:a.replace,state:a.state,fromRouteId:n,flushSync:a.flushSync,viewTransition:a.viewTransition})},[e,r,n])}function jt(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}let Nt={data:""},kt=e=>"object"==typeof window?((e?e.querySelector("#_goober"):window._goober)||Object.assign((e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:e||Nt,St=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,_t=/\/\*[^]*?\*\/|  +/g,Ot=/\n+/g,Et=(e,t)=>{let r="",n="",a="";for(let s in e){let i=e[s];"@"==s[0]?"i"==s[1]?r=s+" "+i+";":n+="f"==s[1]?Et(i,s):s+"{"+Et(i,"k"==s[1]?"":t)+"}":"object"==typeof i?n+=Et(i,t?t.replace(/([^,])+/g,e=>s.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,t=>/&/.test(t)?t.replace(/&/g,e):e?e+" "+t:t)):s):null!=i&&(s=/^--/.test(s)?s:s.replace(/[A-Z]/g,"-$&").toLowerCase(),a+=Et.p?Et.p(s,i):s+":"+i+";")}return r+(t&&a?t+"{"+a+"}":a)+n},Ct={},Pt=e=>{if("object"==typeof e){let t="";for(let r in e)t+=r+Pt(e[r]);return t}return e},At=(e,t,r,n,a)=>{let s=Pt(e),i=Ct[s]||(Ct[s]=(e=>{let t=0,r=11;for(;t<e.length;)r=101*r+e.charCodeAt(t++)>>>0;return"go"+r})(s));if(!Ct[i]){let t=s!==e?e:(e=>{let t,r,n=[{}];for(;t=St.exec(e.replace(_t,""));)t[4]?n.shift():t[3]?(r=t[3].replace(Ot," ").trim(),n.unshift(n[0][r]=n[0][r]||{})):n[0][t[1]]=t[2].replace(Ot," ").trim();return n[0]})(e);Ct[i]=Et(a?{["@keyframes "+i]:t}:t,r?"":"."+i)}let o=r&&Ct.g?Ct.g:null;return r&&(Ct.g=Ct[i]),((e,t,r,n)=>{n?t.data=t.data.replace(n,e):-1===t.data.indexOf(e)&&(t.data=r?e+t.data:t.data+e)})(Ct[i],t,n,o),i};function Tt(e){let t=this||{},r=e.call?e(t.p):e;return At(r.unshift?r.raw?((e,t,r)=>e.reduce((e,n,a)=>{let s=t[a];if(s&&s.call){let e=s(r),t=e&&e.props&&e.props.className||/^go/.test(e)&&e;s=t?"."+t:e&&"object"==typeof e?e.props?"":Et(e,""):!1===e?"":e}return e+n+(null==s?"":s)},""))(r,[].slice.call(arguments,1),t.p):r.reduce((e,r)=>Object.assign(e,r&&r.call?r(t.p):r),{}):r,kt(t.target),t.g,t.o,t.k)}Tt.bind({g:1});let Dt,Mt,It,Rt=Tt.bind({k:1});function Lt(e,t){let r=this||{};return function(){let n=arguments;function a(s,i){let o=Object.assign({},s),l=o.className||a.className;r.p=Object.assign({theme:Mt&&Mt()},o),r.o=/ *go\d+/.test(l),o.className=Tt.apply(r,n)+(l?" "+l:""),t&&(o.ref=i);let c=e;return e[0]&&(c=o.as||e,delete o.as),It&&c[0]&&It(o),Dt(c,o)}return t?t(a):a}}var zt,Ft,Bt,Ut,qt,Ht,Vt,Wt,Gt,$t,Kt,Yt,Xt,Jt,Qt,Zt,er=(e,t)=>(e=>"function"==typeof e)(e)?e(t):e,tr=(()=>{let e=0;return()=>(++e).toString()})(),rr=(()=>{let e;return()=>{if(void 0===e&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),nr=(e,t)=>{switch(t.type){case 0:return c(c({},e),{},{toasts:[t.toast,...e.toasts].slice(0,20)});case 1:return c(c({},e),{},{toasts:e.toasts.map(e=>e.id===t.toast.id?c(c({},e),t.toast):e)});case 2:let{toast:r}=t;return nr(e,{type:e.toasts.find(e=>e.id===r.id)?1:0,toast:r});case 3:let{toastId:n}=t;return c(c({},e),{},{toasts:e.toasts.map(e=>e.id===n||void 0===n?c(c({},e),{},{dismissed:!0,visible:!1}):e)});case 4:return void 0===t.toastId?c(c({},e),{},{toasts:[]}):c(c({},e),{},{toasts:e.toasts.filter(e=>e.id!==t.toastId)});case 5:return c(c({},e),{},{pausedAt:t.time});case 6:let a=t.time-(e.pausedAt||0);return c(c({},e),{},{pausedAt:void 0,toasts:e.toasts.map(e=>c(c({},e),{},{pauseDuration:e.pauseDuration+a}))})}},ar=[],sr={toasts:[],pausedAt:void 0},ir=e=>{sr=nr(sr,e),ar.forEach(e=>{e(sr)})},or={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},lr=e=>(t,r)=>{let n=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"blank",r=arguments.length>2?arguments[2]:void 0;return c(c({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0},r),{},{id:(null==r?void 0:r.id)||tr()})}(t,e,r);return ir({type:2,toast:n}),n.id},cr=(e,t)=>lr("blank")(e,t);cr.error=lr("error"),cr.success=lr("success"),cr.loading=lr("loading"),cr.custom=lr("custom"),cr.dismiss=e=>{ir({type:3,toastId:e})},cr.remove=e=>ir({type:4,toastId:e}),cr.promise=(e,t,r)=>{let n=cr.loading(t.loading,c(c({},r),null==r?void 0:r.loading));return"function"==typeof e&&(e=e()),e.then(e=>{let a=t.success?er(t.success,e):void 0;return a?cr.success(a,c(c({id:n},r),null==r?void 0:r.success)):cr.dismiss(n),e}).catch(e=>{let a=t.error?er(t.error,e):void 0;a?cr.error(a,c(c({id:n},r),null==r?void 0:r.error)):cr.dismiss(n)}),e};var ur=(e,t)=>{ir({type:1,toast:{id:e,height:t}})},dr=()=>{ir({type:5,time:Date.now()})},hr=new Map,fr=e=>{let{toasts:r,pausedAt:n}=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},[r,n]=(0,t.useState)(sr),a=(0,t.useRef)(sr);(0,t.useEffect)(()=>(a.current!==sr&&n(sr),ar.push(n),()=>{let e=ar.indexOf(n);e>-1&&ar.splice(e,1)}),[]);let s=r.toasts.map(t=>{var r,n,a;return c(c(c(c({},e),e[t.type]),t),{},{removeDelay:t.removeDelay||(null==(r=e[t.type])?void 0:r.removeDelay)||(null==e?void 0:e.removeDelay),duration:t.duration||(null==(n=e[t.type])?void 0:n.duration)||(null==e?void 0:e.duration)||or[t.type],style:c(c(c({},e.style),null==(a=e[t.type])?void 0:a.style),t.style)})});return c(c({},r),{},{toasts:s})}(e);(0,t.useEffect)(()=>{if(n)return;let e=Date.now(),t=r.map(t=>{if(t.duration===1/0)return;let r=(t.duration||0)+t.pauseDuration-(e-t.createdAt);if(!(r<0))return setTimeout(()=>cr.dismiss(t.id),r);t.visible&&cr.dismiss(t.id)});return()=>{t.forEach(e=>e&&clearTimeout(e))}},[r,n]);let a=(0,t.useCallback)(()=>{n&&ir({type:6,time:Date.now()})},[n]),s=(0,t.useCallback)((e,t)=>{let{reverseOrder:n=!1,gutter:a=8,defaultPosition:s}=t||{},i=r.filter(t=>(t.position||s)===(e.position||s)&&t.height),o=i.findIndex(t=>t.id===e.id),l=i.filter((e,t)=>t<o&&e.visible).length;return i.filter(e=>e.visible).slice(...n?[l+1]:[0,l]).reduce((e,t)=>e+(t.height||0)+a,0)},[r]);return(0,t.useEffect)(()=>{r.forEach(e=>{if(e.dismissed)!function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;if(hr.has(e))return;let r=setTimeout(()=>{hr.delete(e),ir({type:4,toastId:e})},t);hr.set(e,r)}(e.id,e.removeDelay);else{let t=hr.get(e.id);t&&(clearTimeout(t),hr.delete(e.id))}})},[r]),{toasts:r,handlers:{updateHeight:ur,startPause:dr,endPause:a,calculateOffset:s}}},pr=Rt(zt||(zt=jt(["\nfrom {\n  transform: scale(0) rotate(45deg);\n\topacity: 0;\n}\nto {\n transform: scale(1) rotate(45deg);\n  opacity: 1;\n}"]))),mr=Rt(Ft||(Ft=jt(["\nfrom {\n  transform: scale(0);\n  opacity: 0;\n}\nto {\n  transform: scale(1);\n  opacity: 1;\n}"]))),gr=Rt(Bt||(Bt=jt(["\nfrom {\n  transform: scale(0) rotate(90deg);\n\topacity: 0;\n}\nto {\n  transform: scale(1) rotate(90deg);\n\topacity: 1;\n}"]))),yr=Lt("div")(Ut||(Ut=jt(["\n  width: 20px;\n  opacity: 0;\n  height: 20px;\n  border-radius: 10px;\n  background: ",";\n  position: relative;\n  transform: rotate(45deg);\n\n  animation: "," 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)\n    forwards;\n  animation-delay: 100ms;\n\n  &:after,\n  &:before {\n    content: '';\n    animation: "," 0.15s ease-out forwards;\n    animation-delay: 150ms;\n    position: absolute;\n    border-radius: 3px;\n    opacity: 0;\n    background: ",";\n    bottom: 9px;\n    left: 4px;\n    height: 2px;\n    width: 12px;\n  }\n\n  &:before {\n    animation: "," 0.15s ease-out forwards;\n    animation-delay: 180ms;\n    transform: rotate(90deg);\n  }\n"])),e=>e.primary||"#ff4b4b",pr,mr,e=>e.secondary||"#fff",gr),vr=Rt(qt||(qt=jt(["\n  from {\n    transform: rotate(0deg);\n  }\n  to {\n    transform: rotate(360deg);\n  }\n"]))),xr=Lt("div")(Ht||(Ht=jt(["\n  width: 12px;\n  height: 12px;\n  box-sizing: border-box;\n  border: 2px solid;\n  border-radius: 100%;\n  border-color: ",";\n  border-right-color: ",";\n  animation: "," 1s linear infinite;\n"])),e=>e.secondary||"#e0e0e0",e=>e.primary||"#616161",vr),br=Rt(Vt||(Vt=jt(["\nfrom {\n  transform: scale(0) rotate(45deg);\n\topacity: 0;\n}\nto {\n  transform: scale(1) rotate(45deg);\n\topacity: 1;\n}"]))),wr=Rt(Wt||(Wt=jt(["\n0% {\n\theight: 0;\n\twidth: 0;\n\topacity: 0;\n}\n40% {\n  height: 0;\n\twidth: 6px;\n\topacity: 1;\n}\n100% {\n  opacity: 1;\n  height: 10px;\n}"]))),jr=Lt("div")(Gt||(Gt=jt(["\n  width: 20px;\n  opacity: 0;\n  height: 20px;\n  border-radius: 10px;\n  background: ",";\n  position: relative;\n  transform: rotate(45deg);\n\n  animation: "," 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)\n    forwards;\n  animation-delay: 100ms;\n  &:after {\n    content: '';\n    box-sizing: border-box;\n    animation: "," 0.2s ease-out forwards;\n    opacity: 0;\n    animation-delay: 200ms;\n    position: absolute;\n    border-right: 2px solid;\n    border-bottom: 2px solid;\n    border-color: ",";\n    bottom: 6px;\n    left: 6px;\n    height: 10px;\n    width: 6px;\n  }\n"])),e=>e.primary||"#61d345",br,wr,e=>e.secondary||"#fff"),Nr=Lt("div")($t||($t=jt(["\n  position: absolute;\n"]))),kr=Lt("div")(Kt||(Kt=jt(["\n  position: relative;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  min-width: 20px;\n  min-height: 20px;\n"]))),Sr=Rt(Yt||(Yt=jt(["\nfrom {\n  transform: scale(0.6);\n  opacity: 0.4;\n}\nto {\n  transform: scale(1);\n  opacity: 1;\n}"]))),_r=Lt("div")(Xt||(Xt=jt(["\n  position: relative;\n  transform: scale(0.6);\n  opacity: 0.4;\n  min-width: 20px;\n  animation: "," 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)\n    forwards;\n"])),Sr),Or=e=>{let{toast:r}=e,{icon:n,type:a,iconTheme:s}=r;return void 0!==n?"string"==typeof n?t.createElement(_r,null,n):n:"blank"===a?null:t.createElement(kr,null,t.createElement(xr,c({},s)),"loading"!==a&&t.createElement(Nr,null,"error"===a?t.createElement(yr,c({},s)):t.createElement(jr,c({},s))))},Er=e=>"\n0% {transform: translate3d(0,".concat(-200*e,"%,0) scale(.6); opacity:.5;}\n100% {transform: translate3d(0,0,0) scale(1); opacity:1;}\n"),Cr=e=>"\n0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}\n100% {transform: translate3d(0,".concat(-150*e,"%,-1px) scale(.6); opacity:0;}\n"),Pr=Lt("div")(Jt||(Jt=jt(["\n  display: flex;\n  align-items: center;\n  background: #fff;\n  color: #363636;\n  line-height: 1.3;\n  will-change: transform;\n  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);\n  max-width: 350px;\n  pointer-events: auto;\n  padding: 8px 10px;\n  border-radius: 8px;\n"]))),Ar=Lt("div")(Qt||(Qt=jt(["\n  display: flex;\n  justify-content: center;\n  margin: 4px 10px;\n  color: inherit;\n  flex: 1 1 auto;\n  white-space: pre-line;\n"]))),Tr=t.memo(e=>{let{toast:r,position:n,style:a,children:s}=e,i=r.height?((e,t)=>{let r=e.includes("top")?1:-1,[n,a]=rr()?["0%{opacity:0;} 100%{opacity:1;}","0%{opacity:1;} 100%{opacity:0;}"]:[Er(r),Cr(r)];return{animation:t?"".concat(Rt(n)," 0.35s cubic-bezier(.21,1.02,.73,1) forwards"):"".concat(Rt(a)," 0.4s forwards cubic-bezier(.06,.71,.55,1)")}})(r.position||n||"top-center",r.visible):{opacity:0},o=t.createElement(Or,{toast:r}),l=t.createElement(Ar,c({},r.ariaProps),er(r.message,r));return t.createElement(Pr,{className:r.className,style:c(c(c({},i),a),r.style)},"function"==typeof s?s({icon:o,message:l}):t.createElement(t.Fragment,null,o,l))});!function(e,t,r,n){Et.p=t,Dt=e,Mt=r,It=n}(t.createElement);var Dr=e=>{let{id:r,className:n,style:a,onHeightUpdate:s,children:i}=e,o=t.useCallback(e=>{if(e){let t=()=>{let t=e.getBoundingClientRect().height;s(r,t)};t(),new MutationObserver(t).observe(e,{subtree:!0,childList:!0,characterData:!0})}},[r,s]);return t.createElement("div",{ref:o,className:n,style:a},i)},Mr=Tt(Zt||(Zt=jt(["\n  z-index: 9999;\n  > * {\n    pointer-events: auto;\n  }\n"]))),Ir=e=>{let{reverseOrder:r,position:n="top-center",toastOptions:a,gutter:s,children:i,containerStyle:o,containerClassName:l}=e,{toasts:u,handlers:d}=fr(a);return t.createElement("div",{id:"_rht_toaster",style:c({position:"fixed",zIndex:9999,top:16,left:16,right:16,bottom:16,pointerEvents:"none"},o),className:l,onMouseEnter:d.startPause,onMouseLeave:d.endPause},u.map(e=>{let a=e.position||n,o=((e,t)=>{let r=e.includes("top"),n=r?{top:0}:{bottom:0},a=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return c(c({left:0,right:0,display:"flex",position:"absolute",transition:rr()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:"translateY(".concat(t*(r?1:-1),"px)")},n),a)})(a,d.calculateOffset(e,{reverseOrder:r,gutter:s,defaultPosition:n}));return t.createElement(Dr,{id:e.id,key:e.id,onHeightUpdate:d.updateHeight,className:e.visible?Mr:"",style:o},"custom"===e.type?er(e.message,e):i?i(e):t.createElement(Tr,{toast:e,position:a}))}))},Rr=cr;const Lr=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),zr=e=>{const t=(e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase()))(e);return t.charAt(0).toUpperCase()+t.slice(1)},Fr=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter((e,t,r)=>Boolean(e)&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim()};var Br={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Ur=["color","size","strokeWidth","absoluteStrokeWidth","className","children","iconNode"],qr=(0,t.forwardRef)((e,r)=>{let{color:n="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:l="",children:u,iconNode:d}=e,h=a(e,Ur);return(0,t.createElement)("svg",c(c(c({ref:r},Br),{},{width:s,height:s,stroke:n,strokeWidth:o?24*Number(i)/Number(s):i,className:Fr("lucide",l)},!u&&!(e=>{for(const t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0})(h)&&{"aria-hidden":"true"}),h),[...d.map(e=>{let[r,n]=e;return(0,t.createElement)(r,n)}),...Array.isArray(u)?u:[u]])}),Hr=["className"],Vr=(e,r)=>{const n=(0,t.forwardRef)((n,s)=>{let{className:i}=n,o=a(n,Hr);return(0,t.createElement)(qr,c({ref:s,iconNode:r,className:Fr("lucide-".concat(Lr(zr(e))),"lucide-".concat(e),i)},o))});return n.displayName=zr(e),n},Wr=Vr("building-2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]),Gr=Vr("shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);var $r=r(579);const Kr=["password"],Yr=(0,t.createContext)(),Xr=(e,t)=>{switch(t.type){case"LOGIN_START":return c(c({},e),{},{loading:!0,error:null});case"LOGIN_SUCCESS":return c(c({},e),{},{loading:!1,isAuthenticated:!0,user:t.payload.user,permissions:t.payload.permissions,selectedBranch:t.payload.selectedBranch||null,needsBranchSelection:t.payload.needsBranchSelection||!1,error:null});case"SET_BRANCH":return c(c({},e),{},{selectedBranch:t.payload,needsBranchSelection:!1,loading:!1});case"REQUIRE_BRANCH_SELECTION":return c(c({},e),{},{needsBranchSelection:!0,loading:!1});case"LOGIN_FAILURE":return c(c({},e),{},{loading:!1,isAuthenticated:!1,user:null,permissions:null,selectedBranch:null,needsBranchSelection:!1,error:t.payload});case"LOGOUT":return c(c({},e),{},{isAuthenticated:!1,user:null,permissions:null,selectedBranch:null,needsBranchSelection:!1,error:null,loading:!1});case"CLEAR_ERROR":return c(c({},e),{},{error:null});case"SET_LOADING":return c(c({},e),{},{loading:t.payload});default:return e}},Jr={isAuthenticated:!1,user:null,permissions:null,selectedBranch:null,needsBranchSelection:!1,loading:!0,error:null},Qr=[{id:1,email:"admin@hotelparaiso.com",password:"admin123",name:"Administrador",role:"admin",avatar:null,requiresBranchSelection:!0,permissions:{dashboard:{read:!0,write:!0},checkin:{read:!1,write:!1},reservations:{read:!1,write:!1},guests:{read:!0,write:!0},rooms:{read:!0,write:!0},supplies:{read:!0,write:!0},reports:{read:!0,write:!0},settings:{read:!0,write:!0}}},{id:2,email:"recepcion@hotelparaiso.com",password:"recepcion123",name:"Personal de Recepci\xf3n",role:"reception",avatar:null,requiresBranchSelection:!1,defaultBranch:{id:1,name:"Hotel Para\xedso - Centro",location:"San Isidro, Lima"},permissions:{dashboard:{read:!0,write:!1},checkin:{read:!0,write:!0},reservations:{read:!0,write:!0},guests:{read:!0,write:!0},rooms:{read:!0,write:!0},supplies:{read:!0,write:!1},reports:{read:!0,write:!1},settings:{read:!1,write:!1}}}],Zr=e=>{let{children:r}=e;const[n,s]=(0,t.useReducer)(Xr,Jr);(0,t.useEffect)(()=>{const e=setTimeout(()=>{try{const e=localStorage.getItem("hotel_user"),t=localStorage.getItem("hotel_permissions"),r=localStorage.getItem("hotel_selected_branch");if(e&&t){const n=JSON.parse(e),a=JSON.parse(t),i=r?JSON.parse(r):null,o="admin"===n.role&&!i;s({type:"LOGIN_SUCCESS",payload:{user:n,permissions:a,selectedBranch:i,needsBranchSelection:o}})}else s({type:"SET_LOADING",payload:!1})}catch(e){console.error("Error checking saved session:",e),localStorage.removeItem("hotel_user"),localStorage.removeItem("hotel_permissions"),localStorage.removeItem("hotel_selected_branch"),s({type:"SET_LOADING",payload:!1})}},100);return()=>clearTimeout(e)},[]);const i={isAuthenticated:n.isAuthenticated,user:n.user,permissions:n.permissions,selectedBranch:n.selectedBranch,needsBranchSelection:n.needsBranchSelection,loading:n.loading,error:n.error,login:async(e,t)=>{s({type:"LOGIN_START"});try{await new Promise(e=>setTimeout(e,1e3));const r=Qr.find(r=>r.email===e&&r.password===t);if(!r)throw new Error("Credenciales incorrectas");const{password:n}=r,i=a(r,Kr),{permissions:o}=r;if(localStorage.setItem("hotel_user",JSON.stringify(i)),localStorage.setItem("hotel_permissions",JSON.stringify(o)),r.requiresBranchSelection)s({type:"LOGIN_SUCCESS",payload:{user:i,permissions:o,needsBranchSelection:!0}});else{const e=r.defaultBranch;e&&localStorage.setItem("hotel_selected_branch",JSON.stringify(e)),s({type:"LOGIN_SUCCESS",payload:{user:i,permissions:o,selectedBranch:e,needsBranchSelection:!1}})}return{success:!0}}catch(r){return s({type:"LOGIN_FAILURE",payload:r.message}),{success:!1,error:r.message}}},selectBranch:async e=>{s({type:"SET_LOADING",payload:!0});try{return await new Promise(e=>setTimeout(e,1500)),localStorage.setItem("hotel_selected_branch",JSON.stringify(e)),s({type:"SET_BRANCH",payload:e}),{success:!0}}catch(t){return s({type:"SET_LOADING",payload:!1}),{success:!1,error:t.message}}},logout:()=>{localStorage.removeItem("hotel_user"),localStorage.removeItem("hotel_permissions"),localStorage.removeItem("hotel_selected_branch"),s({type:"LOGOUT"})},clearError:()=>{s({type:"CLEAR_ERROR"})},hasPermission:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"read";return!(!n.permissions||!n.permissions[e])&&!0===n.permissions[e][t]},hasRole:e=>{var t;return(null===(t=n.user)||void 0===t?void 0:t.role)===e},getAllowedRoutes:()=>{if(!n.permissions)return[];const e=[];return Object.keys(n.permissions).forEach(t=>{n.permissions[t].read&&e.push(t)}),e},isReady:()=>{var e;return!!n.isAuthenticated&&("admin"!==(null===(e=n.user)||void 0===e?void 0:e.role)||!n.needsBranchSelection&&n.selectedBranch)}};return(0,$r.jsx)(Yr.Provider,{value:i,children:r})},en=()=>{const e=(0,t.useContext)(Yr);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},tn=(0,t.createContext)(),rn=(e,t)=>{switch(t.type){case"SET_ARRIVALS":return c(c({},e),{},{arrivals:t.payload});case"SET_DEPARTURES":return c(c({},e),{},{departures:t.payload});case"UPDATE_ROOM_STATUS":return c(c({},e),{},{rooms:e.rooms.map(e=>e.number===t.payload.roomNumber?c(c({},e),{},{status:t.payload.status}):e)});default:return e}},nn=e=>{let{children:r}=e;const[n,a]=(0,t.useReducer)(rn,{arrivals:[],departures:[],rooms:[],notifications:[]});return(0,$r.jsx)(tn.Provider,{value:{state:n,dispatch:a},children:r})},an=Vr("hotel",[["path",{d:"M10 22v-6.57",key:"1wmca3"}],["path",{d:"M12 11h.01",key:"z322tv"}],["path",{d:"M12 7h.01",key:"1ivr5q"}],["path",{d:"M14 15.43V22",key:"1q2vjd"}],["path",{d:"M15 16a5 5 0 0 0-6 0",key:"o9wqvi"}],["path",{d:"M16 11h.01",key:"xkw8gn"}],["path",{d:"M16 7h.01",key:"1kdx03"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 7h.01",key:"1vti4s"}],["rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",key:"1uxh74"}]]),sn=Vr("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),on=Vr("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),ln=Vr("mail",[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]]),cn=Vr("lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),un=Vr("eye-off",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]),dn=Vr("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),hn=Vr("log-in",[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]]);var fn=r(8139),pn=r.n(fn);const mn=["children","variant","size","onClick","disabled","className","icon","loading","fullWidth"],gn=e=>{let{children:t,variant:r="primary",size:n="md",onClick:s,disabled:i=!1,className:o="",icon:l,loading:u=!1,fullWidth:d=!1}=e,h=a(e,mn);const f=pn()("font-semibold rounded-lg transition-all duration-200 flex items-center justify-center focus:outline-none focus:ring-2 focus:ring-offset-2",{primary:"bg-blue-600 hover:bg-blue-700 text-white focus:ring-blue-500",secondary:"bg-gray-600 hover:bg-gray-700 text-white focus:ring-gray-500",success:"bg-green-600 hover:bg-green-700 text-white focus:ring-green-500",danger:"bg-red-600 hover:bg-red-700 text-white focus:ring-red-500",warning:"bg-yellow-600 hover:bg-yellow-700 text-white focus:ring-yellow-500",outline:"border-2 border-blue-600 text-blue-600 hover:bg-blue-600 hover:text-white focus:ring-blue-500",ghost:"text-gray-600 hover:bg-gray-100 focus:ring-gray-500"}[r],{sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-sm",lg:"px-6 py-3 text-base",xl:"px-8 py-4 text-lg"}[n],{"opacity-50 cursor-not-allowed":i||u,"w-full":d},o);return(0,$r.jsxs)("button",c(c({onClick:s,disabled:i||u,className:f},h),{},{children:[u&&(0,$r.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-current",fill:"none",viewBox:"0 0 24 24",children:[(0,$r.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,$r.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),l&&!u&&(0,$r.jsx)(l,{size:"sm"===n?16:"lg"===n?24:"xl"===n?28:20,className:t?"mr-2":""}),t]}))},yn=()=>{const{login:e,loading:r,error:n}=en(),[a,s]=(0,t.useState)({email:"",password:""}),[i,o]=(0,t.useState)(!1),l=e=>{const{name:t,value:r}=e.target;s(e=>c(c({},e),{},{[t]:r}))},u=e=>{"admin"===e?s({email:"admin@hotelparaiso.com",password:"admin123"}):"reception"===e&&s({email:"recepcion@hotelparaiso.com",password:"recepcion123"})};return(0,$r.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50 flex items-center justify-center p-4",children:(0,$r.jsxs)("div",{className:"w-full max-w-md",children:[(0,$r.jsxs)("div",{className:"text-center mb-8",children:[(0,$r.jsx)("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-blue-600 rounded-2xl mb-4",children:(0,$r.jsx)(an,{className:"w-8 h-8 text-white"})}),(0,$r.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Hotel Para\xedso"}),(0,$r.jsx)("p",{className:"text-gray-600",children:"Sistema de Gesti\xf3n Hotelera"})]}),(0,$r.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 mb-6",children:[(0,$r.jsx)("button",{type:"button",onClick:()=>u("admin"),className:"p-4 border-2 border-gray-200 rounded-xl transition-all duration-200 text-left hover:shadow-md hover:border-gray-300",children:(0,$r.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,$r.jsx)("div",{className:"p-2 bg-blue-100 rounded-lg",children:(0,$r.jsx)(Gr,{className:"w-5 h-5 text-blue-600"})}),(0,$r.jsxs)("div",{children:[(0,$r.jsx)("h3",{className:"font-semibold text-gray-900",children:"Administrador"}),(0,$r.jsx)("p",{className:"text-xs text-gray-600",children:"Sin acceso a reservas"})]})]})}),(0,$r.jsx)("button",{type:"button",onClick:()=>u("reception"),className:"p-4 border-2 border-gray-200 rounded-xl transition-all duration-200 text-left hover:shadow-md hover:border-gray-300",children:(0,$r.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,$r.jsx)("div",{className:"p-2 bg-green-100 rounded-lg",children:(0,$r.jsx)(sn,{className:"w-5 h-5 text-green-600"})}),(0,$r.jsxs)("div",{children:[(0,$r.jsx)("h3",{className:"font-semibold text-gray-900",children:"Recepci\xf3n"}),(0,$r.jsx)("p",{className:"text-xs text-gray-600",children:"Acceso a reservas"})]})]})})]}),(0,$r.jsxs)("div",{className:"bg-white rounded-2xl shadow-xl border border-gray-100 p-8",children:[(0,$r.jsxs)("form",{onSubmit:async t=>{if(t.preventDefault(),!a.email||!a.password)return;(await e(a.email,a.password)).success&&console.log("Login exitoso")},className:"space-y-6",children:[n&&(0,$r.jsxs)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-center space-x-3",children:[(0,$r.jsx)(on,{className:"w-5 h-5 text-red-500 flex-shrink-0"}),(0,$r.jsx)("span",{className:"text-red-700 text-sm",children:n})]}),(0,$r.jsxs)("div",{children:[(0,$r.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Correo Electr\xf3nico"}),(0,$r.jsxs)("div",{className:"relative",children:[(0,$r.jsx)(ln,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:18}),(0,$r.jsx)("input",{id:"email",name:"email",type:"email",value:a.email,onChange:l,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors",placeholder:"tu@email.com",required:!0,disabled:r})]})]}),(0,$r.jsxs)("div",{children:[(0,$r.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Contrase\xf1a"}),(0,$r.jsxs)("div",{className:"relative",children:[(0,$r.jsx)(cn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:18}),(0,$r.jsx)("input",{id:"password",name:"password",type:i?"text":"password",value:a.password,onChange:l,className:"w-full pl-10 pr-12 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors",placeholder:"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022",required:!0,disabled:r}),(0,$r.jsx)("button",{type:"button",onClick:()=>o(!i),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 transition-colors",disabled:r,children:i?(0,$r.jsx)(un,{size:18}):(0,$r.jsx)(dn,{size:18})})]})]}),(0,$r.jsx)(gn,{type:"submit",variant:"primary",className:"w-full py-3",loading:r,icon:hn,disabled:!a.email||!a.password||r,children:r?"Iniciando sesi\xf3n...":"Iniciar Sesi\xf3n"})]}),(0,$r.jsxs)("div",{className:"mt-6 pt-6 border-t border-gray-200",children:[(0,$r.jsx)("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:"Credenciales de Demo:"}),(0,$r.jsxs)("div",{className:"space-y-2 text-xs text-gray-600",children:[(0,$r.jsxs)("div",{className:"flex justify-between",children:[(0,$r.jsx)("span",{className:"font-medium",children:"Administrador:"}),(0,$r.jsx)("span",{children:"admin@hotelparaiso.com / admin123"})]}),(0,$r.jsxs)("div",{className:"flex justify-between",children:[(0,$r.jsx)("span",{className:"font-medium",children:"Recepci\xf3n:"}),(0,$r.jsx)("span",{children:"recepcion@hotelparaiso.com / recepcion123"})]})]})]}),(0,$r.jsxs)("div",{className:"mt-4 p-3 bg-gray-50 rounded-lg",children:[(0,$r.jsx)("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Diferencias de Roles:"}),(0,$r.jsxs)("ul",{className:"text-xs text-gray-600 space-y-1",children:[(0,$r.jsxs)("li",{children:["\u2022 ",(0,$r.jsx)("strong",{children:"Administrador:"})," Sin acceso a Reservas, gesti\xf3n del sistema"]}),(0,$r.jsxs)("li",{children:["\u2022 ",(0,$r.jsx)("strong",{children:"Recepci\xf3n:"})," Acceso completo a Reservas y operaciones"]})]})]})]}),(0,$r.jsx)("div",{className:"text-center mt-6",children:(0,$r.jsx)("p",{className:"text-sm text-gray-500",children:"Demo del Sistema de Gesti\xf3n Hotelera"})})]})})},vn=Vr("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),xn=Vr("map-pin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),bn=Vr("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]]),wn=Vr("arrow-right",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),jn=e=>{let{onBranchSelect:r,loading:n}=e;const[a,s]=(0,t.useState)(null);return(0,$r.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50 flex items-center justify-center p-4",children:(0,$r.jsxs)("div",{className:"w-full max-w-4xl",children:[(0,$r.jsxs)("div",{className:"text-center mb-8",children:[(0,$r.jsx)("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-blue-600 rounded-2xl mb-4",children:(0,$r.jsx)(Wr,{className:"w-8 h-8 text-white"})}),(0,$r.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Selecciona tu Sucursal"}),(0,$r.jsx)("p",{className:"text-gray-600",children:"Como administrador, necesitas seleccionar la sucursal que vas a gestionar"})]}),(0,$r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[{id:1,name:"Hotel Para\xedso - Centro",location:"San Isidro, Lima",address:"Av. Conquistadores 123, San Isidro",capacity:"120 habitaciones",status:"active",description:"Sucursal principal en el distrito financiero"},{id:2,name:"Hotel Para\xedso - Miraflores",location:"Miraflores, Lima",address:"Av. Larco 456, Miraflores",capacity:"80 habitaciones",status:"active",description:"Vista al oc\xe9ano y zona tur\xedstica"},{id:3,name:"Hotel Para\xedso - Aeropuerto",location:"Callao, Lima",address:"Av. Faucett 789, Callao",capacity:"60 habitaciones",status:"active",description:"Conveniente para viajeros de negocios"},{id:4,name:"Hotel Para\xedso - Barranco",location:"Barranco, Lima",address:"Jr. Uni\xf3n 321, Barranco",capacity:"45 habitaciones",status:"maintenance",description:"Zona bohemia y cultural (en mantenimiento)"}].map(e=>{const t=(null===a||void 0===a?void 0:a.id)===e.id,r="active"!==e.status;return(0,$r.jsxs)("div",{onClick:()=>(e=>{"active"===e.status&&s(e)})(e),className:"\n                  relative bg-white rounded-2xl shadow-lg border-2 p-6 transition-all duration-200 cursor-pointer\n                  ".concat(t?"border-blue-500 shadow-xl scale-105":r?"border-gray-200 opacity-50 cursor-not-allowed":"border-gray-200 hover:border-gray-300 hover:shadow-xl","\n                "),children:[(0,$r.jsxs)("div",{className:"absolute top-4 right-4",children:[t&&(0,$r.jsx)("div",{className:"w-6 h-6 bg-blue-600 rounded-full flex items-center justify-center",children:(0,$r.jsx)(vn,{className:"w-4 h-4 text-white"})}),r&&(0,$r.jsx)("div",{className:"px-2 py-1 bg-orange-100 text-orange-800 text-xs rounded-full",children:"Mantenimiento"})]}),(0,$r.jsx)("div",{className:"w-12 h-12 rounded-lg flex items-center justify-center mb-4 ".concat(t?"bg-blue-100":"bg-gray-100"),children:(0,$r.jsx)(Wr,{className:"w-6 h-6 ".concat(t?"text-blue-600":r?"text-gray-400":"text-gray-600")})}),(0,$r.jsxs)("div",{className:"mb-4",children:[(0,$r.jsx)("h3",{className:"text-xl font-bold mb-2 ".concat(r?"text-gray-400":"text-gray-900"),children:e.name}),(0,$r.jsx)("p",{className:"text-sm mb-3 ".concat(r?"text-gray-400":"text-gray-600"),children:e.description})]}),(0,$r.jsxs)("div",{className:"space-y-2",children:[(0,$r.jsxs)("div",{className:"flex items-center text-sm text-gray-500",children:[(0,$r.jsx)(xn,{className:"w-4 h-4 mr-2"}),(0,$r.jsx)("span",{children:e.address})]}),(0,$r.jsxs)("div",{className:"flex items-center text-sm text-gray-500",children:[(0,$r.jsx)(bn,{className:"w-4 h-4 mr-2"}),(0,$r.jsx)("span",{children:e.capacity})]})]}),t&&(0,$r.jsx)("div",{className:"mt-4 pt-4 border-t border-blue-100",children:(0,$r.jsxs)("div",{className:"flex items-center text-blue-600 text-sm font-medium",children:[(0,$r.jsx)(vn,{className:"w-4 h-4 mr-2"}),"Sucursal seleccionada"]})})]},e.id)})}),(0,$r.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[(0,$r.jsx)(gn,{variant:"outline",onClick:()=>window.location.href="/login",disabled:n,children:"Volver al Login"}),(0,$r.jsx)(gn,{variant:"primary",onClick:()=>{a&&r&&r(a)},disabled:!a||n,loading:n,icon:wn,className:"px-8",children:n?"Configurando acceso...":"Continuar al Dashboard"})]}),(0,$r.jsx)("div",{className:"mt-8 text-center",children:(0,$r.jsx)("p",{className:"text-sm text-gray-500",children:"Esta selecci\xf3n determina qu\xe9 datos y configuraciones ver\xe1s en el sistema. Puedes cambiar de sucursal m\xe1s tarde desde el panel de administraci\xf3n."})})]})})},Nn=()=>{const{user:e,needsBranchSelection:t,selectBranch:r,loading:n,isAuthenticated:a}=en();if(!a)return(0,$r.jsx)(Ee,{to:"/login",replace:!0});if(!t)return(0,$r.jsx)(Ee,{to:"/",replace:!0});if("admin"!==(null===e||void 0===e?void 0:e.role))return(0,$r.jsx)(Ee,{to:"/",replace:!0});return(0,$r.jsx)(jn,{onBranchSelect:async e=>{const t=await r(e);t.success?console.log("Sucursal seleccionada:",e):console.error("Error al seleccionar sucursal:",t.error)},loading:n})},kn=Vr("user-check",[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]]),Sn=Vr("house",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]),_n=Vr("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]),On=Vr("bed",[["path",{d:"M2 4v16",key:"vw9hq8"}],["path",{d:"M2 8h18a2 2 0 0 1 2 2v10",key:"1dgv2r"}],["path",{d:"M2 17h20",key:"18nfp3"}],["path",{d:"M6 8v9",key:"1yriud"}]]),En=Vr("package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]),Cn=Vr("chart-column",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),Pn=Vr("settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),An=Vr("chevron-left",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),Tn=Vr("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),Dn=e=>{let{open:t,onToggle:r,isMobile:n}=e;const a=ue(),{hasPermission:s,user:i}=en(),o=[{path:"/checkin",icon:kn,label:"Check In",description:"Panel de recepci\xf3n",permission:"checkin"},{path:"/dashboard",icon:Sn,label:"Dashboard",description:"Vista general",permission:"dashboard"},{path:"/reservations",icon:_n,label:"Reservas",description:"Gesti\xf3n de reservas",permission:"reservations"},{path:"/guests",icon:bn,label:"Hu\xe9spedes",description:"Base de datos",permission:"guests"},{path:"/rooms",icon:On,label:"Habitaciones",description:"Gesti\xf3n de inventario",permission:"rooms"},{path:"/supplies",icon:En,label:"Insumos",description:"Inventario y consumo",permission:"supplies"},{path:"/reports",icon:Cn,label:"Informes",description:"An\xe1lisis y reportes",permission:"reports"}],l=[{path:"/settings",icon:Pn,label:"Configuraci\xf3n",description:"Ajustes del sistema",permission:"settings"}],c=e=>{let{item:i}=e;const o=i.icon,l=a.pathname===i.path;return s(i.permission)?(0,$r.jsxs)(mt,{to:i.path,className:"\n          flex items-center px-3 sm:px-4 py-2 sm:py-3 mx-2 rounded-lg transition-all duration-200\n          ".concat(l?"bg-blue-600 text-white shadow-lg":"text-gray-300 hover:bg-gray-800 hover:text-white","\n          ").concat(t||n?"":"justify-center","\n        "),onClick:()=>{n&&r()},children:[(0,$r.jsx)(o,{size:n?22:20,className:"flex-shrink-0"}),(t||n)&&(0,$r.jsxs)("div",{className:"ml-3 flex-1",children:[(0,$r.jsx)("span",{className:"font-medium ".concat(n?"text-base":"text-sm"),children:i.label}),!l&&!n&&(0,$r.jsx)("p",{className:"text-xs opacity-75 mt-0.5",children:i.description})]})]}):(0,$r.jsxs)("div",{className:"\n          flex items-center px-3 sm:px-4 py-2 sm:py-3 mx-2 rounded-lg transition-all duration-200\n          text-gray-400 cursor-not-allowed opacity-50\n          ".concat(t||n?"":"justify-center","\n        "),children:[(0,$r.jsx)(o,{size:n?22:20,className:"flex-shrink-0"}),(t||n)&&(0,$r.jsxs)("div",{className:"ml-3 flex-1 flex items-center justify-between",children:[(0,$r.jsxs)("div",{children:[(0,$r.jsx)("span",{className:"font-medium ".concat(n?"text-base":"text-sm"),children:i.label}),!n&&(0,$r.jsx)("p",{className:"text-xs opacity-75 mt-0.5",children:"Sin acceso"})]}),(0,$r.jsx)(cn,{size:12,className:"text-gray-400"})]})]})};return(0,$r.jsx)($r.Fragment,{children:(0,$r.jsxs)("div",{className:"\n        bg-gray-900 shadow-xl transition-all duration-300 flex flex-col\n        ".concat(n?"fixed inset-y-0 left-0 z-50 w-64 transform ".concat(t?"translate-x-0":"-translate-x-full"):"".concat(t?"w-64":"w-16"," relative"),"\n      "),children:[(0,$r.jsx)("div",{className:"p-3 sm:p-4 border-b border-gray-700 ".concat(n?"pt-2":""),children:(0,$r.jsxs)("div",{className:"flex items-center justify-between",children:[(t||n)&&(0,$r.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,$r.jsx)("div",{className:"p-2 bg-blue-600 rounded-lg",children:(0,$r.jsx)(an,{className:"".concat(n?"w-7 h-7":"w-6 h-6"," text-white")})}),(0,$r.jsxs)("div",{children:[(0,$r.jsx)("h1",{className:"text-white font-bold ".concat(n?"text-xl":"text-lg"),children:"Hotel Para\xedso"}),(0,$r.jsx)("p",{className:"text-gray-400 ".concat(n?"text-sm":"text-xs"),children:"Sistema de Gesti\xf3n"})]})]}),!t&&!n&&(0,$r.jsx)("div",{className:"p-2 bg-blue-600 rounded-lg mx-auto",children:(0,$r.jsx)(an,{className:"w-6 h-6 text-white"})})]})}),(t||n)&&i&&(0,$r.jsx)("div",{className:"px-4 py-3 border-b border-gray-700",children:(0,$r.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,$r.jsx)("div",{className:"w-8 h-8 bg-blue-600 rounded-full flex items-center justify-center",children:(0,$r.jsx)("span",{className:"text-white text-sm font-semibold",children:i.name.charAt(0).toUpperCase()})}),(0,$r.jsxs)("div",{className:"flex-1",children:[(0,$r.jsx)("p",{className:"text-white text-sm font-medium",children:i.name}),(0,$r.jsx)("p",{className:"text-gray-400 text-xs capitalize",children:"admin"===i.role?"Administrador":"Recepci\xf3n"})]})]})}),(0,$r.jsxs)("nav",{className:"flex-1 py-2 sm:py-4 overflow-y-auto",children:[(0,$r.jsx)("div",{className:"space-y-1",children:o.map(e=>(0,$r.jsx)(c,{item:e},e.path))}),(0,$r.jsx)("div",{className:"mx-4 my-4 border-t border-gray-700"}),(0,$r.jsx)("div",{className:"space-y-1",children:l.map(e=>(0,$r.jsx)(c,{item:e},e.path))})]}),!n&&(0,$r.jsx)("div",{className:"p-4 border-t border-gray-700",children:(0,$r.jsx)("button",{onClick:r,className:"w-full flex items-center justify-center p-2 text-gray-400 hover:text-white hover:bg-gray-800 rounded-lg transition-colors",children:t?(0,$r.jsx)(An,{size:20}):(0,$r.jsx)(Tn,{size:20})})})]})})},Mn=Vr("menu",[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]]),In=Vr("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]),Rn=Vr("bell",[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]]),Ln=Vr("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),zn=Vr("log-out",[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]]),Fn=e=>{var r;let{onMenuClick:n,sidebarOpen:a}=e;const[s,i]=(0,t.useState)(!1),[o,l]=(0,t.useState)(!1),{user:c,logout:u,hasRole:d}=en(),h=()=>d("admin")?(0,$r.jsx)(Gr,{size:16,className:"text-blue-600"}):(0,$r.jsx)(kn,{size:16,className:"text-green-600"}),f=()=>d("admin")?"Administrador":d("reception")?"Recepci\xf3n":"Usuario",p=()=>d("admin")?"text-blue-600":d("reception")?"text-green-600":"text-gray-600";return(0,$r.jsx)("header",{className:"bg-white shadow-sm border-b border-gray-200 px-6 py-4",children:(0,$r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,$r.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,$r.jsx)("button",{onClick:n,className:"p-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors lg:hidden",children:(0,$r.jsx)(Mn,{size:20})}),(0,$r.jsxs)("div",{className:"relative hidden md:block",children:[(0,$r.jsx)(In,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),(0,$r.jsx)("input",{type:"text",placeholder:"Buscar reservas, hu\xe9spedes...",className:"pl-10 pr-4 py-2 w-80 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),(0,$r.jsxs)("div",{className:"flex items-center space-x-4",children:[d("reception")&&(0,$r.jsxs)("div",{className:"hidden lg:flex items-center space-x-6 text-sm",children:[(0,$r.jsxs)("div",{className:"text-center",children:[(0,$r.jsx)("p",{className:"text-gray-500",children:"Ocupaci\xf3n"}),(0,$r.jsx)("p",{className:"font-semibold text-green-600",children:"78%"})]}),(0,$r.jsxs)("div",{className:"text-center",children:[(0,$r.jsx)("p",{className:"text-gray-500",children:"Check-ins Hoy"}),(0,$r.jsx)("p",{className:"font-semibold text-blue-600",children:"12"})]}),(0,$r.jsxs)("div",{className:"text-center",children:[(0,$r.jsx)("p",{className:"text-gray-500",children:"Ingresos Hoy"}),(0,$r.jsx)("p",{className:"font-semibold text-purple-600",children:"S/ 2,850"})]})]}),(0,$r.jsxs)("div",{className:"hidden sm:flex items-center space-x-2 px-3 py-1 bg-gray-50 rounded-lg",children:[h(),(0,$r.jsx)("span",{className:"text-sm font-medium ".concat(p()),children:f()})]}),(0,$r.jsxs)("div",{className:"relative",children:[(0,$r.jsxs)("button",{onClick:()=>l(!o),className:"p-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors relative",children:[(0,$r.jsx)(Rn,{size:20}),(0,$r.jsx)("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center",children:"3"})]}),o&&(0,$r.jsxs)("div",{className:"absolute right-0 mt-2 w-80 bg-white rounded-lg shadow-lg border border-gray-200 z-50",children:[(0,$r.jsx)("div",{className:"p-4 border-b border-gray-200",children:(0,$r.jsx)("h3",{className:"font-semibold text-gray-900",children:"Notificaciones"})}),(0,$r.jsx)("div",{className:"max-h-64 overflow-y-auto",children:[{id:1,message:"Nueva reserva de Juan P\xe9rez",time:"5 min",type:"info"},{id:2,message:"Check-out habitaci\xf3n 203",time:"15 min",type:"success"},{id:3,message:"Mantenimiento habitaci\xf3n 105",time:"1 hora",type:"warning"}].map(e=>(0,$r.jsxs)("div",{className:"p-4 border-b border-gray-100 hover:bg-gray-50",children:[(0,$r.jsx)("p",{className:"text-sm text-gray-900",children:e.message}),(0,$r.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:e.time})]},e.id))}),(0,$r.jsx)("div",{className:"p-4",children:(0,$r.jsx)("button",{className:"text-blue-600 text-sm font-medium hover:text-blue-700",children:"Ver todas las notificaciones"})})]})]}),(0,$r.jsxs)("div",{className:"relative",children:[(0,$r.jsxs)("button",{onClick:()=>i(!s),className:"flex items-center space-x-3 p-2 text-gray-700 hover:bg-gray-100 rounded-lg transition-colors",children:[(0,$r.jsx)("div",{className:"w-8 h-8 bg-blue-600 rounded-full flex items-center justify-center",children:(0,$r.jsx)("span",{className:"text-white font-medium text-sm",children:(null===c||void 0===c||null===(r=c.name)||void 0===r?void 0:r.charAt(0).toUpperCase())||"U"})}),(0,$r.jsxs)("div",{className:"hidden md:block text-left",children:[(0,$r.jsx)("p",{className:"text-sm font-medium",children:(null===c||void 0===c?void 0:c.name)||"Usuario"}),(0,$r.jsx)("p",{className:"text-xs text-gray-500",children:null===c||void 0===c?void 0:c.email})]}),(0,$r.jsx)(Ln,{size:16,className:"text-gray-500"})]}),s&&(0,$r.jsx)("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg border border-gray-200 z-50",children:(0,$r.jsxs)("div",{className:"py-2",children:[(0,$r.jsx)("div",{className:"px-4 py-2 border-b border-gray-100",children:(0,$r.jsxs)("div",{className:"flex items-center space-x-2",children:[h(),(0,$r.jsx)("span",{className:"text-sm font-medium ".concat(p()),children:f()})]})}),(0,$r.jsxs)("button",{className:"w-full px-4 py-2 text-left text-sm text-gray-700 hover:bg-gray-100 flex items-center",onClick:()=>i(!1),children:[(0,$r.jsx)(sn,{size:16,className:"mr-3"}),"Perfil"]}),(0,$r.jsxs)("button",{className:"w-full px-4 py-2 text-left text-sm text-gray-700 hover:bg-gray-100 flex items-center",onClick:()=>i(!1),children:[(0,$r.jsx)(Pn,{size:16,className:"mr-3"}),"Configuraci\xf3n"]}),(0,$r.jsx)("hr",{className:"my-2"}),(0,$r.jsxs)("button",{className:"w-full px-4 py-2 text-left text-sm text-red-600 hover:bg-gray-100 flex items-center",onClick:()=>{window.confirm("\xbfEst\xe1s seguro de que quieres cerrar sesi\xf3n?")&&u()},children:[(0,$r.jsx)(zn,{size:16,className:"mr-3"}),"Cerrar Sesi\xf3n"]})]})})]})]})]})})},Bn=e=>{let{children:r}=e;const[n,a]=(0,t.useState)(!0),[s,i]=(0,t.useState)(!1),{isAuthenticated:o,loading:l,isReady:c,selectedBranch:u,user:d}=en();if((0,t.useEffect)(()=>{const e=()=>{const e=window.innerWidth<1024;i(e),e&&a(!1)};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),l)return(0,$r.jsx)("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center",children:(0,$r.jsxs)("div",{className:"text-center",children:[(0,$r.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),(0,$r.jsx)("p",{className:"text-gray-600",children:"Verificando sesi\xf3n..."})]})});if(!o)return null;if(!c())return null;const h=()=>{a(!n)};return(0,$r.jsxs)("div",{className:"flex bg-gray-100 min-h-screen relative",children:[s&&n&&(0,$r.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40",onClick:h}),(0,$r.jsx)(Dn,{open:n,onToggle:h,isMobile:s}),(0,$r.jsxs)("div",{className:"flex-1 flex flex-col transition-all duration-300 ".concat("ml-0"),children:[(0,$r.jsx)(Fn,{onMenuClick:h,sidebarOpen:n}),"admin"===(null===d||void 0===d?void 0:d.role)&&u&&(0,$r.jsx)("div",{className:"bg-blue-50 border-b border-blue-200 px-4 sm:px-6 py-2",children:(0,$r.jsxs)("div",{className:"max-w-7xl mx-auto flex items-center justify-between",children:[(0,$r.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,$r.jsx)("div",{className:"w-2 h-2 bg-blue-600 rounded-full"}),(0,$r.jsx)("span",{className:"text-sm font-medium text-blue-900",children:"Administrando:"}),(0,$r.jsx)("span",{className:"text-sm text-blue-700",children:u.name}),(0,$r.jsx)("span",{className:"text-xs text-blue-600 bg-blue-100 px-2 py-1 rounded",children:u.location})]}),(0,$r.jsx)("button",{onClick:()=>window.location.href="/select-branch",className:"text-xs text-blue-600 hover:text-blue-800 transition-colors",children:"Cambiar sucursal"})]})}),(0,$r.jsx)("main",{className:"flex-1 p-4 sm:p-6 overflow-auto bg-gray-50",children:(0,$r.jsx)("div",{className:"max-w-7xl mx-auto",children:r})}),(0,$r.jsx)("footer",{className:"bg-white border-t border-gray-200 px-4 sm:px-6 py-3",children:(0,$r.jsx)("div",{className:"max-w-7xl mx-auto",children:(0,$r.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-center text-sm text-gray-500",children:[(0,$r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,$r.jsx)("span",{children:"\xa9 2024 Hotel Para\xedso - Sistema de Gesti\xf3n"}),u&&(0,$r.jsxs)($r.Fragment,{children:[(0,$r.jsx)("span",{children:"\u2022"}),(0,$r.jsx)("span",{children:u.name})]})]}),(0,$r.jsxs)("div",{className:"flex items-center space-x-4 mt-2 sm:mt-0",children:[(0,$r.jsx)("span",{children:"Versi\xf3n Demo"}),(0,$r.jsx)("span",{children:"\u2022"}),(0,$r.jsx)("span",{children:"Desarrollado para demostraci\xf3n"})]})]})})})]})]})},Un=Vr("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),qn=Vr("dollar-sign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]),Hn=Vr("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]]),Vn=Vr("clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);class Wn extends Error{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"FunctionsError",r=arguments.length>2?arguments[2]:void 0;super(e),this.name=t,this.context=r}}class Gn extends Wn{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class $n extends Wn{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Kn extends Wn{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Yn;!function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"}(Yn||(Yn={}));var Xn=function(e,t,r,n){return new(r||(r=Promise))(function(a,s){function i(e){try{l(n.next(e))}catch(Nt){s(Nt)}}function o(e){try{l(n.throw(e))}catch(Nt){s(Nt)}}function l(e){e.done?a(e.value):function(e){return e instanceof r?e:new r(function(t){t(e)})}(e.value).then(i,o)}l((n=n.apply(e,t||[])).next())})};class Jn{constructor(e){let{headers:t={},customFetch:n,region:a=Yn.Any}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.url=e,this.headers=t,this.region=a,this.fetch=(e=>{let t;return t=e||("undefined"===typeof fetch?function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Promise.resolve().then(r.bind(r,4630)).then(e=>{let{default:r}=e;return r(...t)})}:fetch),function(){return t(...arguments)}})(n)}setAuth(e){this.headers.Authorization="Bearer ".concat(e)}invoke(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var r;return Xn(this,void 0,void 0,function*(){try{const{headers:n,method:a,body:s}=t;let i={},{region:o}=t;o||(o=this.region);const l=new URL("".concat(this.url,"/").concat(e));let c;o&&"any"!==o&&(i["x-region"]=o,l.searchParams.set("forceFunctionRegion",o)),s&&(n&&!Object.prototype.hasOwnProperty.call(n,"Content-Type")||!n)&&("undefined"!==typeof Blob&&s instanceof Blob||s instanceof ArrayBuffer?(i["Content-Type"]="application/octet-stream",c=s):"string"===typeof s?(i["Content-Type"]="text/plain",c=s):"undefined"!==typeof FormData&&s instanceof FormData?c=s:(i["Content-Type"]="application/json",c=JSON.stringify(s)));const u=yield this.fetch(l.toString(),{method:a||"POST",headers:Object.assign(Object.assign(Object.assign({},i),this.headers),n),body:c}).catch(e=>{throw new Gn(e)}),d=u.headers.get("x-relay-error");if(d&&"true"===d)throw new $n(u);if(!u.ok)throw new Kn(u);let h,f=(null!==(r=u.headers.get("Content-Type"))&&void 0!==r?r:"text/plain").split(";")[0].trim();return h="application/json"===f?yield u.json():"application/octet-stream"===f?yield u.blob():"text/event-stream"===f?u:"multipart/form-data"===f?yield u.formData():yield u.text(),{data:h,error:null,response:u}}catch(n){return{data:null,error:n,response:n instanceof Kn||n instanceof $n?n.context:void 0}}})}}var Qn=r(7980);const{PostgrestClient:Zn,PostgrestQueryBuilder:ea,PostgrestFilterBuilder:ta,PostgrestTransformBuilder:ra,PostgrestBuilder:na,PostgrestError:aa}=Qn;const sa=function(){if("undefined"!==typeof WebSocket)return WebSocket;if("undefined"!==typeof global.WebSocket)return global.WebSocket;if("undefined"!==typeof window.WebSocket)return window.WebSocket;if("undefined"!==typeof self.WebSocket)return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}(),ia="realtime-js/".concat("2.11.15");var oa,la,ca,ua,da,ha;!function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"}(oa||(oa={})),function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"}(la||(la={})),function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"}(ca||(ca={})),function(e){e.websocket="websocket"}(ua||(ua={})),function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"}(da||(da={}));class fa{constructor(){this.HEADER_LENGTH=1}decode(e,t){return e.constructor===ArrayBuffer?t(this._binaryDecode(e)):t("string"===typeof e?JSON.parse(e):{})}_binaryDecode(e){const t=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,t,r)}_decodeBroadcast(e,t,r){const n=t.getUint8(1),a=t.getUint8(2);let s=this.HEADER_LENGTH+2;const i=r.decode(e.slice(s,s+n));s+=n;const o=r.decode(e.slice(s,s+a));s+=a;return{ref:null,topic:i,event:o,payload:JSON.parse(r.decode(e.slice(s,e.byteLength)))}}}class pa{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}!function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"}(ha||(ha={}));const ma=function(e,t){var r;const n=null!==(r=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).skipTypes)&&void 0!==r?r:[];return Object.keys(t).reduce((r,a)=>(r[a]=ga(a,e,t,n),r),{})},ga=(e,t,r,n)=>{const a=t.find(t=>t.name===e),s=null===a||void 0===a?void 0:a.type,i=r[e];return s&&!n.includes(s)?ya(s,i):va(i)},ya=(e,t)=>{if("_"===e.charAt(0)){const r=e.slice(1,e.length);return ja(t,r)}switch(e){case ha.bool:return xa(t);case ha.float4:case ha.float8:case ha.int2:case ha.int4:case ha.int8:case ha.numeric:case ha.oid:return ba(t);case ha.json:case ha.jsonb:return wa(t);case ha.timestamp:return Na(t);case ha.abstime:case ha.date:case ha.daterange:case ha.int4range:case ha.int8range:case ha.money:case ha.reltime:case ha.text:case ha.time:case ha.timestamptz:case ha.timetz:case ha.tsrange:case ha.tstzrange:default:return va(t)}},va=e=>e,xa=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},ba=e=>{if("string"===typeof e){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},wa=e=>{if("string"===typeof e)try{return JSON.parse(e)}catch(t){return console.log("JSON parse error: ".concat(t)),e}return e},ja=(e,t)=>{if("string"!==typeof e)return e;const r=e.length-1,n=e[r];if("{"===e[0]&&"}"===n){let n;const a=e.slice(1,r);try{n=JSON.parse("["+a+"]")}catch(jr){n=a?a.split(","):[]}return n.map(e=>ya(t,e))}return e},Na=e=>"string"===typeof e?e.replace(" ","T"):e,ka=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class Sa{constructor(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e4;this.channel=e,this.event=t,this.payload=r,this.timeout=n,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var r;return this._hasReceived(e)&&t(null===(r=this.receivedResp)||void 0===r?void 0:r.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);this.channel._on(this.refEvent,{},e=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=e,this._matchReceive(e)}),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive(e){let{status:t,response:r}=e;this.recHooks.filter(e=>e.status===t).forEach(e=>e.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var _a,Oa,Ea,Ca;!function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"}(_a||(_a={}));class Pa{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(null===t||void 0===t?void 0:t.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},e=>{const{onJoin:t,onLeave:r,onSync:n}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Pa.syncState(this.state,e,t,r),this.pendingDiffs.forEach(e=>{this.state=Pa.syncDiff(this.state,e,t,r)}),this.pendingDiffs=[],n()}),this.channel._on(r.diff,{},e=>{const{onJoin:t,onLeave:r,onSync:n}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(e):(this.state=Pa.syncDiff(this.state,e,t,r),n())}),this.onJoin((e,t,r)=>{this.channel._trigger("presence",{event:"join",key:e,currentPresences:t,newPresences:r})}),this.onLeave((e,t,r)=>{this.channel._trigger("presence",{event:"leave",key:e,currentPresences:t,leftPresences:r})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,t,r,n){const a=this.cloneDeep(e),s=this.transformState(t),i={},o={};return this.map(a,(e,t)=>{s[e]||(o[e]=t)}),this.map(s,(e,t)=>{const r=a[e];if(r){const n=t.map(e=>e.presence_ref),a=r.map(e=>e.presence_ref),s=t.filter(e=>a.indexOf(e.presence_ref)<0),l=r.filter(e=>n.indexOf(e.presence_ref)<0);s.length>0&&(i[e]=s),l.length>0&&(o[e]=l)}else i[e]=t}),this.syncDiff(a,{joins:i,leaves:o},r,n)}static syncDiff(e,t,r,n){const{joins:a,leaves:s}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return r||(r=()=>{}),n||(n=()=>{}),this.map(a,(t,n)=>{var a;const s=null!==(a=e[t])&&void 0!==a?a:[];if(e[t]=this.cloneDeep(n),s.length>0){const r=e[t].map(e=>e.presence_ref),n=s.filter(e=>r.indexOf(e.presence_ref)<0);e[t].unshift(...n)}r(t,s,n)}),this.map(s,(t,r)=>{let a=e[t];if(!a)return;const s=r.map(e=>e.presence_ref);a=a.filter(e=>s.indexOf(e.presence_ref)<0),e[t]=a,n(t,a,r),0===a.length&&delete e[t]}),e}static map(e,t){return Object.getOwnPropertyNames(e).map(r=>t(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((t,r)=>{const n=e[r];return t[r]="metas"in n?n.metas.map(e=>(e.presence_ref=e.phx_ref,delete e.phx_ref,delete e.phx_ref_prev,e)):n,t},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}!function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"}(Oa||(Oa={})),function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"}(Ea||(Ea={})),function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"}(Ca||(Ca={}));class Aa{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{config:{}},r=arguments.length>2?arguments[2]:void 0;this.topic=e,this.params=t,this.socket=r,this.bindings={},this.state=la.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new Sa(this,ca.join,this.params,this.timeout),this.rejoinTimer=new pa(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=la.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(e=>e.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel","close ".concat(this.topic," ").concat(this._joinRef())),this.state=la.closed,this.socket._remove(this)}),this._onError(e=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel","error ".concat(this.topic),e),this.state=la.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel","timeout ".concat(this.topic),this.joinPush.timeout),this.state=la.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ca.reply,{},(e,t)=>{this._trigger(this._replyEventName(t),e)}),this.presence=new Pa(this),this.broadcastEndpointURL=ka(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.timeout;var r,n;if(this.socket.isConnected()||this.socket.connect(),this.state==la.closed){const{config:{broadcast:a,presence:s,private:i}}=this.params;this._onError(t=>null===e||void 0===e?void 0:e(Ca.CHANNEL_ERROR,t)),this._onClose(()=>null===e||void 0===e?void 0:e(Ca.CLOSED));const o={},l={broadcast:a,presence:s,postgres_changes:null!==(n=null===(r=this.bindings.postgres_changes)||void 0===r?void 0:r.map(e=>e.filter))&&void 0!==n?n:[],private:i};this.socket.accessTokenValue&&(o.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:l},o)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",async t=>{let{postgres_changes:r}=t;var n;if(this.socket.setAuth(),void 0!==r){const t=this.bindings.postgres_changes,a=null!==(n=null===t||void 0===t?void 0:t.length)&&void 0!==n?n:0,s=[];for(let n=0;n<a;n++){const a=t[n],{filter:{event:i,schema:o,table:l,filter:c}}=a,u=r&&r[n];if(!u||u.event!==i||u.schema!==o||u.table!==l||u.filter!==c)return this.unsubscribe(),this.state=la.errored,void(null===e||void 0===e||e(Ca.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes")));s.push(Object.assign(Object.assign({},a),{id:u.id}))}return this.bindings.postgres_changes=s,void(e&&e(Ca.SUBSCRIBED))}null===e||void 0===e||e(Ca.SUBSCRIBED)}).receive("error",t=>{this.state=la.errored,null===e||void 0===e||e(Ca.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(t).join(", ")||"error")))}).receive("timeout",()=>{null===e||void 0===e||e(Ca.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return await this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)}async untrack(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return await this.send({type:"presence",event:"untrack"},e)}on(e,t,r){return this._on(e,t,r)}async send(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var r,n;if(this._canPush()||"broadcast"!==e.type)return new Promise(r=>{var n,a,s;const i=this._push(e.type,e,t.timeout||this.timeout);"broadcast"!==e.type||(null===(s=null===(a=null===(n=this.params)||void 0===n?void 0:n.config)||void 0===a?void 0:a.broadcast)||void 0===s?void 0:s.ack)||r("ok"),i.receive("ok",()=>r("ok")),i.receive("error",()=>r("error")),i.receive("timeout",()=>r("timed out"))});{const{event:s,payload:i}=e,o={method:"POST",headers:{Authorization:this.socket.accessTokenValue?"Bearer ".concat(this.socket.accessTokenValue):"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:i,private:this.private}]})};try{const e=await this._fetchWithTimeout(this.broadcastEndpointURL,o,null!==(r=t.timeout)&&void 0!==r?r:this.timeout);return await(null===(n=e.body)||void 0===n?void 0:n.cancel()),e.ok?"ok":"error"}catch(a){return"AbortError"===a.name?"timed out":"error"}}}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.timeout;this.state=la.leaving;const t=()=>{this.socket.log("channel","leave ".concat(this.topic)),this._trigger(ca.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(n=>{r=new Sa(this,ca.leave,{},e),r.receive("ok",()=>{t(),n("ok")}).receive("timeout",()=>{t(),n("timed out")}).receive("error",()=>{n("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{null===r||void 0===r||r.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(e,t,r){const n=new AbortController,a=setTimeout(()=>n.abort(),r),s=await this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:n.signal}));return clearTimeout(a),s}_push(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.timeout;if(!this.joinedOnce)throw"tried to push '".concat(e,"' to '").concat(this.topic,"' before joining. Use channel.subscribe() before pushing events");let n=new Sa(this,e,t,r);return this._canPush()?n.send():(n.startTimeout(),this.pushBuffer.push(n)),n}_onMessage(e,t,r){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,r){var n,a;const s=e.toLocaleLowerCase(),{close:i,error:o,leave:l,join:c}=ca;if(r&&[i,o,l,c].indexOf(s)>=0&&r!==this._joinRef())return;let u=this._onMessage(s,t,r);if(t&&!u)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?null===(n=this.bindings.postgres_changes)||void 0===n||n.filter(e=>{var t,r,n;return"*"===(null===(t=e.filter)||void 0===t?void 0:t.event)||(null===(n=null===(r=e.filter)||void 0===r?void 0:r.event)||void 0===n?void 0:n.toLocaleLowerCase())===s}).map(e=>e.callback(u,r)):null===(a=this.bindings[s])||void 0===a||a.filter(e=>{var r,n,a,i,o,l;if(["broadcast","presence","postgres_changes"].includes(s)){if("id"in e){const s=e.id,i=null===(r=e.filter)||void 0===r?void 0:r.event;return s&&(null===(n=t.ids)||void 0===n?void 0:n.includes(s))&&("*"===i||(null===i||void 0===i?void 0:i.toLocaleLowerCase())===(null===(a=t.data)||void 0===a?void 0:a.type.toLocaleLowerCase()))}{const r=null===(o=null===(i=null===e||void 0===e?void 0:e.filter)||void 0===i?void 0:i.event)||void 0===o?void 0:o.toLocaleLowerCase();return"*"===r||r===(null===(l=null===t||void 0===t?void 0:t.event)||void 0===l?void 0:l.toLocaleLowerCase())}}return e.type.toLocaleLowerCase()===s}).map(e=>{if("object"===typeof u&&"ids"in u){const e=u.data,{schema:t,table:r,commit_timestamp:n,type:a,errors:s}=e,i={schema:t,table:r,commit_timestamp:n,eventType:a,new:{},old:{},errors:s};u=Object.assign(Object.assign({},i),this._getPayloadRecords(e))}e.callback(u,r)})}_isClosed(){return this.state===la.closed}_isJoined(){return this.state===la.joined}_isJoining(){return this.state===la.joining}_isLeaving(){return this.state===la.leaving}_replyEventName(e){return"chan_reply_".concat(e)}_on(e,t,r){const n=e.toLocaleLowerCase(),a={type:n,filter:t,callback:r};return this.bindings[n]?this.bindings[n].push(a):this.bindings[n]=[a],this}_off(e,t){const r=e.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(e=>{var n;return!((null===(n=e.type)||void 0===n?void 0:n.toLocaleLowerCase())===r&&Aa.isEqual(e.filter,t))}),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(ca.close,{},e)}_onError(e){this._on(ca.error,{},t=>e(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.timeout;this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=la.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const t={new:{},old:{}};return"INSERT"!==e.type&&"UPDATE"!==e.type||(t.new=ma(e.columns,e.record)),"UPDATE"!==e.type&&"DELETE"!==e.type||(t.old=ma(e.columns,e.old_record)),t}}const Ta=()=>{};class Da{constructor(e,t){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=1e4,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Ta,this.ref=0,this.logger=Ta,this.conn=null,this.sendBuffer=[],this.serializer=new fa,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=e=>{let t;return t=e||("undefined"===typeof fetch?function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Promise.resolve().then(r.bind(r,4630)).then(e=>{let{default:r}=e;return r(...t)})}:fetch),function(){return t(...arguments)}},this.endPoint="".concat(e,"/").concat(ua.websocket),this.httpEndpoint=ka(e),(null===t||void 0===t?void 0:t.transport)?this.transport=t.transport:this.transport=null,(null===t||void 0===t?void 0:t.params)&&(this.params=t.params),(null===t||void 0===t?void 0:t.timeout)&&(this.timeout=t.timeout),(null===t||void 0===t?void 0:t.logger)&&(this.logger=t.logger),((null===t||void 0===t?void 0:t.logLevel)||(null===t||void 0===t?void 0:t.log_level))&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),(null===t||void 0===t?void 0:t.heartbeatIntervalMs)&&(this.heartbeatIntervalMs=t.heartbeatIntervalMs);const a=null===(n=null===t||void 0===t?void 0:t.params)||void 0===n?void 0:n.apikey;if(a&&(this.accessTokenValue=a,this.apiKey=a),this.reconnectAfterMs=(null===t||void 0===t?void 0:t.reconnectAfterMs)?t.reconnectAfterMs:e=>[1e3,2e3,5e3,1e4][e-1]||1e4,this.encode=(null===t||void 0===t?void 0:t.encode)?t.encode:(e,t)=>t(JSON.stringify(e)),this.decode=(null===t||void 0===t?void 0:t.decode)?t.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new pa(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(null===t||void 0===t?void 0:t.fetch),null===t||void 0===t?void 0:t.worker){if("undefined"!==typeof window&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(null===t||void 0===t?void 0:t.worker)||!1,this.workerUrl=null===t||void 0===t?void 0:t.workerUrl}this.accessToken=(null===t||void 0===t?void 0:t.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=sa),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:"1.0.0"}))}disconnect(e,t){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,null!==t&&void 0!==t?t:""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(e=>e.teardown()))}getChannels(){return this.channels}async removeChannel(e){const t=await e.unsubscribe();return 0===this.channels.length&&this.disconnect(),t}async removeAllChannels(){const e=await Promise.all(this.channels.map(e=>e.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,t,r){this.logger(e,t,r)}connectionState(){switch(this.conn&&this.conn.readyState){case oa.connecting:return da.Connecting;case oa.open:return da.Open;case oa.closing:return da.Closing;default:return da.Closed}}isConnected(){return this.connectionState()===da.Open}channel(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{config:{}};const r="realtime:".concat(e),n=this.getChannels().find(e=>e.topic===r);if(n)return n;{const r=new Aa("realtime:".concat(e),t,this);return this.channels.push(r),r}}push(e){const{topic:t,event:r,payload:n,ref:a}=e,s=()=>{this.encode(e,e=>{var t;null===(t=this.conn)||void 0===t||t.send(e)})};this.log("push","".concat(t," ").concat(r," (").concat(a,")"),n),this.isConnected()?s():this.sendBuffer.push(s)}async setAuth(){let e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:null)||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=e&&(this.accessTokenValue=e,this.channels.forEach(t=>{const r={access_token:e,version:ia};e&&t.updateJoinPayload(r),t.joinedOnce&&t._isJoined()&&t._push(ca.access_token,{access_token:e})}))}async sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef)return this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),void(null===(e=this.conn)||void 0===e||e.close(1e3,"hearbeat timeout"));this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}else this.heartbeatCallback("disconnected")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find(t=>t.topic===e&&(t._isJoined()||t._isJoining()));t&&(this.log("transport",'leaving duplicate topic "'.concat(e,'"')),t.unsubscribe())}_remove(e){this.channels=this.channels.filter(t=>t.topic!==e.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,e=>{let{topic:t,event:r,payload:n,ref:a}=e;"phoenix"===t&&"phx_reply"===r&&this.heartbeatCallback("ok"==e.payload.status?"ok":"error"),a&&a===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive","".concat(n.status||""," ").concat(t," ").concat(r," ").concat(a&&"("+a+")"||""),n),Array.from(this.channels).filter(e=>e._isMember(t)).forEach(e=>e._trigger(r,n,a)),this.stateChangeCallbacks.message.forEach(t=>t(e))})}_onConnOpen(){this.log("transport","connected to ".concat(this.endpointURL())),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(e=>e())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker","starting worker for from ".concat(this.workerUrl)):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=e=>{this.log("worker","worker error",e.message),this.workerRef.terminate()},this.workerRef.onmessage=e=>{"keepAlive"===e.data.event&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(t=>t(e))}_onConnError(e){this.log("transport","".concat(e)),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(t=>t(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(ca.error))}_appendParams(e,t){if(0===Object.keys(t).length)return e;const r=e.match(/\?/)?"&":"?",n=new URLSearchParams(t);return"".concat(e).concat(r).concat(n)}_workerObjectUrl(e){let t;if(e)t=e;else{const e=new Blob(['\n  addEventListener("message", (e) => {\n    if (e.data.event === "start") {\n      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);\n    }\n  });'],{type:"application/javascript"});t=URL.createObjectURL(e)}return t}}class Ma extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Ia(e){return"object"===typeof e&&null!==e&&"__isStorageError"in e}class Ra extends Ma{constructor(e,t){super(e),this.name="StorageApiError",this.status=t}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class La extends Ma{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}}var za=function(e,t,r,n){return new(r||(r=Promise))(function(a,s){function i(e){try{l(n.next(e))}catch(Nt){s(Nt)}}function o(e){try{l(n.throw(e))}catch(Nt){s(Nt)}}function l(e){e.done?a(e.value):function(e){return e instanceof r?e:new r(function(t){t(e)})}(e.value).then(i,o)}l((n=n.apply(e,t||[])).next())})};const Fa=e=>{let t;return t=e||("undefined"===typeof fetch?function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Promise.resolve().then(r.bind(r,4630)).then(e=>{let{default:r}=e;return r(...t)})}:fetch),function(){return t(...arguments)}},Ba=e=>{if(Array.isArray(e))return e.map(e=>Ba(e));if("function"===typeof e||e!==Object(e))return e;const t={};return Object.entries(e).forEach(e=>{let[r,n]=e;const a=r.replace(/([-_][a-z])/gi,e=>e.toUpperCase().replace(/[-_]/g,""));t[a]=Ba(n)}),t};var Ua=function(e,t,r,n){return new(r||(r=Promise))(function(a,s){function i(e){try{l(n.next(e))}catch(Nt){s(Nt)}}function o(e){try{l(n.throw(e))}catch(Nt){s(Nt)}}function l(e){e.done?a(e.value):function(e){return e instanceof r?e:new r(function(t){t(e)})}(e.value).then(i,o)}l((n=n.apply(e,t||[])).next())})};const qa=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Ha=(e,t,n)=>Ua(void 0,void 0,void 0,function*(){const a=yield za(void 0,void 0,void 0,function*(){return"undefined"===typeof Response?(yield Promise.resolve().then(r.bind(r,4630))).Response:Response});e instanceof a&&!(null===n||void 0===n?void 0:n.noResolveJson)?e.json().then(r=>{t(new Ra(qa(r),e.status||500))}).catch(e=>{t(new La(qa(e),e))}):t(new La(qa(e),e))});function Va(e,t,r,n,a,s){return Ua(this,void 0,void 0,function*(){return new Promise((i,o)=>{e(r,((e,t,r,n)=>{const a={method:e,headers:(null===t||void 0===t?void 0:t.headers)||{}};return"GET"===e?a:(a.headers=Object.assign({"Content-Type":"application/json"},null===t||void 0===t?void 0:t.headers),n&&(a.body=JSON.stringify(n)),Object.assign(Object.assign({},a),r))})(t,n,a,s)).then(e=>{if(!e.ok)throw e;return(null===n||void 0===n?void 0:n.noResolveJson)?e:e.json()}).then(e=>i(e)).catch(e=>Ha(e,o,n))})})}function Wa(e,t,r,n){return Ua(this,void 0,void 0,function*(){return Va(e,"GET",t,r,n)})}function Ga(e,t,r,n,a){return Ua(this,void 0,void 0,function*(){return Va(e,"POST",t,n,a,r)})}function $a(e,t,r,n,a){return Ua(this,void 0,void 0,function*(){return Va(e,"DELETE",t,n,a,r)})}var Ka=function(e,t,r,n){return new(r||(r=Promise))(function(a,s){function i(e){try{l(n.next(e))}catch(Nt){s(Nt)}}function o(e){try{l(n.throw(e))}catch(Nt){s(Nt)}}function l(e){e.done?a(e.value):function(e){return e instanceof r?e:new r(function(t){t(e)})}(e.value).then(i,o)}l((n=n.apply(e,t||[])).next())})};const Ya={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Xa={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Ja{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0;this.url=e,this.headers=t,this.bucketId=r,this.fetch=Fa(n)}uploadOrUpdate(e,t,r,n){return Ka(this,void 0,void 0,function*(){try{let a;const s=Object.assign(Object.assign({},Xa),n);let i=Object.assign(Object.assign({},this.headers),"POST"===e&&{"x-upsert":String(s.upsert)});const o=s.metadata;"undefined"!==typeof Blob&&r instanceof Blob?(a=new FormData,a.append("cacheControl",s.cacheControl),o&&a.append("metadata",this.encodeMetadata(o)),a.append("",r)):"undefined"!==typeof FormData&&r instanceof FormData?(a=r,a.append("cacheControl",s.cacheControl),o&&a.append("metadata",this.encodeMetadata(o))):(a=r,i["cache-control"]="max-age=".concat(s.cacheControl),i["content-type"]=s.contentType,o&&(i["x-metadata"]=this.toBase64(this.encodeMetadata(o)))),(null===n||void 0===n?void 0:n.headers)&&(i=Object.assign(Object.assign({},i),n.headers));const l=this._removeEmptyFolders(t),c=this._getFinalPath(l),u=yield this.fetch("".concat(this.url,"/object/").concat(c),Object.assign({method:e,body:a,headers:i},(null===s||void 0===s?void 0:s.duplex)?{duplex:s.duplex}:{})),d=yield u.json();if(u.ok)return{data:{path:l,id:d.Id,fullPath:d.Key},error:null};return{data:null,error:d}}catch(a){if(Ia(a))return{data:null,error:a};throw a}})}upload(e,t,r){return Ka(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,t,r)})}uploadToSignedUrl(e,t,r,n){return Ka(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(e),s=this._getFinalPath(a),i=new URL(this.url+"/object/upload/sign/".concat(s));i.searchParams.set("token",t);try{let e;const t=Object.assign({upsert:Xa.upsert},n),s=Object.assign(Object.assign({},this.headers),{"x-upsert":String(t.upsert)});"undefined"!==typeof Blob&&r instanceof Blob?(e=new FormData,e.append("cacheControl",t.cacheControl),e.append("",r)):"undefined"!==typeof FormData&&r instanceof FormData?(e=r,e.append("cacheControl",t.cacheControl)):(e=r,s["cache-control"]="max-age=".concat(t.cacheControl),s["content-type"]=t.contentType);const o=yield this.fetch(i.toString(),{method:"PUT",body:e,headers:s}),l=yield o.json();if(o.ok)return{data:{path:a,fullPath:l.Key},error:null};return{data:null,error:l}}catch(o){if(Ia(o))return{data:null,error:o};throw o}})}createSignedUploadUrl(e,t){return Ka(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const n=Object.assign({},this.headers);(null===t||void 0===t?void 0:t.upsert)&&(n["x-upsert"]="true");const a=yield Ga(this.fetch,"".concat(this.url,"/object/upload/sign/").concat(r),{},{headers:n}),s=new URL(this.url+a.url),i=s.searchParams.get("token");if(!i)throw new Ma("No token returned by API");return{data:{signedUrl:s.toString(),path:e,token:i},error:null}}catch(r){if(Ia(r))return{data:null,error:r};throw r}})}update(e,t,r){return Ka(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,t,r)})}move(e,t,r){return Ka(this,void 0,void 0,function*(){try{return{data:yield Ga(this.fetch,"".concat(this.url,"/object/move"),{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:null===r||void 0===r?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(n){if(Ia(n))return{data:null,error:n};throw n}})}copy(e,t,r){return Ka(this,void 0,void 0,function*(){try{return{data:{path:(yield Ga(this.fetch,"".concat(this.url,"/object/copy"),{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:null===r||void 0===r?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(n){if(Ia(n))return{data:null,error:n};throw n}})}createSignedUrl(e,t,r){return Ka(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e),a=yield Ga(this.fetch,"".concat(this.url,"/object/sign/").concat(n),Object.assign({expiresIn:t},(null===r||void 0===r?void 0:r.transform)?{transform:r.transform}:{}),{headers:this.headers});const s=(null===r||void 0===r?void 0:r.download)?"&download=".concat(!0===r.download?"":r.download):"";return a={signedUrl:encodeURI("".concat(this.url).concat(a.signedURL).concat(s))},{data:a,error:null}}catch(n){if(Ia(n))return{data:null,error:n};throw n}})}createSignedUrls(e,t,r){return Ka(this,void 0,void 0,function*(){try{const n=yield Ga(this.fetch,"".concat(this.url,"/object/sign/").concat(this.bucketId),{expiresIn:t,paths:e},{headers:this.headers}),a=(null===r||void 0===r?void 0:r.download)?"&download=".concat(!0===r.download?"":r.download):"";return{data:n.map(e=>Object.assign(Object.assign({},e),{signedUrl:e.signedURL?encodeURI("".concat(this.url).concat(e.signedURL).concat(a)):null})),error:null}}catch(n){if(Ia(n))return{data:null,error:n};throw n}})}download(e,t){return Ka(this,void 0,void 0,function*(){const r="undefined"!==typeof(null===t||void 0===t?void 0:t.transform)?"render/image/authenticated":"object",n=this.transformOptsToQueryString((null===t||void 0===t?void 0:t.transform)||{}),a=n?"?".concat(n):"";try{const t=this._getFinalPath(e),n=yield Wa(this.fetch,"".concat(this.url,"/").concat(r,"/").concat(t).concat(a),{headers:this.headers,noResolveJson:!0});return{data:yield n.blob(),error:null}}catch(s){if(Ia(s))return{data:null,error:s};throw s}})}info(e){return Ka(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{const e=yield Wa(this.fetch,"".concat(this.url,"/object/info/").concat(t),{headers:this.headers});return{data:Ba(e),error:null}}catch(r){if(Ia(r))return{data:null,error:r};throw r}})}exists(e){return Ka(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{return yield function(e,t,r,n){return Ua(this,void 0,void 0,function*(){return Va(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}(this.fetch,"".concat(this.url,"/object/").concat(t),{headers:this.headers}),{data:!0,error:null}}catch(r){if(Ia(r)&&r instanceof La){const e=r.originalError;if([400,404].includes(null===e||void 0===e?void 0:e.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,t){const r=this._getFinalPath(e),n=[],a=(null===t||void 0===t?void 0:t.download)?"download=".concat(!0===t.download?"":t.download):"";""!==a&&n.push(a);const s="undefined"!==typeof(null===t||void 0===t?void 0:t.transform)?"render/image":"object",i=this.transformOptsToQueryString((null===t||void 0===t?void 0:t.transform)||{});""!==i&&n.push(i);let o=n.join("&");return""!==o&&(o="?".concat(o)),{data:{publicUrl:encodeURI("".concat(this.url,"/").concat(s,"/public/").concat(r).concat(o))}}}remove(e){return Ka(this,void 0,void 0,function*(){try{return{data:yield $a(this.fetch,"".concat(this.url,"/object/").concat(this.bucketId),{prefixes:e},{headers:this.headers}),error:null}}catch(t){if(Ia(t))return{data:null,error:t};throw t}})}list(e,t,r){return Ka(this,void 0,void 0,function*(){try{const n=Object.assign(Object.assign(Object.assign({},Ya),t),{prefix:e||""});return{data:yield Ga(this.fetch,"".concat(this.url,"/object/list/").concat(this.bucketId),n,{headers:this.headers},r),error:null}}catch(n){if(Ia(n))return{data:null,error:n};throw n}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return"undefined"!==typeof Buffer?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return"".concat(this.bucketId,"/").concat(e)}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push("width=".concat(e.width)),e.height&&t.push("height=".concat(e.height)),e.resize&&t.push("resize=".concat(e.resize)),e.format&&t.push("format=".concat(e.format)),e.quality&&t.push("quality=".concat(e.quality)),t.join("&")}}const Qa={"X-Client-Info":"storage-js/".concat("2.7.1")};var Za=function(e,t,r,n){return new(r||(r=Promise))(function(a,s){function i(e){try{l(n.next(e))}catch(Nt){s(Nt)}}function o(e){try{l(n.throw(e))}catch(Nt){s(Nt)}}function l(e){e.done?a(e.value):function(e){return e instanceof r?e:new r(function(t){t(e)})}(e.value).then(i,o)}l((n=n.apply(e,t||[])).next())})};class es{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;this.url=e,this.headers=Object.assign(Object.assign({},Qa),t),this.fetch=Fa(r)}listBuckets(){return Za(this,void 0,void 0,function*(){try{return{data:yield Wa(this.fetch,"".concat(this.url,"/bucket"),{headers:this.headers}),error:null}}catch(e){if(Ia(e))return{data:null,error:e};throw e}})}getBucket(e){return Za(this,void 0,void 0,function*(){try{return{data:yield Wa(this.fetch,"".concat(this.url,"/bucket/").concat(e),{headers:this.headers}),error:null}}catch(t){if(Ia(t))return{data:null,error:t};throw t}})}createBucket(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{public:!1};return Za(this,void 0,void 0,function*(){try{return{data:yield Ga(this.fetch,"".concat(this.url,"/bucket"),{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Ia(r))return{data:null,error:r};throw r}})}updateBucket(e,t){return Za(this,void 0,void 0,function*(){try{const r=yield function(e,t,r,n,a){return Ua(this,void 0,void 0,function*(){return Va(e,"PUT",t,n,a,r)})}(this.fetch,"".concat(this.url,"/bucket/").concat(e),{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers});return{data:r,error:null}}catch(r){if(Ia(r))return{data:null,error:r};throw r}})}emptyBucket(e){return Za(this,void 0,void 0,function*(){try{return{data:yield Ga(this.fetch,"".concat(this.url,"/bucket/").concat(e,"/empty"),{},{headers:this.headers}),error:null}}catch(t){if(Ia(t))return{data:null,error:t};throw t}})}deleteBucket(e){return Za(this,void 0,void 0,function*(){try{return{data:yield $a(this.fetch,"".concat(this.url,"/bucket/").concat(e),{},{headers:this.headers}),error:null}}catch(t){if(Ia(t))return{data:null,error:t};throw t}})}}class ts extends es{constructor(e){super(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},arguments.length>2?arguments[2]:void 0)}from(e){return new Ja(this.url,this.headers,e,this.fetch)}}let rs="";rs="undefined"!==typeof Deno?"deno":"undefined"!==typeof document?"web":"undefined"!==typeof navigator&&"ReactNative"===navigator.product?"react-native":"node";const ns={headers:{"X-Client-Info":"supabase-js-".concat(rs,"/").concat("2.50.5")}},as={schema:"public"},ss={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},is={};var os=r(4630),ls=function(e,t,r,n){return new(r||(r=Promise))(function(a,s){function i(e){try{l(n.next(e))}catch(Nt){s(Nt)}}function o(e){try{l(n.throw(e))}catch(Nt){s(Nt)}}function l(e){e.done?a(e.value):function(e){return e instanceof r?e:new r(function(t){t(e)})}(e.value).then(i,o)}l((n=n.apply(e,t||[])).next())})};const cs=e=>{let t;return t=e||("undefined"===typeof fetch?os.default:fetch),function(){return t(...arguments)}},us=(e,t,r)=>{const n=cs(r),a="undefined"===typeof Headers?os.Headers:Headers;return(r,s)=>ls(void 0,void 0,void 0,function*(){var i;const o=null!==(i=yield t())&&void 0!==i?i:e;let l=new a(null===s||void 0===s?void 0:s.headers);return l.has("apikey")||l.set("apikey",e),l.has("Authorization")||l.set("Authorization","Bearer ".concat(o)),n(r,Object.assign(Object.assign({},s),{headers:l}))})};var ds=function(e,t,r,n){return new(r||(r=Promise))(function(a,s){function i(e){try{l(n.next(e))}catch(Nt){s(Nt)}}function o(e){try{l(n.throw(e))}catch(Nt){s(Nt)}}function l(e){e.done?a(e.value):function(e){return e instanceof r?e:new r(function(t){t(e)})}(e.value).then(i,o)}l((n=n.apply(e,t||[])).next())})};const hs="2.70.0",fs=3e4,ps=9e4,ms={"X-Client-Info":"gotrue-js/".concat(hs)},gs="X-Supabase-Api-Version",ys={timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"},vs=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i;class xs extends Error{constructor(e,t,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=r}}function bs(e){return"object"===typeof e&&null!==e&&"__isAuthError"in e}class ws extends xs{constructor(e,t,r){super(e,t,r),this.name="AuthApiError",this.status=t,this.code=r}}class js extends xs{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}}class Ns extends xs{constructor(e,t,r,n){super(e,r,n),this.name=t,this.status=r}}class ks extends Ns{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}class Ss extends Ns{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class _s extends Ns{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Os extends Ns{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Es extends Ns{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Cs extends Ns{constructor(e,t){super(e,"AuthRetryableFetchError",t,void 0)}}function Ps(e){return bs(e)&&"AuthRetryableFetchError"===e.name}class As extends Ns{constructor(e,t,r){super(e,"AuthWeakPasswordError",t,"weak_password"),this.reasons=r}}class Ts extends Ns{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Ds="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Ms=" \t\n\r=".split(""),Is=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Ms.length;t+=1)e[Ms[t].charCodeAt(0)]=-2;for(let t=0;t<Ds.length;t+=1)e[Ds[t].charCodeAt(0)]=t;return e})();function Rs(e,t,r){if(null!==e)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const e=t.queue>>t.queuedBits-6&63;r(Ds[e]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const e=t.queue>>t.queuedBits-6&63;r(Ds[e]),t.queuedBits-=6}}function Ls(e,t,r){const n=Is[e];if(!(n>-1)){if(-2===n)return;throw new Error('Invalid Base64-URL character "'.concat(String.fromCharCode(e),'"'))}for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8}function zs(e){const t=[],r=e=>{t.push(String.fromCodePoint(e))},n={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},s=e=>{!function(e,t,r){if(0===t.utf8seq){if(e<=127)return void r(e);for(let r=1;r<6;r+=1)if(0===(e>>7-r&1)){t.utf8seq=r;break}if(2===t.utf8seq)t.codepoint=31&e;else if(3===t.utf8seq)t.codepoint=15&e;else{if(4!==t.utf8seq)throw new Error("Invalid UTF-8 sequence");t.codepoint=7&e}t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|63&e,t.utf8seq-=1,0===t.utf8seq&&r(t.codepoint)}}(e,n,r)};for(let i=0;i<e.length;i+=1)Ls(e.charCodeAt(i),a,s);return t.join("")}function Fs(e,t){if(!(e<=127)){if(e<=2047)return t(192|e>>6),void t(128|63&e);if(e<=65535)return t(224|e>>12),t(128|e>>6&63),void t(128|63&e);if(e<=1114111)return t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),void t(128|63&e);throw new Error("Unrecognized Unicode codepoint: ".concat(e.toString(16)))}t(e)}function Bs(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const t=1024*(n-55296)&65535;n=65536+(e.charCodeAt(r+1)-56320&65535|t),r+=1}Fs(n,t)}}function Us(e){const t=[],r={queue:0,queuedBits:0},n=e=>{t.push(e)};for(let a=0;a<e.length;a+=1)Ls(e.charCodeAt(a),r,n);return new Uint8Array(t)}function qs(e){const t=[],r={queue:0,queuedBits:0},n=e=>{t.push(e)};return e.forEach(e=>Rs(e,r,n)),Rs(null,r,n),t.join("")}const Hs=()=>"undefined"!==typeof window&&"undefined"!==typeof document,Vs={tested:!1,writable:!1},Ws=()=>{if(!Hs())return!1;try{if("object"!==typeof globalThis.localStorage)return!1}catch(Nt){return!1}if(Vs.tested)return Vs.writable;const e="lswt-".concat(Math.random()).concat(Math.random());try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Vs.tested=!0,Vs.writable=!0}catch(Nt){Vs.tested=!0,Vs.writable=!1}return Vs.writable};const Gs=e=>{let t;return t=e||("undefined"===typeof fetch?function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Promise.resolve().then(r.bind(r,4630)).then(e=>{let{default:r}=e;return r(...t)})}:fetch),function(){return t(...arguments)}},$s=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},Ks=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch(n){return r}},Ys=async(e,t)=>{await e.removeItem(t)};class Xs{constructor(){this.promise=new Xs.promiseConstructor((e,t)=>{this.resolve=e,this.reject=t})}}function Js(e){const t=e.split(".");if(3!==t.length)throw new Ts("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!vs.test(t[r]))throw new Ts("JWT not in base64url format");return{header:JSON.parse(zs(t[0])),payload:JSON.parse(zs(t[1])),signature:Us(t[2]),raw:{header:t[0],payload:t[1]}}}function Qs(e){return("0"+e.toString(16)).substr(-2)}async function Zs(e){if(!("undefined"!==typeof crypto&&"undefined"!==typeof crypto.subtle&&"undefined"!==typeof TextEncoder))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const t=await async function(e){const t=(new TextEncoder).encode(e),r=await crypto.subtle.digest("SHA-256",t),n=new Uint8Array(r);return Array.from(n).map(e=>String.fromCharCode(e)).join("")}(e);return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function ei(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const n=function(){const e=new Uint32Array(56);if("undefined"===typeof crypto){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",t=e.length;let r="";for(let n=0;n<56;n++)r+=e.charAt(Math.floor(Math.random()*t));return r}return crypto.getRandomValues(e),Array.from(e,Qs).join("")}();let a=n;r&&(a+="/PASSWORD_RECOVERY"),await $s(e,"".concat(t,"-code-verifier"),a);const s=await Zs(n);return[s,n===s?"plain":"s256"]}Xs.promiseConstructor=Promise;const ti=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;const ri=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function ni(e){if(!ri.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}var ai=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r};const si=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),ii=[502,503,504];async function oi(e){var t,r;if(!("object"===typeof(r=e)&&null!==r&&"status"in r&&"ok"in r&&"json"in r&&"function"===typeof r.json))throw new Cs(si(e),0);if(ii.includes(e.status))throw new Cs(si(e),e.status);let n,a;try{n=await e.json()}catch(Nt){throw new js(si(Nt),Nt)}const s=function(e){const t=e.headers.get(gs);if(!t)return null;if(!t.match(ti))return null;try{return new Date("".concat(t,"T00:00:00.0Z"))}catch(Nt){return null}}(e);if(s&&s.getTime()>=ys.timestamp&&"object"===typeof n&&n&&"string"===typeof n.code?a=n.code:"object"===typeof n&&n&&"string"===typeof n.error_code&&(a=n.error_code),a){if("weak_password"===a)throw new As(si(n),e.status,(null===(t=n.weak_password)||void 0===t?void 0:t.reasons)||[]);if("session_not_found"===a)throw new ks}else if("object"===typeof n&&n&&"object"===typeof n.weak_password&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((e,t)=>e&&"string"===typeof t,!0))throw new As(si(n),e.status,n.weak_password.reasons);throw new ws(si(n),e.status||500,a)}async function li(e,t,r,n){var a;const s=Object.assign({},null===n||void 0===n?void 0:n.headers);s[gs]||(s[gs]=ys.name),(null===n||void 0===n?void 0:n.jwt)&&(s.Authorization="Bearer ".concat(n.jwt));const i=null!==(a=null===n||void 0===n?void 0:n.query)&&void 0!==a?a:{};(null===n||void 0===n?void 0:n.redirectTo)&&(i.redirect_to=n.redirectTo);const o=Object.keys(i).length?"?"+new URLSearchParams(i).toString():"",l=await async function(e,t,r,n,a,s){const i=((e,t,r,n)=>{const a={method:e,headers:(null===t||void 0===t?void 0:t.headers)||{}};return"GET"===e?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},null===t||void 0===t?void 0:t.headers),a.body=JSON.stringify(n),Object.assign(Object.assign({},a),r))})(t,n,a,s);let o;try{o=await e(r,Object.assign({},i))}catch(Nt){throw console.error(Nt),new Cs(si(Nt),0)}o.ok||await oi(o);if(null===n||void 0===n?void 0:n.noResolveJson)return o;try{return await o.json()}catch(Nt){await oi(Nt)}}(e,t,r+o,{headers:s,noResolveJson:null===n||void 0===n?void 0:n.noResolveJson},{},null===n||void 0===n?void 0:n.body);return(null===n||void 0===n?void 0:n.xform)?null===n||void 0===n?void 0:n.xform(l):{data:Object.assign({},l),error:null}}function ci(e){var t;let r=null;var n;(function(e){return e.access_token&&e.refresh_token&&e.expires_in})(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=(n=e.expires_in,Math.round(Date.now()/1e3)+n)));return{data:{session:r,user:null!==(t=e.user)&&void 0!==t?t:e},error:null}}function ui(e){const t=ci(e);return!t.error&&e.weak_password&&"object"===typeof e.weak_password&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&"string"===typeof e.weak_password.message&&e.weak_password.reasons.reduce((e,t)=>e&&"string"===typeof t,!0)&&(t.data.weak_password=e.weak_password),t}function di(e){var t;return{data:{user:null!==(t=e.user)&&void 0!==t?t:e},error:null}}function hi(e){return{data:e,error:null}}function fi(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:s}=e,i=ai(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]);return{data:{properties:{action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:s},user:Object.assign({},i)},error:null}}function pi(e){return e}const mi=["global","local","others"];var gi=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r};class yi{constructor(e){let{url:t="",headers:r={},fetch:n}=e;this.url=t,this.headers=r,this.fetch=Gs(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:mi[0];if(mi.indexOf(t)<0)throw new Error("@supabase/auth-js: Parameter scope must be one of ".concat(mi.join(", ")));try{return await li(this.fetch,"POST","".concat(this.url,"/logout?scope=").concat(t),{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(bs(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{return await li(this.fetch,"POST","".concat(this.url,"/invite"),{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:di})}catch(r){if(bs(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:t}=e,r=gi(e,["options"]),n=Object.assign(Object.assign({},r),t);return"newEmail"in r&&(n.new_email=null===r||void 0===r?void 0:r.newEmail,delete n.newEmail),await li(this.fetch,"POST","".concat(this.url,"/admin/generate_link"),{body:n,headers:this.headers,xform:fi,redirectTo:null===t||void 0===t?void 0:t.redirectTo})}catch(t){if(bs(t))return{data:{properties:null,user:null},error:t};throw t}}async createUser(e){try{return await li(this.fetch,"POST","".concat(this.url,"/admin/users"),{body:e,headers:this.headers,xform:di})}catch(t){if(bs(t))return{data:{user:null},error:t};throw t}}async listUsers(e){var t,r,n,a,s,i,o;try{const l={nextPage:null,lastPage:0,total:0},c=await li(this.fetch,"GET","".concat(this.url,"/admin/users"),{headers:this.headers,noResolveJson:!0,query:{page:null!==(r=null===(t=null===e||void 0===e?void 0:e.page)||void 0===t?void 0:t.toString())&&void 0!==r?r:"",per_page:null!==(a=null===(n=null===e||void 0===e?void 0:e.perPage)||void 0===n?void 0:n.toString())&&void 0!==a?a:""},xform:pi});if(c.error)throw c.error;const u=await c.json(),d=null!==(s=c.headers.get("x-total-count"))&&void 0!==s?s:0,h=null!==(o=null===(i=c.headers.get("link"))||void 0===i?void 0:i.split(","))&&void 0!==o?o:[];return h.length>0&&(h.forEach(e=>{const t=parseInt(e.split(";")[0].split("=")[1].substring(0,1)),r=JSON.parse(e.split(";")[1].split("=")[1]);l["".concat(r,"Page")]=t}),l.total=parseInt(d)),{data:Object.assign(Object.assign({},u),l),error:null}}catch(l){if(bs(l))return{data:{users:[]},error:l};throw l}}async getUserById(e){ni(e);try{return await li(this.fetch,"GET","".concat(this.url,"/admin/users/").concat(e),{headers:this.headers,xform:di})}catch(t){if(bs(t))return{data:{user:null},error:t};throw t}}async updateUserById(e,t){ni(e);try{return await li(this.fetch,"PUT","".concat(this.url,"/admin/users/").concat(e),{body:t,headers:this.headers,xform:di})}catch(r){if(bs(r))return{data:{user:null},error:r};throw r}}async deleteUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];ni(e);try{return await li(this.fetch,"DELETE","".concat(this.url,"/admin/users/").concat(e),{headers:this.headers,body:{should_soft_delete:t},xform:di})}catch(r){if(bs(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){ni(e.userId);try{const{data:t,error:r}=await li(this.fetch,"GET","".concat(this.url,"/admin/users/").concat(e.userId,"/factors"),{headers:this.headers,xform:e=>({data:{factors:e},error:null})});return{data:t,error:r}}catch(t){if(bs(t))return{data:null,error:t};throw t}}async _deleteFactor(e){ni(e.userId),ni(e.id);try{return{data:await li(this.fetch,"DELETE","".concat(this.url,"/admin/users/").concat(e.userId,"/factors/").concat(e.id),{headers:this.headers}),error:null}}catch(t){if(bs(t))return{data:null,error:t};throw t}}}const vi={getItem:e=>Ws()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{Ws()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{Ws()&&globalThis.localStorage.removeItem(e)}};function xi(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const bi=!!(globalThis&&Ws()&&globalThis.localStorage&&"true"===globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug"));class wi extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class ji extends wi{}async function Ni(e,t,r){bi&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),bi&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,0===t?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async n=>{if(!n){if(0===t)throw bi&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new ji('Acquiring an exclusive Navigator LockManager lock "'.concat(e,'" immediately failed'));if(bi)try{const e=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(e,null,"  "))}catch(Nt){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",Nt)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}bi&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,n.name);try{return await r()}finally{bi&&console.log("@supabase/gotrue-js: navigatorLock: released",e,n.name)}}))}!function(){if("object"!==typeof globalThis)try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch(Nt){"undefined"!==typeof self&&(self.globalThis=self)}}();const ki={url:"http://localhost:9999",storageKey:"supabase.auth.token",autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:ms,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Si(e,t,r){return await r()}class _i{constructor(e){var t,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=_i.nextInstanceID,_i.nextInstanceID+=1,this.instanceID>0&&Hs()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const n=Object.assign(Object.assign({},ki),e);if(this.logDebugMessages=!!n.debug,"function"===typeof n.debug&&(this.logger=n.debug),this.persistSession=n.persistSession,this.storageKey=n.storageKey,this.autoRefreshToken=n.autoRefreshToken,this.admin=new yi({url:n.url,headers:n.headers,fetch:n.fetch}),this.url=n.url,this.headers=n.headers,this.fetch=Gs(n.fetch),this.lock=n.lock||Si,this.detectSessionInUrl=n.detectSessionInUrl,this.flowType=n.flowType,this.hasCustomAuthorizationHeader=n.hasCustomAuthorizationHeader,n.lock?this.lock=n.lock:Hs()&&(null===(t=null===globalThis||void 0===globalThis?void 0:globalThis.navigator)||void 0===t?void 0:t.locks)?this.lock=Ni:this.lock=Si,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?n.storage?this.storage=n.storage:Ws()?this.storage=vi:(this.memoryStorage={},this.storage=xi(this.memoryStorage)):(this.memoryStorage={},this.storage=xi(this.memoryStorage)),Hs()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(Nt){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",Nt)}null===(r=this.broadcastChannel)||void 0===r||r.addEventListener("message",async e=>{this._debug("received broadcast notification from other tab or client",e),await this._notifyAllSubscribers(e.data.event,e.data.session,!1)})}this.initialize()}_debug(){if(this.logDebugMessages){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this.logger("GoTrueClient@".concat(this.instanceID," (").concat(hs,") ").concat((new Date).toISOString()),...t)}return this}async initialize(){return this.initializePromise||(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))()),await this.initializePromise}async _initialize(){var e;try{const t=function(e){const t={},r=new URL(e);if(r.hash&&"#"===r.hash[0])try{new URLSearchParams(r.hash.substring(1)).forEach((e,r)=>{t[r]=e})}catch(Nt){}return r.searchParams.forEach((e,r)=>{t[r]=e}),t}(window.location.href);let r="none";if(this._isImplicitGrantCallback(t)?r="implicit":await this._isPKCECallback(t)&&(r="pkce"),Hs()&&this.detectSessionInUrl&&"none"!==r){const{data:n,error:a}=await this._getSessionFromURL(t,r);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),function(e){return bs(e)&&"AuthImplicitGrantRedirectError"===e.name}(a)){const t=null===(e=a.details)||void 0===e?void 0:e.code;if("identity_already_exists"===t||"identity_not_found"===t||"single_identity_not_deletable"===t)return{error:a}}return await this._removeSession(),{error:a}}const{session:s,redirectType:i}=n;return this._debug("#_initialize()","detected session in URL",s,"redirect type",i),await this._saveSession(s),setTimeout(async()=>{"recovery"===i?await this._notifyAllSubscribers("PASSWORD_RECOVERY",s):await this._notifyAllSubscribers("SIGNED_IN",s)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(t){return bs(t)?{error:t}:{error:new js("Unexpected error during initialization",t)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var t,r,n;try{const a=await li(this.fetch,"POST","".concat(this.url,"/signup"),{headers:this.headers,body:{data:null!==(r=null===(t=null===e||void 0===e?void 0:e.options)||void 0===t?void 0:t.data)&&void 0!==r?r:{},gotrue_meta_security:{captcha_token:null===(n=null===e||void 0===e?void 0:e.options)||void 0===n?void 0:n.captchaToken}},xform:ci}),{data:s,error:i}=a;if(i||!s)return{data:{user:null,session:null},error:i};const o=s.session,l=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",o)),{data:{user:l,session:o},error:null}}catch(a){if(bs(a))return{data:{user:null,session:null},error:a};throw a}}async signUp(e){var t,r,n;try{let a;if("email"in e){const{email:r,password:n,options:s}=e;let i=null,o=null;"pkce"===this.flowType&&([i,o]=await ei(this.storage,this.storageKey)),a=await li(this.fetch,"POST","".concat(this.url,"/signup"),{headers:this.headers,redirectTo:null===s||void 0===s?void 0:s.emailRedirectTo,body:{email:r,password:n,data:null!==(t=null===s||void 0===s?void 0:s.data)&&void 0!==t?t:{},gotrue_meta_security:{captcha_token:null===s||void 0===s?void 0:s.captchaToken},code_challenge:i,code_challenge_method:o},xform:ci})}else{if(!("phone"in e))throw new _s("You must provide either an email or phone number and a password");{const{phone:t,password:s,options:i}=e;a=await li(this.fetch,"POST","".concat(this.url,"/signup"),{headers:this.headers,body:{phone:t,password:s,data:null!==(r=null===i||void 0===i?void 0:i.data)&&void 0!==r?r:{},channel:null!==(n=null===i||void 0===i?void 0:i.channel)&&void 0!==n?n:"sms",gotrue_meta_security:{captcha_token:null===i||void 0===i?void 0:i.captchaToken}},xform:ci})}}const{data:s,error:i}=a;if(i||!s)return{data:{user:null,session:null},error:i};const o=s.session,l=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",o)),{data:{user:l,session:o},error:null}}catch(a){if(bs(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithPassword(e){try{let t;if("email"in e){const{email:r,password:n,options:a}=e;t=await li(this.fetch,"POST","".concat(this.url,"/token?grant_type=password"),{headers:this.headers,body:{email:r,password:n,gotrue_meta_security:{captcha_token:null===a||void 0===a?void 0:a.captchaToken}},xform:ui})}else{if(!("phone"in e))throw new _s("You must provide either an email or phone number and a password");{const{phone:r,password:n,options:a}=e;t=await li(this.fetch,"POST","".concat(this.url,"/token?grant_type=password"),{headers:this.headers,body:{phone:r,password:n,gotrue_meta_security:{captcha_token:null===a||void 0===a?void 0:a.captchaToken}},xform:ui})}}const{data:r,error:n}=t;return n?{data:{user:null,session:null},error:n}:r&&r.session&&r.user?(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:n}):{data:{user:null,session:null},error:new Ss}}catch(t){if(bs(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOAuth(e){var t,r,n,a;return await this._handleProviderSignIn(e.provider,{redirectTo:null===(t=e.options)||void 0===t?void 0:t.redirectTo,scopes:null===(r=e.options)||void 0===r?void 0:r.scopes,queryParams:null===(n=e.options)||void 0===n?void 0:n.queryParams,skipBrowserRedirect:null===(a=e.options)||void 0===a?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:t}=e;if("solana"===t)return await this.signInWithSolana(e);throw new Error('@supabase/auth-js: Unsupported chain "'.concat(t,'"'))}async signInWithSolana(e){var t,r,n,a,s,i,o,l,c,u,d,h;let f,p;if("message"in e)f=e.message,p=e.signature;else{const{chain:d,wallet:h,statement:m,options:g}=e;let y;if(Hs())if("object"===typeof h)y=h;else{const e=window;if(!("solana"in e)||"object"!==typeof e.solana||!("signIn"in e.solana&&"function"===typeof e.solana.signIn||"signMessage"in e.solana&&"function"===typeof e.solana.signMessage))throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.");y=e.solana}else{if("object"!==typeof h||!(null===g||void 0===g?void 0:g.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");y=h}const v=new URL(null!==(t=null===g||void 0===g?void 0:g.url)&&void 0!==t?t:window.location.href);if("signIn"in y&&y.signIn){const e=await y.signIn(Object.assign(Object.assign(Object.assign({issuedAt:(new Date).toISOString()},null===g||void 0===g?void 0:g.signInWithSolana),{version:"1",domain:v.host,uri:v.href}),m?{statement:m}:null));let t;if(Array.isArray(e)&&e[0]&&"object"===typeof e[0])t=e[0];else{if(!(e&&"object"===typeof e&&"signedMessage"in e&&"signature"in e))throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");t=e}if(!("signedMessage"in t&&"signature"in t&&("string"===typeof t.signedMessage||t.signedMessage instanceof Uint8Array)&&t.signature instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields");f="string"===typeof t.signedMessage?t.signedMessage:(new TextDecoder).decode(t.signedMessage),p=t.signature}else{if(!("signMessage"in y)||"function"!==typeof y.signMessage||!("publicKey"in y)||"object"!==typeof y||!y.publicKey||!("toBase58"in y.publicKey)||"function"!==typeof y.publicKey.toBase58)throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");f=["".concat(v.host," wants you to sign in with your Solana account:"),y.publicKey.toBase58(),...m?["",m,""]:[""],"Version: 1","URI: ".concat(v.href),"Issued At: ".concat(null!==(n=null===(r=null===g||void 0===g?void 0:g.signInWithSolana)||void 0===r?void 0:r.issuedAt)&&void 0!==n?n:(new Date).toISOString()),...(null===(a=null===g||void 0===g?void 0:g.signInWithSolana)||void 0===a?void 0:a.notBefore)?["Not Before: ".concat(g.signInWithSolana.notBefore)]:[],...(null===(s=null===g||void 0===g?void 0:g.signInWithSolana)||void 0===s?void 0:s.expirationTime)?["Expiration Time: ".concat(g.signInWithSolana.expirationTime)]:[],...(null===(i=null===g||void 0===g?void 0:g.signInWithSolana)||void 0===i?void 0:i.chainId)?["Chain ID: ".concat(g.signInWithSolana.chainId)]:[],...(null===(o=null===g||void 0===g?void 0:g.signInWithSolana)||void 0===o?void 0:o.nonce)?["Nonce: ".concat(g.signInWithSolana.nonce)]:[],...(null===(l=null===g||void 0===g?void 0:g.signInWithSolana)||void 0===l?void 0:l.requestId)?["Request ID: ".concat(g.signInWithSolana.requestId)]:[],...(null===(u=null===(c=null===g||void 0===g?void 0:g.signInWithSolana)||void 0===c?void 0:c.resources)||void 0===u?void 0:u.length)?["Resources",...g.signInWithSolana.resources.map(e=>"- ".concat(e))]:[]].join("\n");const e=await y.signMessage((new TextEncoder).encode(f),"utf8");if(!e||!(e instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");p=e}}try{const{data:t,error:r}=await li(this.fetch,"POST","".concat(this.url,"/token?grant_type=web3"),{headers:this.headers,body:Object.assign({chain:"solana",message:f,signature:qs(p)},(null===(d=e.options)||void 0===d?void 0:d.captchaToken)?{gotrue_meta_security:{captcha_token:null===(h=e.options)||void 0===h?void 0:h.captchaToken}}:null),xform:ci});if(r)throw r;return t&&t.session&&t.user?(t.session&&(await this._saveSession(t.session),await this._notifyAllSubscribers("SIGNED_IN",t.session)),{data:Object.assign({},t),error:r}):{data:{user:null,session:null},error:new Ss}}catch(m){if(bs(m))return{data:{user:null,session:null},error:m};throw m}}async _exchangeCodeForSession(e){const t=await Ks(this.storage,"".concat(this.storageKey,"-code-verifier")),[r,n]=(null!==t&&void 0!==t?t:"").split("/");try{const{data:t,error:a}=await li(this.fetch,"POST","".concat(this.url,"/token?grant_type=pkce"),{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:ci});if(await Ys(this.storage,"".concat(this.storageKey,"-code-verifier")),a)throw a;return t&&t.session&&t.user?(t.session&&(await this._saveSession(t.session),await this._notifyAllSubscribers("SIGNED_IN",t.session)),{data:Object.assign(Object.assign({},t),{redirectType:null!==n&&void 0!==n?n:null}),error:a}):{data:{user:null,session:null,redirectType:null},error:new Ss}}catch(a){if(bs(a))return{data:{user:null,session:null,redirectType:null},error:a};throw a}}async signInWithIdToken(e){try{const{options:t,provider:r,token:n,access_token:a,nonce:s}=e,i=await li(this.fetch,"POST","".concat(this.url,"/token?grant_type=id_token"),{headers:this.headers,body:{provider:r,id_token:n,access_token:a,nonce:s,gotrue_meta_security:{captcha_token:null===t||void 0===t?void 0:t.captchaToken}},xform:ci}),{data:o,error:l}=i;return l?{data:{user:null,session:null},error:l}:o&&o.session&&o.user?(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:o,error:l}):{data:{user:null,session:null},error:new Ss}}catch(t){if(bs(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOtp(e){var t,r,n,a,s;try{if("email"in e){const{email:n,options:a}=e;let s=null,i=null;"pkce"===this.flowType&&([s,i]=await ei(this.storage,this.storageKey));const{error:o}=await li(this.fetch,"POST","".concat(this.url,"/otp"),{headers:this.headers,body:{email:n,data:null!==(t=null===a||void 0===a?void 0:a.data)&&void 0!==t?t:{},create_user:null===(r=null===a||void 0===a?void 0:a.shouldCreateUser)||void 0===r||r,gotrue_meta_security:{captcha_token:null===a||void 0===a?void 0:a.captchaToken},code_challenge:s,code_challenge_method:i},redirectTo:null===a||void 0===a?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:o}}if("phone"in e){const{phone:t,options:r}=e,{data:i,error:o}=await li(this.fetch,"POST","".concat(this.url,"/otp"),{headers:this.headers,body:{phone:t,data:null!==(n=null===r||void 0===r?void 0:r.data)&&void 0!==n?n:{},create_user:null===(a=null===r||void 0===r?void 0:r.shouldCreateUser)||void 0===a||a,gotrue_meta_security:{captcha_token:null===r||void 0===r?void 0:r.captchaToken},channel:null!==(s=null===r||void 0===r?void 0:r.channel)&&void 0!==s?s:"sms"}});return{data:{user:null,session:null,messageId:null===i||void 0===i?void 0:i.message_id},error:o}}throw new _s("You must provide either an email or phone number.")}catch(i){if(bs(i))return{data:{user:null,session:null},error:i};throw i}}async verifyOtp(e){var t,r;try{let n,a;"options"in e&&(n=null===(t=e.options)||void 0===t?void 0:t.redirectTo,a=null===(r=e.options)||void 0===r?void 0:r.captchaToken);const{data:s,error:i}=await li(this.fetch,"POST","".concat(this.url,"/verify"),{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:a}}),redirectTo:n,xform:ci});if(i)throw i;if(!s)throw new Error("An error occurred on token verification.");const o=s.session,l=s.user;return(null===o||void 0===o?void 0:o.access_token)&&(await this._saveSession(o),await this._notifyAllSubscribers("recovery"==e.type?"PASSWORD_RECOVERY":"SIGNED_IN",o)),{data:{user:l,session:o},error:null}}catch(n){if(bs(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithSSO(e){var t,r,n;try{let a=null,s=null;return"pkce"===this.flowType&&([a,s]=await ei(this.storage,this.storageKey)),await li(this.fetch,"POST","".concat(this.url,"/sso"),{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:null!==(r=null===(t=e.options)||void 0===t?void 0:t.redirectTo)&&void 0!==r?r:void 0}),(null===(n=null===e||void 0===e?void 0:e.options)||void 0===n?void 0:n.captchaToken)?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:s}),headers:this.headers,xform:hi})}catch(a){if(bs(a))return{data:null,error:a};throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:t},error:r}=e;if(r)throw r;if(!t)throw new ks;const{error:n}=await li(this.fetch,"GET","".concat(this.url,"/reauthenticate"),{headers:this.headers,jwt:t.access_token});return{data:{user:null,session:null},error:n}})}catch(e){if(bs(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const t="".concat(this.url,"/resend");if("email"in e){const{email:r,type:n,options:a}=e,{error:s}=await li(this.fetch,"POST",t,{headers:this.headers,body:{email:r,type:n,gotrue_meta_security:{captcha_token:null===a||void 0===a?void 0:a.captchaToken}},redirectTo:null===a||void 0===a?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:s}}if("phone"in e){const{phone:r,type:n,options:a}=e,{data:s,error:i}=await li(this.fetch,"POST",t,{headers:this.headers,body:{phone:r,type:n,gotrue_meta_security:{captcha_token:null===a||void 0===a?void 0:a.captchaToken}}});return{data:{user:null,session:null,messageId:null===s||void 0===s?void 0:s.message_id},error:i}}throw new _s("You must provide either an email or phone number and a type")}catch(t){if(bs(t))return{data:{user:null,session:null},error:t};throw t}}async getSession(){await this.initializePromise;return await this._acquireLock(-1,async()=>this._useSession(async e=>e))}async _acquireLock(e,t){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const e=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),r=(async()=>(await e,await t()))();return this.pendingInLock.push((async()=>{try{await r}catch(Nt){}})()),r}return await this.lock("lock:".concat(this.storageKey),e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const e=t();for(this.pendingInLock.push((async()=>{try{await e}catch(Nt){}})()),await e;this.pendingInLock.length;){const e=[...this.pendingInLock];await Promise.all(e),this.pendingInLock.splice(0,e.length)}return await e}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const t=await this.__loadSession();return await e(t)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",(new Error).stack);try{let e=null;const t=await Ks(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",t),null!==t&&(this._isValidSession(t)?e=t:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=!!e.expires_at&&1e3*e.expires_at-Date.now()<ps;if(this._debug("#__loadSession()","session has".concat(r?"":" not"," expired"),"expires_at",e.expires_at),!r){if(this.storage.isServer){let t=this.suppressGetSessionWarning;e=new Proxy(e,{get:(e,r,n)=>(t||"user"!==r||(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t=!0,this.suppressGetSessionWarning=!0),Reflect.get(e,r,n))})}return{data:{session:e},error:null}}const{session:n,error:a}=await this._callRefreshToken(e.refresh_token);return a?{data:{session:null},error:a}:{data:{session:n},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;return await this._acquireLock(-1,async()=>await this._getUser())}async _getUser(e){try{return e?await li(this.fetch,"GET","".concat(this.url,"/user"),{headers:this.headers,jwt:e,xform:di}):await this._useSession(async e=>{var t,r,n;const{data:a,error:s}=e;if(s)throw s;return(null===(t=a.session)||void 0===t?void 0:t.access_token)||this.hasCustomAuthorizationHeader?await li(this.fetch,"GET","".concat(this.url,"/user"),{headers:this.headers,jwt:null!==(n=null===(r=a.session)||void 0===r?void 0:r.access_token)&&void 0!==n?n:void 0,xform:di}):{data:{user:null},error:new ks}})}catch(t){if(bs(t))return function(e){return bs(e)&&"AuthSessionMissingError"===e.name}(t)&&(await this._removeSession(),await Ys(this.storage,"".concat(this.storageKey,"-code-verifier"))),{data:{user:null},error:t};throw t}}async updateUser(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,t))}async _updateUser(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{return await this._useSession(async r=>{const{data:n,error:a}=r;if(a)throw a;if(!n.session)throw new ks;const s=n.session;let i=null,o=null;"pkce"===this.flowType&&null!=e.email&&([i,o]=await ei(this.storage,this.storageKey));const{data:l,error:c}=await li(this.fetch,"PUT","".concat(this.url,"/user"),{headers:this.headers,redirectTo:null===t||void 0===t?void 0:t.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:i,code_challenge_method:o}),jwt:s.access_token,xform:di});if(c)throw c;return s.user=l.user,await this._saveSession(s),await this._notifyAllSubscribers("USER_UPDATED",s),{data:{user:s.user},error:null}})}catch(r){if(bs(r))return{data:{user:null},error:r};throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new ks;const t=Date.now()/1e3;let r=t,n=!0,a=null;const{payload:s}=Js(e.access_token);if(s.exp&&(r=s.exp,n=r<=t),n){const{session:t,error:r}=await this._callRefreshToken(e.refresh_token);if(r)return{data:{user:null,session:null},error:r};if(!t)return{data:{user:null,session:null},error:null};a=t}else{const{data:n,error:s}=await this._getUser(e.access_token);if(s)throw s;a={access_token:e.access_token,refresh_token:e.refresh_token,user:n.user,token_type:"bearer",expires_in:r-t,expires_at:r},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(t){if(bs(t))return{data:{session:null,user:null},error:t};throw t}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async t=>{var r;if(!e){const{data:n,error:a}=t;if(a)throw a;e=null!==(r=n.session)&&void 0!==r?r:void 0}if(!(null===e||void 0===e?void 0:e.refresh_token))throw new ks;const{session:n,error:a}=await this._callRefreshToken(e.refresh_token);return a?{data:{user:null,session:null},error:a}:n?{data:{user:n.user,session:n},error:null}:{data:{user:null,session:null},error:null}})}catch(t){if(bs(t))return{data:{user:null,session:null},error:t};throw t}}async _getSessionFromURL(e,t){try{if(!Hs())throw new Os("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Os(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(t){case"implicit":if("pkce"===this.flowType)throw new Es("Not a valid PKCE flow url.");break;case"pkce":if("implicit"===this.flowType)throw new Os("Not a valid implicit grant flow url.")}if("pkce"===t){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Es("No code detected.");const{data:t,error:r}=await this._exchangeCodeForSession(e.code);if(r)throw r;const n=new URL(window.location.href);return n.searchParams.delete("code"),window.history.replaceState(window.history.state,"",n.toString()),{data:{session:t.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:n,access_token:a,refresh_token:s,expires_in:i,expires_at:o,token_type:l}=e;if(!a||!i||!s||!l)throw new Os("No session defined in URL");const c=Math.round(Date.now()/1e3),u=parseInt(i);let d=c+u;o&&(d=parseInt(o));const h=d-c;1e3*h<=fs&&console.warn("@supabase/gotrue-js: Session as retrieved from URL expires in ".concat(h,"s, should have been closer to ").concat(u,"s"));const f=d-u;c-f>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",f,d,c):c-f<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",f,d,c);const{data:p,error:m}=await this._getUser(a);if(m)throw m;const g={provider_token:r,provider_refresh_token:n,access_token:a,expires_in:u,expires_at:d,refresh_token:s,token_type:l,user:p.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:g,redirectType:e.type},error:null}}catch(r){if(bs(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(e){return Boolean(e.access_token||e.error_description)}async _isPKCECallback(e){const t=await Ks(this.storage,"".concat(this.storageKey,"-code-verifier"));return!(!e.code||!t)}async signOut(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{scope:"global"};return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut(){let{scope:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{scope:"global"};return await this._useSession(async t=>{var r;const{data:n,error:a}=t;if(a)return{error:a};const s=null===(r=n.session)||void 0===r?void 0:r.access_token;if(s){const{error:t}=await this.admin.signOut(s,e);if(t&&(!function(e){return bs(e)&&"AuthApiError"===e.name}(t)||404!==t.status&&401!==t.status&&403!==t.status))return{error:t}}return"others"!==e&&(await this._removeSession(),await Ys(this.storage,"".concat(this.storageKey,"-code-verifier"))),{error:null}})}onAuthStateChange(e){const t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)}),r={id:t,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,r),(async()=>{await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(t)})})(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async t=>{var r,n;try{const{data:{session:n},error:a}=t;if(a)throw a;await(null===(r=this.stateChangeEmitters.get(e))||void 0===r?void 0:r.callback("INITIAL_SESSION",n)),this._debug("INITIAL_SESSION","callback id",e,"session",n)}catch(a){await(null===(n=this.stateChangeEmitters.get(e))||void 0===n?void 0:n.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",a),console.error(a)}})}async resetPasswordForEmail(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=null,n=null;"pkce"===this.flowType&&([r,n]=await ei(this.storage,this.storageKey,!0));try{return await li(this.fetch,"POST","".concat(this.url,"/recover"),{body:{email:e,code_challenge:r,code_challenge_method:n,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(a){if(bs(a))return{data:null,error:a};throw a}}async getUserIdentities(){var e;try{const{data:t,error:r}=await this.getUser();if(r)throw r;return{data:{identities:null!==(e=t.user.identities)&&void 0!==e?e:[]},error:null}}catch(t){if(bs(t))return{data:null,error:t};throw t}}async linkIdentity(e){var t;try{const{data:r,error:n}=await this._useSession(async t=>{var r,n,a,s,i;const{data:o,error:l}=t;if(l)throw l;const c=await this._getUrlForProvider("".concat(this.url,"/user/identities/authorize"),e.provider,{redirectTo:null===(r=e.options)||void 0===r?void 0:r.redirectTo,scopes:null===(n=e.options)||void 0===n?void 0:n.scopes,queryParams:null===(a=e.options)||void 0===a?void 0:a.queryParams,skipBrowserRedirect:!0});return await li(this.fetch,"GET",c,{headers:this.headers,jwt:null!==(i=null===(s=o.session)||void 0===s?void 0:s.access_token)&&void 0!==i?i:void 0})});if(n)throw n;return Hs()&&!(null===(t=e.options)||void 0===t?void 0:t.skipBrowserRedirect)&&window.location.assign(null===r||void 0===r?void 0:r.url),{data:{provider:e.provider,url:null===r||void 0===r?void 0:r.url},error:null}}catch(r){if(bs(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async unlinkIdentity(e){try{return await this._useSession(async t=>{var r,n;const{data:a,error:s}=t;if(s)throw s;return await li(this.fetch,"DELETE","".concat(this.url,"/user/identities/").concat(e.identity_id),{headers:this.headers,jwt:null!==(n=null===(r=a.session)||void 0===r?void 0:r.access_token)&&void 0!==n?n:void 0})})}catch(t){if(bs(t))return{data:null,error:t};throw t}}async _refreshAccessToken(e){const t="#_refreshAccessToken(".concat(e.substring(0,5),"...)");this._debug(t,"begin");try{const r=Date.now();return await function(e,t){const r=new Promise((r,n)=>{(async()=>{for(let a=0;a<1/0;a++)try{const n=await e(a);if(!t(a,null,n))return void r(n)}catch(Nt){if(!t(a,Nt))return void n(Nt)}})()});return r}(async r=>(r>0&&await async function(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}(200*Math.pow(2,r-1)),this._debug(t,"refreshing attempt",r),await li(this.fetch,"POST","".concat(this.url,"/token?grant_type=refresh_token"),{body:{refresh_token:e},headers:this.headers,xform:ci})),(e,t)=>{const n=200*Math.pow(2,e);return t&&Ps(t)&&Date.now()+n-r<fs})}catch(r){if(this._debug(t,"error",r),bs(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(t,"end")}}_isValidSession(e){return"object"===typeof e&&null!==e&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,t){const r=await this._getUrlForProvider("".concat(this.url,"/authorize"),e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",t,"url",r),Hs()&&!t.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e;const t="#_recoverAndRefresh()";this._debug(t,"begin");try{const r=await Ks(this.storage,this.storageKey);if(this._debug(t,"session from storage",r),!this._isValidSession(r))return this._debug(t,"session is not valid"),void(null!==r&&await this._removeSession());const n=1e3*(null!==(e=r.expires_at)&&void 0!==e?e:1/0)-Date.now()<ps;if(this._debug(t,"session has".concat(n?"":" not"," expired with margin of ").concat(ps,"s")),n){if(this.autoRefreshToken&&r.refresh_token){const{error:e}=await this._callRefreshToken(r.refresh_token);e&&(console.error(e),Ps(e)||(this._debug(t,"refresh failed with a non-retryable error, removing the session",e),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){return this._debug(t,"error",r),void console.error(r)}finally{this._debug(t,"end")}}async _callRefreshToken(e){var t,r;if(!e)throw new ks;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const n="#_callRefreshToken(".concat(e.substring(0,5),"...)");this._debug(n,"begin");try{this.refreshingDeferred=new Xs;const{data:t,error:r}=await this._refreshAccessToken(e);if(r)throw r;if(!t.session)throw new ks;await this._saveSession(t.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",t.session);const n={session:t.session,error:null};return this.refreshingDeferred.resolve(n),n}catch(a){if(this._debug(n,"error",a),bs(a)){const e={session:null,error:a};return Ps(a)||await this._removeSession(),null===(t=this.refreshingDeferred)||void 0===t||t.resolve(e),e}throw null===(r=this.refreshingDeferred)||void 0===r||r.reject(a),a}finally{this.refreshingDeferred=null,this._debug(n,"end")}}async _notifyAllSubscribers(e,t){let r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const n="#_notifyAllSubscribers(".concat(e,")");this._debug(n,"begin",t,"broadcast = ".concat(r));try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:t});const n=[],a=Array.from(this.stateChangeEmitters.values()).map(async r=>{try{await r.callback(e,t)}catch(Nt){n.push(Nt)}});if(await Promise.all(a),n.length>0){for(let e=0;e<n.length;e+=1)console.error(n[e]);throw n[0]}}finally{this._debug(n,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await $s(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await Ys(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Hs()&&(null===window||void 0===window?void 0:window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(Nt){console.error("removing visibilitychange callback failed",Nt)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),fs);this.autoRefreshTicker=e,e&&"object"===typeof e&&"function"===typeof e.unref?e.unref():"undefined"!==typeof Deno&&"function"===typeof Deno.unrefTimer&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async t=>{const{data:{session:r}}=t;if(!r||!r.refresh_token||!r.expires_at)return void this._debug("#_autoRefreshTokenTick()","no session");const n=Math.floor((1e3*r.expires_at-e)/fs);this._debug("#_autoRefreshTokenTick()","access token expires in ".concat(n," ticks, a tick lasts ").concat(fs,"ms, refresh threshold is ").concat(3," ticks")),n<=3&&await this._callRefreshToken(r.refresh_token)})}catch(Nt){console.error("Auto refresh tick failed with error. This is likely a transient error.",Nt)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(Nt){if(!(Nt.isAcquireTimeout||Nt instanceof wi))throw Nt;this._debug("auto refresh token tick lock not available")}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Hs()||!(null===window||void 0===window?void 0:window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),null===window||void 0===window||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const t="#_onVisibilityChanged(".concat(e,")");this._debug(t,"visibilityState",document.visibilityState),"visible"===document.visibilityState?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{"visible"===document.visibilityState?await this._recoverAndRefresh():this._debug(t,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting")}))):"hidden"===document.visibilityState&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,t,r){const n=["provider=".concat(encodeURIComponent(t))];if((null===r||void 0===r?void 0:r.redirectTo)&&n.push("redirect_to=".concat(encodeURIComponent(r.redirectTo))),(null===r||void 0===r?void 0:r.scopes)&&n.push("scopes=".concat(encodeURIComponent(r.scopes))),"pkce"===this.flowType){const[e,t]=await ei(this.storage,this.storageKey),r=new URLSearchParams({code_challenge:"".concat(encodeURIComponent(e)),code_challenge_method:"".concat(encodeURIComponent(t))});n.push(r.toString())}if(null===r||void 0===r?void 0:r.queryParams){const e=new URLSearchParams(r.queryParams);n.push(e.toString())}return(null===r||void 0===r?void 0:r.skipBrowserRedirect)&&n.push("skip_http_redirect=".concat(r.skipBrowserRedirect)),"".concat(e,"?").concat(n.join("&"))}async _unenroll(e){try{return await this._useSession(async t=>{var r;const{data:n,error:a}=t;return a?{data:null,error:a}:await li(this.fetch,"DELETE","".concat(this.url,"/factors/").concat(e.factorId),{headers:this.headers,jwt:null===(r=null===n||void 0===n?void 0:n.session)||void 0===r?void 0:r.access_token})})}catch(t){if(bs(t))return{data:null,error:t};throw t}}async _enroll(e){try{return await this._useSession(async t=>{var r,n;const{data:a,error:s}=t;if(s)return{data:null,error:s};const i=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},"phone"===e.factorType?{phone:e.phone}:{issuer:e.issuer}),{data:o,error:l}=await li(this.fetch,"POST","".concat(this.url,"/factors"),{body:i,headers:this.headers,jwt:null===(r=null===a||void 0===a?void 0:a.session)||void 0===r?void 0:r.access_token});return l?{data:null,error:l}:("totp"===e.factorType&&(null===(n=null===o||void 0===o?void 0:o.totp)||void 0===n?void 0:n.qr_code)&&(o.totp.qr_code="data:image/svg+xml;utf-8,".concat(o.totp.qr_code)),{data:o,error:null})})}catch(t){if(bs(t))return{data:null,error:t};throw t}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var r;const{data:n,error:a}=t;if(a)return{data:null,error:a};const{data:s,error:i}=await li(this.fetch,"POST","".concat(this.url,"/factors/").concat(e.factorId,"/verify"),{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:null===(r=null===n||void 0===n?void 0:n.session)||void 0===r?void 0:r.access_token});return i?{data:null,error:i}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+s.expires_in},s)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",s),{data:s,error:i})})}catch(t){if(bs(t))return{data:null,error:t};throw t}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var r;const{data:n,error:a}=t;return a?{data:null,error:a}:await li(this.fetch,"POST","".concat(this.url,"/factors/").concat(e.factorId,"/challenge"),{body:{channel:e.channel},headers:this.headers,jwt:null===(r=null===n||void 0===n?void 0:n.session)||void 0===r?void 0:r.access_token})})}catch(t){if(bs(t))return{data:null,error:t};throw t}})}async _challengeAndVerify(e){const{data:t,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})}async _listFactors(){const{data:{user:e},error:t}=await this.getUser();if(t)return{data:null,error:t};const r=(null===e||void 0===e?void 0:e.factors)||[],n=r.filter(e=>"totp"===e.factor_type&&"verified"===e.status),a=r.filter(e=>"phone"===e.factor_type&&"verified"===e.status);return{data:{all:r,totp:n,phone:a},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var t,r;const{data:{session:n},error:a}=e;if(a)return{data:null,error:a};if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:s}=Js(n.access_token);let i=null;s.aal&&(i=s.aal);let o=i;(null!==(r=null===(t=n.user.factors)||void 0===t?void 0:t.filter(e=>"verified"===e.status))&&void 0!==r?r:[]).length>0&&(o="aal2");return{data:{currentLevel:i,nextLevel:o,currentAuthenticationMethods:s.amr||[]},error:null}}))}async fetchJwk(e){let t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{keys:[]}).keys.find(t=>t.kid===e);if(t)return t;if(t=this.jwks.keys.find(t=>t.kid===e),t&&this.jwks_cached_at+6e5>Date.now())return t;const{data:r,error:n}=await li(this.fetch,"GET","".concat(this.url,"/.well-known/jwks.json"),{headers:this.headers});if(n)throw n;if(!r.keys||0===r.keys.length)throw new Ts("JWKS is empty");if(this.jwks=r,this.jwks_cached_at=Date.now(),t=r.keys.find(t=>t.kid===e),!t)throw new Ts("No matching signing key found in JWKS");return t}async getClaims(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{keys:[]};try{let r=e;if(!r){const{data:e,error:t}=await this.getSession();if(t||!e.session)return{data:null,error:t};r=e.session.access_token}const{header:n,payload:a,signature:s,raw:{header:i,payload:o}}=Js(r);if(function(e){if(!e)throw new Error("Missing exp claim");if(e<=Math.floor(Date.now()/1e3))throw new Error("JWT has expired")}(a.exp),!n.kid||"HS256"===n.alg||!("crypto"in globalThis)||!("subtle"in globalThis.crypto)){const{error:e}=await this.getUser(r);if(e)throw e;return{data:{claims:a,header:n,signature:s},error:null}}const l=function(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}(n.alg),c=await this.fetchJwk(n.kid,t),u=await crypto.subtle.importKey("jwk",c,l,!0,["verify"]);if(!await crypto.subtle.verify(l,u,s,function(e){const t=[];return Bs(e,e=>t.push(e)),new Uint8Array(t)}("".concat(i,".").concat(o))))throw new Ts("Invalid JWT signature");return{data:{claims:a,header:n,signature:s},error:null}}catch(r){if(bs(r))return{data:null,error:r};throw r}}}_i.nextInstanceID=0;const Oi=_i;class Ei extends Oi{constructor(e){super(e)}}var Ci=function(e,t,r,n){return new(r||(r=Promise))(function(a,s){function i(e){try{l(n.next(e))}catch(Nt){s(Nt)}}function o(e){try{l(n.throw(e))}catch(Nt){s(Nt)}}function l(e){e.done?a(e.value):function(e){return e instanceof r?e:new r(function(t){t(e)})}(e.value).then(i,o)}l((n=n.apply(e,t||[])).next())})};class Pi{constructor(e,t,r){var n,a,s;if(this.supabaseUrl=e,this.supabaseKey=t,!e)throw new Error("supabaseUrl is required.");if(!t)throw new Error("supabaseKey is required.");const i=(o=e).endsWith("/")?o:o+"/";var o;const l=new URL(i);this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const c="sb-".concat(l.hostname.split(".")[0],"-auth-token"),u=function(e,t){var r,n;const{db:a,auth:s,realtime:i,global:o}=e,{db:l,auth:c,realtime:u,global:d}=t,h={db:Object.assign(Object.assign({},l),a),auth:Object.assign(Object.assign({},c),s),realtime:Object.assign(Object.assign({},u),i),global:Object.assign(Object.assign(Object.assign({},d),o),{headers:Object.assign(Object.assign({},null!==(r=null===d||void 0===d?void 0:d.headers)&&void 0!==r?r:{}),null!==(n=null===o||void 0===o?void 0:o.headers)&&void 0!==n?n:{})}),accessToken:()=>ds(this,void 0,void 0,function*(){return""})};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}(null!==r&&void 0!==r?r:{},{db:as,realtime:is,auth:Object.assign(Object.assign({},ss),{storageKey:c}),global:ns});this.storageKey=null!==(n=u.auth.storageKey)&&void 0!==n?n:"",this.headers=null!==(a=u.global.headers)&&void 0!==a?a:{},u.accessToken?(this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(e,t)=>{throw new Error("@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.".concat(String(t)," is not possible"))}})):this.auth=this._initSupabaseAuthClient(null!==(s=u.auth)&&void 0!==s?s:{},this.headers,u.global.fetch),this.fetch=us(t,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.rest=new Zn(new URL("rest/v1",l).href,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),u.accessToken||this._listenForAuthEvents()}get functions(){return new Jn(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new ts(this.storageUrl.href,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.rest.rpc(e,t,r)}channel(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{config:{}};return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,t;return Ci(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return null!==(t=null===(e=r.session)||void 0===e?void 0:e.access_token)&&void 0!==t?t:null})}_initSupabaseAuthClient(e,t,r){let{autoRefreshToken:n,persistSession:a,detectSessionInUrl:s,storage:i,storageKey:o,flowType:l,lock:c,debug:u}=e;const d={Authorization:"Bearer ".concat(this.supabaseKey),apikey:"".concat(this.supabaseKey)};return new Ei({url:this.authUrl.href,headers:Object.assign(Object.assign({},d),t),storageKey:o,autoRefreshToken:n,persistSession:a,detectSessionInUrl:s,storage:i,flowType:l,lock:c,debug:u,fetch:r,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new Da(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},null===e||void 0===e?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",null===t||void 0===t?void 0:t.access_token)})}_handleTokenChanged(e,t,r){"TOKEN_REFRESHED"!==e&&"SIGNED_IN"!==e||this.changedAccessToken===r?"SIGNED_OUT"===e&&(this.realtime.setAuth(),"STORAGE"==t&&this.auth.signOut(),this.changedAccessToken=void 0):this.changedAccessToken=r}}const Ai="https://bkaventotbukoxksmdgy.supabase.co",Ti="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJrYXZlbnRvdGJ1a294a3NtZGd5Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTIyNTQwNzAsImV4cCI6MjA2NzgzMDA3MH0.zXmwz6q5ERe0xfafn1t6u2aN2qi01i1IGAQhML7hVzE";const Di=((e,t,r)=>new Pi(e,t,r))(Ai,Ti,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0},realtime:{params:{eventsPerSecond:10}}}),Mi=async e=>{try{const t=await e();return{data:t.data,error:t.error}}catch(t){return console.error("Error in safeQuery:",t),{data:null,error:t}}};const Ii=Vr("trending-down",[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]]),Ri=e=>{let{title:t,value:r,subtitle:n,icon:a,trend:s,color:i="blue",loading:o=!1}=e;const l={blue:{bg:"bg-blue-50",icon:"text-blue-600",text:"text-blue-600"},green:{bg:"bg-green-50",icon:"text-green-600",text:"text-green-600"},purple:{bg:"bg-purple-50",icon:"text-purple-600",text:"text-purple-600"},yellow:{bg:"bg-yellow-50",icon:"text-yellow-600",text:"text-yellow-600"},red:{bg:"bg-red-50",icon:"text-red-600",text:"text-red-600"}}[i];return o?(0,$r.jsx)("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6",children:(0,$r.jsx)("div",{className:"animate-pulse",children:(0,$r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,$r.jsxs)("div",{className:"space-y-2 flex-1",children:[(0,$r.jsx)("div",{className:"h-4 bg-gray-200 rounded w-3/4"}),(0,$r.jsx)("div",{className:"h-8 bg-gray-200 rounded w-1/2"}),(0,$r.jsx)("div",{className:"h-3 bg-gray-200 rounded w-2/3"})]}),(0,$r.jsx)("div",{className:"w-12 h-12 bg-gray-200 rounded-lg"})]})})}):(0,$r.jsx)("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6 hover:shadow-xl transition-shadow duration-300",children:(0,$r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,$r.jsxs)("div",{className:"flex-1",children:[(0,$r.jsx)("p",{className:"text-sm font-medium text-gray-600 mb-1",children:t}),(0,$r.jsx)("p",{className:"text-3xl font-bold text-gray-900 mb-1",children:r}),n&&(0,$r.jsx)("p",{className:"text-sm text-gray-500 mb-2",children:n}),s&&(0,$r.jsxs)("div",{className:"flex items-center space-x-1",children:[s.isPositive?(0,$r.jsx)(Hn,{size:16,className:"text-green-500"}):(0,$r.jsx)(Ii,{size:16,className:"text-red-500"}),(0,$r.jsxs)("span",{className:pn()("text-sm font-medium",s.isPositive?"text-green-600":"text-red-600"),children:[s.percentage,"%"]}),(0,$r.jsx)("span",{className:"text-sm text-gray-500",children:"vs mes anterior"})]})]}),(0,$r.jsx)("div",{className:pn()("p-3 rounded-lg",l.bg),children:(0,$r.jsx)(a,{className:pn()("w-8 h-8",l.icon)})})]})})};function Li(e){var t,r,n="";if("string"==typeof e||"number"==typeof e)n+=e;else if("object"==typeof e)if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=Li(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}const zi=function(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=Li(e))&&(n&&(n+=" "),n+=t);return n};var Fi=r(9889),Bi=r.n(Fi),Ui=r(620),qi=r.n(Ui),Hi=r(5268),Vi=r.n(Hi),Wi=r(3097),Gi=r.n(Wi),$i=r(9160),Ki=r.n($i),Yi=r(9686),Xi=r.n(Yi),Ji=function(e){return 0===e?0:e>0?1:-1},Qi=function(e){return qi()(e)&&e.indexOf("%")===e.length-1},Zi=function(e){return Ki()(e)&&!Vi()(e)},eo=function(e){return Zi(e)||qi()(e)},to=0,ro=function(e){var t=++to;return"".concat(e||"").concat(t)},no=function(e,t){var r,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!Zi(e)&&!qi()(e))return n;if(Qi(e)){var s=e.indexOf("%");r=t*parseFloat(e.slice(0,s))/100}else r=+e;return Vi()(r)&&(r=n),a&&r>t&&(r=t),r},ao=function(e){if(!e)return null;var t=Object.keys(e);return t&&t.length?e[t[0]]:null},so=function(e,t){return Zi(e)&&Zi(t)?function(r){return e+r*(t-e)}:function(){return t}};function io(e,t,r){return e&&e.length?e.find(function(e){return e&&("function"===typeof t?t(e):Gi()(e,t))===r}):null}var oo=function(e,t){return Zi(e)&&Zi(t)?e-t:qi()(e)&&qi()(t)?e.localeCompare(t):e instanceof Date&&t instanceof Date?e.getTime()-t.getTime():String(e).localeCompare(String(t))},lo=function(e,t){for(var r=arguments.length,n=new Array(r>2?r-2:0),a=2;a<r;a++)n[a-2]=arguments[a]},co=r(1629),uo=r.n(co),ho=r(6686),fo=r.n(ho),po=r(9062);function mo(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function go(e){return go="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},go(e)}var yo=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],vo=["points","pathLength"],xo={svg:["viewBox","children"],polygon:vo,polyline:vo},bo=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],wo=function(e,r){if(!e||"function"===typeof e||"boolean"===typeof e)return null;var n=e;if((0,t.isValidElement)(e)&&(n=e.props),!fo()(n))return null;var a={};return Object.keys(n).forEach(function(e){bo.includes(e)&&(a[e]=r||function(t){return n[e](n,t)})}),a},jo=function(e,t,r){if(!fo()(e)||"object"!==go(e))return null;var n=null;return Object.keys(e).forEach(function(a){var s=e[a];bo.includes(a)&&"function"===typeof s&&(n||(n={}),n[a]=function(e,t,r){return function(n){return e(t,r,n),null}}(s,t,r))}),n},No=["children"],ko=["children"];function So(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function _o(e){return _o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_o(e)}var Oo={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Eo=function(e){return"string"===typeof e?e:e?e.displayName||e.name||"Component":""},Co=null,Po=null,Ao=function e(r){if(r===Co&&Array.isArray(Po))return Po;var n=[];return t.Children.forEach(r,function(t){Xi()(t)||((0,po.isFragment)(t)?n=n.concat(e(t.props.children)):n.push(t))}),Po=n,Co=r,n};function To(e,t){var r=[],n=[];return n=Array.isArray(t)?t.map(function(e){return Eo(e)}):[Eo(t)],Ao(e).forEach(function(e){var t=Gi()(e,"type.displayName")||Gi()(e,"type.name");-1!==n.indexOf(t)&&r.push(e)}),r}function Do(e,t){var r=To(e,t);return r&&r[0]}var Mo=function(e){if(!e||!e.props)return!1;var t=e.props,r=t.width,n=t.height;return!(!Zi(r)||r<=0||!Zi(n)||n<=0)},Io=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],Ro=function(e){return e&&e.type&&qi()(e.type)&&Io.indexOf(e.type)>=0},Lo=function(e,r,n){if(!e||"function"===typeof e||"boolean"===typeof e)return null;var a=e;if((0,t.isValidElement)(e)&&(a=e.props),!fo()(a))return null;var s={};return Object.keys(a).forEach(function(e){var t;(function(e,t,r,n){var a,s=null!==(a=null===xo||void 0===xo?void 0:xo[n])&&void 0!==a?a:[];return t.startsWith("data-")||!uo()(e)&&(n&&s.includes(t)||yo.includes(t))||r&&bo.includes(t)})(null===(t=a)||void 0===t?void 0:t[e],e,r,n)&&(s[e]=a[e])}),s},zo=function e(r,n){if(r===n)return!0;var a=t.Children.count(r);if(a!==t.Children.count(n))return!1;if(0===a)return!0;if(1===a)return Fo(Array.isArray(r)?r[0]:r,Array.isArray(n)?n[0]:n);for(var s=0;s<a;s++){var i=r[s],o=n[s];if(Array.isArray(i)||Array.isArray(o)){if(!e(i,o))return!1}else if(!Fo(i,o))return!1}return!0},Fo=function(e,t){if(Xi()(e)&&Xi()(t))return!0;if(!Xi()(e)&&!Xi()(t)){var r=e.props||{},n=r.children,a=So(r,No),s=t.props||{},i=s.children,o=So(s,ko);return n&&i?mo(a,o)&&zo(n,i):!n&&!i&&mo(a,o)}return!1},Bo=function(e,t){var r=[],n={};return Ao(e).forEach(function(e,a){if(Ro(e))r.push(e);else if(e){var s=Eo(e.type),i=t[s]||{},o=i.handler,l=i.once;if(o&&(!l||!n[s])){var c=o(e,s,a);r.push(c),n[s]=!0}}}),r};function Uo(e){return Uo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uo(e)}function qo(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Ho(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?qo(Object(r),!0).forEach(function(t){Vo(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qo(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Vo(e,t,r){return t=function(e){var t=function(e,t){if("object"!=Uo(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Uo(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Uo(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Wo(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,s,i,o=[],l=!0,c=!1;try{if(s=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=s.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return o}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Go(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Go(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Go(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var $o=(0,t.forwardRef)(function(e,r){var n=e.aspect,a=e.initialDimension,s=void 0===a?{width:-1,height:-1}:a,i=e.width,o=void 0===i?"100%":i,l=e.height,c=void 0===l?"100%":l,u=e.minWidth,d=void 0===u?0:u,h=e.minHeight,f=e.maxHeight,p=e.children,m=e.debounce,g=void 0===m?0:m,y=e.id,v=e.className,x=e.onResize,b=e.style,w=void 0===b?{}:b,j=(0,t.useRef)(null),N=(0,t.useRef)();N.current=x,(0,t.useImperativeHandle)(r,function(){return Object.defineProperty(j.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),j.current},configurable:!0})});var k=Wo((0,t.useState)({containerWidth:s.width,containerHeight:s.height}),2),S=k[0],_=k[1],O=(0,t.useCallback)(function(e,t){_(function(r){var n=Math.round(e),a=Math.round(t);return r.containerWidth===n&&r.containerHeight===a?r:{containerWidth:n,containerHeight:a}})},[]);(0,t.useEffect)(function(){var e=function(e){var t,r=e[0].contentRect,n=r.width,a=r.height;O(n,a),null===(t=N.current)||void 0===t||t.call(N,n,a)};g>0&&(e=Bi()(e,g,{trailing:!0,leading:!1}));var t=new ResizeObserver(e),r=j.current.getBoundingClientRect(),n=r.width,a=r.height;return O(n,a),t.observe(j.current),function(){t.disconnect()}},[O,g]);var E=(0,t.useMemo)(function(){var e=S.containerWidth,r=S.containerHeight;if(e<0||r<0)return null;lo(Qi(o)||Qi(c),"The width(%s) and height(%s) are both fixed numbers,\n       maybe you don't need to use a ResponsiveContainer.",o,c),lo(!n||n>0,"The aspect(%s) must be greater than zero.",n);var a=Qi(o)?e:o,s=Qi(c)?r:c;n&&n>0&&(a?s=a/n:s&&(a=s*n),f&&s>f&&(s=f)),lo(a>0||s>0,"The width(%s) and height(%s) of chart should be greater than 0,\n       please check the style of container, or the props width(%s) and height(%s),\n       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the\n       height and width.",a,s,o,c,d,h,n);var i=!Array.isArray(p)&&Eo(p.type).endsWith("Chart");return t.Children.map(p,function(e){return t.isValidElement(e)?(0,t.cloneElement)(e,Ho({width:a,height:s},i?{style:Ho({height:"100%",width:"100%",maxHeight:s,maxWidth:a},e.props.style)}:{})):e})},[n,p,c,f,h,d,S,o]);return t.createElement("div",{id:y?"".concat(y):void 0,className:zi("recharts-responsive-container",v),style:Ho(Ho({},w),{},{width:o,height:c,minWidth:d,minHeight:h,maxHeight:f}),ref:j},E)}),Ko=r(6604),Yo=r.n(Ko),Xo=r(7424),Jo=r.n(Xo),Qo="Invariant failed";function Zo(e,t){if(!e)throw new Error(Qo)}var el=["children","width","height","viewBox","className","style","title","desc"];function tl(){return tl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},tl.apply(this,arguments)}function rl(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function nl(e){var r=e.children,n=e.width,a=e.height,s=e.viewBox,i=e.className,o=e.style,l=e.title,c=e.desc,u=rl(e,el),d=s||{width:n,height:a,x:0,y:0},h=zi("recharts-surface",i);return t.createElement("svg",tl({},Lo(u,!0,"svg"),{className:h,width:n,height:a,style:o,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),t.createElement("title",null,l),t.createElement("desc",null,c),r)}var al=["children","className"];function sl(){return sl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},sl.apply(this,arguments)}function il(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var ol=t.forwardRef(function(e,r){var n=e.children,a=e.className,s=il(e,al),i=zi("recharts-layer",a);return t.createElement("g",sl({className:i},Lo(s,!0),{ref:r}),n)});function ll(e){return ll="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ll(e)}function cl(){return cl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},cl.apply(this,arguments)}function ul(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,s,i,o=[],l=!0,c=!1;try{if(s=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=s.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return o}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return dl(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return dl(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function dl(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function hl(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function fl(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?hl(Object(r),!0).forEach(function(t){pl(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hl(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function pl(e,t,r){return t=function(e){var t=function(e,t){if("object"!=ll(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=ll(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ll(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ml(e){return Array.isArray(e)&&eo(e[0])&&eo(e[1])?e.join(" ~ "):e}var gl=function(e){var r=e.separator,n=void 0===r?" : ":r,a=e.contentStyle,s=void 0===a?{}:a,i=e.itemStyle,o=void 0===i?{}:i,l=e.labelStyle,c=void 0===l?{}:l,u=e.payload,d=e.formatter,h=e.itemSorter,f=e.wrapperClassName,p=e.labelClassName,m=e.label,g=e.labelFormatter,y=e.accessibilityLayer,v=void 0!==y&&y,x=fl({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},s),b=fl({margin:0},c),w=!Xi()(m),j=w?m:"",N=zi("recharts-default-tooltip",f),k=zi("recharts-tooltip-label",p);w&&g&&void 0!==u&&null!==u&&(j=g(m,u));var S=v?{role:"status","aria-live":"assertive"}:{};return t.createElement("div",cl({className:N,style:x},S),t.createElement("p",{className:k,style:b},t.isValidElement(j)?j:"".concat(j)),function(){if(u&&u.length){var e=(h?Jo()(u,h):u).map(function(e,r){if("none"===e.type)return null;var a=fl({display:"block",paddingTop:4,paddingBottom:4,color:e.color||"#000"},o),s=e.formatter||d||ml,i=e.value,l=e.name,c=i,h=l;if(s&&null!=c&&null!=h){var f=s(i,l,e,r,u);if(Array.isArray(f)){var p=ul(f,2);c=p[0],h=p[1]}else c=f}return t.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(r),style:a},eo(h)?t.createElement("span",{className:"recharts-tooltip-item-name"},h):null,eo(h)?t.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,t.createElement("span",{className:"recharts-tooltip-item-value"},c),t.createElement("span",{className:"recharts-tooltip-item-unit"},e.unit||""))});return t.createElement("ul",{className:"recharts-tooltip-item-list",style:{padding:0,margin:0}},e)}return null}())};function yl(e){return yl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yl(e)}function vl(e,t,r){return t=function(e){var t=function(e,t){if("object"!=yl(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=yl(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==yl(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var xl="recharts-tooltip-wrapper",bl={visibility:"hidden"};function wl(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return zi(xl,vl(vl(vl(vl({},"".concat(xl,"-right"),Zi(r)&&t&&Zi(t.x)&&r>=t.x),"".concat(xl,"-left"),Zi(r)&&t&&Zi(t.x)&&r<t.x),"".concat(xl,"-bottom"),Zi(n)&&t&&Zi(t.y)&&n>=t.y),"".concat(xl,"-top"),Zi(n)&&t&&Zi(t.y)&&n<t.y))}function jl(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,a=e.offsetTopLeft,s=e.position,i=e.reverseDirection,o=e.tooltipDimension,l=e.viewBox,c=e.viewBoxDimension;if(s&&Zi(s[n]))return s[n];var u=r[n]-o-a,d=r[n]+a;return t[n]?i[n]?u:d:i[n]?u<l[n]?Math.max(d,l[n]):Math.max(u,l[n]):d+o>l[n]+c?Math.max(u,l[n]):Math.max(d,l[n])}function Nl(e){return Nl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nl(e)}function kl(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Sl(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?kl(Object(r),!0).forEach(function(t){Al(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kl(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function _l(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Tl(n.key),n)}}function Ol(e,t,r){return t=Cl(t),function(e,t){if(t&&("object"===Nl(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,El()?Reflect.construct(t,r||[],Cl(e).constructor):t.apply(e,r))}function El(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(El=function(){return!!e})()}function Cl(e){return Cl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Cl(e)}function Pl(e,t){return Pl=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Pl(e,t)}function Al(e,t,r){return(t=Tl(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Tl(e){var t=function(e,t){if("object"!=Nl(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Nl(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Nl(t)?t:t+""}var Dl=function(e){function r(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return Al(e=Ol(this,r,[].concat(n)),"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),Al(e,"handleKeyDown",function(t){var r,n,a,s;"Escape"===t.key&&e.setState({dismissed:!0,dismissedAtCoordinate:{x:null!==(r=null===(n=e.props.coordinate)||void 0===n?void 0:n.x)&&void 0!==r?r:0,y:null!==(a=null===(s=e.props.coordinate)||void 0===s?void 0:s.y)&&void 0!==a?a:0}})}),e}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Pl(e,t)}(r,e),n=r,(a=[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var e=this.wrapperNode.getBoundingClientRect();(Math.abs(e.width-this.state.lastBoundingBox.width)>1||Math.abs(e.height-this.state.lastBoundingBox.height)>1)&&this.setState({lastBoundingBox:{width:e.width,height:e.height}})}else-1===this.state.lastBoundingBox.width&&-1===this.state.lastBoundingBox.height||this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var e,t;this.props.active&&this.updateBBox(),this.state.dismissed&&((null===(e=this.props.coordinate)||void 0===e?void 0:e.x)===this.state.dismissedAtCoordinate.x&&(null===(t=this.props.coordinate)||void 0===t?void 0:t.y)===this.state.dismissedAtCoordinate.y||(this.state.dismissed=!1))}},{key:"render",value:function(){var e=this,r=this.props,n=r.active,a=r.allowEscapeViewBox,s=r.animationDuration,i=r.animationEasing,o=r.children,l=r.coordinate,c=r.hasPayload,u=r.isAnimationActive,d=r.offset,h=r.position,f=r.reverseDirection,p=r.useTranslate3d,m=r.viewBox,g=r.wrapperStyle,y=function(e){var t,r,n=e.allowEscapeViewBox,a=e.coordinate,s=e.offsetTopLeft,i=e.position,o=e.reverseDirection,l=e.tooltipBox,c=e.useTranslate3d,u=e.viewBox;return{cssProperties:l.height>0&&l.width>0&&a?function(e){var t=e.translateX,r=e.translateY;return{transform:e.useTranslate3d?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}({translateX:t=jl({allowEscapeViewBox:n,coordinate:a,key:"x",offsetTopLeft:s,position:i,reverseDirection:o,tooltipDimension:l.width,viewBox:u,viewBoxDimension:u.width}),translateY:r=jl({allowEscapeViewBox:n,coordinate:a,key:"y",offsetTopLeft:s,position:i,reverseDirection:o,tooltipDimension:l.height,viewBox:u,viewBoxDimension:u.height}),useTranslate3d:c}):bl,cssClasses:wl({translateX:t,translateY:r,coordinate:a})}}({allowEscapeViewBox:a,coordinate:l,offsetTopLeft:d,position:h,reverseDirection:f,tooltipBox:this.state.lastBoundingBox,useTranslate3d:p,viewBox:m}),v=y.cssClasses,x=y.cssProperties,b=Sl(Sl({transition:u&&n?"transform ".concat(s,"ms ").concat(i):void 0},x),{},{pointerEvents:"none",visibility:!this.state.dismissed&&n&&c?"visible":"hidden",position:"absolute",top:0,left:0},g);return t.createElement("div",{tabIndex:-1,className:v,style:b,ref:function(t){e.wrapperNode=t}},o)}}])&&_l(n.prototype,a),s&&_l(n,s),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,a,s}(t.PureComponent),Ml={isSsr:!("undefined"!==typeof window&&window.document&&window.document.createElement&&window.setTimeout),get:function(e){return Ml[e]},set:function(e,t){if("string"===typeof e)Ml[e]=t;else{var r=Object.keys(e);r&&r.length&&r.forEach(function(t){Ml[t]=e[t]})}}},Il=r(977),Rl=r.n(Il);function Ll(e,t,r){return!0===t?Rl()(e,r):uo()(t)?Rl()(e,t):e}function zl(e){return zl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zl(e)}function Fl(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Bl(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Fl(Object(r),!0).forEach(function(t){Gl(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Fl(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Ul(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,$l(n.key),n)}}function ql(e,t,r){return t=Vl(t),function(e,t){if(t&&("object"===zl(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Hl()?Reflect.construct(t,r||[],Vl(e).constructor):t.apply(e,r))}function Hl(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(Hl=function(){return!!e})()}function Vl(e){return Vl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Vl(e)}function Wl(e,t){return Wl=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Wl(e,t)}function Gl(e,t,r){return(t=$l(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $l(e){var t=function(e,t){if("object"!=zl(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=zl(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==zl(t)?t:t+""}function Kl(e){return e.dataKey}var Yl=function(e){function r(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),ql(this,r,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Wl(e,t)}(r,e),n=r,(a=[{key:"render",value:function(){var e=this,r=this.props,n=r.active,a=r.allowEscapeViewBox,s=r.animationDuration,i=r.animationEasing,o=r.content,l=r.coordinate,c=r.filterNull,u=r.isAnimationActive,d=r.offset,h=r.payload,f=r.payloadUniqBy,p=r.position,m=r.reverseDirection,g=r.useTranslate3d,y=r.viewBox,v=r.wrapperStyle,x=null!==h&&void 0!==h?h:[];c&&x.length&&(x=Ll(h.filter(function(t){return null!=t.value&&(!0!==t.hide||e.props.includeHidden)}),f,Kl));var b=x.length>0;return t.createElement(Dl,{allowEscapeViewBox:a,animationDuration:s,animationEasing:i,isAnimationActive:u,active:n,coordinate:l,hasPayload:b,offset:d,position:p,reverseDirection:m,useTranslate3d:g,viewBox:y,wrapperStyle:v},function(e,r){return t.isValidElement(e)?t.cloneElement(e,r):"function"===typeof e?t.createElement(e,r):t.createElement(gl,r)}(o,Bl(Bl({},this.props),{},{payload:x})))}}])&&Ul(n.prototype,a),s&&Ul(n,s),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,a,s}(t.PureComponent);Gl(Yl,"displayName","Tooltip"),Gl(Yl,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Ml.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var Xl=r(643),Jl=r.n(Xl);Math.abs,Math.atan2;const Ql=Math.cos,Zl=(Math.max,Math.min,Math.sin),ec=Math.sqrt,tc=Math.PI,rc=2*tc;const nc={draw(e,t){const r=ec(t/tc);e.moveTo(r,0),e.arc(0,0,r,0,rc)}},ac={draw(e,t){const r=ec(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},sc=ec(1/3),ic=2*sc,oc={draw(e,t){const r=ec(t/ic),n=r*sc;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},lc={draw(e,t){const r=ec(t),n=-r/2;e.rect(n,n,r,r)}},cc=Zl(tc/10)/Zl(7*tc/10),uc=Zl(rc/10)*cc,dc=-Ql(rc/10)*cc,hc={draw(e,t){const r=ec(.8908130915292852*t),n=uc*r,a=dc*r;e.moveTo(0,-r),e.lineTo(n,a);for(let s=1;s<5;++s){const t=rc*s/5,i=Ql(t),o=Zl(t);e.lineTo(o*r,-i*r),e.lineTo(i*n-o*a,o*n+i*a)}e.closePath()}},fc=ec(3),pc={draw(e,t){const r=-ec(t/(3*fc));e.moveTo(0,2*r),e.lineTo(-fc*r,-r),e.lineTo(fc*r,-r),e.closePath()}},mc=-.5,gc=ec(3)/2,yc=1/ec(12),vc=3*(yc/2+1),xc={draw(e,t){const r=ec(t/vc),n=r/2,a=r*yc,s=n,i=r*yc+r,o=-s,l=i;e.moveTo(n,a),e.lineTo(s,i),e.lineTo(o,l),e.lineTo(mc*n-gc*a,gc*n+mc*a),e.lineTo(mc*s-gc*i,gc*s+mc*i),e.lineTo(mc*o-gc*l,gc*o+mc*l),e.lineTo(mc*n+gc*a,mc*a-gc*n),e.lineTo(mc*s+gc*i,mc*i-gc*s),e.lineTo(mc*o+gc*l,mc*l-gc*o),e.closePath()}};function bc(e){return function(){return e}}var wc,jc,Nc,kc,Sc,_c,Oc,Ec,Cc,Pc,Ac,Tc,Dc,Mc;const Ic=Math.PI,Rc=2*Ic,Lc=1e-6,zc=Rc-Lc;function Fc(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}class Bc{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=null==e?Fc:function(e){let t=Math.floor(e);if(!(t>=0))throw new Error("invalid digits: ".concat(e));if(t>15)return Fc;const r=10**t;return function(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=Math.round(arguments[t]*r)/r+e[t]}}(e)}moveTo(e,t){this._append(wc||(wc=jt(["M",",",""])),this._x0=this._x1=+e,this._y0=this._y1=+t)}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append(jc||(jc=jt(["Z"]))))}lineTo(e,t){this._append(Nc||(Nc=jt(["L",",",""])),this._x1=+e,this._y1=+t)}quadraticCurveTo(e,t,r,n){this._append(kc||(kc=jt(["Q",",",",",",",""])),+e,+t,this._x1=+r,this._y1=+n)}bezierCurveTo(e,t,r,n,a,s){this._append(Sc||(Sc=jt(["C",",",",",",",",",",",""])),+e,+t,+r,+n,this._x1=+a,this._y1=+s)}arcTo(e,t,r,n,a){if(e=+e,t=+t,r=+r,n=+n,(a=+a)<0)throw new Error("negative radius: ".concat(a));let s=this._x1,i=this._y1,o=r-e,l=n-t,c=s-e,u=i-t,d=c*c+u*u;if(null===this._x1)this._append(_c||(_c=jt(["M",",",""])),this._x1=e,this._y1=t);else if(d>Lc)if(Math.abs(u*o-l*c)>Lc&&a){let h=r-s,f=n-i,p=o*o+l*l,m=h*h+f*f,g=Math.sqrt(p),y=Math.sqrt(d),v=a*Math.tan((Ic-Math.acos((p+d-m)/(2*g*y)))/2),x=v/y,b=v/g;Math.abs(x-1)>Lc&&this._append(Ec||(Ec=jt(["L",",",""])),e+x*c,t+x*u),this._append(Cc||(Cc=jt(["A",",",",0,0,",",",",",""])),a,a,+(u*h>c*f),this._x1=e+b*o,this._y1=t+b*l)}else this._append(Oc||(Oc=jt(["L",",",""])),this._x1=e,this._y1=t);else;}arc(e,t,r,n,a,s){if(e=+e,t=+t,s=!!s,(r=+r)<0)throw new Error("negative radius: ".concat(r));let i=r*Math.cos(n),o=r*Math.sin(n),l=e+i,c=t+o,u=1^s,d=s?n-a:a-n;null===this._x1?this._append(Pc||(Pc=jt(["M",",",""])),l,c):(Math.abs(this._x1-l)>Lc||Math.abs(this._y1-c)>Lc)&&this._append(Ac||(Ac=jt(["L",",",""])),l,c),r&&(d<0&&(d=d%Rc+Rc),d>zc?this._append(Tc||(Tc=jt(["A",",",",0,1,",",",",","A",",",",0,1,",",",",",""])),r,r,u,e-i,t-o,r,r,u,this._x1=l,this._y1=c):d>Lc&&this._append(Dc||(Dc=jt(["A",",",",0,",",",",",",",""])),r,r,+(d>=Ic),u,this._x1=e+r*Math.cos(a),this._y1=t+r*Math.sin(a)))}rect(e,t,r,n){this._append(Mc||(Mc=jt(["M",",","h","v","h","Z"])),this._x0=this._x1=+e,this._y0=this._y1=+t,r=+r,+n,-r)}toString(){return this._}}function Uc(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(null==r)t=null;else{const e=Math.floor(r);if(!(e>=0))throw new RangeError("invalid digits: ".concat(r));t=e}return e},()=>new Bc(t)}ec(3),ec(3);function qc(e){return qc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qc(e)}var Hc=["type","size","sizeType"];function Vc(){return Vc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Vc.apply(this,arguments)}function Wc(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Gc(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Wc(Object(r),!0).forEach(function(t){$c(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Wc(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function $c(e,t,r){return t=function(e){var t=function(e,t){if("object"!=qc(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=qc(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==qc(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Kc(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var Yc={symbolCircle:nc,symbolCross:ac,symbolDiamond:oc,symbolSquare:lc,symbolStar:hc,symbolTriangle:pc,symbolWye:xc},Xc=Math.PI/180,Jc=function(e){var r=e.type,n=void 0===r?"circle":r,a=e.size,s=void 0===a?64:a,i=e.sizeType,o=void 0===i?"area":i,l=Gc(Gc({},Kc(e,Hc)),{},{type:n,size:s,sizeType:o}),c=l.className,u=l.cx,d=l.cy,h=Lo(l,!0);return u===+u&&d===+d&&s===+s?t.createElement("path",Vc({},h,{className:zi("recharts-symbols",c),transform:"translate(".concat(u,", ").concat(d,")"),d:function(){var e=function(e){var t="symbol".concat(Jl()(e));return Yc[t]||nc}(n),t=function(e,t){let r=null,n=Uc(a);function a(){let a;if(r||(r=a=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),a)return r=null,a+""||null}return e="function"===typeof e?e:bc(e||nc),t="function"===typeof t?t:bc(void 0===t?64:+t),a.type=function(t){return arguments.length?(e="function"===typeof t?t:bc(t),a):e},a.size=function(e){return arguments.length?(t="function"===typeof e?e:bc(+e),a):t},a.context=function(e){return arguments.length?(r=null==e?null:e,a):r},a}().type(e).size(function(e,t,r){if("area"===t)return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return.5*e*e/Math.sqrt(3);case"square":return e*e;case"star":var n=18*Xc;return 1.25*e*e*(Math.tan(n)-Math.tan(2*n)*Math.pow(Math.tan(n),2));case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}}(s,o,n));return t()}()})):null};function Qc(e){return Qc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qc(e)}function Zc(){return Zc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Zc.apply(this,arguments)}function eu(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function tu(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ou(n.key),n)}}function ru(e,t,r){return t=au(t),function(e,t){if(t&&("object"===Qc(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,nu()?Reflect.construct(t,r||[],au(e).constructor):t.apply(e,r))}function nu(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(nu=function(){return!!e})()}function au(e){return au=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},au(e)}function su(e,t){return su=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},su(e,t)}function iu(e,t,r){return(t=ou(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ou(e){var t=function(e,t){if("object"!=Qc(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Qc(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Qc(t)?t:t+""}Jc.registerSymbol=function(e,t){Yc["symbol".concat(Jl()(e))]=t};var lu=32,cu=function(e){function r(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),ru(this,r,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&su(e,t)}(r,e),n=r,a=[{key:"renderIcon",value:function(e){var r=this.props.inactiveColor,n=16,a=lu/6,s=lu/3,i=e.inactive?r:e.color;if("plainline"===e.type)return t.createElement("line",{strokeWidth:4,fill:"none",stroke:i,strokeDasharray:e.payload.strokeDasharray,x1:0,y1:n,x2:lu,y2:n,className:"recharts-legend-icon"});if("line"===e.type)return t.createElement("path",{strokeWidth:4,fill:"none",stroke:i,d:"M0,".concat(n,"h").concat(s,"\n            A").concat(a,",").concat(a,",0,1,1,").concat(2*s,",").concat(n,"\n            H").concat(lu,"M").concat(2*s,",").concat(n,"\n            A").concat(a,",").concat(a,",0,1,1,").concat(s,",").concat(n),className:"recharts-legend-icon"});if("rect"===e.type)return t.createElement("path",{stroke:"none",fill:i,d:"M0,".concat(4,"h").concat(lu,"v").concat(24,"h").concat(-32,"z"),className:"recharts-legend-icon"});if(t.isValidElement(e.legendIcon)){var o=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?eu(Object(r),!0).forEach(function(t){iu(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eu(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},e);return delete o.legendIcon,t.cloneElement(e.legendIcon,o)}return t.createElement(Jc,{fill:i,cx:n,cy:n,size:lu,sizeType:"diameter",type:e.type})}},{key:"renderItems",value:function(){var e=this,r=this.props,n=r.payload,a=r.iconSize,s=r.layout,i=r.formatter,o=r.inactiveColor,l={x:0,y:0,width:lu,height:lu},c={display:"horizontal"===s?"inline-block":"block",marginRight:10},u={display:"inline-block",verticalAlign:"middle",marginRight:4};return n.map(function(r,n){var s=r.formatter||i,d=zi(iu(iu({"recharts-legend-item":!0},"legend-item-".concat(n),!0),"inactive",r.inactive));if("none"===r.type)return null;var h=uo()(r.value)?null:r.value;lo(!uo()(r.value),'The name property is also required when using a function for the dataKey of a chart\'s cartesian components. Ex: <Bar name="Name of my Data"/>');var f=r.inactive?o:r.color;return t.createElement("li",Zc({className:d,style:c,key:"legend-item-".concat(n)},jo(e.props,r,n)),t.createElement(nl,{width:a,height:a,viewBox:l,style:u},e.renderIcon(r)),t.createElement("span",{className:"recharts-legend-item-text",style:{color:f}},s?s(h,r,n):h))})}},{key:"render",value:function(){var e=this.props,r=e.payload,n=e.layout,a=e.align;if(!r||!r.length)return null;var s={padding:0,margin:0,textAlign:"horizontal"===n?a:"left"};return t.createElement("ul",{className:"recharts-default-legend",style:s},this.renderItems())}}],a&&tu(n.prototype,a),s&&tu(n,s),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,a,s}(t.PureComponent);function uu(e){return uu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uu(e)}iu(cu,"displayName","Legend"),iu(cu,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var du=["ref"];function hu(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function fu(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?hu(Object(r),!0).forEach(function(t){xu(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hu(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function pu(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,bu(n.key),n)}}function mu(e,t,r){return t=yu(t),function(e,t){if(t&&("object"===uu(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,gu()?Reflect.construct(t,r||[],yu(e).constructor):t.apply(e,r))}function gu(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(gu=function(){return!!e})()}function yu(e){return yu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},yu(e)}function vu(e,t){return vu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},vu(e,t)}function xu(e,t,r){return(t=bu(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bu(e){var t=function(e,t){if("object"!=uu(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=uu(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==uu(t)?t:t+""}function wu(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function ju(e){return e.value}var Nu=function(e){function r(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return xu(e=mu(this,r,[].concat(n)),"lastBoundingBox",{width:-1,height:-1}),e}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&vu(e,t)}(r,e),n=r,s=[{key:"getWithHeight",value:function(e,t){var r=fu(fu({},this.defaultProps),e.props).layout;return"vertical"===r&&Zi(e.props.height)?{height:e.props.height}:"horizontal"===r?{width:e.props.width||t}:null}}],(a=[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var e=this.wrapperNode.getBoundingClientRect();return e.height=this.wrapperNode.offsetHeight,e.width=this.wrapperNode.offsetWidth,e}return null}},{key:"updateBBox",value:function(){var e=this.props.onBBoxUpdate,t=this.getBBox();t?(Math.abs(t.width-this.lastBoundingBox.width)>1||Math.abs(t.height-this.lastBoundingBox.height)>1)&&(this.lastBoundingBox.width=t.width,this.lastBoundingBox.height=t.height,e&&e(t)):-1===this.lastBoundingBox.width&&-1===this.lastBoundingBox.height||(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,e&&e(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?fu({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(e){var t,r,n=this.props,a=n.layout,s=n.align,i=n.verticalAlign,o=n.margin,l=n.chartWidth,c=n.chartHeight;return e&&(void 0!==e.left&&null!==e.left||void 0!==e.right&&null!==e.right)||(t="center"===s&&"vertical"===a?{left:((l||0)-this.getBBoxSnapshot().width)/2}:"right"===s?{right:o&&o.right||0}:{left:o&&o.left||0}),e&&(void 0!==e.top&&null!==e.top||void 0!==e.bottom&&null!==e.bottom)||(r="middle"===i?{top:((c||0)-this.getBBoxSnapshot().height)/2}:"bottom"===i?{bottom:o&&o.bottom||0}:{top:o&&o.top||0}),fu(fu({},t),r)}},{key:"render",value:function(){var e=this,r=this.props,n=r.content,a=r.width,s=r.height,i=r.wrapperStyle,o=r.payloadUniqBy,l=r.payload,c=fu(fu({position:"absolute",width:a||"auto",height:s||"auto"},this.getDefaultPosition(i)),i);return t.createElement("div",{className:"recharts-legend-wrapper",style:c,ref:function(t){e.wrapperNode=t}},function(e,r){if(t.isValidElement(e))return t.cloneElement(e,r);if("function"===typeof e)return t.createElement(e,r);r.ref;var n=wu(r,du);return t.createElement(cu,n)}(n,fu(fu({},this.props),{},{payload:Ll(l,o,ju)})))}}])&&pu(n.prototype,a),s&&pu(n,s),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,a,s}(t.PureComponent);function ku(){return ku=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ku.apply(this,arguments)}xu(Nu,"displayName","Legend"),xu(Nu,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var Su=function(e){var r=e.cx,n=e.cy,a=e.r,s=e.className,i=zi("recharts-dot",s);return r===+r&&n===+n&&a===+a?t.createElement("circle",ku({},Lo(e,!1),wo(e),{className:i,cx:r,cy:n,r:a})):null},_u=r(5173),Ou=r.n(_u),Eu=Object.getOwnPropertyNames,Cu=Object.getOwnPropertySymbols,Pu=Object.prototype.hasOwnProperty;function Au(e,t){return function(r,n,a){return e(r,n,a)&&t(r,n,a)}}function Tu(e){return function(t,r,n){if(!t||!r||"object"!==typeof t||"object"!==typeof r)return e(t,r,n);var a=n.cache,s=a.get(t),i=a.get(r);if(s&&i)return s===r&&i===t;a.set(t,r),a.set(r,t);var o=e(t,r,n);return a.delete(t),a.delete(r),o}}function Du(e){return Eu(e).concat(Cu(e))}var Mu=Object.hasOwn||function(e,t){return Pu.call(e,t)};function Iu(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var Ru=Object.getOwnPropertyDescriptor,Lu=Object.keys;function zu(e,t,r){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function Fu(e,t){return Iu(e.getTime(),t.getTime())}function Bu(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function Uu(e,t){return e===t}function qu(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var a,s,i=new Array(n),o=e.entries(),l=0;(a=o.next())&&!a.done;){for(var c=t.entries(),u=!1,d=0;(s=c.next())&&!s.done;)if(i[d])d++;else{var h=a.value,f=s.value;if(r.equals(h[0],f[0],l,d,e,t,r)&&r.equals(h[1],f[1],h[0],f[0],e,t,r)){u=i[d]=!0;break}d++}if(!u)return!1;l++}return!0}var Hu=Iu;function Vu(e,t,r){var n=Lu(e),a=n.length;if(Lu(t).length!==a)return!1;for(;a-- >0;)if(!Ju(e,t,r,n[a]))return!1;return!0}function Wu(e,t,r){var n,a,s,i=Du(e),o=i.length;if(Du(t).length!==o)return!1;for(;o-- >0;){if(!Ju(e,t,r,n=i[o]))return!1;if(a=Ru(e,n),s=Ru(t,n),(a||s)&&(!a||!s||a.configurable!==s.configurable||a.enumerable!==s.enumerable||a.writable!==s.writable))return!1}return!0}function Gu(e,t){return Iu(e.valueOf(),t.valueOf())}function $u(e,t){return e.source===t.source&&e.flags===t.flags}function Ku(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var a,s,i=new Array(n),o=e.values();(a=o.next())&&!a.done;){for(var l=t.values(),c=!1,u=0;(s=l.next())&&!s.done;){if(!i[u]&&r.equals(a.value,s.value,a.value,s.value,e,t,r)){c=i[u]=!0;break}u++}if(!c)return!1}return!0}function Yu(e,t){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function Xu(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function Ju(e,t,r,n){return!("_owner"!==n&&"__o"!==n&&"__v"!==n||!e.$$typeof&&!t.$$typeof)||Mu(t,n)&&r.equals(e[n],t[n],n,n,e,t,r)}var Qu=Array.isArray,Zu="function"===typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView:null,ed=Object.assign,td=Object.prototype.toString.call.bind(Object.prototype.toString);var rd=nd();nd({strict:!0}),nd({circular:!0}),nd({circular:!0,strict:!0}),nd({createInternalComparator:function(){return Iu}}),nd({strict:!0,createInternalComparator:function(){return Iu}}),nd({circular:!0,createInternalComparator:function(){return Iu}}),nd({circular:!0,createInternalComparator:function(){return Iu},strict:!0});function nd(e){void 0===e&&(e={});var t,r=e.circular,n=void 0!==r&&r,a=e.createInternalComparator,s=e.createState,i=e.strict,o=void 0!==i&&i,l=function(e){var t=e.circular,r=e.createCustomConfig,n=e.strict,a={areArraysEqual:n?Wu:zu,areDatesEqual:Fu,areErrorsEqual:Bu,areFunctionsEqual:Uu,areMapsEqual:n?Au(qu,Wu):qu,areNumbersEqual:Hu,areObjectsEqual:n?Wu:Vu,arePrimitiveWrappersEqual:Gu,areRegExpsEqual:$u,areSetsEqual:n?Au(Ku,Wu):Ku,areTypedArraysEqual:n?Wu:Yu,areUrlsEqual:Xu};if(r&&(a=ed({},a,r(a))),t){var s=Tu(a.areArraysEqual),i=Tu(a.areMapsEqual),o=Tu(a.areObjectsEqual),l=Tu(a.areSetsEqual);a=ed({},a,{areArraysEqual:s,areMapsEqual:i,areObjectsEqual:o,areSetsEqual:l})}return a}(e),c=function(e){var t=e.areArraysEqual,r=e.areDatesEqual,n=e.areErrorsEqual,a=e.areFunctionsEqual,s=e.areMapsEqual,i=e.areNumbersEqual,o=e.areObjectsEqual,l=e.arePrimitiveWrappersEqual,c=e.areRegExpsEqual,u=e.areSetsEqual,d=e.areTypedArraysEqual,h=e.areUrlsEqual;return function(e,f,p){if(e===f)return!0;if(null==e||null==f)return!1;var m=typeof e;if(m!==typeof f)return!1;if("object"!==m)return"number"===m?i(e,f,p):"function"===m&&a(e,f,p);var g=e.constructor;if(g!==f.constructor)return!1;if(g===Object)return o(e,f,p);if(Qu(e))return t(e,f,p);if(null!=Zu&&Zu(e))return d(e,f,p);if(g===Date)return r(e,f,p);if(g===RegExp)return c(e,f,p);if(g===Map)return s(e,f,p);if(g===Set)return u(e,f,p);var y=td(e);return"[object Date]"===y?r(e,f,p):"[object RegExp]"===y?c(e,f,p):"[object Map]"===y?s(e,f,p):"[object Set]"===y?u(e,f,p):"[object Object]"===y?"function"!==typeof e.then&&"function"!==typeof f.then&&o(e,f,p):"[object URL]"===y?h(e,f,p):"[object Error]"===y?n(e,f,p):"[object Arguments]"===y?o(e,f,p):("[object Boolean]"===y||"[object Number]"===y||"[object String]"===y)&&l(e,f,p)}}(l),u=a?a(c):(t=c,function(e,r,n,a,s,i,o){return t(e,r,o)});return function(e){var t=e.circular,r=e.comparator,n=e.createState,a=e.equals,s=e.strict;if(n)return function(e,i){var o=n(),l=o.cache,c=void 0===l?t?new WeakMap:void 0:l,u=o.meta;return r(e,i,{cache:c,equals:a,meta:u,strict:s})};if(t)return function(e,t){return r(e,t,{cache:new WeakMap,equals:a,meta:void 0,strict:s})};var i={cache:void 0,equals:a,meta:void 0,strict:s};return function(e,t){return r(e,t,i)}}({circular:n,comparator:c,createState:s,equals:u,strict:o})}function ad(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=-1;requestAnimationFrame(function n(a){r<0&&(r=a),a-r>t?(e(a),r=-1):function(e){"undefined"!==typeof requestAnimationFrame&&requestAnimationFrame(e)}(n)})}function sd(e){return sd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sd(e)}function id(e){return function(e){if(Array.isArray(e))return e}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return od(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return od(e,t)}(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function od(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ld(){var e=function(){return null},t=!1,r=function r(n){if(!t){if(Array.isArray(n)){if(!n.length)return;var a=id(n),s=a[0],i=a.slice(1);return"number"===typeof s?void ad(r.bind(null,i),s):(r(s),void ad(r.bind(null,i)))}"object"===sd(n)&&e(n),"function"===typeof n&&n()}};return{stop:function(){t=!0},start:function(e){t=!1,r(e)},subscribe:function(t){return e=t,function(){e=function(){return null}}}}}function cd(e){return cd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cd(e)}function ud(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function dd(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ud(Object(r),!0).forEach(function(t){hd(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ud(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function hd(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==cd(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==cd(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===cd(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var fd=function(e){return e},pd=function(e,t){return Object.keys(t).reduce(function(r,n){return dd(dd({},r),{},hd({},n,e(n,t[n])))},{})},md=function(e,t,r){return e.map(function(e){return"".concat((n=e,n.replace(/([A-Z])/g,function(e){return"-".concat(e.toLowerCase())}))," ").concat(t,"ms ").concat(r);var n}).join(",")};function gd(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,s,i,o=[],l=!0,c=!1;try{if(s=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=s.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return o}}(e,t)||vd(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function yd(e){return function(e){if(Array.isArray(e))return xd(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||vd(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function vd(e,t){if(e){if("string"===typeof e)return xd(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?xd(e,t):void 0}}function xd(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var bd=1e-4,wd=function(e,t){return[0,3*e,3*t-6*e,3*e-3*t+1]},jd=function(e,t){return e.map(function(e,r){return e*Math.pow(t,r)}).reduce(function(e,t){return e+t})},Nd=function(e,t){return function(r){var n=wd(e,t);return jd(n,r)}},kd=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=t[0],a=t[1],s=t[2],i=t[3];if(1===t.length)switch(t[0]){case"linear":n=0,a=0,s=1,i=1;break;case"ease":n=.25,a=.1,s=.25,i=1;break;case"ease-in":n=.42,a=0,s=1,i=1;break;case"ease-out":n=.42,a=0,s=.58,i=1;break;case"ease-in-out":n=0,a=0,s=.58,i=1;break;default:var o=t[0].split("(");if("cubic-bezier"===o[0]&&4===o[1].split(")")[0].split(",").length){var l=o[1].split(")")[0].split(",").map(function(e){return parseFloat(e)}),c=gd(l,4);n=c[0],a=c[1],s=c[2],i=c[3]}}[n,s,a,i].every(function(e){return"number"===typeof e&&e>=0&&e<=1});var u,d,h=Nd(n,s),f=Nd(a,i),p=(u=n,d=s,function(e){var t=wd(u,d),r=[].concat(yd(t.map(function(e,t){return e*t}).slice(1)),[0]);return jd(r,e)}),m=function(e){return e>1?1:e<0?0:e},g=function(e){for(var t=e>1?1:e,r=t,n=0;n<8;++n){var a=h(r)-t,s=p(r);if(Math.abs(a-t)<bd||s<bd)return f(r);r=m(r-a/s)}return f(r)};return g.isStepper=!1,g},Sd=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=t[0];if("string"===typeof n)switch(n){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return kd(n);case"spring":return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.stiff,r=void 0===t?100:t,n=e.damping,a=void 0===n?8:n,s=e.dt,i=void 0===s?17:s,o=function(e,t,n){var s=n+(-(e-t)*r-n*a)*i/1e3,o=n*i/1e3+e;return Math.abs(o-t)<bd&&Math.abs(s)<bd?[t,0]:[o,s]};return o.isStepper=!0,o.dt=i,o}();default:if("cubic-bezier"===n.split("(")[0])return kd(n)}return"function"===typeof n?n:null};function _d(e){return _d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_d(e)}function Od(e){return function(e){if(Array.isArray(e))return Dd(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Td(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ed(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Cd(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ed(Object(r),!0).forEach(function(t){Pd(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ed(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Pd(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==_d(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==_d(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===_d(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ad(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,s,i,o=[],l=!0,c=!1;try{if(s=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=s.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return o}}(e,t)||Td(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Td(e,t){if(e){if("string"===typeof e)return Dd(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Dd(e,t):void 0}}function Dd(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Md=function(e,t,r){return e+(t-e)*r},Id=function(e){return e.from!==e.to},Rd=function e(t,r,n){var a=pd(function(e,r){if(Id(r)){var n=Ad(t(r.from,r.to,r.velocity),2),a=n[0],s=n[1];return Cd(Cd({},r),{},{from:a,velocity:s})}return r},r);return n<1?pd(function(e,t){return Id(t)?Cd(Cd({},t),{},{velocity:Md(t.velocity,a[e].velocity,n),from:Md(t.from,a[e].from,n)}):t},r):e(t,a,n-1)};const Ld=function(e,t,r,n,a){var s,i,o,l,c=(s=e,i=t,[Object.keys(s),Object.keys(i)].reduce(function(e,t){return e.filter(function(e){return t.includes(e)})})),u=c.reduce(function(r,n){return Cd(Cd({},r),{},Pd({},n,[e[n],t[n]]))},{}),d=c.reduce(function(r,n){return Cd(Cd({},r),{},Pd({},n,{from:e[n],velocity:0,to:t[n]}))},{}),h=-1,f=function(){return null};return f=r.isStepper?function(n){o||(o=n);var s=(n-o)/r.dt;d=Rd(r,d,s),a(Cd(Cd(Cd({},e),t),pd(function(e,t){return t.from},d))),o=n,Object.values(d).filter(Id).length&&(h=requestAnimationFrame(f))}:function(s){l||(l=s);var i=(s-l)/n,o=pd(function(e,t){return Md.apply(void 0,Od(t).concat([r(i)]))},u);if(a(Cd(Cd(Cd({},e),t),o)),i<1)h=requestAnimationFrame(f);else{var c=pd(function(e,t){return Md.apply(void 0,Od(t).concat([r(1)]))},u);a(Cd(Cd(Cd({},e),t),c))}},function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(h)}}};function zd(e){return zd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zd(e)}var Fd=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function Bd(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},s=Object.keys(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Ud(e){return function(e){if(Array.isArray(e))return qd(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return qd(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return qd(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function qd(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Hd(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Vd(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Hd(Object(r),!0).forEach(function(t){Wd(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Hd(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Wd(e,t,r){return(t=$d(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Gd(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,$d(n.key),n)}}function $d(e){var t=function(e,t){if("object"!==zd(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==zd(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===zd(t)?t:String(t)}function Kd(e,t){return Kd=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Kd(e,t)}function Yd(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(Nt){return!1}}();return function(){var r,n=Qd(e);if(t){var a=Qd(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return Xd(this,r)}}function Xd(e,t){if(t&&("object"===zd(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Jd(e)}function Jd(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Qd(e){return Qd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Qd(e)}var Zd=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Kd(e,t)}(i,e);var r,n,a,s=Yd(i);function i(e,t){var r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i);var n=(r=s.call(this,e,t)).props,a=n.isActive,o=n.attributeName,l=n.from,c=n.to,u=n.steps,d=n.children,h=n.duration;if(r.handleStyleChange=r.handleStyleChange.bind(Jd(r)),r.changeStyle=r.changeStyle.bind(Jd(r)),!a||h<=0)return r.state={style:{}},"function"===typeof d&&(r.state={style:c}),Xd(r);if(u&&u.length)r.state={style:u[0].style};else if(l){if("function"===typeof d)return r.state={style:l},Xd(r);r.state={style:o?Wd({},o,l):l}}else r.state={style:{}};return r}return r=i,(n=[{key:"componentDidMount",value:function(){var e=this.props,t=e.isActive,r=e.canBegin;this.mounted=!0,t&&r&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(e){var t=this.props,r=t.isActive,n=t.canBegin,a=t.attributeName,s=t.shouldReAnimate,i=t.to,o=t.from,l=this.state.style;if(n)if(r){if(!(rd(e.to,i)&&e.canBegin&&e.isActive)){var c=!e.canBegin||!e.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var u=c||s?o:e.to;if(this.state&&l){var d={style:a?Wd({},a,u):u};(a&&l[a]!==u||!a&&l!==u)&&this.setState(d)}this.runAnimation(Vd(Vd({},this.props),{},{from:u,begin:0}))}}else{var h={style:a?Wd({},a,i):i};this.state&&l&&(a&&l[a]!==i||!a&&l!==i)&&this.setState(h)}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var e=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),e&&e()}},{key:"handleStyleChange",value:function(e){this.changeStyle(e)}},{key:"changeStyle",value:function(e){this.mounted&&this.setState({style:e})}},{key:"runJSAnimation",value:function(e){var t=this,r=e.from,n=e.to,a=e.duration,s=e.easing,i=e.begin,o=e.onAnimationEnd,l=e.onAnimationStart,c=Ld(r,n,Sd(s),a,this.changeStyle);this.manager.start([l,i,function(){t.stopJSAnimation=c()},a,o])}},{key:"runStepAnimation",value:function(e){var t=this,r=e.steps,n=e.begin,a=e.onAnimationStart,s=r[0],i=s.style,o=s.duration,l=void 0===o?0:o;return this.manager.start([a].concat(Ud(r.reduce(function(e,n,a){if(0===a)return e;var s=n.duration,i=n.easing,o=void 0===i?"ease":i,l=n.style,c=n.properties,u=n.onAnimationEnd,d=a>0?r[a-1]:n,h=c||Object.keys(l);if("function"===typeof o||"spring"===o)return[].concat(Ud(e),[t.runJSAnimation.bind(t,{from:d.style,to:l,duration:s,easing:o}),s]);var f=md(h,s,o),p=Vd(Vd(Vd({},d.style),l),{},{transition:f});return[].concat(Ud(e),[p,s,u]).filter(fd)},[i,Math.max(l,n)])),[e.onAnimationEnd]))}},{key:"runAnimation",value:function(e){this.manager||(this.manager=ld());var t=e.begin,r=e.duration,n=e.attributeName,a=e.to,s=e.easing,i=e.onAnimationStart,o=e.onAnimationEnd,l=e.steps,c=e.children,u=this.manager;if(this.unSubscribe=u.subscribe(this.handleStyleChange),"function"!==typeof s&&"function"!==typeof c&&"spring"!==s)if(l.length>1)this.runStepAnimation(e);else{var d=n?Wd({},n,a):a,h=md(Object.keys(d),r,s);u.start([i,t,Vd(Vd({},d),{},{transition:h}),r,o])}else this.runJSAnimation(e)}},{key:"render",value:function(){var e=this.props,r=e.children,n=(e.begin,e.duration),a=(e.attributeName,e.easing,e.isActive),s=(e.steps,e.from,e.to,e.canBegin,e.onAnimationEnd,e.shouldReAnimate,e.onAnimationReStart,Bd(e,Fd)),i=t.Children.count(r),o=this.state.style;if("function"===typeof r)return r(o);if(!a||0===i||n<=0)return r;var l=function(e){var r=e.props,n=r.style,a=void 0===n?{}:n,i=r.className;return(0,t.cloneElement)(e,Vd(Vd({},s),{},{style:Vd(Vd({},a),o),className:i}))};return 1===i?l(t.Children.only(r)):t.createElement("div",null,t.Children.map(r,function(e){return l(e)}))}}])&&Gd(r.prototype,n),a&&Gd(r,a),Object.defineProperty(r,"prototype",{writable:!1}),i}(t.PureComponent);Zd.displayName="Animate",Zd.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}},Zd.propTypes={from:Ou().oneOfType([Ou().object,Ou().string]),to:Ou().oneOfType([Ou().object,Ou().string]),attributeName:Ou().string,duration:Ou().number,begin:Ou().number,easing:Ou().oneOfType([Ou().string,Ou().func]),steps:Ou().arrayOf(Ou().shape({duration:Ou().number.isRequired,style:Ou().object.isRequired,easing:Ou().oneOfType([Ou().oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Ou().func]),properties:Ou().arrayOf("string"),onAnimationEnd:Ou().func})),children:Ou().oneOfType([Ou().node,Ou().func]),isActive:Ou().bool,canBegin:Ou().bool,onAnimationEnd:Ou().func,shouldReAnimate:Ou().bool,onAnimationStart:Ou().func,onAnimationReStart:Ou().func};const eh=Zd;function th(e){return th="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},th(e)}function rh(){return rh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},rh.apply(this,arguments)}function nh(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,s,i,o=[],l=!0,c=!1;try{if(s=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=s.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return o}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return ah(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ah(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ah(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function sh(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function ih(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?sh(Object(r),!0).forEach(function(t){oh(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sh(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function oh(e,t,r){return t=function(e){var t=function(e,t){if("object"!=th(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=th(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==th(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var lh=function(e,t,r,n,a){var s,i=Math.min(Math.abs(r)/2,Math.abs(n)/2),o=n>=0?1:-1,l=r>=0?1:-1,c=n>=0&&r>=0||n<0&&r<0?1:0;if(i>0&&a instanceof Array){for(var u=[0,0,0,0],d=0;d<4;d++)u[d]=a[d]>i?i:a[d];s="M".concat(e,",").concat(t+o*u[0]),u[0]>0&&(s+="A ".concat(u[0],",").concat(u[0],",0,0,").concat(c,",").concat(e+l*u[0],",").concat(t)),s+="L ".concat(e+r-l*u[1],",").concat(t),u[1]>0&&(s+="A ".concat(u[1],",").concat(u[1],",0,0,").concat(c,",\n        ").concat(e+r,",").concat(t+o*u[1])),s+="L ".concat(e+r,",").concat(t+n-o*u[2]),u[2]>0&&(s+="A ".concat(u[2],",").concat(u[2],",0,0,").concat(c,",\n        ").concat(e+r-l*u[2],",").concat(t+n)),s+="L ".concat(e+l*u[3],",").concat(t+n),u[3]>0&&(s+="A ".concat(u[3],",").concat(u[3],",0,0,").concat(c,",\n        ").concat(e,",").concat(t+n-o*u[3])),s+="Z"}else if(i>0&&a===+a&&a>0){var h=Math.min(i,a);s="M ".concat(e,",").concat(t+o*h,"\n            A ").concat(h,",").concat(h,",0,0,").concat(c,",").concat(e+l*h,",").concat(t,"\n            L ").concat(e+r-l*h,",").concat(t,"\n            A ").concat(h,",").concat(h,",0,0,").concat(c,",").concat(e+r,",").concat(t+o*h,"\n            L ").concat(e+r,",").concat(t+n-o*h,"\n            A ").concat(h,",").concat(h,",0,0,").concat(c,",").concat(e+r-l*h,",").concat(t+n,"\n            L ").concat(e+l*h,",").concat(t+n,"\n            A ").concat(h,",").concat(h,",0,0,").concat(c,",").concat(e,",").concat(t+n-o*h," Z")}else s="M ".concat(e,",").concat(t," h ").concat(r," v ").concat(n," h ").concat(-r," Z");return s},ch=function(e,t){if(!e||!t)return!1;var r=e.x,n=e.y,a=t.x,s=t.y,i=t.width,o=t.height;if(Math.abs(i)>0&&Math.abs(o)>0){var l=Math.min(a,a+i),c=Math.max(a,a+i),u=Math.min(s,s+o),d=Math.max(s,s+o);return r>=l&&r<=c&&n>=u&&n<=d}return!1},uh={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},dh=function(e){var r=ih(ih({},uh),e),n=(0,t.useRef)(),a=nh((0,t.useState)(-1),2),s=a[0],i=a[1];(0,t.useEffect)(function(){if(n.current&&n.current.getTotalLength)try{var e=n.current.getTotalLength();e&&i(e)}catch(t){}},[]);var o=r.x,l=r.y,c=r.width,u=r.height,d=r.radius,h=r.className,f=r.animationEasing,p=r.animationDuration,m=r.animationBegin,g=r.isAnimationActive,y=r.isUpdateAnimationActive;if(o!==+o||l!==+l||c!==+c||u!==+u||0===c||0===u)return null;var v=zi("recharts-rectangle",h);return y?t.createElement(eh,{canBegin:s>0,from:{width:c,height:u,x:o,y:l},to:{width:c,height:u,x:o,y:l},duration:p,animationEasing:f,isActive:y},function(e){var a=e.width,i=e.height,o=e.x,l=e.y;return t.createElement(eh,{canBegin:s>0,from:"0px ".concat(-1===s?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:m,duration:p,isActive:g,easing:f},t.createElement("path",rh({},Lo(r,!0),{className:v,d:lh(o,l,a,i,d),ref:n})))}):t.createElement("path",rh({},Lo(r,!0),{className:v,d:lh(o,l,c,u,d)}))};function hh(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e)}return this}function fh(e,t){switch(arguments.length){case 0:break;case 1:"function"===typeof e?this.interpolator(e):this.range(e);break;default:this.domain(e),"function"===typeof t?this.interpolator(t):this.range(t)}return this}class ph extends Map{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:vh;if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:t}}),null!=e)for(const[r,n]of e)this.set(r,n)}get(e){return super.get(mh(this,e))}has(e){return super.has(mh(this,e))}set(e,t){return super.set(gh(this,e),t)}delete(e){return super.delete(yh(this,e))}}Set;function mh(e,t){let{_intern:r,_key:n}=e;const a=n(t);return r.has(a)?r.get(a):t}function gh(e,t){let{_intern:r,_key:n}=e;const a=n(t);return r.has(a)?r.get(a):(r.set(a,t),t)}function yh(e,t){let{_intern:r,_key:n}=e;const a=n(t);return r.has(a)&&(t=r.get(a),r.delete(a)),t}function vh(e){return null!==e&&"object"===typeof e?e.valueOf():e}const xh=Symbol("implicit");function bh(){var e=new ph,t=[],r=[],n=xh;function a(a){let s=e.get(a);if(void 0===s){if(n!==xh)return n;e.set(a,s=t.push(a)-1)}return r[s%r.length]}return a.domain=function(r){if(!arguments.length)return t.slice();t=[],e=new ph;for(const n of r)e.has(n)||e.set(n,t.push(n)-1);return a},a.range=function(e){return arguments.length?(r=Array.from(e),a):r.slice()},a.unknown=function(e){return arguments.length?(n=e,a):n},a.copy=function(){return bh(t,r).unknown(n)},hh.apply(a,arguments),a}function wh(){var e,t,r=bh().unknown(void 0),n=r.domain,a=r.range,s=0,i=1,o=!1,l=0,c=0,u=.5;function d(){var r=n().length,d=i<s,h=d?i:s,f=d?s:i;e=(f-h)/Math.max(1,r-l+2*c),o&&(e=Math.floor(e)),h+=(f-h-e*(r-l))*u,t=e*(1-l),o&&(h=Math.round(h),t=Math.round(t));var p=function(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=0|Math.max(0,Math.ceil((t-e)/r)),s=new Array(a);++n<a;)s[n]=e+n*r;return s}(r).map(function(t){return h+e*t});return a(d?p.reverse():p)}return delete r.unknown,r.domain=function(e){return arguments.length?(n(e),d()):n()},r.range=function(e){return arguments.length?([s,i]=e,s=+s,i=+i,d()):[s,i]},r.rangeRound=function(e){return[s,i]=e,s=+s,i=+i,o=!0,d()},r.bandwidth=function(){return t},r.step=function(){return e},r.round=function(e){return arguments.length?(o=!!e,d()):o},r.padding=function(e){return arguments.length?(l=Math.min(1,c=+e),d()):l},r.paddingInner=function(e){return arguments.length?(l=Math.min(1,e),d()):l},r.paddingOuter=function(e){return arguments.length?(c=+e,d()):c},r.align=function(e){return arguments.length?(u=Math.max(0,Math.min(1,e)),d()):u},r.copy=function(){return wh(n(),[s,i]).round(o).paddingInner(l).paddingOuter(c).align(u)},hh.apply(d(),arguments)}function jh(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return jh(t())},e}function Nh(){return jh(wh.apply(null,arguments).paddingInner(1))}function kh(e){return kh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kh(e)}function Sh(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function _h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Sh(Object(r),!0).forEach(function(t){Oh(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Sh(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Oh(e,t,r){return t=function(e){var t=function(e,t){if("object"!=kh(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=kh(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==kh(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Eh={widthCache:{},cacheCount:0},Ch={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},Ph="recharts_measurement_span";var Ah=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(void 0===e||null===e||Ml.isSsr)return{width:0,height:0};var r=function(e){var t=_h({},e);return Object.keys(t).forEach(function(e){t[e]||delete t[e]}),t}(t),n=JSON.stringify({text:e,copyStyle:r});if(Eh.widthCache[n])return Eh.widthCache[n];try{var a=document.getElementById(Ph);a||((a=document.createElement("span")).setAttribute("id",Ph),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var s=_h(_h({},Ch),r);Object.assign(a.style,s),a.textContent="".concat(e);var i=a.getBoundingClientRect(),o={width:i.width,height:i.height};return Eh.widthCache[n]=o,++Eh.cacheCount>2e3&&(Eh.cacheCount=0,Eh.widthCache={}),o}catch(Nt){return{width:0,height:0}}};function Th(e){return Th="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Th(e)}function Dh(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,s,i,o=[],l=!0,c=!1;try{if(s=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=s.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return o}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Mh(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Mh(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Mh(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ih(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Rh(n.key),n)}}function Rh(e){var t=function(e,t){if("object"!=Th(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Th(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Th(t)?t:t+""}var Lh=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,zh=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Fh=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Bh=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,Uh={cm:96/2.54,mm:96/25.4,pt:96/72,pc:16,in:96,Q:96/101.6,px:1},qh=Object.keys(Uh),Hh="NaN";var Vh=function(){function e(t,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),""===r||Fh.test(r)||(this.num=NaN,this.unit=""),qh.includes(r)&&(this.num=function(e,t){return e*Uh[t]}(t,r),this.unit="px")}return t=e,n=[{key:"parse",value:function(t){var r,n=Dh(null!==(r=Bh.exec(t))&&void 0!==r?r:[],3),a=n[1],s=n[2];return new e(parseFloat(a),null!==s&&void 0!==s?s:"")}}],(r=[{key:"add",value:function(t){return this.unit!==t.unit?new e(NaN,""):new e(this.num+t.num,this.unit)}},{key:"subtract",value:function(t){return this.unit!==t.unit?new e(NaN,""):new e(this.num-t.num,this.unit)}},{key:"multiply",value:function(t){return""!==this.unit&&""!==t.unit&&this.unit!==t.unit?new e(NaN,""):new e(this.num*t.num,this.unit||t.unit)}},{key:"divide",value:function(t){return""!==this.unit&&""!==t.unit&&this.unit!==t.unit?new e(NaN,""):new e(this.num/t.num,this.unit||t.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}])&&Ih(t.prototype,r),n&&Ih(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,r,n}();function Wh(e){if(e.includes(Hh))return Hh;for(var t=e;t.includes("*")||t.includes("/");){var r,n=Dh(null!==(r=Lh.exec(t))&&void 0!==r?r:[],4),a=n[1],s=n[2],i=n[3],o=Vh.parse(null!==a&&void 0!==a?a:""),l=Vh.parse(null!==i&&void 0!==i?i:""),c="*"===s?o.multiply(l):o.divide(l);if(c.isNaN())return Hh;t=t.replace(Lh,c.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var u,d=Dh(null!==(u=zh.exec(t))&&void 0!==u?u:[],4),h=d[1],f=d[2],p=d[3],m=Vh.parse(null!==h&&void 0!==h?h:""),g=Vh.parse(null!==p&&void 0!==p?p:""),y="+"===f?m.add(g):m.subtract(g);if(y.isNaN())return Hh;t=t.replace(zh,y.toString())}return t}var Gh=/\(([^()]*)\)/;function $h(e){var t=e.replace(/\s+/g,"");return t=function(e){for(var t=e;t.includes("(");){var r=Dh(Gh.exec(t),2)[1];t=t.replace(Gh,Wh(r))}return t}(t),t=Wh(t)}function Kh(e){var t=function(e){try{return $h(e)}catch(Nt){return Hh}}(e.slice(5,-1));return t===Hh?"":t}var Yh=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Xh=["dx","dy","angle","className","breakAll"];function Jh(){return Jh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Jh.apply(this,arguments)}function Qh(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Zh(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,s,i,o=[],l=!0,c=!1;try{if(s=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=s.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return o}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return ef(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ef(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ef(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var tf=/[ \f\n\r\t\v\u2028\u2029]+/,rf=function(e){var t=e.children,r=e.breakAll,n=e.style;try{var a=[];return Xi()(t)||(a=r?t.toString().split(""):t.toString().split(tf)),{wordsWithComputedWidth:a.map(function(e){return{word:e,width:Ah(e,n).width}}),spaceWidth:r?0:Ah("\xa0",n).width}}catch(Nt){return null}},nf=function(e){return[{words:Xi()(e)?[]:e.toString().split(tf)}]},af=function(e){var t=e.width,r=e.scaleToFit,n=e.children,a=e.style,s=e.breakAll,i=e.maxLines;if((t||r)&&!Ml.isSsr){var o=rf({breakAll:s,children:n,style:a});return o?function(e,t,r,n,a){var s=e.maxLines,i=e.children,o=e.style,l=e.breakAll,c=Zi(s),u=i,d=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).reduce(function(e,t){var s=t.word,i=t.width,o=e[e.length-1];if(o&&(null==n||a||o.width+i+r<Number(n)))o.words.push(s),o.width+=i+r;else{var l={words:[s],width:i};e.push(l)}return e},[])},h=d(t);if(!c)return h;for(var f,p=function(e){var t=u.slice(0,e),r=rf({breakAll:l,style:o,children:t+"\u2026"}).wordsWithComputedWidth,a=d(r),i=a.length>s||function(e){return e.reduce(function(e,t){return e.width>t.width?e:t})}(a).width>Number(n);return[i,a]},m=0,g=u.length-1,y=0;m<=g&&y<=u.length-1;){var v=Math.floor((m+g)/2),x=Zh(p(v-1),2),b=x[0],w=x[1],j=Zh(p(v),1)[0];if(b||j||(m=v+1),b&&j&&(g=v-1),!b&&j){f=w;break}y++}return f||h}({breakAll:s,children:n,maxLines:i,style:a},o.wordsWithComputedWidth,o.spaceWidth,t,r):nf(n)}return nf(n)},sf="#808080",of=function(e){var r=e.x,n=void 0===r?0:r,a=e.y,s=void 0===a?0:a,i=e.lineHeight,o=void 0===i?"1em":i,l=e.capHeight,c=void 0===l?"0.71em":l,u=e.scaleToFit,d=void 0!==u&&u,h=e.textAnchor,f=void 0===h?"start":h,p=e.verticalAnchor,m=void 0===p?"end":p,g=e.fill,y=void 0===g?sf:g,v=Qh(e,Yh),x=(0,t.useMemo)(function(){return af({breakAll:v.breakAll,children:v.children,maxLines:v.maxLines,scaleToFit:d,style:v.style,width:v.width})},[v.breakAll,v.children,v.maxLines,d,v.style,v.width]),b=v.dx,w=v.dy,j=v.angle,N=v.className,k=v.breakAll,S=Qh(v,Xh);if(!eo(n)||!eo(s))return null;var _,O=n+(Zi(b)?b:0),E=s+(Zi(w)?w:0);switch(m){case"start":_=Kh("calc(".concat(c,")"));break;case"middle":_=Kh("calc(".concat((x.length-1)/2," * -").concat(o," + (").concat(c," / 2))"));break;default:_=Kh("calc(".concat(x.length-1," * -").concat(o,")"))}var C=[];if(d){var P=x[0].width,A=v.width;C.push("scale(".concat((Zi(A)?A/P:1)/P,")"))}return j&&C.push("rotate(".concat(j,", ").concat(O,", ").concat(E,")")),C.length&&(S.transform=C.join(" ")),t.createElement("text",Jh({},Lo(S,!0),{x:O,y:E,className:zi("recharts-text",N),textAnchor:f,fill:y.includes("url")?sf:y}),x.map(function(e,r){var n=e.words.join(k?"":" ");return t.createElement("tspan",{x:O,dy:0===r?_:o,key:"".concat(n,"-").concat(r)},n)}))};const lf=Math.sqrt(50),cf=Math.sqrt(10),uf=Math.sqrt(2);function df(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),s=n/Math.pow(10,a),i=s>=lf?10:s>=cf?5:s>=uf?2:1;let o,l,c;return a<0?(c=Math.pow(10,-a)/i,o=Math.round(e*c),l=Math.round(t*c),o/c<e&&++o,l/c>t&&--l,c=-c):(c=Math.pow(10,a)*i,o=Math.round(e/c),l=Math.round(t/c),o*c<e&&++o,l*c>t&&--l),l<o&&.5<=r&&r<2?df(e,t,2*r):[o,l,c]}function hf(e,t,r){if(!((r=+r)>0))return[];if((e=+e)===(t=+t))return[e];const n=t<e,[a,s,i]=n?df(t,e,r):df(e,t,r);if(!(s>=a))return[];const o=s-a+1,l=new Array(o);if(n)if(i<0)for(let c=0;c<o;++c)l[c]=(s-c)/-i;else for(let c=0;c<o;++c)l[c]=(s-c)*i;else if(i<0)for(let c=0;c<o;++c)l[c]=(a+c)/-i;else for(let c=0;c<o;++c)l[c]=(a+c)*i;return l}function ff(e,t,r){return df(e=+e,t=+t,r=+r)[2]}function pf(e,t,r){r=+r;const n=(t=+t)<(e=+e),a=n?ff(t,e,r):ff(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function mf(e,t){return null==e||null==t?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function gf(e,t){return null==e||null==t?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function yf(e){let t,r,n;function a(e,n){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length;if(a<s){if(0!==t(n,n))return s;do{const t=a+s>>>1;r(e[t],n)<0?a=t+1:s=t}while(a<s)}return a}return 2!==e.length?(t=mf,r=(t,r)=>mf(e(t),r),n=(t,r)=>e(t)-r):(t=e===mf||e===gf?e:vf,r=e,n=e),{left:a,center:function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const s=a(e,t,r,(arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length)-1);return s>r&&n(e[s-1],t)>-n(e[s],t)?s-1:s},right:function(e,n){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length;if(a<s){if(0!==t(n,n))return s;do{const t=a+s>>>1;r(e[t],n)<=0?a=t+1:s=t}while(a<s)}return a}}}function vf(){return 0}function xf(e){return null===e?NaN:+e}const bf=yf(mf),wf=bf.right,jf=(bf.left,yf(xf).center,wf);function Nf(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function kf(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Sf(){}var _f=.7,Of=1/_f,Ef="\\s*([+-]?\\d+)\\s*",Cf="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Pf="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Af=/^#([0-9a-f]{3,8})$/,Tf=new RegExp("^rgb\\(".concat(Ef,",").concat(Ef,",").concat(Ef,"\\)$")),Df=new RegExp("^rgb\\(".concat(Pf,",").concat(Pf,",").concat(Pf,"\\)$")),Mf=new RegExp("^rgba\\(".concat(Ef,",").concat(Ef,",").concat(Ef,",").concat(Cf,"\\)$")),If=new RegExp("^rgba\\(".concat(Pf,",").concat(Pf,",").concat(Pf,",").concat(Cf,"\\)$")),Rf=new RegExp("^hsl\\(".concat(Cf,",").concat(Pf,",").concat(Pf,"\\)$")),Lf=new RegExp("^hsla\\(".concat(Cf,",").concat(Pf,",").concat(Pf,",").concat(Cf,"\\)$")),zf={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Ff(){return this.rgb().formatHex()}function Bf(){return this.rgb().formatRgb()}function Uf(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=Af.exec(e))?(r=t[1].length,t=parseInt(t[1],16),6===r?qf(t):3===r?new Wf(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===r?Hf(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===r?Hf(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=Tf.exec(e))?new Wf(t[1],t[2],t[3],1):(t=Df.exec(e))?new Wf(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=Mf.exec(e))?Hf(t[1],t[2],t[3],t[4]):(t=If.exec(e))?Hf(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=Rf.exec(e))?Jf(t[1],t[2]/100,t[3]/100,1):(t=Lf.exec(e))?Jf(t[1],t[2]/100,t[3]/100,t[4]):zf.hasOwnProperty(e)?qf(zf[e]):"transparent"===e?new Wf(NaN,NaN,NaN,0):null}function qf(e){return new Wf(e>>16&255,e>>8&255,255&e,1)}function Hf(e,t,r,n){return n<=0&&(e=t=r=NaN),new Wf(e,t,r,n)}function Vf(e,t,r,n){return 1===arguments.length?function(e){return e instanceof Sf||(e=Uf(e)),e?new Wf((e=e.rgb()).r,e.g,e.b,e.opacity):new Wf}(e):new Wf(e,t,r,null==n?1:n)}function Wf(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}function Gf(){return"#".concat(Xf(this.r)).concat(Xf(this.g)).concat(Xf(this.b))}function $f(){const e=Kf(this.opacity);return"".concat(1===e?"rgb(":"rgba(").concat(Yf(this.r),", ").concat(Yf(this.g),", ").concat(Yf(this.b)).concat(1===e?")":", ".concat(e,")"))}function Kf(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Yf(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Xf(e){return((e=Yf(e))<16?"0":"")+e.toString(16)}function Jf(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Zf(e,t,r,n)}function Qf(e){if(e instanceof Zf)return new Zf(e.h,e.s,e.l,e.opacity);if(e instanceof Sf||(e=Uf(e)),!e)return new Zf;if(e instanceof Zf)return e;var t=(e=e.rgb()).r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),s=Math.max(t,r,n),i=NaN,o=s-a,l=(s+a)/2;return o?(i=t===s?(r-n)/o+6*(r<n):r===s?(n-t)/o+2:(t-r)/o+4,o/=l<.5?s+a:2-s-a,i*=60):o=l>0&&l<1?0:i,new Zf(i,o,l,e.opacity)}function Zf(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}function ep(e){return(e=(e||0)%360)<0?e+360:e}function tp(e){return Math.max(0,Math.min(1,e||0))}function rp(e,t,r){return 255*(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)}function np(e,t,r,n,a){var s=e*e,i=s*e;return((1-3*e+3*s-i)*t+(4-6*s+3*i)*r+(1+3*e+3*s-3*i)*n+i*a)/6}Nf(Sf,Uf,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Ff,formatHex:Ff,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return Qf(this).formatHsl()},formatRgb:Bf,toString:Bf}),Nf(Wf,Vf,kf(Sf,{brighter(e){return e=null==e?Of:Math.pow(Of,e),new Wf(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=null==e?_f:Math.pow(_f,e),new Wf(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Wf(Yf(this.r),Yf(this.g),Yf(this.b),Kf(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Gf,formatHex:Gf,formatHex8:function(){return"#".concat(Xf(this.r)).concat(Xf(this.g)).concat(Xf(this.b)).concat(Xf(255*(isNaN(this.opacity)?1:this.opacity)))},formatRgb:$f,toString:$f})),Nf(Zf,function(e,t,r,n){return 1===arguments.length?Qf(e):new Zf(e,t,r,null==n?1:n)},kf(Sf,{brighter(e){return e=null==e?Of:Math.pow(Of,e),new Zf(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=null==e?_f:Math.pow(_f,e),new Zf(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new Wf(rp(e>=240?e-240:e+120,a,n),rp(e,a,n),rp(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new Zf(ep(this.h),tp(this.s),tp(this.l),Kf(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Kf(this.opacity);return"".concat(1===e?"hsl(":"hsla(").concat(ep(this.h),", ").concat(100*tp(this.s),"%, ").concat(100*tp(this.l),"%").concat(1===e?")":", ".concat(e,")"))}}));const ap=e=>()=>e;function sp(e,t){return function(r){return e+r*t}}function ip(e){return 1===(e=+e)?op:function(t,r){return r-t?function(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}(t,r,e):ap(isNaN(t)?r:t)}}function op(e,t){var r=t-e;return r?sp(e,r):ap(isNaN(e)?t:e)}const lp=function e(t){var r=ip(t);function n(e,t){var n=r((e=Vf(e)).r,(t=Vf(t)).r),a=r(e.g,t.g),s=r(e.b,t.b),i=op(e.opacity,t.opacity);return function(t){return e.r=n(t),e.g=a(t),e.b=s(t),e.opacity=i(t),e+""}}return n.gamma=e,n}(1);function cp(e){return function(t){var r,n,a=t.length,s=new Array(a),i=new Array(a),o=new Array(a);for(r=0;r<a;++r)n=Vf(t[r]),s[r]=n.r||0,i[r]=n.g||0,o[r]=n.b||0;return s=e(s),i=e(i),o=e(o),n.opacity=1,function(e){return n.r=s(e),n.g=i(e),n.b=o(e),n+""}}}cp(function(e){var t=e.length-1;return function(r){var n=r<=0?r=0:r>=1?(r=1,t-1):Math.floor(r*t),a=e[n],s=e[n+1],i=n>0?e[n-1]:2*a-s,o=n<t-1?e[n+2]:2*s-a;return np((r-n/t)*t,i,a,s,o)}}),cp(function(e){var t=e.length;return function(r){var n=Math.floor(((r%=1)<0?++r:r)*t),a=e[(n+t-1)%t],s=e[n%t],i=e[(n+1)%t],o=e[(n+2)%t];return np((r-n/t)*t,a,s,i,o)}});function up(e,t){var r,n=t?t.length:0,a=e?Math.min(n,e.length):0,s=new Array(a),i=new Array(n);for(r=0;r<a;++r)s[r]=vp(e[r],t[r]);for(;r<n;++r)i[r]=t[r];return function(e){for(r=0;r<a;++r)i[r]=s[r](e);return i}}function dp(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function hp(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function fp(e,t){var r,n={},a={};for(r in null!==e&&"object"===typeof e||(e={}),null!==t&&"object"===typeof t||(t={}),t)r in e?n[r]=vp(e[r],t[r]):a[r]=t[r];return function(e){for(r in n)a[r]=n[r](e);return a}}var pp=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,mp=new RegExp(pp.source,"g");function gp(e,t){var r,n,a,s=pp.lastIndex=mp.lastIndex=0,i=-1,o=[],l=[];for(e+="",t+="";(r=pp.exec(e))&&(n=mp.exec(t));)(a=n.index)>s&&(a=t.slice(s,a),o[i]?o[i]+=a:o[++i]=a),(r=r[0])===(n=n[0])?o[i]?o[i]+=n:o[++i]=n:(o[++i]=null,l.push({i:i,x:hp(r,n)})),s=mp.lastIndex;return s<t.length&&(a=t.slice(s),o[i]?o[i]+=a:o[++i]=a),o.length<2?l[0]?function(e){return function(t){return e(t)+""}}(l[0].x):function(e){return function(){return e}}(t):(t=l.length,function(e){for(var r,n=0;n<t;++n)o[(r=l[n]).i]=r.x(e);return o.join("")})}function yp(e,t){t||(t=[]);var r,n=e?Math.min(t.length,e.length):0,a=t.slice();return function(s){for(r=0;r<n;++r)a[r]=e[r]*(1-s)+t[r]*s;return a}}function vp(e,t){var r,n=typeof t;return null==t||"boolean"===n?ap(t):("number"===n?hp:"string"===n?(r=Uf(t))?(t=r,lp):gp:t instanceof Uf?lp:t instanceof Date?dp:function(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}(t)?yp:Array.isArray(t)?up:"function"!==typeof t.valueOf&&"function"!==typeof t.toString||isNaN(t)?fp:hp)(e,t)}function xp(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function bp(e){return+e}var wp=[0,1];function jp(e){return e}function Np(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:function(e){return function(){return e}}(isNaN(t)?NaN:.5)}function kp(e,t,r){var n=e[0],a=e[1],s=t[0],i=t[1];return a<n?(n=Np(a,n),s=r(i,s)):(n=Np(n,a),s=r(s,i)),function(e){return s(n(e))}}function Sp(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),s=new Array(n),i=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++i<n;)a[i]=Np(e[i],e[i+1]),s[i]=r(t[i],t[i+1]);return function(t){var r=jf(e,t,1,n)-1;return s[r](a[r](t))}}function _p(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Op(){var e,t,r,n,a,s,i=wp,o=wp,l=vp,c=jp;function u(){var e=Math.min(i.length,o.length);return c!==jp&&(c=function(e,t){var r;return e>t&&(r=e,e=t,t=r),function(r){return Math.max(e,Math.min(t,r))}}(i[0],i[e-1])),n=e>2?Sp:kp,a=s=null,d}function d(t){return null==t||isNaN(t=+t)?r:(a||(a=n(i.map(e),o,l)))(e(c(t)))}return d.invert=function(r){return c(t((s||(s=n(o,i.map(e),hp)))(r)))},d.domain=function(e){return arguments.length?(i=Array.from(e,bp),u()):i.slice()},d.range=function(e){return arguments.length?(o=Array.from(e),u()):o.slice()},d.rangeRound=function(e){return o=Array.from(e),l=xp,u()},d.clamp=function(e){return arguments.length?(c=!!e||jp,u()):c!==jp},d.interpolate=function(e){return arguments.length?(l=e,u()):l},d.unknown=function(e){return arguments.length?(r=e,d):r},function(r,n){return e=r,t=n,u()}}function Ep(){return Op()(jp,jp)}var Cp,Pp=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Ap(e){if(!(t=Pp.exec(e)))throw new Error("invalid format: "+e);var t;return new Tp({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function Tp(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}function Dp(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function Mp(e){return(e=Dp(Math.abs(e)))?e[1]:NaN}function Ip(e,t){var r=Dp(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}Ap.prototype=Tp.prototype,Tp.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const Rp={"%":(e,t)=>(100*e).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:function(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)},e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>Ip(100*e,t),r:Ip,s:function(e,t){var r=Dp(e,t);if(!r)return e+"";var n=r[0],a=r[1],s=a-(Cp=3*Math.max(-8,Math.min(8,Math.floor(a/3))))+1,i=n.length;return s===i?n:s>i?n+new Array(s-i+1).join("0"):s>0?n.slice(0,s)+"."+n.slice(s):"0."+new Array(1-s).join("0")+Dp(e,Math.max(0,t+s-1))[0]},X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function Lp(e){return e}var zp,Fp,Bp,Up=Array.prototype.map,qp=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];function Hp(e){var t,r,n=void 0===e.grouping||void 0===e.thousands?Lp:(t=Up.call(e.grouping,Number),r=e.thousands+"",function(e,n){for(var a=e.length,s=[],i=0,o=t[0],l=0;a>0&&o>0&&(l+o+1>n&&(o=Math.max(1,n-l)),s.push(e.substring(a-=o,a+o)),!((l+=o+1)>n));)o=t[i=(i+1)%t.length];return s.reverse().join(r)}),a=void 0===e.currency?"":e.currency[0]+"",s=void 0===e.currency?"":e.currency[1]+"",i=void 0===e.decimal?".":e.decimal+"",o=void 0===e.numerals?Lp:function(e){return function(t){return t.replace(/[0-9]/g,function(t){return e[+t]})}}(Up.call(e.numerals,String)),l=void 0===e.percent?"%":e.percent+"",c=void 0===e.minus?"\u2212":e.minus+"",u=void 0===e.nan?"NaN":e.nan+"";function d(e){var t=(e=Ap(e)).fill,r=e.align,d=e.sign,h=e.symbol,f=e.zero,p=e.width,m=e.comma,g=e.precision,y=e.trim,v=e.type;"n"===v?(m=!0,v="g"):Rp[v]||(void 0===g&&(g=12),y=!0,v="g"),(f||"0"===t&&"="===r)&&(f=!0,t="0",r="=");var x="$"===h?a:"#"===h&&/[boxX]/.test(v)?"0"+v.toLowerCase():"",b="$"===h?s:/[%p]/.test(v)?l:"",w=Rp[v],j=/[defgprs%]/.test(v);function N(e){var a,s,l,h=x,N=b;if("c"===v)N=w(e)+N,e="";else{var k=(e=+e)<0||1/e<0;if(e=isNaN(e)?u:w(Math.abs(e),g),y&&(e=function(e){e:for(var t,r=e.length,n=1,a=-1;n<r;++n)switch(e[n]){case".":a=t=n;break;case"0":0===a&&(a=n),t=n;break;default:if(!+e[n])break e;a>0&&(a=0)}return a>0?e.slice(0,a)+e.slice(t+1):e}(e)),k&&0===+e&&"+"!==d&&(k=!1),h=(k?"("===d?d:c:"-"===d||"("===d?"":d)+h,N=("s"===v?qp[8+Cp/3]:"")+N+(k&&"("===d?")":""),j)for(a=-1,s=e.length;++a<s;)if(48>(l=e.charCodeAt(a))||l>57){N=(46===l?i+e.slice(a+1):e.slice(a))+N,e=e.slice(0,a);break}}m&&!f&&(e=n(e,1/0));var S=h.length+e.length+N.length,_=S<p?new Array(p-S+1).join(t):"";switch(m&&f&&(e=n(_+e,_.length?p-N.length:1/0),_=""),r){case"<":e=h+e+N+_;break;case"=":e=h+_+e+N;break;case"^":e=_.slice(0,S=_.length>>1)+h+e+N+_.slice(S);break;default:e=_+h+e+N}return o(e)}return g=void 0===g?6:/[gprs]/.test(v)?Math.max(1,Math.min(21,g)):Math.max(0,Math.min(20,g)),N.toString=function(){return e+""},N}return{format:d,formatPrefix:function(e,t){var r=d(((e=Ap(e)).type="f",e)),n=3*Math.max(-8,Math.min(8,Math.floor(Mp(t)/3))),a=Math.pow(10,-n),s=qp[8+n/3];return function(e){return r(a*e)+s}}}}function Vp(e,t,r,n){var a,s=pf(e,t,r);switch((n=Ap(null==n?",f":n)).type){case"s":var i=Math.max(Math.abs(e),Math.abs(t));return null!=n.precision||isNaN(a=function(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Mp(t)/3)))-Mp(Math.abs(e)))}(s,i))||(n.precision=a),Bp(n,i);case"":case"e":case"g":case"p":case"r":null!=n.precision||isNaN(a=function(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Mp(t)-Mp(e))+1}(s,Math.max(Math.abs(e),Math.abs(t))))||(n.precision=a-("e"===n.type));break;case"f":case"%":null!=n.precision||isNaN(a=function(e){return Math.max(0,-Mp(Math.abs(e)))}(s))||(n.precision=a-2*("%"===n.type))}return Fp(n)}function Wp(e){var t=e.domain;return e.ticks=function(e){var r=t();return hf(r[0],r[r.length-1],null==e?10:e)},e.tickFormat=function(e,r){var n=t();return Vp(n[0],n[n.length-1],null==e?10:e,r)},e.nice=function(r){null==r&&(r=10);var n,a,s=t(),i=0,o=s.length-1,l=s[i],c=s[o],u=10;for(c<l&&(a=l,l=c,c=a,a=i,i=o,o=a);u-- >0;){if((a=ff(l,c,r))===n)return s[i]=l,s[o]=c,t(s);if(a>0)l=Math.floor(l/a)*a,c=Math.ceil(c/a)*a;else{if(!(a<0))break;l=Math.ceil(l*a)/a,c=Math.floor(c*a)/a}n=a}return e},e}function Gp(){var e=Ep();return e.copy=function(){return _p(e,Gp())},hh.apply(e,arguments),Wp(e)}function $p(e){var t;function r(e){return null==e||isNaN(e=+e)?t:e}return r.invert=r,r.domain=r.range=function(t){return arguments.length?(e=Array.from(t,bp),r):e.slice()},r.unknown=function(e){return arguments.length?(t=e,r):t},r.copy=function(){return $p(e).unknown(t)},e=arguments.length?Array.from(e,bp):[0,1],Wp(r)}function Kp(e,t){var r,n=0,a=(e=e.slice()).length-1,s=e[n],i=e[a];return i<s&&(r=n,n=a,a=r,r=s,s=i,i=r),e[n]=t.floor(s),e[a]=t.ceil(i),e}function Yp(e){return Math.log(e)}function Xp(e){return Math.exp(e)}function Jp(e){return-Math.log(-e)}function Qp(e){return-Math.exp(-e)}function Zp(e){return isFinite(e)?+("1e"+e):e<0?0:e}function em(e){return(t,r)=>-e(-t,r)}function tm(e){const t=e(Yp,Xp),r=t.domain;let n,a,s=10;function i(){return n=function(e){return e===Math.E?Math.log:10===e&&Math.log10||2===e&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}(s),a=function(e){return 10===e?Zp:e===Math.E?Math.exp:t=>Math.pow(e,t)}(s),r()[0]<0?(n=em(n),a=em(a),e(Jp,Qp)):e(Yp,Xp),t}return t.base=function(e){return arguments.length?(s=+e,i()):s},t.domain=function(e){return arguments.length?(r(e),i()):r()},t.ticks=e=>{const t=r();let i=t[0],o=t[t.length-1];const l=o<i;l&&([i,o]=[o,i]);let c,u,d=n(i),h=n(o);const f=null==e?10:+e;let p=[];if(!(s%1)&&h-d<f){if(d=Math.floor(d),h=Math.ceil(h),i>0){for(;d<=h;++d)for(c=1;c<s;++c)if(u=d<0?c/a(-d):c*a(d),!(u<i)){if(u>o)break;p.push(u)}}else for(;d<=h;++d)for(c=s-1;c>=1;--c)if(u=d>0?c/a(-d):c*a(d),!(u<i)){if(u>o)break;p.push(u)}2*p.length<f&&(p=hf(i,o,f))}else p=hf(d,h,Math.min(h-d,f)).map(a);return l?p.reverse():p},t.tickFormat=(e,r)=>{if(null==e&&(e=10),null==r&&(r=10===s?"s":","),"function"!==typeof r&&(s%1||null!=(r=Ap(r)).precision||(r.trim=!0),r=Fp(r)),e===1/0)return r;const i=Math.max(1,s*e/t.ticks().length);return e=>{let t=e/a(Math.round(n(e)));return t*s<s-.5&&(t*=s),t<=i?r(e):""}},t.nice=()=>r(Kp(r(),{floor:e=>a(Math.floor(n(e))),ceil:e=>a(Math.ceil(n(e)))})),t}function rm(){const e=tm(Op()).domain([1,10]);return e.copy=()=>_p(e,rm()).base(e.base()),hh.apply(e,arguments),e}function nm(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function am(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function sm(e){var t=1,r=e(nm(t),am(t));return r.constant=function(r){return arguments.length?e(nm(t=+r),am(t)):t},Wp(r)}function im(){var e=sm(Op());return e.copy=function(){return _p(e,im()).constant(e.constant())},hh.apply(e,arguments)}function om(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function lm(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function cm(e){return e<0?-e*e:e*e}function um(e){var t=e(jp,jp),r=1;return t.exponent=function(t){return arguments.length?1===(r=+t)?e(jp,jp):.5===r?e(lm,cm):e(om(r),om(1/r)):r},Wp(t)}function dm(){var e=um(Op());return e.copy=function(){return _p(e,dm()).exponent(e.exponent())},hh.apply(e,arguments),e}function hm(){return dm.apply(null,arguments).exponent(.5)}function fm(e){return Math.sign(e)*e*e}function pm(){var e,t=Ep(),r=[0,1],n=!1;function a(r){var a=function(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}(t(r));return isNaN(a)?e:n?Math.round(a):a}return a.invert=function(e){return t.invert(fm(e))},a.domain=function(e){return arguments.length?(t.domain(e),a):t.domain()},a.range=function(e){return arguments.length?(t.range((r=Array.from(e,bp)).map(fm)),a):r.slice()},a.rangeRound=function(e){return a.range(e).round(!0)},a.round=function(e){return arguments.length?(n=!!e,a):n},a.clamp=function(e){return arguments.length?(t.clamp(e),a):t.clamp()},a.unknown=function(t){return arguments.length?(e=t,a):e},a.copy=function(){return pm(t.domain(),r).round(n).clamp(t.clamp()).unknown(e)},hh.apply(a,arguments),Wp(a)}function mm(e,t){let r;if(void 0===t)for(const n of e)null!=n&&(r<n||void 0===r&&n>=n)&&(r=n);else{let n=-1;for(let a of e)null!=(a=t(a,++n,e))&&(r<a||void 0===r&&a>=a)&&(r=a)}return r}function gm(e,t){let r;if(void 0===t)for(const n of e)null!=n&&(r>n||void 0===r&&n>=n)&&(r=n);else{let n=-1;for(let a of e)null!=(a=t(a,++n,e))&&(r>a||void 0===r&&a>=a)&&(r=a)}return r}function ym(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mf;if(e===mf)return vm;if("function"!==typeof e)throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||0===n?n:(0===e(r,r))-(0===e(t,t))}}function vm(e,t){return(null==e||!(e>=e))-(null==t||!(t>=t))||(e<t?-1:e>t?1:0)}function xm(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1/0,a=arguments.length>4?arguments[4]:void 0;if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=void 0===a?vm:ym(a);n>r;){if(n-r>600){const s=n-r+1,i=t-r+1,o=Math.log(s),l=.5*Math.exp(2*o/3),c=.5*Math.sqrt(o*l*(s-l)/s)*(i-s/2<0?-1:1);xm(e,t,Math.max(r,Math.floor(t-i*l/s+c)),Math.min(n,Math.floor(t+(s-i)*l/s+c)),a)}const s=e[t];let i=r,o=n;for(bm(e,r,t),a(e[n],s)>0&&bm(e,r,n);i<o;){for(bm(e,i,o),++i,--o;a(e[i],s)<0;)++i;for(;a(e[o],s)>0;)--o}0===a(e[r],s)?bm(e,r,o):(++o,bm(e,o,n)),o<=t&&(r=o+1),t<=o&&(n=o-1)}return e}function bm(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function wm(e,t,r){if(e=Float64Array.from(function*(e,t){if(void 0===t)for(let r of e)null!=r&&(r=+r)>=r&&(yield r);else{let r=-1;for(let n of e)null!=(n=t(n,++r,e))&&(n=+n)>=n&&(yield n)}}(e,r)),(n=e.length)&&!isNaN(t=+t)){if(t<=0||n<2)return gm(e);if(t>=1)return mm(e);var n,a=(n-1)*t,s=Math.floor(a),i=mm(xm(e,s).subarray(0,s+1));return i+(gm(e.subarray(s+1))-i)*(a-s)}}function jm(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:xf;if((n=e.length)&&!isNaN(t=+t)){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,s=Math.floor(a),i=+r(e[s],s,e);return i+(+r(e[s+1],s+1,e)-i)*(a-s)}}function Nm(){var e,t=[],r=[],n=[];function a(){var e=0,a=Math.max(1,r.length);for(n=new Array(a-1);++e<a;)n[e-1]=jm(t,e/a);return s}function s(t){return null==t||isNaN(t=+t)?e:r[jf(n,t)]}return s.invertExtent=function(e){var a=r.indexOf(e);return a<0?[NaN,NaN]:[a>0?n[a-1]:t[0],a<n.length?n[a]:t[t.length-1]]},s.domain=function(e){if(!arguments.length)return t.slice();t=[];for(let r of e)null==r||isNaN(r=+r)||t.push(r);return t.sort(mf),a()},s.range=function(e){return arguments.length?(r=Array.from(e),a()):r.slice()},s.unknown=function(t){return arguments.length?(e=t,s):e},s.quantiles=function(){return n.slice()},s.copy=function(){return Nm().domain(t).range(r).unknown(e)},hh.apply(s,arguments)}function km(){var e,t=0,r=1,n=1,a=[.5],s=[0,1];function i(t){return null!=t&&t<=t?s[jf(a,t,0,n)]:e}function o(){var e=-1;for(a=new Array(n);++e<n;)a[e]=((e+1)*r-(e-n)*t)/(n+1);return i}return i.domain=function(e){return arguments.length?([t,r]=e,t=+t,r=+r,o()):[t,r]},i.range=function(e){return arguments.length?(n=(s=Array.from(e)).length-1,o()):s.slice()},i.invertExtent=function(e){var i=s.indexOf(e);return i<0?[NaN,NaN]:i<1?[t,a[0]]:i>=n?[a[n-1],r]:[a[i-1],a[i]]},i.unknown=function(t){return arguments.length?(e=t,i):i},i.thresholds=function(){return a.slice()},i.copy=function(){return km().domain([t,r]).range(s).unknown(e)},hh.apply(Wp(i),arguments)}function Sm(){var e,t=[.5],r=[0,1],n=1;function a(a){return null!=a&&a<=a?r[jf(t,a,0,n)]:e}return a.domain=function(e){return arguments.length?(t=Array.from(e),n=Math.min(t.length,r.length-1),a):t.slice()},a.range=function(e){return arguments.length?(r=Array.from(e),n=Math.min(t.length,r.length-1),a):r.slice()},a.invertExtent=function(e){var n=r.indexOf(e);return[t[n-1],t[n]]},a.unknown=function(t){return arguments.length?(e=t,a):e},a.copy=function(){return Sm().domain(t).range(r).unknown(e)},hh.apply(a,arguments)}zp=Hp({thousands:",",grouping:[3],currency:["$",""]}),Fp=zp.format,Bp=zp.formatPrefix;const _m=1e3,Om=6e4,Em=36e5,Cm=864e5,Pm=6048e5,Am=2592e6,Tm=31536e6,Dm=new Date,Mm=new Date;function Im(e,t,r,n){function a(t){return e(t=0===arguments.length?new Date:new Date(+t)),t}return a.floor=t=>(e(t=new Date(+t)),t),a.ceil=r=>(e(r=new Date(r-1)),t(r,1),e(r),r),a.round=e=>{const t=a(e),r=a.ceil(e);return e-t<r-e?t:r},a.offset=(e,r)=>(t(e=new Date(+e),null==r?1:Math.floor(r)),e),a.range=(r,n,s)=>{const i=[];if(r=a.ceil(r),s=null==s?1:Math.floor(s),!(r<n)||!(s>0))return i;let o;do{i.push(o=new Date(+r)),t(r,s),e(r)}while(o<r&&r<n);return i},a.filter=r=>Im(t=>{if(t>=t)for(;e(t),!r(t);)t.setTime(t-1)},(e,n)=>{if(e>=e)if(n<0)for(;++n<=0;)for(;t(e,-1),!r(e););else for(;--n>=0;)for(;t(e,1),!r(e););}),r&&(a.count=(t,n)=>(Dm.setTime(+t),Mm.setTime(+n),e(Dm),e(Mm),Math.floor(r(Dm,Mm))),a.every=e=>(e=Math.floor(e),isFinite(e)&&e>0?e>1?a.filter(n?t=>n(t)%e===0:t=>a.count(0,t)%e===0):a:null)),a}const Rm=Im(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Rm.every=e=>(e=Math.floor(e),isFinite(e)&&e>0?e>1?Im(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):Rm:null);Rm.range;const Lm=Im(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*_m)},(e,t)=>(t-e)/_m,e=>e.getUTCSeconds()),zm=(Lm.range,Im(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*_m)},(e,t)=>{e.setTime(+e+t*Om)},(e,t)=>(t-e)/Om,e=>e.getMinutes())),Fm=(zm.range,Im(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Om)},(e,t)=>(t-e)/Om,e=>e.getUTCMinutes())),Bm=(Fm.range,Im(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*_m-e.getMinutes()*Om)},(e,t)=>{e.setTime(+e+t*Em)},(e,t)=>(t-e)/Em,e=>e.getHours())),Um=(Bm.range,Im(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Em)},(e,t)=>(t-e)/Em,e=>e.getUTCHours())),qm=(Um.range,Im(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Om)/Cm,e=>e.getDate()-1)),Hm=(qm.range,Im(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Cm,e=>e.getUTCDate()-1)),Vm=(Hm.range,Im(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Cm,e=>Math.floor(e/Cm)));Vm.range;function Wm(e){return Im(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(e,t)=>{e.setDate(e.getDate()+7*t)},(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Om)/Pm)}const Gm=Wm(0),$m=Wm(1),Km=Wm(2),Ym=Wm(3),Xm=Wm(4),Jm=Wm(5),Qm=Wm(6);Gm.range,$m.range,Km.range,Ym.range,Xm.range,Jm.range,Qm.range;function Zm(e){return Im(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+7*t)},(e,t)=>(t-e)/Pm)}const eg=Zm(0),tg=Zm(1),rg=Zm(2),ng=Zm(3),ag=Zm(4),sg=Zm(5),ig=Zm(6),og=(eg.range,tg.range,rg.range,ng.range,ag.range,sg.range,ig.range,Im(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear()),e=>e.getMonth())),lg=(og.range,Im(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+12*(t.getUTCFullYear()-e.getUTCFullYear()),e=>e.getUTCMonth())),cg=(lg.range,Im(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear()));cg.every=e=>isFinite(e=Math.floor(e))&&e>0?Im(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)}):null;cg.range;const ug=Im(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());ug.every=e=>isFinite(e=Math.floor(e))&&e>0?Im(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)}):null;ug.range;function dg(e,t,r,n,a,s){const i=[[Lm,1,_m],[Lm,5,5e3],[Lm,15,15e3],[Lm,30,3e4],[s,1,Om],[s,5,3e5],[s,15,9e5],[s,30,18e5],[a,1,Em],[a,3,108e5],[a,6,216e5],[a,12,432e5],[n,1,Cm],[n,2,1728e5],[r,1,Pm],[t,1,Am],[t,3,7776e6],[e,1,Tm]];function o(t,r,n){const a=Math.abs(r-t)/n,s=yf(e=>{let[,,t]=e;return t}).right(i,a);if(s===i.length)return e.every(pf(t/Tm,r/Tm,n));if(0===s)return Rm.every(Math.max(pf(t,r,n),1));const[o,l]=i[a/i[s-1][2]<i[s][2]/a?s-1:s];return o.every(l)}return[function(e,t,r){const n=t<e;n&&([e,t]=[t,e]);const a=r&&"function"===typeof r.range?r:o(e,t,r),s=a?a.range(e,+t+1):[];return n?s.reverse():s},o]}const[hg,fg]=dg(ug,lg,eg,Vm,Um,Fm),[pg,mg]=dg(cg,og,Gm,qm,Bm,zm);function gg(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function yg(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function vg(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}var xg,bg,wg,jg={"-":"",_:" ",0:"0"},Ng=/^\s*\d+/,kg=/^%/,Sg=/[\\^$*+?|[\]().{}]/g;function _g(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",s=a.length;return n+(s<r?new Array(r-s+1).join(t)+a:a)}function Og(e){return e.replace(Sg,"\\$&")}function Eg(e){return new RegExp("^(?:"+e.map(Og).join("|")+")","i")}function Cg(e){return new Map(e.map((e,t)=>[e.toLowerCase(),t]))}function Pg(e,t,r){var n=Ng.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function Ag(e,t,r){var n=Ng.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function Tg(e,t,r){var n=Ng.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function Dg(e,t,r){var n=Ng.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function Mg(e,t,r){var n=Ng.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function Ig(e,t,r){var n=Ng.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function Rg(e,t,r){var n=Ng.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function Lg(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function zg(e,t,r){var n=Ng.exec(t.slice(r,r+1));return n?(e.q=3*n[0]-3,r+n[0].length):-1}function Fg(e,t,r){var n=Ng.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function Bg(e,t,r){var n=Ng.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function Ug(e,t,r){var n=Ng.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function qg(e,t,r){var n=Ng.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function Hg(e,t,r){var n=Ng.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function Vg(e,t,r){var n=Ng.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function Wg(e,t,r){var n=Ng.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function Gg(e,t,r){var n=Ng.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function $g(e,t,r){var n=kg.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function Kg(e,t,r){var n=Ng.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function Yg(e,t,r){var n=Ng.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function Xg(e,t){return _g(e.getDate(),t,2)}function Jg(e,t){return _g(e.getHours(),t,2)}function Qg(e,t){return _g(e.getHours()%12||12,t,2)}function Zg(e,t){return _g(1+qm.count(cg(e),e),t,3)}function ey(e,t){return _g(e.getMilliseconds(),t,3)}function ty(e,t){return ey(e,t)+"000"}function ry(e,t){return _g(e.getMonth()+1,t,2)}function ny(e,t){return _g(e.getMinutes(),t,2)}function ay(e,t){return _g(e.getSeconds(),t,2)}function sy(e){var t=e.getDay();return 0===t?7:t}function iy(e,t){return _g(Gm.count(cg(e)-1,e),t,2)}function oy(e){var t=e.getDay();return t>=4||0===t?Xm(e):Xm.ceil(e)}function ly(e,t){return e=oy(e),_g(Xm.count(cg(e),e)+(4===cg(e).getDay()),t,2)}function cy(e){return e.getDay()}function uy(e,t){return _g($m.count(cg(e)-1,e),t,2)}function dy(e,t){return _g(e.getFullYear()%100,t,2)}function hy(e,t){return _g((e=oy(e)).getFullYear()%100,t,2)}function fy(e,t){return _g(e.getFullYear()%1e4,t,4)}function py(e,t){var r=e.getDay();return _g((e=r>=4||0===r?Xm(e):Xm.ceil(e)).getFullYear()%1e4,t,4)}function my(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+_g(t/60|0,"0",2)+_g(t%60,"0",2)}function gy(e,t){return _g(e.getUTCDate(),t,2)}function yy(e,t){return _g(e.getUTCHours(),t,2)}function vy(e,t){return _g(e.getUTCHours()%12||12,t,2)}function xy(e,t){return _g(1+Hm.count(ug(e),e),t,3)}function by(e,t){return _g(e.getUTCMilliseconds(),t,3)}function wy(e,t){return by(e,t)+"000"}function jy(e,t){return _g(e.getUTCMonth()+1,t,2)}function Ny(e,t){return _g(e.getUTCMinutes(),t,2)}function ky(e,t){return _g(e.getUTCSeconds(),t,2)}function Sy(e){var t=e.getUTCDay();return 0===t?7:t}function _y(e,t){return _g(eg.count(ug(e)-1,e),t,2)}function Oy(e){var t=e.getUTCDay();return t>=4||0===t?ag(e):ag.ceil(e)}function Ey(e,t){return e=Oy(e),_g(ag.count(ug(e),e)+(4===ug(e).getUTCDay()),t,2)}function Cy(e){return e.getUTCDay()}function Py(e,t){return _g(tg.count(ug(e)-1,e),t,2)}function Ay(e,t){return _g(e.getUTCFullYear()%100,t,2)}function Ty(e,t){return _g((e=Oy(e)).getUTCFullYear()%100,t,2)}function Dy(e,t){return _g(e.getUTCFullYear()%1e4,t,4)}function My(e,t){var r=e.getUTCDay();return _g((e=r>=4||0===r?ag(e):ag.ceil(e)).getUTCFullYear()%1e4,t,4)}function Iy(){return"+0000"}function Ry(){return"%"}function Ly(e){return+e}function zy(e){return Math.floor(+e/1e3)}function Fy(e){return new Date(e)}function By(e){return e instanceof Date?+e:+new Date(+e)}function Uy(e,t,r,n,a,s,i,o,l,c){var u=Ep(),d=u.invert,h=u.domain,f=c(".%L"),p=c(":%S"),m=c("%I:%M"),g=c("%I %p"),y=c("%a %d"),v=c("%b %d"),x=c("%B"),b=c("%Y");function w(e){return(l(e)<e?f:o(e)<e?p:i(e)<e?m:s(e)<e?g:n(e)<e?a(e)<e?y:v:r(e)<e?x:b)(e)}return u.invert=function(e){return new Date(d(e))},u.domain=function(e){return arguments.length?h(Array.from(e,By)):h().map(Fy)},u.ticks=function(t){var r=h();return e(r[0],r[r.length-1],null==t?10:t)},u.tickFormat=function(e,t){return null==t?w:c(t)},u.nice=function(e){var r=h();return e&&"function"===typeof e.range||(e=t(r[0],r[r.length-1],null==e?10:e)),e?h(Kp(r,e)):u},u.copy=function(){return _p(u,Uy(e,t,r,n,a,s,i,o,l,c))},u}function qy(){return hh.apply(Uy(pg,mg,cg,og,Gm,qm,Bm,zm,Lm,bg).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Hy(){return hh.apply(Uy(hg,fg,ug,lg,eg,Hm,Um,Fm,Lm,wg).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Vy(){var e,t,r,n,a,s=0,i=1,o=jp,l=!1;function c(t){return null==t||isNaN(t=+t)?a:o(0===r?.5:(t=(n(t)-e)*r,l?Math.max(0,Math.min(1,t)):t))}function u(e){return function(t){var r,n;return arguments.length?([r,n]=t,o=e(r,n),c):[o(0),o(1)]}}return c.domain=function(a){return arguments.length?([s,i]=a,e=n(s=+s),t=n(i=+i),r=e===t?0:1/(t-e),c):[s,i]},c.clamp=function(e){return arguments.length?(l=!!e,c):l},c.interpolator=function(e){return arguments.length?(o=e,c):o},c.range=u(vp),c.rangeRound=u(xp),c.unknown=function(e){return arguments.length?(a=e,c):a},function(a){return n=a,e=a(s),t=a(i),r=e===t?0:1/(t-e),c}}function Wy(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function Gy(){var e=Wp(Vy()(jp));return e.copy=function(){return Wy(e,Gy())},fh.apply(e,arguments)}function $y(){var e=tm(Vy()).domain([1,10]);return e.copy=function(){return Wy(e,$y()).base(e.base())},fh.apply(e,arguments)}function Ky(){var e=sm(Vy());return e.copy=function(){return Wy(e,Ky()).constant(e.constant())},fh.apply(e,arguments)}function Yy(){var e=um(Vy());return e.copy=function(){return Wy(e,Yy()).exponent(e.exponent())},fh.apply(e,arguments)}function Xy(){return Yy.apply(null,arguments).exponent(.5)}function Jy(){var e=[],t=jp;function r(r){if(null!=r&&!isNaN(r=+r))return t((jf(e,r,1)-1)/(e.length-1))}return r.domain=function(t){if(!arguments.length)return e.slice();e=[];for(let r of t)null==r||isNaN(r=+r)||e.push(r);return e.sort(mf),r},r.interpolator=function(e){return arguments.length?(t=e,r):t},r.range=function(){return e.map((r,n)=>t(n/(e.length-1)))},r.quantiles=function(t){return Array.from({length:t+1},(r,n)=>wm(e,n/t))},r.copy=function(){return Jy(t).domain(e)},fh.apply(r,arguments)}function Qy(){var e,t,r,n,a,s,i,o=0,l=.5,c=1,u=1,d=jp,h=!1;function f(e){return isNaN(e=+e)?i:(e=.5+((e=+s(e))-t)*(u*e<u*t?n:a),d(h?Math.max(0,Math.min(1,e)):e))}function p(e){return function(t){var r,n,a;return arguments.length?([r,n,a]=t,d=function(e,t){void 0===t&&(t=e,e=vp);for(var r=0,n=t.length-1,a=t[0],s=new Array(n<0?0:n);r<n;)s[r]=e(a,a=t[++r]);return function(e){var t=Math.max(0,Math.min(n-1,Math.floor(e*=n)));return s[t](e-t)}}(e,[r,n,a]),f):[d(0),d(.5),d(1)]}}return f.domain=function(i){return arguments.length?([o,l,c]=i,e=s(o=+o),t=s(l=+l),r=s(c=+c),n=e===t?0:.5/(t-e),a=t===r?0:.5/(r-t),u=t<e?-1:1,f):[o,l,c]},f.clamp=function(e){return arguments.length?(h=!!e,f):h},f.interpolator=function(e){return arguments.length?(d=e,f):d},f.range=p(vp),f.rangeRound=p(xp),f.unknown=function(e){return arguments.length?(i=e,f):i},function(i){return s=i,e=i(o),t=i(l),r=i(c),n=e===t?0:.5/(t-e),a=t===r?0:.5/(r-t),u=t<e?-1:1,f}}function Zy(){var e=Wp(Qy()(jp));return e.copy=function(){return Wy(e,Zy())},fh.apply(e,arguments)}function ev(){var e=tm(Qy()).domain([.1,1,10]);return e.copy=function(){return Wy(e,ev()).base(e.base())},fh.apply(e,arguments)}function tv(){var e=sm(Qy());return e.copy=function(){return Wy(e,tv()).constant(e.constant())},fh.apply(e,arguments)}function rv(){var e=um(Qy());return e.copy=function(){return Wy(e,rv()).exponent(e.exponent())},fh.apply(e,arguments)}function nv(){return rv.apply(null,arguments).exponent(.5)}function av(e,t){if((a=e.length)>1)for(var r,n,a,s=1,i=e[t[0]],o=i.length;s<a;++s)for(n=i,i=e[t[s]],r=0;r<o;++r)i[r][1]+=i[r][0]=isNaN(n[r][1])?n[r][0]:n[r][1]}!function(e){xg=function(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,s=e.days,i=e.shortDays,o=e.months,l=e.shortMonths,c=Eg(a),u=Cg(a),d=Eg(s),h=Cg(s),f=Eg(i),p=Cg(i),m=Eg(o),g=Cg(o),y=Eg(l),v=Cg(l),x={a:function(e){return i[e.getDay()]},A:function(e){return s[e.getDay()]},b:function(e){return l[e.getMonth()]},B:function(e){return o[e.getMonth()]},c:null,d:Xg,e:Xg,f:ty,g:hy,G:py,H:Jg,I:Qg,j:Zg,L:ey,m:ry,M:ny,p:function(e){return a[+(e.getHours()>=12)]},q:function(e){return 1+~~(e.getMonth()/3)},Q:Ly,s:zy,S:ay,u:sy,U:iy,V:ly,w:cy,W:uy,x:null,X:null,y:dy,Y:fy,Z:my,"%":Ry},b={a:function(e){return i[e.getUTCDay()]},A:function(e){return s[e.getUTCDay()]},b:function(e){return l[e.getUTCMonth()]},B:function(e){return o[e.getUTCMonth()]},c:null,d:gy,e:gy,f:wy,g:Ty,G:My,H:yy,I:vy,j:xy,L:by,m:jy,M:Ny,p:function(e){return a[+(e.getUTCHours()>=12)]},q:function(e){return 1+~~(e.getUTCMonth()/3)},Q:Ly,s:zy,S:ky,u:Sy,U:_y,V:Ey,w:Cy,W:Py,x:null,X:null,y:Ay,Y:Dy,Z:Iy,"%":Ry},w={a:function(e,t,r){var n=f.exec(t.slice(r));return n?(e.w=p.get(n[0].toLowerCase()),r+n[0].length):-1},A:function(e,t,r){var n=d.exec(t.slice(r));return n?(e.w=h.get(n[0].toLowerCase()),r+n[0].length):-1},b:function(e,t,r){var n=y.exec(t.slice(r));return n?(e.m=v.get(n[0].toLowerCase()),r+n[0].length):-1},B:function(e,t,r){var n=m.exec(t.slice(r));return n?(e.m=g.get(n[0].toLowerCase()),r+n[0].length):-1},c:function(e,r,n){return k(e,t,r,n)},d:Bg,e:Bg,f:Gg,g:Rg,G:Ig,H:qg,I:qg,j:Ug,L:Wg,m:Fg,M:Hg,p:function(e,t,r){var n=c.exec(t.slice(r));return n?(e.p=u.get(n[0].toLowerCase()),r+n[0].length):-1},q:zg,Q:Kg,s:Yg,S:Vg,u:Ag,U:Tg,V:Dg,w:Pg,W:Mg,x:function(e,t,n){return k(e,r,t,n)},X:function(e,t,r){return k(e,n,t,r)},y:Rg,Y:Ig,Z:Lg,"%":$g};function j(e,t){return function(r){var n,a,s,i=[],o=-1,l=0,c=e.length;for(r instanceof Date||(r=new Date(+r));++o<c;)37===e.charCodeAt(o)&&(i.push(e.slice(l,o)),null!=(a=jg[n=e.charAt(++o)])?n=e.charAt(++o):a="e"===n?" ":"0",(s=t[n])&&(n=s(r,a)),i.push(n),l=o+1);return i.push(e.slice(l,o)),i.join("")}}function N(e,t){return function(r){var n,a,s=vg(1900,void 0,1);if(k(s,e,r+="",0)!=r.length)return null;if("Q"in s)return new Date(s.Q);if("s"in s)return new Date(1e3*s.s+("L"in s?s.L:0));if(t&&!("Z"in s)&&(s.Z=0),"p"in s&&(s.H=s.H%12+12*s.p),void 0===s.m&&(s.m="q"in s?s.q:0),"V"in s){if(s.V<1||s.V>53)return null;"w"in s||(s.w=1),"Z"in s?(a=(n=yg(vg(s.y,0,1))).getUTCDay(),n=a>4||0===a?tg.ceil(n):tg(n),n=Hm.offset(n,7*(s.V-1)),s.y=n.getUTCFullYear(),s.m=n.getUTCMonth(),s.d=n.getUTCDate()+(s.w+6)%7):(a=(n=gg(vg(s.y,0,1))).getDay(),n=a>4||0===a?$m.ceil(n):$m(n),n=qm.offset(n,7*(s.V-1)),s.y=n.getFullYear(),s.m=n.getMonth(),s.d=n.getDate()+(s.w+6)%7)}else("W"in s||"U"in s)&&("w"in s||(s.w="u"in s?s.u%7:"W"in s?1:0),a="Z"in s?yg(vg(s.y,0,1)).getUTCDay():gg(vg(s.y,0,1)).getDay(),s.m=0,s.d="W"in s?(s.w+6)%7+7*s.W-(a+5)%7:s.w+7*s.U-(a+6)%7);return"Z"in s?(s.H+=s.Z/100|0,s.M+=s.Z%100,yg(s)):gg(s)}}function k(e,t,r,n){for(var a,s,i=0,o=t.length,l=r.length;i<o;){if(n>=l)return-1;if(37===(a=t.charCodeAt(i++))){if(a=t.charAt(i++),!(s=w[a in jg?t.charAt(i++):a])||(n=s(e,r,n))<0)return-1}else if(a!=r.charCodeAt(n++))return-1}return n}return x.x=j(r,x),x.X=j(n,x),x.c=j(t,x),b.x=j(r,b),b.X=j(n,b),b.c=j(t,b),{format:function(e){var t=j(e+="",x);return t.toString=function(){return e},t},parse:function(e){var t=N(e+="",!1);return t.toString=function(){return e},t},utcFormat:function(e){var t=j(e+="",b);return t.toString=function(){return e},t},utcParse:function(e){var t=N(e+="",!0);return t.toString=function(){return e},t}}}(e),bg=xg.format,xg.parse,wg=xg.utcFormat,xg.utcParse}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});Array.prototype.slice;function sv(e){return"object"===typeof e&&"length"in e?e:Array.from(e)}function iv(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function ov(e,t){return e[t]}function lv(e){const t=[];return t.key=e,t}var cv=r(539),uv=r.n(cv),dv=r(6745),hv=r.n(dv),fv=r(3538),pv=r.n(fv),mv=r(9853),gv=r.n(mv),yv=r(8210),vv=r.n(yv);function xv(e){return function(e){if(Array.isArray(e))return bv(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return bv(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return bv(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function bv(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var wv=function(e){return e},jv={"@@functional/placeholder":!0},Nv=function(e){return e===jv},kv=function(e){return function t(){return 0===arguments.length||1===arguments.length&&Nv(arguments.length<=0?void 0:arguments[0])?t:e.apply(void 0,arguments)}},Sv=function e(t,r){return 1===t?r:kv(function(){for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];var i=a.filter(function(e){return e!==jv}).length;return i>=t?r.apply(void 0,a):e(t-i,kv(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var s=a.map(function(e){return Nv(e)?t.shift():e});return r.apply(void 0,xv(s).concat(t))}))})},_v=function(e){return Sv(e.length,e)},Ov=function(e,t){for(var r=[],n=e;n<t;++n)r[n-e]=n;return r},Ev=_v(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(e){return t[e]}).map(e)}),Cv=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];if(!t.length)return wv;var n=t.reverse(),a=n[0],s=n.slice(1);return function(){return s.reduce(function(e,t){return t(e)},a.apply(void 0,arguments))}},Pv=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},Av=function(e){var t=null,r=null;return function(){for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return t&&a.every(function(e,r){return e===t[r]})?r:(t=a,r=e.apply(void 0,a))}};var Tv=_v(function(e,t,r){var n=+e;return n+r*(+t-n)}),Dv=_v(function(e,t,r){var n=t-+e;return(r-e)/(n=n||1/0)}),Mv=_v(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const Iv={rangeStep:function(e,t,r){for(var n=new(vv())(e),a=0,s=[];n.lt(t)&&a<1e5;)s.push(n.toNumber()),n=n.add(r),a++;return s},getDigitCount:function(e){return 0===e?1:Math.floor(new(vv())(e).abs().log(10).toNumber())+1},interpolateNumber:Tv,uninterpolateNumber:Dv,uninterpolateTruncation:Mv};function Rv(e){return function(e){if(Array.isArray(e))return Fv(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||zv(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Lv(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,a=!1,s=void 0;try{for(var i,o=e[Symbol.iterator]();!(n=(i=o.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(l){a=!0,s=l}finally{try{n||null==o.return||o.return()}finally{if(a)throw s}}return r}(e,t)||zv(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function zv(e,t){if(e){if("string"===typeof e)return Fv(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Fv(e,t):void 0}}function Fv(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Bv(e){var t=Lv(e,2),r=t[0],n=t[1],a=r,s=n;return r>n&&(a=n,s=r),[a,s]}function Uv(e,t,r){if(e.lte(0))return new(vv())(0);var n=Iv.getDigitCount(e.toNumber()),a=new(vv())(10).pow(n),s=e.div(a),i=1!==n?.05:.1,o=new(vv())(Math.ceil(s.div(i).toNumber())).add(r).mul(i).mul(a);return t?o:new(vv())(Math.ceil(o))}function qv(e,t,r){var n=1,a=new(vv())(e);if(!a.isint()&&r){var s=Math.abs(e);s<1?(n=new(vv())(10).pow(Iv.getDigitCount(e)-1),a=new(vv())(Math.floor(a.div(n).toNumber())).mul(n)):s>1&&(a=new(vv())(Math.floor(e)))}else 0===e?a=new(vv())(Math.floor((t-1)/2)):r||(a=new(vv())(Math.floor(e)));var i=Math.floor((t-1)/2),o=Cv(Ev(function(e){return a.add(new(vv())(e-i).mul(n)).toNumber()}),Ov);return o(0,t)}function Hv(e,t,r,n){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new(vv())(0),tickMin:new(vv())(0),tickMax:new(vv())(0)};var s,i=Uv(new(vv())(t).sub(e).div(r-1),n,a);s=e<=0&&t>=0?new(vv())(0):(s=new(vv())(e).add(t).div(2)).sub(new(vv())(s).mod(i));var o=Math.ceil(s.sub(e).div(i).toNumber()),l=Math.ceil(new(vv())(t).sub(s).div(i).toNumber()),c=o+l+1;return c>r?Hv(e,t,r,n,a+1):(c<r&&(l=t>0?l+(r-c):l,o=t>0?o:o+(r-c)),{step:i,tickMin:s.sub(new(vv())(o).mul(i)),tickMax:s.add(new(vv())(l).mul(i))})}var Vv=Av(function(e){var t=Lv(e,2),r=t[0],n=t[1],a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6,s=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=Math.max(a,2),o=Lv(Bv([r,n]),2),l=o[0],c=o[1];if(l===-1/0||c===1/0){var u=c===1/0?[l].concat(Rv(Ov(0,a-1).map(function(){return 1/0}))):[].concat(Rv(Ov(0,a-1).map(function(){return-1/0})),[c]);return r>n?Pv(u):u}if(l===c)return qv(l,a,s);var d=Hv(l,c,i,s),h=d.step,f=d.tickMin,p=d.tickMax,m=Iv.rangeStep(f,p.add(new(vv())(.1).mul(h)),h);return r>n?Pv(m):m}),Wv=(Av(function(e){var t=Lv(e,2),r=t[0],n=t[1],a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6,s=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=Math.max(a,2),o=Lv(Bv([r,n]),2),l=o[0],c=o[1];if(l===-1/0||c===1/0)return[r,n];if(l===c)return qv(l,a,s);var u=Uv(new(vv())(c).sub(l).div(i-1),s,0),d=Cv(Ev(function(e){return new(vv())(l).add(new(vv())(e).mul(u)).toNumber()}),Ov),h=d(0,i).filter(function(e){return e>=l&&e<=c});return r>n?Pv(h):h}),Av(function(e,t){var r=Lv(e,2),n=r[0],a=r[1],s=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=Lv(Bv([n,a]),2),o=i[0],l=i[1];if(o===-1/0||l===1/0)return[n,a];if(o===l)return[o];var c=Math.max(t,2),u=Uv(new(vv())(l).sub(o).div(c-1),s,0),d=[].concat(Rv(Iv.rangeStep(new(vv())(o),new(vv())(l).sub(new(vv())(.99).mul(u)),u)),[l]);return n>a?Pv(d):d})),Gv=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function $v(e){return $v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$v(e)}function Kv(){return Kv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Kv.apply(this,arguments)}function Yv(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,s,i,o=[],l=!0,c=!1;try{if(s=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=s.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return o}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Xv(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Xv(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Xv(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Jv(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Qv(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ax(n.key),n)}}function Zv(e,t,r){return t=tx(t),function(e,t){if(t&&("object"===$v(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,ex()?Reflect.construct(t,r||[],tx(e).constructor):t.apply(e,r))}function ex(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(ex=function(){return!!e})()}function tx(e){return tx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},tx(e)}function rx(e,t){return rx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},rx(e,t)}function nx(e,t,r){return(t=ax(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ax(e){var t=function(e,t){if("object"!=$v(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=$v(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==$v(t)?t:t+""}var sx=function(e){function r(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),Zv(this,r,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&rx(e,t)}(r,e),n=r,a=[{key:"render",value:function(){var e=this.props,r=e.offset,n=e.layout,a=e.width,s=e.dataKey,i=e.data,o=e.dataPointFormatter,l=e.xAxis,c=e.yAxis,u=Jv(e,Gv),d=Lo(u,!1);"x"===this.props.direction&&"number"!==l.type&&Zo(!1);var h=i.map(function(e){var i=o(e,s),u=i.x,h=i.y,f=i.value,p=i.errorVal;if(!p)return null;var m,g,y=[];if(Array.isArray(p)){var v=Yv(p,2);m=v[0],g=v[1]}else m=g=p;if("vertical"===n){var x=l.scale,b=h+r,w=b+a,j=b-a,N=x(f-m),k=x(f+g);y.push({x1:k,y1:w,x2:k,y2:j}),y.push({x1:N,y1:b,x2:k,y2:b}),y.push({x1:N,y1:w,x2:N,y2:j})}else if("horizontal"===n){var S=c.scale,_=u+r,O=_-a,E=_+a,C=S(f-m),P=S(f+g);y.push({x1:O,y1:P,x2:E,y2:P}),y.push({x1:_,y1:C,x2:_,y2:P}),y.push({x1:O,y1:C,x2:E,y2:C})}return t.createElement(ol,Kv({className:"recharts-errorBar",key:"bar-".concat(y.map(function(e){return"".concat(e.x1,"-").concat(e.x2,"-").concat(e.y1,"-").concat(e.y2)}))},d),y.map(function(e){return t.createElement("line",Kv({},e,{key:"line-".concat(e.x1,"-").concat(e.x2,"-").concat(e.y1,"-").concat(e.y2)}))}))});return t.createElement(ol,{className:"recharts-errorBars"},h)}}],a&&Qv(n.prototype,a),s&&Qv(n,s),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,a,s}(t.Component);function ix(e){return ix="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ix(e)}function ox(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function lx(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ox(Object(r),!0).forEach(function(t){cx(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ox(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function cx(e,t,r){return t=function(e){var t=function(e,t){if("object"!=ix(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=ix(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ix(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}nx(sx,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"}),nx(sx,"displayName","ErrorBar");var ux=function(e){var t=e.children,r=e.formattedGraphicalItems,n=e.legendWidth,a=e.legendContent,s=Do(t,Nu);if(!s)return null;var i,o=Nu.defaultProps,l=void 0!==o?lx(lx({},o),s.props):{};return i=s.props&&s.props.payload?s.props&&s.props.payload:"children"===a?(r||[]).reduce(function(e,t){var r=t.item,n=t.props,a=n.sectors||n.data||[];return e.concat(a.map(function(e){return{type:s.props.iconType||r.props.legendType,value:e.name,color:e.fill,payload:e}}))},[]):(r||[]).map(function(e){var t=e.item,r=t.type.defaultProps,n=void 0!==r?lx(lx({},r),t.props):{},a=n.dataKey,s=n.name,i=n.legendType;return{inactive:n.hide,dataKey:a,type:l.iconType||i||"square",color:xx(t),value:s||a,payload:n}}),lx(lx(lx({},l),Nu.getWithHeight(s,n)),{},{payload:i,item:s})};function dx(e){return dx="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dx(e)}function hx(e){return function(e){if(Array.isArray(e))return fx(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return fx(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return fx(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function fx(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function px(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function mx(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?px(Object(r),!0).forEach(function(t){gx(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):px(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function gx(e,t,r){return t=function(e){var t=function(e,t){if("object"!=dx(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=dx(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==dx(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yx(e,t,r){return Xi()(e)||Xi()(t)?r:eo(t)?Gi()(e,t,r):uo()(t)?t(e):r}function vx(e,t,r,n){var a=pv()(e,function(e){return yx(e,t)});if("number"===r){var s=a.filter(function(e){return Zi(e)||parseFloat(e)});return s.length?[hv()(s),uv()(s)]:[1/0,-1/0]}return(n?a.filter(function(e){return!Xi()(e)}):a).map(function(e){return eo(e)||e instanceof Date?e:""})}var xx=function(e){var t,r,n=e.type.displayName,a=null!==(t=e.type)&&void 0!==t&&t.defaultProps?mx(mx({},e.type.defaultProps),e.props):e.props,s=a.stroke,i=a.fill;switch(n){case"Line":r=s;break;case"Area":case"Radar":r=s&&"none"!==s?s:i;break;default:r=i}return r},bx=function(e,t,r,n,a){var s=To(t.props.children,sx).filter(function(e){return function(e,t,r){return!!Xi()(t)||("horizontal"===e?"yAxis"===t:"vertical"===e||"x"===r?"xAxis"===t:"y"!==r||"yAxis"===t)}(n,a,e.props.direction)});if(s&&s.length){var i=s.map(function(e){return e.props.dataKey});return e.reduce(function(e,t){var n=yx(t,r);if(Xi()(n))return e;var a=Array.isArray(n)?[hv()(n),uv()(n)]:[n,n],s=i.reduce(function(e,r){var n=yx(t,r,0),s=a[0]-Math.abs(Array.isArray(n)?n[0]:n),i=a[1]+Math.abs(Array.isArray(n)?n[1]:n);return[Math.min(s,e[0]),Math.max(i,e[1])]},[1/0,-1/0]);return[Math.min(s[0],e[0]),Math.max(s[1],e[1])]},[1/0,-1/0])}return null},wx=function(e,t,r,n,a){var s=t.map(function(t){var s=t.props.dataKey;return"number"===r&&s&&bx(e,t,s,n)||vx(e,s,r,a)});if("number"===r)return s.reduce(function(e,t){return[Math.min(e[0],t[0]),Math.max(e[1],t[1])]},[1/0,-1/0]);var i={};return s.reduce(function(e,t){for(var r=0,n=t.length;r<n;r++)i[t[r]]||(i[t[r]]=!0,e.push(t[r]));return e},[])},jx=function(e,t){return"horizontal"===e&&"xAxis"===t||"vertical"===e&&"yAxis"===t||"centric"===e&&"angleAxis"===t||"radial"===e&&"radiusAxis"===t},Nx=function(e,t,r,n){if(n)return e.map(function(e){return e.coordinate});var a,s,i=e.map(function(e){return e.coordinate===t&&(a=!0),e.coordinate===r&&(s=!0),e.coordinate});return a||i.push(t),s||i.push(r),i},kx=function(e,t,r){if(!e)return null;var n=e.scale,a=e.duplicateDomain,s=e.type,i=e.range,o="scaleBand"===e.realScaleType?n.bandwidth()/2:2,l=(t||r)&&"category"===s&&n.bandwidth?n.bandwidth()/o:0;return l="angleAxis"===e.axisType&&(null===i||void 0===i?void 0:i.length)>=2?2*Ji(i[0]-i[1])*l:l,t&&(e.ticks||e.niceTicks)?(e.ticks||e.niceTicks).map(function(e){var t=a?a.indexOf(e):e;return{coordinate:n(t)+l,value:e,offset:l}}).filter(function(e){return!Vi()(e.coordinate)}):e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(e,t){return{coordinate:n(e)+l,value:e,index:t,offset:l}}):n.ticks&&!r?n.ticks(e.tickCount).map(function(e){return{coordinate:n(e)+l,value:e,offset:l}}):n.domain().map(function(e,t){return{coordinate:n(e)+l,value:a?a[e]:e,index:t,offset:l}})},Sx=new WeakMap,_x=function(e,t){if("function"!==typeof t)return e;Sx.has(e)||Sx.set(e,new WeakMap);var r=Sx.get(e);if(r.has(t))return r.get(t);var n=function(){e.apply(void 0,arguments),t.apply(void 0,arguments)};return r.set(t,n),n},Ox=function(t,r,n){var a=t.scale,s=t.type,i=t.layout,o=t.axisType;if("auto"===a)return"radial"===i&&"radiusAxis"===o?{scale:wh(),realScaleType:"band"}:"radial"===i&&"angleAxis"===o?{scale:Gp(),realScaleType:"linear"}:"category"===s&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:Nh(),realScaleType:"point"}:"category"===s?{scale:wh(),realScaleType:"band"}:{scale:Gp(),realScaleType:"linear"};if(qi()(a)){var l="scale".concat(Jl()(a));return{scale:(e[l]||Nh)(),realScaleType:e[l]?l:"point"}}return uo()(a)?{scale:a}:{scale:Nh(),realScaleType:"point"}},Ex=1e-4,Cx=function(e){var t=e.domain();if(t&&!(t.length<=2)){var r=t.length,n=e.range(),a=Math.min(n[0],n[1])-Ex,s=Math.max(n[0],n[1])+Ex,i=e(t[0]),o=e(t[r-1]);(i<a||i>s||o<a||o>s)&&e.domain([t[0],t[r-1]])}},Px={sign:function(e){var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var a=0,s=0,i=0;i<t;++i){var o=Vi()(e[i][r][1])?e[i][r][0]:e[i][r][1];o>=0?(e[i][r][0]=a,e[i][r][1]=a+o,a=e[i][r][1]):(e[i][r][0]=s,e[i][r][1]=s+o,s=e[i][r][1])}},expand:function(e,t){if((n=e.length)>0){for(var r,n,a,s=0,i=e[0].length;s<i;++s){for(a=r=0;r<n;++r)a+=e[r][s][1]||0;if(a)for(r=0;r<n;++r)e[r][s][1]/=a}av(e,t)}},none:av,silhouette:function(e,t){if((r=e.length)>0){for(var r,n=0,a=e[t[0]],s=a.length;n<s;++n){for(var i=0,o=0;i<r;++i)o+=e[i][n][1]||0;a[n][1]+=a[n][0]=-o/2}av(e,t)}},wiggle:function(e,t){if((a=e.length)>0&&(n=(r=e[t[0]]).length)>0){for(var r,n,a,s=0,i=1;i<n;++i){for(var o=0,l=0,c=0;o<a;++o){for(var u=e[t[o]],d=u[i][1]||0,h=(d-(u[i-1][1]||0))/2,f=0;f<o;++f){var p=e[t[f]];h+=(p[i][1]||0)-(p[i-1][1]||0)}l+=d,c+=h*d}r[i-1][1]+=r[i-1][0]=s,l&&(s-=c/l)}r[i-1][1]+=r[i-1][0]=s,av(e,t)}},positive:function(e){var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var a=0,s=0;s<t;++s){var i=Vi()(e[s][r][1])?e[s][r][0]:e[s][r][1];i>=0?(e[s][r][0]=a,e[s][r][1]=a+i,a=e[s][r][1]):(e[s][r][0]=0,e[s][r][1]=0)}}},Ax=function(e,t,r){var n=t.map(function(e){return e.props.dataKey}),a=Px[r],s=function(){var e=bc([]),t=iv,r=av,n=ov;function a(a){var s,i,o=Array.from(e.apply(this,arguments),lv),l=o.length,c=-1;for(const e of a)for(s=0,++c;s<l;++s)(o[s][c]=[0,+n(e,o[s].key,c,a)]).data=e;for(s=0,i=sv(t(o));s<l;++s)o[i[s]].index=s;return r(o,i),o}return a.keys=function(t){return arguments.length?(e="function"===typeof t?t:bc(Array.from(t)),a):e},a.value=function(e){return arguments.length?(n="function"===typeof e?e:bc(+e),a):n},a.order=function(e){return arguments.length?(t=null==e?iv:"function"===typeof e?e:bc(Array.from(e)),a):t},a.offset=function(e){return arguments.length?(r=null==e?av:e,a):r},a}().keys(n).value(function(e,t){return+yx(e,t,0)}).order(iv).offset(a);return s(e)},Tx=function(e,t){var r=t.realScaleType,n=t.type,a=t.tickCount,s=t.originalDomain,i=t.allowDecimals,o=r||t.scale;if("auto"!==o&&"linear"!==o)return null;if(a&&"number"===n&&s&&("auto"===s[0]||"auto"===s[1])){var l=e.domain();if(!l.length)return null;var c=Vv(l,a,i);return e.domain([hv()(c),uv()(c)]),{niceTicks:c}}if(a&&"number"===n){var u=e.domain();return{niceTicks:Wv(u,a,i)}}return null};function Dx(e){var t=e.axis,r=e.ticks,n=e.bandSize,a=e.entry,s=e.index,i=e.dataKey;if("category"===t.type){if(!t.allowDuplicatedCategory&&t.dataKey&&!Xi()(a[t.dataKey])){var o=io(r,"value",a[t.dataKey]);if(o)return o.coordinate+n/2}return r[s]?r[s].coordinate+n/2:null}var l=yx(a,Xi()(i)?t.dataKey:i);return Xi()(l)?null:t.scale(l)}var Mx=function(e){var t=e.axis,r=e.ticks,n=e.offset,a=e.bandSize,s=e.entry,i=e.index;if("category"===t.type)return r[i]?r[i].coordinate+n:null;var o=yx(s,t.dataKey,t.domain[i]);return Xi()(o)?null:t.scale(o)-a/2+n},Ix=function(e,t,r){return Object.keys(e).reduce(function(n,a){var s=e[a].stackedData.reduce(function(e,n){var a=function(e){return e.reduce(function(e,t){return[hv()(t.concat([e[0]]).filter(Zi)),uv()(t.concat([e[1]]).filter(Zi))]},[1/0,-1/0])}(n.slice(t,r+1));return[Math.min(e[0],a[0]),Math.max(e[1],a[1])]},[1/0,-1/0]);return[Math.min(s[0],n[0]),Math.max(s[1],n[1])]},[1/0,-1/0]).map(function(e){return e===1/0||e===-1/0?0:e})},Rx=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Lx=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,zx=function(e,t,r){if(uo()(e))return e(t,r);if(!Array.isArray(e))return t;var n=[];if(Zi(e[0]))n[0]=r?e[0]:Math.min(e[0],t[0]);else if(Rx.test(e[0])){var a=+Rx.exec(e[0])[1];n[0]=t[0]-a}else uo()(e[0])?n[0]=e[0](t[0]):n[0]=t[0];if(Zi(e[1]))n[1]=r?e[1]:Math.max(e[1],t[1]);else if(Lx.test(e[1])){var s=+Lx.exec(e[1])[1];n[1]=t[1]+s}else uo()(e[1])?n[1]=e[1](t[1]):n[1]=t[1];return n},Fx=function(e,t,r){if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!r||n>0)return n}if(e&&t&&t.length>=2){for(var a=Jo()(t,function(e){return e.coordinate}),s=1/0,i=1,o=a.length;i<o;i++){var l=a[i],c=a[i-1];s=Math.min((l.coordinate||0)-(c.coordinate||0),s)}return s===1/0?0:s}return r?void 0:0},Bx=function(e,t,r){return e&&e.length?gv()(e,Gi()(r,"type.defaultProps.domain"))?t:e:t},Ux=function(e,t){var r=e.type.defaultProps?mx(mx({},e.type.defaultProps),e.props):e.props,n=r.dataKey,a=r.name,s=r.unit,i=r.formatter,o=r.tooltipType,l=r.chartType,c=r.hide;return mx(mx({},Lo(e,!1)),{},{dataKey:n,unit:s,formatter:i,name:a||n,color:xx(e),value:yx(t,n),type:o,payload:t,chartType:l,hide:c})};function qx(e){return qx="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qx(e)}function Hx(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Vx(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Hx(Object(r),!0).forEach(function(t){Wx(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Hx(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Wx(e,t,r){return t=function(e){var t=function(e,t){if("object"!=qx(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=qx(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==qx(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Gx=["Webkit","Moz","O","ms"];function $x(e){return $x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$x(e)}function Kx(){return Kx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Kx.apply(this,arguments)}function Yx(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Xx(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Yx(Object(r),!0).forEach(function(t){rb(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Yx(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Jx(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,nb(n.key),n)}}function Qx(e,t,r){return t=eb(t),function(e,t){if(t&&("object"===$x(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Zx()?Reflect.construct(t,r||[],eb(e).constructor):t.apply(e,r))}function Zx(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(Zx=function(){return!!e})()}function eb(e){return eb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},eb(e)}function tb(e,t){return tb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},tb(e,t)}function rb(e,t,r){return(t=nb(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nb(e){var t=function(e,t){if("object"!=$x(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=$x(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==$x(t)?t:t+""}var ab=function(e){return e.changedTouches&&!!e.changedTouches.length},sb=function(e){function r(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),rb(t=Qx(this,r,[e]),"handleDrag",function(e){t.leaveTimer&&(clearTimeout(t.leaveTimer),t.leaveTimer=null),t.state.isTravellerMoving?t.handleTravellerMove(e):t.state.isSlideMoving&&t.handleSlideDrag(e)}),rb(t,"handleTouchMove",function(e){null!=e.changedTouches&&e.changedTouches.length>0&&t.handleDrag(e.changedTouches[0])}),rb(t,"handleDragEnd",function(){t.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var e=t.props,r=e.endIndex,n=e.onDragEnd,a=e.startIndex;null===n||void 0===n||n({endIndex:r,startIndex:a})}),t.detachDragEndListener()}),rb(t,"handleLeaveWrapper",function(){(t.state.isTravellerMoving||t.state.isSlideMoving)&&(t.leaveTimer=window.setTimeout(t.handleDragEnd,t.props.leaveTimeOut))}),rb(t,"handleEnterSlideOrTraveller",function(){t.setState({isTextActive:!0})}),rb(t,"handleLeaveSlideOrTraveller",function(){t.setState({isTextActive:!1})}),rb(t,"handleSlideDragStart",function(e){var r=ab(e)?e.changedTouches[0]:e;t.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:r.pageX}),t.attachDragEndListener()}),t.travellerDragStartHandlers={startX:t.handleTravellerDragStart.bind(t,"startX"),endX:t.handleTravellerDragStart.bind(t,"endX")},t.state={},t}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&tb(e,t)}(r,e),n=r,a=[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(e){var t=e.startX,n=e.endX,a=this.state.scaleValues,s=this.props,i=s.gap,o=s.data.length-1,l=Math.min(t,n),c=Math.max(t,n),u=r.getIndexInRange(a,l),d=r.getIndexInRange(a,c);return{startIndex:u-u%i,endIndex:d===o?o:d-d%i}}},{key:"getTextOfTick",value:function(e){var t=this.props,r=t.data,n=t.tickFormatter,a=t.dataKey,s=yx(r[e],a,e);return uo()(n)?n(s,e):s}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(e){var t=this.state,r=t.slideMoveStartX,n=t.startX,a=t.endX,s=this.props,i=s.x,o=s.width,l=s.travellerWidth,c=s.startIndex,u=s.endIndex,d=s.onChange,h=e.pageX-r;h>0?h=Math.min(h,i+o-l-a,i+o-l-n):h<0&&(h=Math.max(h,i-n,i-a));var f=this.getIndex({startX:n+h,endX:a+h});f.startIndex===c&&f.endIndex===u||!d||d(f),this.setState({startX:n+h,endX:a+h,slideMoveStartX:e.pageX})}},{key:"handleTravellerDragStart",value:function(e,t){var r=ab(t)?t.changedTouches[0]:t;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:e,brushMoveStartX:r.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(e){var t=this.state,r=t.brushMoveStartX,n=t.movingTravellerId,a=t.endX,s=t.startX,i=this.state[n],o=this.props,l=o.x,c=o.width,u=o.travellerWidth,d=o.onChange,h=o.gap,f=o.data,p={startX:this.state.startX,endX:this.state.endX},m=e.pageX-r;m>0?m=Math.min(m,l+c-u-i):m<0&&(m=Math.max(m,l-i)),p[n]=i+m;var g=this.getIndex(p),y=g.startIndex,v=g.endIndex;this.setState(rb(rb({},n,i+m),"brushMoveStartX",e.pageX),function(){d&&function(){var e=f.length-1;return"startX"===n&&(a>s?y%h===0:v%h===0)||a<s&&v===e||"endX"===n&&(a>s?v%h===0:y%h===0)||a>s&&v===e}()&&d(g)})}},{key:"handleTravellerMoveKeyboard",value:function(e,t){var r=this,n=this.state,a=n.scaleValues,s=n.startX,i=n.endX,o=this.state[t],l=a.indexOf(o);if(-1!==l){var c=l+e;if(!(-1===c||c>=a.length)){var u=a[c];"startX"===t&&u>=i||"endX"===t&&u<=s||this.setState(rb({},t,u),function(){r.props.onChange(r.getIndex({startX:r.state.startX,endX:r.state.endX}))})}}}},{key:"renderBackground",value:function(){var e=this.props,r=e.x,n=e.y,a=e.width,s=e.height,i=e.fill,o=e.stroke;return t.createElement("rect",{stroke:o,fill:i,x:r,y:n,width:a,height:s})}},{key:"renderPanorama",value:function(){var e=this.props,r=e.x,n=e.y,a=e.width,s=e.height,i=e.data,o=e.children,l=e.padding,c=t.Children.only(o);return c?t.cloneElement(c,{x:r,y:n,width:a,height:s,margin:l,compact:!0,data:i}):null}},{key:"renderTravellerLayer",value:function(e,n){var a,s,i=this,o=this.props,l=o.y,c=o.travellerWidth,u=o.height,d=o.traveller,h=o.ariaLabel,f=o.data,p=o.startIndex,m=o.endIndex,g=Math.max(e,this.props.x),y=Xx(Xx({},Lo(this.props,!1)),{},{x:g,y:l,width:c,height:u}),v=h||"Min value: ".concat(null===(a=f[p])||void 0===a?void 0:a.name,", Max value: ").concat(null===(s=f[m])||void 0===s?void 0:s.name);return t.createElement(ol,{tabIndex:0,role:"slider","aria-label":v,"aria-valuenow":e,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[n],onTouchStart:this.travellerDragStartHandlers[n],onKeyDown:function(e){["ArrowLeft","ArrowRight"].includes(e.key)&&(e.preventDefault(),e.stopPropagation(),i.handleTravellerMoveKeyboard("ArrowRight"===e.key?1:-1,n))},onFocus:function(){i.setState({isTravellerFocused:!0})},onBlur:function(){i.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},r.renderTraveller(d,y))}},{key:"renderSlide",value:function(e,r){var n=this.props,a=n.y,s=n.height,i=n.stroke,o=n.travellerWidth,l=Math.min(e,r)+o,c=Math.max(Math.abs(r-e)-o,0);return t.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:i,fillOpacity:.2,x:l,y:a,width:c,height:s})}},{key:"renderText",value:function(){var e=this.props,r=e.startIndex,n=e.endIndex,a=e.y,s=e.height,i=e.travellerWidth,o=e.stroke,l=this.state,c=l.startX,u=l.endX,d={pointerEvents:"none",fill:o};return t.createElement(ol,{className:"recharts-brush-texts"},t.createElement(of,Kx({textAnchor:"end",verticalAnchor:"middle",x:Math.min(c,u)-5,y:a+s/2},d),this.getTextOfTick(r)),t.createElement(of,Kx({textAnchor:"start",verticalAnchor:"middle",x:Math.max(c,u)+i+5,y:a+s/2},d),this.getTextOfTick(n)))}},{key:"render",value:function(){var e=this.props,r=e.data,n=e.className,a=e.children,s=e.x,i=e.y,o=e.width,l=e.height,c=e.alwaysShowText,u=this.state,d=u.startX,h=u.endX,f=u.isTextActive,p=u.isSlideMoving,m=u.isTravellerMoving,g=u.isTravellerFocused;if(!r||!r.length||!Zi(s)||!Zi(i)||!Zi(o)||!Zi(l)||o<=0||l<=0)return null;var y=zi("recharts-brush",n),v=1===t.Children.count(a),x=function(e,t){if(!e)return null;var r=e.replace(/(\w)/,function(e){return e.toUpperCase()}),n=Gx.reduce(function(e,n){return Vx(Vx({},e),{},Wx({},n+r,t))},{});return n[e]=t,n}("userSelect","none");return t.createElement(ol,{className:y,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:x},this.renderBackground(),v&&this.renderPanorama(),this.renderSlide(d,h),this.renderTravellerLayer(d,"startX"),this.renderTravellerLayer(h,"endX"),(f||p||m||g||c)&&this.renderText())}}],s=[{key:"renderDefaultTraveller",value:function(e){var r=e.x,n=e.y,a=e.width,s=e.height,i=e.stroke,o=Math.floor(n+s/2)-1;return t.createElement(t.Fragment,null,t.createElement("rect",{x:r,y:n,width:a,height:s,fill:i,stroke:"none"}),t.createElement("line",{x1:r+1,y1:o,x2:r+a-1,y2:o,fill:"none",stroke:"#fff"}),t.createElement("line",{x1:r+1,y1:o+2,x2:r+a-1,y2:o+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(e,n){return t.isValidElement(e)?t.cloneElement(e,n):uo()(e)?e(n):r.renderDefaultTraveller(n)}},{key:"getDerivedStateFromProps",value:function(e,t){var r=e.data,n=e.width,a=e.x,s=e.travellerWidth,i=e.updateId,o=e.startIndex,l=e.endIndex;if(r!==t.prevData||i!==t.prevUpdateId)return Xx({prevData:r,prevTravellerWidth:s,prevUpdateId:i,prevX:a,prevWidth:n},r&&r.length?function(e){var t=e.data,r=e.startIndex,n=e.endIndex,a=e.x,s=e.width,i=e.travellerWidth;if(!t||!t.length)return{};var o=t.length,l=Nh().domain(Yo()(0,o)).range([a,a+s-i]),c=l.domain().map(function(e){return l(e)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:l(r),endX:l(n),scale:l,scaleValues:c}}({data:r,width:n,x:a,travellerWidth:s,startIndex:o,endIndex:l}):{scale:null,scaleValues:null});if(t.scale&&(n!==t.prevWidth||a!==t.prevX||s!==t.prevTravellerWidth)){t.scale.range([a,a+n-s]);var c=t.scale.domain().map(function(e){return t.scale(e)});return{prevData:r,prevTravellerWidth:s,prevUpdateId:i,prevX:a,prevWidth:n,startX:t.scale(e.startIndex),endX:t.scale(e.endIndex),scaleValues:c}}return null}},{key:"getIndexInRange",value:function(e,t){for(var r=0,n=e.length-1;n-r>1;){var a=Math.floor((r+n)/2);e[a]>t?n=a:r=a}return t>=e[n]?n:r}}],a&&Jx(n.prototype,a),s&&Jx(n,s),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,a,s}(t.PureComponent);function ib(e){return ib="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ib(e)}function ob(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function lb(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ob(Object(r),!0).forEach(function(t){cb(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ob(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function cb(e,t,r){return t=function(e){var t=function(e,t){if("object"!=ib(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=ib(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ib(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ub(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,s,i,o=[],l=!0,c=!1;try{if(s=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=s.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return o}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return db(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return db(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function db(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}rb(sb,"displayName","Brush"),rb(sb,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var hb=Math.PI/180,fb=function(e){return 180*e/Math.PI},pb=function(e,t,r,n){return{x:e+Math.cos(-hb*n)*r,y:t+Math.sin(-hb*n)*r}},mb=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(t-(r.top||0)-(r.bottom||0)))/2},gb=function(e,t){var r=e.x,n=e.y,a=t.cx,s=t.cy,i=function(e,t){var r=e.x,n=e.y,a=t.x,s=t.y;return Math.sqrt(Math.pow(r-a,2)+Math.pow(n-s,2))}({x:r,y:n},{x:a,y:s});if(i<=0)return{radius:i};var o=(r-a)/i,l=Math.acos(o);return n>s&&(l=2*Math.PI-l),{radius:i,angle:fb(l),angleInRadian:l}},yb=function(e,t){var r=t.startAngle,n=t.endAngle,a=Math.floor(r/360),s=Math.floor(n/360);return e+360*Math.min(a,s)},vb=function(e,t){var r=e.x,n=e.y,a=gb({x:r,y:n},t),s=a.radius,i=a.angle,o=t.innerRadius,l=t.outerRadius;if(s<o||s>l)return!1;if(0===s)return!0;var c,u=function(e){var t=e.startAngle,r=e.endAngle,n=Math.floor(t/360),a=Math.floor(r/360),s=Math.min(n,a);return{startAngle:t-360*s,endAngle:r-360*s}}(t),d=u.startAngle,h=u.endAngle,f=i;if(d<=h){for(;f>h;)f-=360;for(;f<d;)f+=360;c=f>=d&&f<=h}else{for(;f>d;)f-=360;for(;f<h;)f+=360;c=f>=h&&f<=d}return c?lb(lb({},t),{},{radius:s,angle:yb(f,t)}):null},xb=function(e){return(0,t.isValidElement)(e)||uo()(e)||"boolean"===typeof e?"":e.className};function bb(e){return bb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bb(e)}var wb=["offset"];function jb(e){return function(e){if(Array.isArray(e))return Nb(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return Nb(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Nb(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Nb(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function kb(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Sb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function _b(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Sb(Object(r),!0).forEach(function(t){Ob(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Sb(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Ob(e,t,r){return t=function(e){var t=function(e,t){if("object"!=bb(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=bb(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==bb(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Eb(){return Eb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Eb.apply(this,arguments)}var Cb=function(e,r,n){var a,s,i=e.position,o=e.viewBox,l=e.offset,c=e.className,u=o,d=u.cx,h=u.cy,f=u.innerRadius,p=u.outerRadius,m=u.startAngle,g=u.endAngle,y=u.clockWise,v=(f+p)/2,x=function(e,t){return Ji(t-e)*Math.min(Math.abs(t-e),360)}(m,g),b=x>=0?1:-1;"insideStart"===i?(a=m+b*l,s=y):"insideEnd"===i?(a=g-b*l,s=!y):"end"===i&&(a=g+b*l,s=y),s=x<=0?s:!s;var w=pb(d,h,v,a),j=pb(d,h,v,a+359*(s?1:-1)),N="M".concat(w.x,",").concat(w.y,"\n    A").concat(v,",").concat(v,",0,1,").concat(s?0:1,",\n    ").concat(j.x,",").concat(j.y),k=Xi()(e.id)?ro("recharts-radial-line-"):e.id;return t.createElement("text",Eb({},n,{dominantBaseline:"central",className:zi("recharts-radial-bar-label",c)}),t.createElement("defs",null,t.createElement("path",{id:k,d:N})),t.createElement("textPath",{xlinkHref:"#".concat(k)},r))};function Pb(e){var r,n=e.offset,a=_b({offset:void 0===n?5:n},kb(e,wb)),s=a.viewBox,i=a.position,o=a.value,l=a.children,c=a.content,u=a.className,d=void 0===u?"":u,h=a.textBreakAll;if(!s||Xi()(o)&&Xi()(l)&&!(0,t.isValidElement)(c)&&!uo()(c))return null;if((0,t.isValidElement)(c))return(0,t.cloneElement)(c,a);if(uo()(c)){if(r=(0,t.createElement)(c,a),(0,t.isValidElement)(r))return r}else r=function(e){var t=e.value,r=e.formatter,n=Xi()(e.children)?t:e.children;return uo()(r)?r(n):n}(a);var f=function(e){return"cx"in e&&Zi(e.cx)}(s),p=Lo(a,!0);if(f&&("insideStart"===i||"insideEnd"===i||"end"===i))return Cb(a,r,p);var m=f?function(e){var t=e.viewBox,r=e.offset,n=e.position,a=t,s=a.cx,i=a.cy,o=a.innerRadius,l=a.outerRadius,c=(a.startAngle+a.endAngle)/2;if("outside"===n){var u=pb(s,i,l+r,c),d=u.x;return{x:d,y:u.y,textAnchor:d>=s?"start":"end",verticalAnchor:"middle"}}if("center"===n)return{x:s,y:i,textAnchor:"middle",verticalAnchor:"middle"};if("centerTop"===n)return{x:s,y:i,textAnchor:"middle",verticalAnchor:"start"};if("centerBottom"===n)return{x:s,y:i,textAnchor:"middle",verticalAnchor:"end"};var h=pb(s,i,(o+l)/2,c);return{x:h.x,y:h.y,textAnchor:"middle",verticalAnchor:"middle"}}(a):function(e){var t=e.viewBox,r=e.parentViewBox,n=e.offset,a=e.position,s=t,i=s.x,o=s.y,l=s.width,c=s.height,u=c>=0?1:-1,d=u*n,h=u>0?"end":"start",f=u>0?"start":"end",p=l>=0?1:-1,m=p*n,g=p>0?"end":"start",y=p>0?"start":"end";if("top"===a)return _b(_b({},{x:i+l/2,y:o-u*n,textAnchor:"middle",verticalAnchor:h}),r?{height:Math.max(o-r.y,0),width:l}:{});if("bottom"===a)return _b(_b({},{x:i+l/2,y:o+c+d,textAnchor:"middle",verticalAnchor:f}),r?{height:Math.max(r.y+r.height-(o+c),0),width:l}:{});if("left"===a){var v={x:i-m,y:o+c/2,textAnchor:g,verticalAnchor:"middle"};return _b(_b({},v),r?{width:Math.max(v.x-r.x,0),height:c}:{})}if("right"===a){var x={x:i+l+m,y:o+c/2,textAnchor:y,verticalAnchor:"middle"};return _b(_b({},x),r?{width:Math.max(r.x+r.width-x.x,0),height:c}:{})}var b=r?{width:l,height:c}:{};return"insideLeft"===a?_b({x:i+m,y:o+c/2,textAnchor:y,verticalAnchor:"middle"},b):"insideRight"===a?_b({x:i+l-m,y:o+c/2,textAnchor:g,verticalAnchor:"middle"},b):"insideTop"===a?_b({x:i+l/2,y:o+d,textAnchor:"middle",verticalAnchor:f},b):"insideBottom"===a?_b({x:i+l/2,y:o+c-d,textAnchor:"middle",verticalAnchor:h},b):"insideTopLeft"===a?_b({x:i+m,y:o+d,textAnchor:y,verticalAnchor:f},b):"insideTopRight"===a?_b({x:i+l-m,y:o+d,textAnchor:g,verticalAnchor:f},b):"insideBottomLeft"===a?_b({x:i+m,y:o+c-d,textAnchor:y,verticalAnchor:h},b):"insideBottomRight"===a?_b({x:i+l-m,y:o+c-d,textAnchor:g,verticalAnchor:h},b):fo()(a)&&(Zi(a.x)||Qi(a.x))&&(Zi(a.y)||Qi(a.y))?_b({x:i+no(a.x,l),y:o+no(a.y,c),textAnchor:"end",verticalAnchor:"end"},b):_b({x:i+l/2,y:o+c/2,textAnchor:"middle",verticalAnchor:"middle"},b)}(a);return t.createElement(of,Eb({className:zi("recharts-label",d)},p,m,{breakAll:h}),r)}Pb.displayName="Label";var Ab=function(e){var t=e.cx,r=e.cy,n=e.angle,a=e.startAngle,s=e.endAngle,i=e.r,o=e.radius,l=e.innerRadius,c=e.outerRadius,u=e.x,d=e.y,h=e.top,f=e.left,p=e.width,m=e.height,g=e.clockWise,y=e.labelViewBox;if(y)return y;if(Zi(p)&&Zi(m)){if(Zi(u)&&Zi(d))return{x:u,y:d,width:p,height:m};if(Zi(h)&&Zi(f))return{x:h,y:f,width:p,height:m}}return Zi(u)&&Zi(d)?{x:u,y:d,width:0,height:0}:Zi(t)&&Zi(r)?{cx:t,cy:r,startAngle:a||n||0,endAngle:s||n||0,innerRadius:l||0,outerRadius:c||o||i||0,clockWise:g}:e.viewBox?e.viewBox:{}};Pb.parseViewBox=Ab,Pb.renderCallByParent=function(e,r){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!e||!e.children&&n&&!e.label)return null;var a=e.children,s=Ab(e),i=To(a,Pb).map(function(e,n){return(0,t.cloneElement)(e,{viewBox:r||s,key:"label-".concat(n)})});if(!n)return i;var o=function(e,r){return e?!0===e?t.createElement(Pb,{key:"label-implicit",viewBox:r}):eo(e)?t.createElement(Pb,{key:"label-implicit",viewBox:r,value:e}):(0,t.isValidElement)(e)?e.type===Pb?(0,t.cloneElement)(e,{key:"label-implicit",viewBox:r}):t.createElement(Pb,{key:"label-implicit",content:e,viewBox:r}):uo()(e)?t.createElement(Pb,{key:"label-implicit",content:e,viewBox:r}):fo()(e)?t.createElement(Pb,Eb({viewBox:r},e,{key:"label-implicit"})):null:null}(e.label,r||s);return[o].concat(jb(i))};var Tb=function(e,t){var r=e.alwaysShow,n=e.ifOverflow;return r&&(n="extendDomain"),n===t},Db=r(1733),Mb=r.n(Db),Ib=r(7002),Rb=r.n(Ib),Lb=function(e){return null};Lb.displayName="Cell";var zb=r(4065),Fb=r.n(zb);function Bb(e){return Bb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bb(e)}var Ub=["valueAccessor"],qb=["data","dataKey","clockWise","id","textBreakAll"];function Hb(e){return function(e){if(Array.isArray(e))return Vb(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return Vb(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Vb(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Vb(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Wb(){return Wb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Wb.apply(this,arguments)}function Gb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function $b(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Gb(Object(r),!0).forEach(function(t){Kb(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Gb(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Kb(e,t,r){return t=function(e){var t=function(e,t){if("object"!=Bb(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Bb(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Bb(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Yb(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var Xb=function(e){return Array.isArray(e.value)?Fb()(e.value):e.value};function Jb(e){var r=e.valueAccessor,n=void 0===r?Xb:r,a=Yb(e,Ub),s=a.data,i=a.dataKey,o=a.clockWise,l=a.id,c=a.textBreakAll,u=Yb(a,qb);return s&&s.length?t.createElement(ol,{className:"recharts-label-list"},s.map(function(e,r){var a=Xi()(i)?n(e,r):yx(e&&e.payload,i),s=Xi()(l)?{}:{id:"".concat(l,"-").concat(r)};return t.createElement(Pb,Wb({},Lo(e,!0),u,s,{parentViewBox:e.parentViewBox,value:a,textBreakAll:c,viewBox:Pb.parseViewBox(Xi()(o)?e:$b($b({},e),{},{clockWise:o})),key:"label-".concat(r),index:r}))})):null}Jb.displayName="LabelList",Jb.renderCallByParent=function(e,r){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!e||!e.children&&n&&!e.label)return null;var a=To(e.children,Jb).map(function(e,n){return(0,t.cloneElement)(e,{data:r,key:"labelList-".concat(n)})});if(!n)return a;var s=function(e,r){return e?!0===e?t.createElement(Jb,{key:"labelList-implicit",data:r}):t.isValidElement(e)||uo()(e)?t.createElement(Jb,{key:"labelList-implicit",data:r,content:e}):fo()(e)?t.createElement(Jb,Wb({data:r},e,{key:"labelList-implicit"})):null:null}(e.label,r);return[s].concat(Hb(a))};var Qb=r(2322),Zb=r.n(Qb),ew=r(6361),tw=r.n(ew);function rw(e){return rw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rw(e)}function nw(){return nw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},nw.apply(this,arguments)}function aw(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,s,i,o=[],l=!0,c=!1;try{if(s=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=s.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return o}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return sw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return sw(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function sw(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function iw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function ow(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?iw(Object(r),!0).forEach(function(t){lw(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):iw(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function lw(e,t,r){return t=function(e){var t=function(e,t){if("object"!=rw(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=rw(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==rw(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var cw=function(e,t,r,n,a){var s,i=r-n;return s="M ".concat(e,",").concat(t),s+="L ".concat(e+r,",").concat(t),s+="L ".concat(e+r-i/2,",").concat(t+a),s+="L ".concat(e+r-i/2-n,",").concat(t+a),s+="L ".concat(e,",").concat(t," Z")},uw={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},dw=function(e){var r=ow(ow({},uw),e),n=(0,t.useRef)(),a=aw((0,t.useState)(-1),2),s=a[0],i=a[1];(0,t.useEffect)(function(){if(n.current&&n.current.getTotalLength)try{var e=n.current.getTotalLength();e&&i(e)}catch(t){}},[]);var o=r.x,l=r.y,c=r.upperWidth,u=r.lowerWidth,d=r.height,h=r.className,f=r.animationEasing,p=r.animationDuration,m=r.animationBegin,g=r.isUpdateAnimationActive;if(o!==+o||l!==+l||c!==+c||u!==+u||d!==+d||0===c&&0===u||0===d)return null;var y=zi("recharts-trapezoid",h);return g?t.createElement(eh,{canBegin:s>0,from:{upperWidth:0,lowerWidth:0,height:d,x:o,y:l},to:{upperWidth:c,lowerWidth:u,height:d,x:o,y:l},duration:p,animationEasing:f,isActive:g},function(e){var a=e.upperWidth,i=e.lowerWidth,o=e.height,l=e.x,c=e.y;return t.createElement(eh,{canBegin:s>0,from:"0px ".concat(-1===s?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:m,duration:p,easing:f},t.createElement("path",nw({},Lo(r,!0),{className:y,d:cw(l,c,a,i,o),ref:n})))}):t.createElement("g",null,t.createElement("path",nw({},Lo(r,!0),{className:y,d:cw(o,l,c,u,d)})))};function hw(e){return hw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hw(e)}function fw(){return fw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fw.apply(this,arguments)}function pw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function mw(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?pw(Object(r),!0).forEach(function(t){gw(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pw(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function gw(e,t,r){return t=function(e){var t=function(e,t){if("object"!=hw(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=hw(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==hw(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var yw=function(e){var t=e.cx,r=e.cy,n=e.radius,a=e.angle,s=e.sign,i=e.isExternal,o=e.cornerRadius,l=e.cornerIsExternal,c=o*(i?1:-1)+n,u=Math.asin(o/c)/hb,d=l?a:a+s*u,h=l?a-s*u:a;return{center:pb(t,r,c,d),circleTangency:pb(t,r,n,d),lineTangency:pb(t,r,c*Math.cos(u*hb),h),theta:u}},vw=function(e){var t=e.cx,r=e.cy,n=e.innerRadius,a=e.outerRadius,s=e.startAngle,i=function(e,t){return Ji(t-e)*Math.min(Math.abs(t-e),359.999)}(s,e.endAngle),o=s+i,l=pb(t,r,a,s),c=pb(t,r,a,o),u="M ".concat(l.x,",").concat(l.y,"\n    A ").concat(a,",").concat(a,",0,\n    ").concat(+(Math.abs(i)>180),",").concat(+(s>o),",\n    ").concat(c.x,",").concat(c.y,"\n  ");if(n>0){var d=pb(t,r,n,s),h=pb(t,r,n,o);u+="L ".concat(h.x,",").concat(h.y,"\n            A ").concat(n,",").concat(n,",0,\n            ").concat(+(Math.abs(i)>180),",").concat(+(s<=o),",\n            ").concat(d.x,",").concat(d.y," Z")}else u+="L ".concat(t,",").concat(r," Z");return u},xw={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},bw=function(e){var r=mw(mw({},xw),e),n=r.cx,a=r.cy,s=r.innerRadius,i=r.outerRadius,o=r.cornerRadius,l=r.forceCornerRadius,c=r.cornerIsExternal,u=r.startAngle,d=r.endAngle,h=r.className;if(i<s||u===d)return null;var f,p=zi("recharts-sector",h),m=i-s,g=no(o,m,0,!0);return f=g>0&&Math.abs(u-d)<360?function(e){var t=e.cx,r=e.cy,n=e.innerRadius,a=e.outerRadius,s=e.cornerRadius,i=e.forceCornerRadius,o=e.cornerIsExternal,l=e.startAngle,c=e.endAngle,u=Ji(c-l),d=yw({cx:t,cy:r,radius:a,angle:l,sign:u,cornerRadius:s,cornerIsExternal:o}),h=d.circleTangency,f=d.lineTangency,p=d.theta,m=yw({cx:t,cy:r,radius:a,angle:c,sign:-u,cornerRadius:s,cornerIsExternal:o}),g=m.circleTangency,y=m.lineTangency,v=m.theta,x=o?Math.abs(l-c):Math.abs(l-c)-p-v;if(x<0)return i?"M ".concat(f.x,",").concat(f.y,"\n        a").concat(s,",").concat(s,",0,0,1,").concat(2*s,",0\n        a").concat(s,",").concat(s,",0,0,1,").concat(2*-s,",0\n      "):vw({cx:t,cy:r,innerRadius:n,outerRadius:a,startAngle:l,endAngle:c});var b="M ".concat(f.x,",").concat(f.y,"\n    A").concat(s,",").concat(s,",0,0,").concat(+(u<0),",").concat(h.x,",").concat(h.y,"\n    A").concat(a,",").concat(a,",0,").concat(+(x>180),",").concat(+(u<0),",").concat(g.x,",").concat(g.y,"\n    A").concat(s,",").concat(s,",0,0,").concat(+(u<0),",").concat(y.x,",").concat(y.y,"\n  ");if(n>0){var w=yw({cx:t,cy:r,radius:n,angle:l,sign:u,isExternal:!0,cornerRadius:s,cornerIsExternal:o}),j=w.circleTangency,N=w.lineTangency,k=w.theta,S=yw({cx:t,cy:r,radius:n,angle:c,sign:-u,isExternal:!0,cornerRadius:s,cornerIsExternal:o}),_=S.circleTangency,O=S.lineTangency,E=S.theta,C=o?Math.abs(l-c):Math.abs(l-c)-k-E;if(C<0&&0===s)return"".concat(b,"L").concat(t,",").concat(r,"Z");b+="L".concat(O.x,",").concat(O.y,"\n      A").concat(s,",").concat(s,",0,0,").concat(+(u<0),",").concat(_.x,",").concat(_.y,"\n      A").concat(n,",").concat(n,",0,").concat(+(C>180),",").concat(+(u>0),",").concat(j.x,",").concat(j.y,"\n      A").concat(s,",").concat(s,",0,0,").concat(+(u<0),",").concat(N.x,",").concat(N.y,"Z")}else b+="L".concat(t,",").concat(r,"Z");return b}({cx:n,cy:a,innerRadius:s,outerRadius:i,cornerRadius:Math.min(g,m/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:d}):vw({cx:n,cy:a,innerRadius:s,outerRadius:i,startAngle:u,endAngle:d}),t.createElement("path",fw({},Lo(r,!0),{className:p,d:f,role:"img"}))},ww=["option","shapeType","propTransformer","activeClassName","isActive"];function jw(e){return jw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jw(e)}function Nw(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function kw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Sw(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?kw(Object(r),!0).forEach(function(t){_w(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kw(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function _w(e,t,r){return t=function(e){var t=function(e,t){if("object"!=jw(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=jw(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==jw(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ow(e,t){return Sw(Sw({},t),e)}function Ew(e){var r=e.shapeType,n=e.elementProps;switch(r){case"rectangle":return t.createElement(dh,n);case"trapezoid":return t.createElement(dw,n);case"sector":return t.createElement(bw,n);case"symbols":if(function(e){return"symbols"===e}(r))return t.createElement(Jc,n);break;default:return null}}function Cw(e){var r,n=e.option,a=e.shapeType,s=e.propTransformer,i=void 0===s?Ow:s,o=e.activeClassName,l=void 0===o?"recharts-active-shape":o,c=e.isActive,u=Nw(e,ww);if((0,t.isValidElement)(n))r=(0,t.cloneElement)(n,Sw(Sw({},u),function(e){return(0,t.isValidElement)(e)?e.props:e}(n)));else if(uo()(n))r=n(u);else if(Zb()(n)&&!tw()(n)){var d=i(n,u);r=t.createElement(Ew,{shapeType:a,elementProps:d})}else{var h=u;r=t.createElement(Ew,{shapeType:a,elementProps:h})}return c?t.createElement(ol,{className:l},r):r}function Pw(e,t){return null!=t&&"trapezoids"in e.props}function Aw(e,t){return null!=t&&"sectors"in e.props}function Tw(e,t){return null!=t&&"points"in e.props}function Dw(e,t){var r,n,a=e.x===(null===t||void 0===t||null===(r=t.labelViewBox)||void 0===r?void 0:r.x)||e.x===t.x,s=e.y===(null===t||void 0===t||null===(n=t.labelViewBox)||void 0===n?void 0:n.y)||e.y===t.y;return a&&s}function Mw(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function Iw(e,t){var r=e.x===t.x,n=e.y===t.y,a=e.z===t.z;return r&&n&&a}function Rw(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,a=function(e,t){var r;return Pw(e,t)?r="trapezoids":Aw(e,t)?r="sectors":Tw(e,t)&&(r="points"),r}(r,t),s=function(e,t){var r,n;return Pw(e,t)?null===(r=t.tooltipPayload)||void 0===r||null===(r=r[0])||void 0===r||null===(r=r.payload)||void 0===r?void 0:r.payload:Aw(e,t)?null===(n=t.tooltipPayload)||void 0===n||null===(n=n[0])||void 0===n||null===(n=n.payload)||void 0===n?void 0:n.payload:Tw(e,t)?t.payload:{}}(r,t),i=n.filter(function(e,n){var i=gv()(s,e),o=r.props[a].filter(function(e){var n=function(e,t){var r;return Pw(e,t)?r=Dw:Aw(e,t)?r=Mw:Tw(e,t)&&(r=Iw),r}(r,t);return n(e,t)}),l=r.props[a].indexOf(o[o.length-1]);return i&&n===l});return n.indexOf(i[i.length-1])}var Lw=["x","y"];function zw(e){return zw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zw(e)}function Fw(){return Fw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Fw.apply(this,arguments)}function Bw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Uw(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Bw(Object(r),!0).forEach(function(t){qw(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Bw(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function qw(e,t,r){return t=function(e){var t=function(e,t){if("object"!=zw(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=zw(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==zw(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Hw(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Vw(e,t){var r=e.x,n=e.y,a=Hw(e,Lw),s="".concat(r),i=parseInt(s,10),o="".concat(n),l=parseInt(o,10),c="".concat(t.height||a.height),u=parseInt(c,10),d="".concat(t.width||a.width),h=parseInt(d,10);return Uw(Uw(Uw(Uw(Uw({},t),a),i?{x:i}:{}),l?{y:l}:{}),{},{height:u,width:h,name:t.name,radius:t.radius})}function Ww(e){return t.createElement(Cw,Fw({shapeType:"rectangle",propTransformer:Vw,activeClassName:"recharts-active-bar"},e))}var Gw,$w=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(r,n){if("number"===typeof e)return e;var a=Zi(r)||function(e){return Xi()(e)}(r);return a?e(r,n):(a||Zo(!1),t)}},Kw=["value","background"];function Yw(e){return Yw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yw(e)}function Xw(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Jw(){return Jw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Jw.apply(this,arguments)}function Qw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Zw(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Qw(Object(r),!0).forEach(function(t){sj(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Qw(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function ej(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ij(n.key),n)}}function tj(e,t,r){return t=nj(t),function(e,t){if(t&&("object"===Yw(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,rj()?Reflect.construct(t,r||[],nj(e).constructor):t.apply(e,r))}function rj(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(rj=function(){return!!e})()}function nj(e){return nj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},nj(e)}function aj(e,t){return aj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},aj(e,t)}function sj(e,t,r){return(t=ij(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ij(e){var t=function(e,t){if("object"!=Yw(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Yw(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Yw(t)?t:t+""}var oj=function(e){function r(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return sj(e=tj(this,r,[].concat(n)),"state",{isAnimationFinished:!1}),sj(e,"id",ro("recharts-bar-")),sj(e,"handleAnimationEnd",function(){var t=e.props.onAnimationEnd;e.setState({isAnimationFinished:!0}),t&&t()}),sj(e,"handleAnimationStart",function(){var t=e.props.onAnimationStart;e.setState({isAnimationFinished:!1}),t&&t()}),e}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&aj(e,t)}(r,e),n=r,a=[{key:"renderRectanglesStatically",value:function(e){var r=this,n=this.props,a=n.shape,s=n.dataKey,i=n.activeIndex,o=n.activeBar,l=Lo(this.props,!1);return e&&e.map(function(e,n){var c=n===i,u=c?o:a,d=Zw(Zw(Zw({},l),e),{},{isActive:c,option:u,index:n,dataKey:s,onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd});return t.createElement(ol,Jw({className:"recharts-bar-rectangle"},jo(r.props,e,n),{key:"rectangle-".concat(null===e||void 0===e?void 0:e.x,"-").concat(null===e||void 0===e?void 0:e.y,"-").concat(null===e||void 0===e?void 0:e.value,"-").concat(n)}),t.createElement(Ww,d))})}},{key:"renderRectanglesWithAnimation",value:function(){var e=this,r=this.props,n=r.data,a=r.layout,s=r.isAnimationActive,i=r.animationBegin,o=r.animationDuration,l=r.animationEasing,c=r.animationId,u=this.state.prevData;return t.createElement(eh,{begin:i,duration:o,isActive:s,easing:l,from:{t:0},to:{t:1},key:"bar-".concat(c),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(r){var s=r.t,i=n.map(function(e,t){var r=u&&u[t];if(r){var n=so(r.x,e.x),i=so(r.y,e.y),o=so(r.width,e.width),l=so(r.height,e.height);return Zw(Zw({},e),{},{x:n(s),y:i(s),width:o(s),height:l(s)})}if("horizontal"===a){var c=so(0,e.height)(s);return Zw(Zw({},e),{},{y:e.y+e.height-c,height:c})}var d=so(0,e.width)(s);return Zw(Zw({},e),{},{width:d})});return t.createElement(ol,null,e.renderRectanglesStatically(i))})}},{key:"renderRectangles",value:function(){var e=this.props,t=e.data,r=e.isAnimationActive,n=this.state.prevData;return!(r&&t&&t.length)||n&&gv()(n,t)?this.renderRectanglesStatically(t):this.renderRectanglesWithAnimation()}},{key:"renderBackground",value:function(){var e=this,r=this.props,n=r.data,a=r.dataKey,s=r.activeIndex,i=Lo(this.props.background,!1);return n.map(function(r,n){r.value;var o=r.background,l=Xw(r,Kw);if(!o)return null;var c=Zw(Zw(Zw(Zw(Zw({},l),{},{fill:"#eee"},o),i),jo(e.props,r,n)),{},{onAnimationStart:e.handleAnimationStart,onAnimationEnd:e.handleAnimationEnd,dataKey:a,index:n,className:"recharts-bar-background-rectangle"});return t.createElement(Ww,Jw({key:"background-bar-".concat(n),option:e.props.background,isActive:n===s},c))})}},{key:"renderErrorBar",value:function(e,r){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var n=this.props,a=n.data,s=n.xAxis,i=n.yAxis,o=n.layout,l=To(n.children,sx);if(!l)return null;var c="vertical"===o?a[0].height/2:a[0].width/2,u=function(e,t){var r=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:r,errorVal:yx(e,t)}},d={clipPath:e?"url(#clipPath-".concat(r,")"):null};return t.createElement(ol,d,l.map(function(e){return t.cloneElement(e,{key:"error-bar-".concat(r,"-").concat(e.props.dataKey),data:a,xAxis:s,yAxis:i,layout:o,offset:c,dataPointFormatter:u})}))}},{key:"render",value:function(){var e=this.props,r=e.hide,n=e.data,a=e.className,s=e.xAxis,i=e.yAxis,o=e.left,l=e.top,c=e.width,u=e.height,d=e.isAnimationActive,h=e.background,f=e.id;if(r||!n||!n.length)return null;var p=this.state.isAnimationFinished,m=zi("recharts-bar",a),g=s&&s.allowDataOverflow,y=i&&i.allowDataOverflow,v=g||y,x=Xi()(f)?this.id:f;return t.createElement(ol,{className:m},g||y?t.createElement("defs",null,t.createElement("clipPath",{id:"clipPath-".concat(x)},t.createElement("rect",{x:g?o:o-c/2,y:y?l:l-u/2,width:g?c:2*c,height:y?u:2*u}))):null,t.createElement(ol,{className:"recharts-bar-rectangles",clipPath:v?"url(#clipPath-".concat(x,")"):null},h?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(v,x),(!d||p)&&Jb.renderCallByParent(this.props,n))}}],s=[{key:"getDerivedStateFromProps",value:function(e,t){return e.animationId!==t.prevAnimationId?{prevAnimationId:e.animationId,curData:e.data,prevData:t.curData}:e.data!==t.curData?{curData:e.data}:null}}],a&&ej(n.prototype,a),s&&ej(n,s),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,a,s}(t.PureComponent);function lj(e){return lj="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lj(e)}function cj(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,fj(n.key),n)}}function uj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function dj(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?uj(Object(r),!0).forEach(function(t){hj(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uj(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function hj(e,t,r){return(t=fj(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fj(e){var t=function(e,t){if("object"!=lj(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=lj(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==lj(t)?t:t+""}Gw=oj,sj(oj,"displayName","Bar"),sj(oj,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Ml.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"}),sj(oj,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,a=e.bandSize,s=e.xAxis,i=e.yAxis,o=e.xAxisTicks,l=e.yAxisTicks,c=e.stackedData,u=e.dataStartIndex,d=e.displayedData,h=e.offset,f=function(e,t){if(!e)return null;for(var r=0,n=e.length;r<n;r++)if(e[r].item===t)return e[r].position;return null}(n,r);if(!f)return null;var p=t.layout,m=r.type.defaultProps,g=void 0!==m?Zw(Zw({},m),r.props):r.props,y=g.dataKey,v=g.children,x=g.minPointSize,b="horizontal"===p?i:s,w=c?b.scale.domain():null,j=function(e){var t=e.numericAxis,r=t.scale.domain();if("number"===t.type){var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]);return n<=0&&a>=0?0:a<0?a:n}return r[0]}({numericAxis:b}),N=To(v,Lb),k=d.map(function(e,t){var n,d,h,m,g,v;c?n=function(e,t){if(!t||2!==t.length||!Zi(t[0])||!Zi(t[1]))return e;var r=Math.min(t[0],t[1]),n=Math.max(t[0],t[1]),a=[e[0],e[1]];return(!Zi(e[0])||e[0]<r)&&(a[0]=r),(!Zi(e[1])||e[1]>n)&&(a[1]=n),a[0]>n&&(a[0]=n),a[1]<r&&(a[1]=r),a}(c[u+t],w):(n=yx(e,y),Array.isArray(n)||(n=[j,n]));var b=$w(x,Gw.defaultProps.minPointSize)(n[1],t);if("horizontal"===p){var k,S=[i.scale(n[0]),i.scale(n[1])],_=S[0],O=S[1];d=Mx({axis:s,ticks:o,bandSize:a,offset:f.offset,entry:e,index:t}),h=null!==(k=null!==O&&void 0!==O?O:_)&&void 0!==k?k:void 0,m=f.size;var E=_-O;if(g=Number.isNaN(E)?0:E,v={x:d,y:i.y,width:m,height:i.height},Math.abs(b)>0&&Math.abs(g)<Math.abs(b)){var C=Ji(g||b)*(Math.abs(b)-Math.abs(g));h-=C,g+=C}}else{var P=[s.scale(n[0]),s.scale(n[1])],A=P[0],T=P[1];if(d=A,h=Mx({axis:i,ticks:l,bandSize:a,offset:f.offset,entry:e,index:t}),m=T-A,g=f.size,v={x:s.x,y:h,width:s.width,height:g},Math.abs(b)>0&&Math.abs(m)<Math.abs(b))m+=Ji(m||b)*(Math.abs(b)-Math.abs(m))}return Zw(Zw(Zw({},e),{},{x:d,y:h,width:m,height:g,value:c?n:n[1],payload:e,background:v},N&&N[t]&&N[t].props),{},{tooltipPayload:[Ux(r,e)],tooltipPosition:{x:d+m/2,y:h+g/2}})});return Zw({data:k,layout:p},h)});var pj=function(e,t,r,n,a){var s=e.width,i=e.height,o=e.layout,l=e.children,c=Object.keys(t),u={left:r.left,leftMirror:r.left,right:s-r.right,rightMirror:s-r.right,top:r.top,topMirror:r.top,bottom:i-r.bottom,bottomMirror:i-r.bottom},d=!!Do(l,oj);return c.reduce(function(s,i){var l,c,h,f,p,m=t[i],g=m.orientation,y=m.domain,v=m.padding,x=void 0===v?{}:v,b=m.mirror,w=m.reversed,j="".concat(g).concat(b?"Mirror":"");if("number"===m.type&&("gap"===m.padding||"no-gap"===m.padding)){var N=y[1]-y[0],k=1/0,S=m.categoricalDomain.sort(oo);if(S.forEach(function(e,t){t>0&&(k=Math.min((e||0)-(S[t-1]||0),k))}),Number.isFinite(k)){var _=k/N,O="vertical"===m.layout?r.height:r.width;if("gap"===m.padding&&(l=_*O/2),"no-gap"===m.padding){var E=no(e.barCategoryGap,_*O),C=_*O/2;l=C-E-(C-E)/O*E}}}c="xAxis"===n?[r.left+(x.left||0)+(l||0),r.left+r.width-(x.right||0)-(l||0)]:"yAxis"===n?"horizontal"===o?[r.top+r.height-(x.bottom||0),r.top+(x.top||0)]:[r.top+(x.top||0)+(l||0),r.top+r.height-(x.bottom||0)-(l||0)]:m.range,w&&(c=[c[1],c[0]]);var P=Ox(m,a,d),A=P.scale,T=P.realScaleType;A.domain(y).range(c),Cx(A);var D=Tx(A,dj(dj({},m),{},{realScaleType:T}));"xAxis"===n?(p="top"===g&&!b||"bottom"===g&&b,h=r.left,f=u[j]-p*m.height):"yAxis"===n&&(p="left"===g&&!b||"right"===g&&b,h=u[j]-p*m.width,f=r.top);var M=dj(dj(dj({},m),D),{},{realScaleType:T,x:h,y:f,scale:A,width:"xAxis"===n?r.width:m.width,height:"yAxis"===n?r.height:m.height});return M.bandSize=Fx(M,D),m.hide||"xAxis"!==n?m.hide||(u[j]+=(p?-1:1)*M.width):u[j]+=(p?-1:1)*M.height,dj(dj({},s),{},hj({},i,M))},{})},mj=function(e,t){var r=e.x,n=e.y,a=t.x,s=t.y;return{x:Math.min(r,a),y:Math.min(n,s),width:Math.abs(a-r),height:Math.abs(s-n)}},gj=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.scale=t}return t=e,r=[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.bandAware,n=t.position;if(void 0!==e){if(n)switch(n){case"start":default:return this.scale(e);case"middle":var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+a;case"end":var s=this.bandwidth?this.bandwidth():0;return this.scale(e)+s}if(r){var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+i}return this.scale(e)}}},{key:"isInRange",value:function(e){var t=this.range(),r=t[0],n=t[t.length-1];return r<=n?e>=r&&e<=n:e>=n&&e<=r}}],n=[{key:"create",value:function(t){return new e(t)}}],r&&cj(t.prototype,r),n&&cj(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,r,n}();hj(gj,"EPS",1e-4);var yj=function(e){var t=Object.keys(e).reduce(function(t,r){return dj(dj({},t),{},hj({},r,gj.create(e[r])))},{});return dj(dj({},t),{},{apply:function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.bandAware,a=r.position;return Mb()(e,function(e,r){return t[r].apply(e,{bandAware:n,position:a})})},isInRange:function(e){return Rb()(e,function(e,r){return t[r].isInRange(e)})}})};function vj(){return vj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vj.apply(this,arguments)}function xj(e){return xj="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xj(e)}function bj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function wj(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?bj(Object(r),!0).forEach(function(t){Oj(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bj(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function jj(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Ej(n.key),n)}}function Nj(e,t,r){return t=Sj(t),function(e,t){if(t&&("object"===xj(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,kj()?Reflect.construct(t,r||[],Sj(e).constructor):t.apply(e,r))}function kj(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(kj=function(){return!!e})()}function Sj(e){return Sj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Sj(e)}function _j(e,t){return _j=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},_j(e,t)}function Oj(e,t,r){return(t=Ej(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ej(e){var t=function(e,t){if("object"!=xj(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=xj(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==xj(t)?t:t+""}var Cj=function(e){function r(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),Nj(this,r,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_j(e,t)}(r,e),n=r,a=[{key:"render",value:function(){var e=this.props,n=e.x,a=e.y,s=e.r,i=e.alwaysShow,o=e.clipPathId,l=eo(n),c=eo(a);if(lo(void 0===i,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!l||!c)return null;var u=function(e){var t=e.x,r=e.y,n=e.xAxis,a=e.yAxis,s=yj({x:n.scale,y:a.scale}),i=s.apply({x:t,y:r},{bandAware:!0});return Tb(e,"discard")&&!s.isInRange(i)?null:i}(this.props);if(!u)return null;var d=u.x,h=u.y,f=this.props,p=f.shape,m=f.className,g=wj(wj({clipPath:Tb(this.props,"hidden")?"url(#".concat(o,")"):void 0},Lo(this.props,!0)),{},{cx:d,cy:h});return t.createElement(ol,{className:zi("recharts-reference-dot",m)},r.renderDot(p,g),Pb.renderCallByParent(this.props,{x:d-s,y:h-s,width:2*s,height:2*s}))}}],a&&jj(n.prototype,a),s&&jj(n,s),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,a,s}(t.Component);Oj(Cj,"displayName","ReferenceDot"),Oj(Cj,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1}),Oj(Cj,"renderDot",function(e,r){return t.isValidElement(e)?t.cloneElement(e,r):uo()(e)?e(r):t.createElement(Su,vj({},r,{cx:r.cx,cy:r.cy,className:"recharts-reference-dot-dot"}))});var Pj=r(4597),Aj=r.n(Pj),Tj=r(8990),Dj=r.n(Tj),Mj=r(5797),Ij=r.n(Mj)()(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")});var Rj=(0,t.createContext)(void 0),Lj=(0,t.createContext)(void 0),zj=(0,t.createContext)(void 0),Fj=(0,t.createContext)({}),Bj=(0,t.createContext)(void 0),Uj=(0,t.createContext)(0),qj=(0,t.createContext)(0),Hj=function(e){var r=e.state,n=r.xAxisMap,a=r.yAxisMap,s=r.offset,i=e.clipPathId,o=e.children,l=e.width,c=e.height,u=Ij(s);return t.createElement(Rj.Provider,{value:n},t.createElement(Lj.Provider,{value:a},t.createElement(Fj.Provider,{value:s},t.createElement(zj.Provider,{value:u},t.createElement(Bj.Provider,{value:i},t.createElement(Uj.Provider,{value:c},t.createElement(qj.Provider,{value:l},o)))))))};var Vj=function(e){var r=(0,t.useContext)(Rj);null==r&&Zo(!1);var n=r[e];return null==n&&Zo(!1),n},Wj=function(e){var r=(0,t.useContext)(Lj);null==r&&Zo(!1);var n=r[e];return null==n&&Zo(!1),n},Gj=function(){return(0,t.useContext)(qj)},$j=function(){return(0,t.useContext)(Uj)};function Kj(e){return Kj="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kj(e)}function Yj(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,nN(n.key),n)}}function Xj(e,t,r){return t=Qj(t),function(e,t){if(t&&("object"===Kj(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Jj()?Reflect.construct(t,r||[],Qj(e).constructor):t.apply(e,r))}function Jj(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(Jj=function(){return!!e})()}function Qj(e){return Qj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Qj(e)}function Zj(e,t){return Zj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Zj(e,t)}function eN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function tN(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?eN(Object(r),!0).forEach(function(t){rN(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eN(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function rN(e,t,r){return(t=nN(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nN(e){var t=function(e,t){if("object"!=Kj(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Kj(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Kj(t)?t:t+""}function aN(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,s,i,o=[],l=!0,c=!1;try{if(s=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=s.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return o}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return sN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return sN(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function sN(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function iN(){return iN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},iN.apply(this,arguments)}function oN(e){var r=e.x,n=e.y,a=e.segment,s=e.xAxisId,i=e.yAxisId,o=e.shape,l=e.className,c=e.alwaysShow,u=(0,t.useContext)(Bj),d=Vj(s),h=Wj(i),f=(0,t.useContext)(zj);if(!u||!f)return null;lo(void 0===c,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=function(e,t,r,n,a,s,i,o,l){var c=a.x,u=a.y,d=a.width,h=a.height;if(r){var f=l.y,p=e.y.apply(f,{position:s});if(Tb(l,"discard")&&!e.y.isInRange(p))return null;var m=[{x:c+d,y:p},{x:c,y:p}];return"left"===o?m.reverse():m}if(t){var g=l.x,y=e.x.apply(g,{position:s});if(Tb(l,"discard")&&!e.x.isInRange(y))return null;var v=[{x:y,y:u+h},{x:y,y:u}];return"top"===i?v.reverse():v}if(n){var x=l.segment.map(function(t){return e.apply(t,{position:s})});return Tb(l,"discard")&&Aj()(x,function(t){return!e.isInRange(t)})?null:x}return null}(yj({x:d.scale,y:h.scale}),eo(r),eo(n),a&&2===a.length,f,e.position,d.orientation,h.orientation,e);if(!p)return null;var m=aN(p,2),g=m[0],y=g.x,v=g.y,x=m[1],b=x.x,w=x.y,j=tN(tN({clipPath:Tb(e,"hidden")?"url(#".concat(u,")"):void 0},Lo(e,!0)),{},{x1:y,y1:v,x2:b,y2:w});return t.createElement(ol,{className:zi("recharts-reference-line",l)},function(e,r){return t.isValidElement(e)?t.cloneElement(e,r):uo()(e)?e(r):t.createElement("line",iN({},r,{className:"recharts-reference-line-line"}))}(o,j),Pb.renderCallByParent(e,function(e){var t=e.x1,r=e.y1,n=e.x2,a=e.y2;return mj({x:t,y:r},{x:n,y:a})}({x1:y,y1:v,x2:b,y2:w})))}var lN=function(e){function r(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),Xj(this,r,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Zj(e,t)}(r,e),n=r,(a=[{key:"render",value:function(){return t.createElement(oN,this.props)}}])&&Yj(n.prototype,a),s&&Yj(n,s),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,a,s}(t.Component);function cN(){return cN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},cN.apply(this,arguments)}function uN(e){return uN="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uN(e)}function dN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function hN(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?dN(Object(r),!0).forEach(function(t){vN(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dN(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function fN(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,xN(n.key),n)}}function pN(e,t,r){return t=gN(t),function(e,t){if(t&&("object"===uN(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,mN()?Reflect.construct(t,r||[],gN(e).constructor):t.apply(e,r))}function mN(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(mN=function(){return!!e})()}function gN(e){return gN=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},gN(e)}function yN(e,t){return yN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},yN(e,t)}function vN(e,t,r){return(t=xN(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xN(e){var t=function(e,t){if("object"!=uN(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=uN(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==uN(t)?t:t+""}rN(lN,"displayName","ReferenceLine"),rN(lN,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});var bN=function(e){function r(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),pN(this,r,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&yN(e,t)}(r,e),n=r,(a=[{key:"render",value:function(){var e=this.props,n=e.x1,a=e.x2,s=e.y1,i=e.y2,o=e.className,l=e.alwaysShow,c=e.clipPathId;lo(void 0===l,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var u=eo(n),d=eo(a),h=eo(s),f=eo(i),p=this.props.shape;if(!u&&!d&&!h&&!f&&!p)return null;var m=function(e,t,r,n,a){var s=a.x1,i=a.x2,o=a.y1,l=a.y2,c=a.xAxis,u=a.yAxis;if(!c||!u)return null;var d=yj({x:c.scale,y:u.scale}),h={x:e?d.x.apply(s,{position:"start"}):d.x.rangeMin,y:r?d.y.apply(o,{position:"start"}):d.y.rangeMin},f={x:t?d.x.apply(i,{position:"end"}):d.x.rangeMax,y:n?d.y.apply(l,{position:"end"}):d.y.rangeMax};return!Tb(a,"discard")||d.isInRange(h)&&d.isInRange(f)?mj(h,f):null}(u,d,h,f,this.props);if(!m&&!p)return null;var g=Tb(this.props,"hidden")?"url(#".concat(c,")"):void 0;return t.createElement(ol,{className:zi("recharts-reference-area",o)},r.renderRect(p,hN(hN({clipPath:g},Lo(this.props,!0)),m)),Pb.renderCallByParent(this.props,m))}}])&&fN(n.prototype,a),s&&fN(n,s),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,a,s}(t.Component);function wN(e){return function(e){if(Array.isArray(e))return jN(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return jN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return jN(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function jN(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}vN(bN,"displayName","ReferenceArea"),vN(bN,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1}),vN(bN,"renderRect",function(e,r){return t.isValidElement(e)?t.cloneElement(e,r):uo()(e)?e(r):t.createElement(dh,cN({},r,{className:"recharts-reference-area-rect"}))});var NN=function(e,t,r,n,a){var s=To(e,lN),i=To(e,Cj),o=[].concat(wN(s),wN(i)),l=To(e,bN),c="".concat(n,"Id"),u=n[0],d=t;if(o.length&&(d=o.reduce(function(e,t){if(t.props[c]===r&&Tb(t.props,"extendDomain")&&Zi(t.props[u])){var n=t.props[u];return[Math.min(e[0],n),Math.max(e[1],n)]}return e},d)),l.length){var h="".concat(u,"1"),f="".concat(u,"2");d=l.reduce(function(e,t){if(t.props[c]===r&&Tb(t.props,"extendDomain")&&Zi(t.props[h])&&Zi(t.props[f])){var n=t.props[h],a=t.props[f];return[Math.min(e[0],n,a),Math.max(e[1],n,a)]}return e},d)}return a&&a.length&&(d=a.reduce(function(e,t){return Zi(t)?[Math.min(e[0],t),Math.max(e[1],t)]:e},d)),d},kN=r(7283),SN=new(r.n(kN)()),_N="recharts.syncMouseEvents";function ON(e){return ON="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ON(e)}function EN(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,PN(n.key),n)}}function CN(e,t,r){return(t=PN(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function PN(e){var t=function(e,t){if("object"!=ON(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=ON(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ON(t)?t:t+""}var AN=function(){return e=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),CN(this,"activeIndex",0),CN(this,"coordinateList",[]),CN(this,"layout","horizontal")},t=[{key:"setDetails",value:function(e){var t,r=e.coordinateList,n=void 0===r?null:r,a=e.container,s=void 0===a?null:a,i=e.layout,o=void 0===i?null:i,l=e.offset,c=void 0===l?null:l,u=e.mouseHandlerCallback,d=void 0===u?null:u;this.coordinateList=null!==(t=null!==n&&void 0!==n?n:this.coordinateList)&&void 0!==t?t:[],this.container=null!==s&&void 0!==s?s:this.container,this.layout=null!==o&&void 0!==o?o:this.layout,this.offset=null!==c&&void 0!==c?c:this.offset,this.mouseHandlerCallback=null!==d&&void 0!==d?d:this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(e){if(0!==this.coordinateList.length)switch(e.key){case"ArrowRight":if("horizontal"!==this.layout)return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break;case"ArrowLeft":if("horizontal"!==this.layout)return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse()}}},{key:"setIndex",value:function(e){this.activeIndex=e}},{key:"spoofMouse",value:function(){var e,t;if("horizontal"===this.layout&&0!==this.coordinateList.length){var r=this.container.getBoundingClientRect(),n=r.x,a=r.y,s=r.height,i=this.coordinateList[this.activeIndex].coordinate,o=(null===(e=window)||void 0===e?void 0:e.scrollX)||0,l=(null===(t=window)||void 0===t?void 0:t.scrollY)||0,c=n+i+o,u=a+this.offset.top+s/2+l;this.mouseHandlerCallback({pageX:c,pageY:u})}}}],t&&EN(e.prototype,t),r&&EN(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,r}();function TN(){}function DN(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function MN(e){this._context=e}function IN(e){this._context=e}function RN(e){this._context=e}MN.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:DN(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:DN(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},IN.prototype={areaStart:TN,areaEnd:TN,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:DN(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},RN.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:DN(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};class LN{constructor(e,t){this._context=e,this._x=t}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line}point(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,t,e,t):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+t)/2,e,this._y0,e,t)}this._x0=e,this._y0=t}}function zN(e){this._context=e}function FN(e){this._context=e}function BN(e){return new FN(e)}function UN(e){return e<0?-1:1}function qN(e,t,r){var n=e._x1-e._x0,a=t-e._x1,s=(e._y1-e._y0)/(n||a<0&&-0),i=(r-e._y1)/(a||n<0&&-0),o=(s*a+i*n)/(n+a);return(UN(s)+UN(i))*Math.min(Math.abs(s),Math.abs(i),.5*Math.abs(o))||0}function HN(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function VN(e,t,r){var n=e._x0,a=e._y0,s=e._x1,i=e._y1,o=(s-n)/3;e._context.bezierCurveTo(n+o,a+o*t,s-o,i-o*r,s,i)}function WN(e){this._context=e}function GN(e){this._context=new $N(e)}function $N(e){this._context=e}function KN(e){this._context=e}function YN(e){var t,r,n=e.length-1,a=new Array(n),s=new Array(n),i=new Array(n);for(a[0]=0,s[0]=2,i[0]=e[0]+2*e[1],t=1;t<n-1;++t)a[t]=1,s[t]=4,i[t]=4*e[t]+2*e[t+1];for(a[n-1]=2,s[n-1]=7,i[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=a[t]/s[t-1],s[t]-=r,i[t]-=r*i[t-1];for(a[n-1]=i[n-1]/s[n-1],t=n-2;t>=0;--t)a[t]=(i[t]-a[t+1])/s[t];for(s[n-1]=(e[n]+a[n-1])/2,t=0;t<n-1;++t)s[t]=2*e[t+1]-a[t+1];return[a,s]}function XN(e,t){this._context=e,this._t=t}function JN(e){return e[0]}function QN(e){return e[1]}function ZN(e,t){var r=bc(!0),n=null,a=BN,s=null,i=Uc(o);function o(o){var l,c,u,d=(o=sv(o)).length,h=!1;for(null==n&&(s=a(u=i())),l=0;l<=d;++l)!(l<d&&r(c=o[l],l,o))===h&&((h=!h)?s.lineStart():s.lineEnd()),h&&s.point(+e(c,l,o),+t(c,l,o));if(u)return s=null,u+""||null}return e="function"===typeof e?e:void 0===e?JN:bc(e),t="function"===typeof t?t:void 0===t?QN:bc(t),o.x=function(t){return arguments.length?(e="function"===typeof t?t:bc(+t),o):e},o.y=function(e){return arguments.length?(t="function"===typeof e?e:bc(+e),o):t},o.defined=function(e){return arguments.length?(r="function"===typeof e?e:bc(!!e),o):r},o.curve=function(e){return arguments.length?(a=e,null!=n&&(s=a(n)),o):a},o.context=function(e){return arguments.length?(null==e?n=s=null:s=a(n=e),o):n},o}function ek(e,t,r){var n=null,a=bc(!0),s=null,i=BN,o=null,l=Uc(c);function c(c){var u,d,h,f,p,m=(c=sv(c)).length,g=!1,y=new Array(m),v=new Array(m);for(null==s&&(o=i(p=l())),u=0;u<=m;++u){if(!(u<m&&a(f=c[u],u,c))===g)if(g=!g)d=u,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),h=u-1;h>=d;--h)o.point(y[h],v[h]);o.lineEnd(),o.areaEnd()}g&&(y[u]=+e(f,u,c),v[u]=+t(f,u,c),o.point(n?+n(f,u,c):y[u],r?+r(f,u,c):v[u]))}if(p)return o=null,p+""||null}function u(){return ZN().defined(a).curve(i).context(s)}return e="function"===typeof e?e:void 0===e?JN:bc(+e),t="function"===typeof t?t:bc(void 0===t?0:+t),r="function"===typeof r?r:void 0===r?QN:bc(+r),c.x=function(t){return arguments.length?(e="function"===typeof t?t:bc(+t),n=null,c):e},c.x0=function(t){return arguments.length?(e="function"===typeof t?t:bc(+t),c):e},c.x1=function(e){return arguments.length?(n=null==e?null:"function"===typeof e?e:bc(+e),c):n},c.y=function(e){return arguments.length?(t="function"===typeof e?e:bc(+e),r=null,c):t},c.y0=function(e){return arguments.length?(t="function"===typeof e?e:bc(+e),c):t},c.y1=function(e){return arguments.length?(r=null==e?null:"function"===typeof e?e:bc(+e),c):r},c.lineX0=c.lineY0=function(){return u().x(e).y(t)},c.lineY1=function(){return u().x(e).y(r)},c.lineX1=function(){return u().x(n).y(t)},c.defined=function(e){return arguments.length?(a="function"===typeof e?e:bc(!!e),c):a},c.curve=function(e){return arguments.length?(i=e,null!=s&&(o=i(s)),c):i},c.context=function(e){return arguments.length?(null==e?s=o=null:o=i(s=e),c):s},c}function tk(e){return tk="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tk(e)}function rk(){return rk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},rk.apply(this,arguments)}function nk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function ak(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?nk(Object(r),!0).forEach(function(t){sk(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nk(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function sk(e,t,r){return t=function(e){var t=function(e,t){if("object"!=tk(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=tk(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==tk(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}zN.prototype={areaStart:TN,areaEnd:TN,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}},FN.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t)}}},WN.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:VN(this,this._t0,HN(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(t=+t,(e=+e)!==this._x1||t!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,VN(this,HN(this,r=qN(this,e,t)),r);break;default:VN(this,this._t0,r=qN(this,e,t))}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}},(GN.prototype=Object.create(WN.prototype)).point=function(e,t){WN.prototype.point.call(this,t,e)},$N.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,s){this._context.bezierCurveTo(t,e,n,r,s,a)}},KN.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),2===r)this._context.lineTo(e[1],t[1]);else for(var n=YN(e),a=YN(t),s=0,i=1;i<r;++s,++i)this._context.bezierCurveTo(n[0][s],a[0][s],n[1][s],a[1][s],e[i],t[i]);(this._line||0!==this._line&&1===r)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}},XN.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}}this._x=e,this._y=t}};var ik={curveBasisClosed:function(e){return new IN(e)},curveBasisOpen:function(e){return new RN(e)},curveBasis:function(e){return new MN(e)},curveBumpX:function(e){return new LN(e,!0)},curveBumpY:function(e){return new LN(e,!1)},curveLinearClosed:function(e){return new zN(e)},curveLinear:BN,curveMonotoneX:function(e){return new WN(e)},curveMonotoneY:function(e){return new GN(e)},curveNatural:function(e){return new KN(e)},curveStep:function(e){return new XN(e,.5)},curveStepAfter:function(e){return new XN(e,1)},curveStepBefore:function(e){return new XN(e,0)}},ok=function(e){return e.x===+e.x&&e.y===+e.y},lk=function(e){return e.x},ck=function(e){return e.y},uk=function(e){var t,r=e.type,n=void 0===r?"linear":r,a=e.points,s=void 0===a?[]:a,i=e.baseLine,o=e.layout,l=e.connectNulls,c=void 0!==l&&l,u=function(e,t){if(uo()(e))return e;var r="curve".concat(Jl()(e));return"curveMonotone"!==r&&"curveBump"!==r||!t?ik[r]||BN:ik["".concat(r).concat("vertical"===t?"Y":"X")]}(n,o),d=c?s.filter(function(e){return ok(e)}):s;if(Array.isArray(i)){var h=c?i.filter(function(e){return ok(e)}):i,f=d.map(function(e,t){return ak(ak({},e),{},{base:h[t]})});return t="vertical"===o?ek().y(ck).x1(lk).x0(function(e){return e.base.x}):ek().x(lk).y1(ck).y0(function(e){return e.base.y}),t.defined(ok).curve(u),t(f)}return(t="vertical"===o&&Zi(i)?ek().y(ck).x1(lk).x0(i):Zi(i)?ek().x(lk).y1(ck).y0(i):ZN().x(lk).y(ck)).defined(ok).curve(u),t(d)},dk=function(e){var r=e.className,n=e.points,a=e.path,s=e.pathRef;if((!n||!n.length)&&!a)return null;var i=n&&n.length?uk(e):a;return t.createElement("path",rk({},Lo(e,!1),wo(e),{className:zi("recharts-curve",r),d:i,ref:s}))};function hk(e){return hk="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hk(e)}var fk=["x","y","top","left","width","height","className"];function pk(){return pk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},pk.apply(this,arguments)}function mk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function gk(e,t,r){return t=function(e){var t=function(e,t){if("object"!=hk(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=hk(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==hk(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yk(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var vk=function(e,t,r,n,a,s){return"M".concat(e,",").concat(a,"v").concat(n,"M").concat(s,",").concat(t,"h").concat(r)},xk=function(e){var r=e.x,n=void 0===r?0:r,a=e.y,s=void 0===a?0:a,i=e.top,o=void 0===i?0:i,l=e.left,c=void 0===l?0:l,u=e.width,d=void 0===u?0:u,h=e.height,f=void 0===h?0:h,p=e.className,m=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?mk(Object(r),!0).forEach(function(t){gk(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mk(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({x:n,y:s,top:o,left:c,width:d,height:f},yk(e,fk));return Zi(n)&&Zi(s)&&Zi(d)&&Zi(f)&&Zi(o)&&Zi(c)?t.createElement("path",pk({},Lo(m,!0),{className:zi("recharts-cross",p),d:vk(n,s,d,f,o,c)})):null};function bk(e){var t=e.cx,r=e.cy,n=e.radius,a=e.startAngle,s=e.endAngle;return{points:[pb(t,r,n,a),pb(t,r,n,s)],cx:t,cy:r,radius:n,startAngle:a,endAngle:s}}function wk(e,t,r){var n,a,s,i;if("horizontal"===e)s=n=t.x,a=r.top,i=r.top+r.height;else if("vertical"===e)i=a=t.y,n=r.left,s=r.left+r.width;else if(null!=t.cx&&null!=t.cy){if("centric"!==e)return bk(t);var o=t.cx,l=t.cy,c=t.innerRadius,u=t.outerRadius,d=t.angle,h=pb(o,l,c,d),f=pb(o,l,u,d);n=h.x,a=h.y,s=f.x,i=f.y}return[{x:n,y:a},{x:s,y:i}]}function jk(e){return jk="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jk(e)}function Nk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function kk(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Nk(Object(r),!0).forEach(function(t){Sk(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Nk(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Sk(e,t,r){return t=function(e){var t=function(e,t){if("object"!=jk(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=jk(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==jk(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _k(e){var r,n,a,s=e.element,i=e.tooltipEventType,o=e.isActive,l=e.activeCoordinate,c=e.activePayload,u=e.offset,d=e.activeTooltipIndex,h=e.tooltipAxisBandSize,f=e.layout,p=e.chartName,m=null!==(r=s.props.cursor)&&void 0!==r?r:null===(n=s.type.defaultProps)||void 0===n?void 0:n.cursor;if(!s||!m||!o||!l||"ScatterChart"!==p&&"axis"!==i)return null;var g=dk;if("ScatterChart"===p)a=l,g=xk;else if("BarChart"===p)a=function(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:"horizontal"===e?t.x-a:r.left+.5,y:"horizontal"===e?r.top+.5:t.y-a,width:"horizontal"===e?n:r.width-1,height:"horizontal"===e?r.height-1:n}}(f,l,u,h),g=dh;else if("radial"===f){var y=bk(l),v=y.cx,x=y.cy,b=y.radius;a={cx:v,cy:x,startAngle:y.startAngle,endAngle:y.endAngle,innerRadius:b,outerRadius:b},g=bw}else a={points:wk(f,l,u)},g=dk;var w=kk(kk(kk(kk({stroke:"#ccc",pointerEvents:"none"},u),a),Lo(m,!1)),{},{payload:c,payloadIndex:d,className:zi("recharts-tooltip-cursor",m.className)});return(0,t.isValidElement)(m)?(0,t.cloneElement)(m,w):(0,t.createElement)(g,w)}var Ok=["item"],Ek=["children","className","width","height","style","compact","title","desc"];function Ck(e){return Ck="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ck(e)}function Pk(){return Pk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Pk.apply(this,arguments)}function Ak(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,s,i,o=[],l=!0,c=!1;try{if(s=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=s.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return o}}(e,t)||Fk(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Tk(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Dk(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Vk(n.key),n)}}function Mk(e,t,r){return t=Rk(t),function(e,t){if(t&&("object"===Ck(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Ik()?Reflect.construct(t,r||[],Rk(e).constructor):t.apply(e,r))}function Ik(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(Ik=function(){return!!e})()}function Rk(e){return Rk=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Rk(e)}function Lk(e,t){return Lk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Lk(e,t)}function zk(e){return function(e){if(Array.isArray(e))return Bk(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Fk(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Fk(e,t){if(e){if("string"===typeof e)return Bk(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Bk(e,t):void 0}}function Bk(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Uk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function qk(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Uk(Object(r),!0).forEach(function(t){Hk(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Uk(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Hk(e,t,r){return(t=Vk(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Vk(e){var t=function(e,t){if("object"!=Ck(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Ck(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Ck(t)?t:t+""}var Wk={xAxis:["bottom","top"],yAxis:["left","right"]},Gk={width:"100%",height:"100%"},$k={x:0,y:0};function Kk(e){return e}var Yk=function(e,t){var r=t.graphicalItems,n=t.dataStartIndex,a=t.dataEndIndex,s=(null!==r&&void 0!==r?r:[]).reduce(function(e,t){var r=t.props.data;return r&&r.length?[].concat(zk(e),zk(r)):e},[]);return s.length>0?s:e&&e.length&&Zi(n)&&Zi(a)?e.slice(n,a+1):[]};function Xk(e){return"number"===e?[0,"auto"]:void 0}var Jk=function(e,t,r,n){var a=e.graphicalItems,s=e.tooltipAxis,i=Yk(t,e);return r<0||!a||!a.length||r>=i.length?null:a.reduce(function(a,o){var l,c,u=null!==(l=o.props.data)&&void 0!==l?l:t;(u&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(u=u.slice(e.dataStartIndex,e.dataEndIndex+1)),s.dataKey&&!s.allowDuplicatedCategory)?c=io(void 0===u?i:u,s.dataKey,n):c=u&&u[r]||i[r];return c?[].concat(zk(a),[Ux(o,c)]):a},[])},Qk=function(e,t,r,n){var a=n||{x:e.chartX,y:e.chartY},s=function(e,t){return"horizontal"===t?e.x:"vertical"===t?e.y:"centric"===t?e.angle:e.radius}(a,r),i=e.orderedTooltipTicks,o=e.tooltipAxis,l=e.tooltipTicks,c=function(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,s=-1,i=null!==(t=null===r||void 0===r?void 0:r.length)&&void 0!==t?t:0;if(i<=1)return 0;if(a&&"angleAxis"===a.axisType&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var o=a.range,l=0;l<i;l++){var c=l>0?n[l-1].coordinate:n[i-1].coordinate,u=n[l].coordinate,d=l>=i-1?n[0].coordinate:n[l+1].coordinate,h=void 0;if(Ji(u-c)!==Ji(d-u)){var f=[];if(Ji(d-u)===Ji(o[1]-o[0])){h=d;var p=u+o[1]-o[0];f[0]=Math.min(p,(p+c)/2),f[1]=Math.max(p,(p+c)/2)}else{h=c;var m=d+o[1]-o[0];f[0]=Math.min(u,(m+u)/2),f[1]=Math.max(u,(m+u)/2)}var g=[Math.min(u,(h+u)/2),Math.max(u,(h+u)/2)];if(e>g[0]&&e<=g[1]||e>=f[0]&&e<=f[1]){s=n[l].index;break}}else{var y=Math.min(c,d),v=Math.max(c,d);if(e>(y+u)/2&&e<=(v+u)/2){s=n[l].index;break}}}else for(var x=0;x<i;x++)if(0===x&&e<=(r[x].coordinate+r[x+1].coordinate)/2||x>0&&x<i-1&&e>(r[x].coordinate+r[x-1].coordinate)/2&&e<=(r[x].coordinate+r[x+1].coordinate)/2||x===i-1&&e>(r[x].coordinate+r[x-1].coordinate)/2){s=r[x].index;break}return s}(s,i,l,o);if(c>=0&&l){var u=l[c]&&l[c].value,d=Jk(e,t,c,u),h=function(e,t,r,n){var a=t.find(function(e){return e&&e.index===r});if(a){if("horizontal"===e)return{x:a.coordinate,y:n.y};if("vertical"===e)return{x:n.x,y:a.coordinate};if("centric"===e){var s=a.coordinate,i=n.radius;return qk(qk(qk({},n),pb(n.cx,n.cy,i,s)),{},{angle:s,radius:i})}var o=a.coordinate,l=n.angle;return qk(qk(qk({},n),pb(n.cx,n.cy,o,l)),{},{angle:l,radius:o})}return $k}(r,i,c,a);return{activeTooltipIndex:c,activeLabel:u,activePayload:d,activeCoordinate:h}}return null},Zk=function(e,t){var r=t.axes,n=t.graphicalItems,a=t.axisType,s=t.axisIdKey,i=t.stackGroups,o=t.dataStartIndex,l=t.dataEndIndex,c=e.layout,u=e.children,d=e.stackOffset,h=jx(c,a);return r.reduce(function(t,r){var f,p=void 0!==r.type.defaultProps?qk(qk({},r.type.defaultProps),r.props):r.props,m=p.type,g=p.dataKey,y=p.allowDataOverflow,v=p.allowDuplicatedCategory,x=p.scale,b=p.ticks,w=p.includeHidden,j=p[s];if(t[j])return t;var N,k,S,_=Yk(e.data,{graphicalItems:n.filter(function(e){var t;return(s in e.props?e.props[s]:null===(t=e.type.defaultProps)||void 0===t?void 0:t[s])===j}),dataStartIndex:o,dataEndIndex:l}),O=_.length;(function(e,t,r){if("number"===r&&!0===t&&Array.isArray(e)){var n=null===e||void 0===e?void 0:e[0],a=null===e||void 0===e?void 0:e[1];if(n&&a&&Zi(n)&&Zi(a))return!0}return!1})(p.domain,y,m)&&(N=zx(p.domain,null,y),!h||"number"!==m&&"auto"===x||(S=vx(_,g,"category")));var E=Xk(m);if(!N||0===N.length){var C,P=null!==(C=p.domain)&&void 0!==C?C:E;if(g){if(N=vx(_,g,m),"category"===m&&h){var A=function(e){if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++){if(r[e[n]])return!0;r[e[n]]=!0}return!1}(N);v&&A?(k=N,N=Yo()(0,O)):v||(N=Bx(P,N,r).reduce(function(e,t){return e.indexOf(t)>=0?e:[].concat(zk(e),[t])},[]))}else if("category"===m)N=v?N.filter(function(e){return""!==e&&!Xi()(e)}):Bx(P,N,r).reduce(function(e,t){return e.indexOf(t)>=0||""===t||Xi()(t)?e:[].concat(zk(e),[t])},[]);else if("number"===m){var T=function(e,t,r,n,a){var s=t.map(function(t){return bx(e,t,r,a,n)}).filter(function(e){return!Xi()(e)});return s&&s.length?s.reduce(function(e,t){return[Math.min(e[0],t[0]),Math.max(e[1],t[1])]},[1/0,-1/0]):null}(_,n.filter(function(e){var t,r,n=s in e.props?e.props[s]:null===(t=e.type.defaultProps)||void 0===t?void 0:t[s],a="hide"in e.props?e.props.hide:null===(r=e.type.defaultProps)||void 0===r?void 0:r.hide;return n===j&&(w||!a)}),g,a,c);T&&(N=T)}!h||"number"!==m&&"auto"===x||(S=vx(_,g,"category"))}else N=h?Yo()(0,O):i&&i[j]&&i[j].hasStack&&"number"===m?"expand"===d?[0,1]:Ix(i[j].stackGroups,o,l):wx(_,n.filter(function(e){var t=s in e.props?e.props[s]:e.type.defaultProps[s],r="hide"in e.props?e.props.hide:e.type.defaultProps.hide;return t===j&&(w||!r)}),m,c,!0);if("number"===m)N=NN(u,N,j,a,b),P&&(N=zx(P,N,y));else if("category"===m&&P){var D=P;N.every(function(e){return D.indexOf(e)>=0})&&(N=D)}}return qk(qk({},t),{},Hk({},j,qk(qk({},p),{},{axisType:a,domain:N,categoricalDomain:S,duplicateDomain:k,originalDomain:null!==(f=p.domain)&&void 0!==f?f:E,isCategorical:h,layout:c})))},{})},eS=function(e,t){var r=t.axisType,n=void 0===r?"xAxis":r,a=t.AxisComp,s=t.graphicalItems,i=t.stackGroups,o=t.dataStartIndex,l=t.dataEndIndex,c=e.children,u="".concat(n,"Id"),d=To(c,a),h={};return d&&d.length?h=Zk(e,{axes:d,graphicalItems:s,axisType:n,axisIdKey:u,stackGroups:i,dataStartIndex:o,dataEndIndex:l}):s&&s.length&&(h=function(e,t){var r=t.graphicalItems,n=t.Axis,a=t.axisType,s=t.axisIdKey,i=t.stackGroups,o=t.dataStartIndex,l=t.dataEndIndex,c=e.layout,u=e.children,d=Yk(e.data,{graphicalItems:r,dataStartIndex:o,dataEndIndex:l}),h=d.length,f=jx(c,a),p=-1;return r.reduce(function(e,t){var m,g=(void 0!==t.type.defaultProps?qk(qk({},t.type.defaultProps),t.props):t.props)[s],y=Xk("number");return e[g]?e:(p++,f?m=Yo()(0,h):i&&i[g]&&i[g].hasStack?(m=Ix(i[g].stackGroups,o,l),m=NN(u,m,g,a)):(m=zx(y,wx(d,r.filter(function(e){var t,r,n=s in e.props?e.props[s]:null===(t=e.type.defaultProps)||void 0===t?void 0:t[s],a="hide"in e.props?e.props.hide:null===(r=e.type.defaultProps)||void 0===r?void 0:r.hide;return n===g&&!a}),"number",c),n.defaultProps.allowDataOverflow),m=NN(u,m,g,a)),qk(qk({},e),{},Hk({},g,qk(qk({axisType:a},n.defaultProps),{},{hide:!0,orientation:Gi()(Wk,"".concat(a,".").concat(p%2),null),domain:m,originalDomain:y,isCategorical:f,layout:c}))))},{})}(e,{Axis:a,graphicalItems:s,axisType:n,axisIdKey:u,stackGroups:i,dataStartIndex:o,dataEndIndex:l})),h},tS=function(e){var t=e.children,r=e.defaultShowTooltip,n=Do(t,sb),a=0,s=0;return e.data&&0!==e.data.length&&(s=e.data.length-1),n&&n.props&&(n.props.startIndex>=0&&(a=n.props.startIndex),n.props.endIndex>=0&&(s=n.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:s,activeTooltipIndex:-1,isTooltipActive:Boolean(r)}},rS=function(e){return"horizontal"===e?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:"vertical"===e?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:"centric"===e?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},nS=function(e,t){var r=e.props,n=(e.graphicalItems,e.xAxisMap),a=void 0===n?{}:n,s=e.yAxisMap,i=void 0===s?{}:s,o=r.width,l=r.height,c=r.children,u=r.margin||{},d=Do(c,sb),h=Do(c,Nu),f=Object.keys(i).reduce(function(e,t){var r=i[t],n=r.orientation;return r.mirror||r.hide?e:qk(qk({},e),{},Hk({},n,e[n]+r.width))},{left:u.left||0,right:u.right||0}),p=Object.keys(a).reduce(function(e,t){var r=a[t],n=r.orientation;return r.mirror||r.hide?e:qk(qk({},e),{},Hk({},n,Gi()(e,"".concat(n))+r.height))},{top:u.top||0,bottom:u.bottom||0}),m=qk(qk({},p),f),g=m.bottom;d&&(m.bottom+=d.props.height||sb.defaultProps.height),h&&t&&(m=function(e,t,r,n){var a=r.children,s=r.width,i=r.margin,o=s-(i.left||0)-(i.right||0),l=ux({children:a,legendWidth:o});if(l){var c=n||{},u=c.width,d=c.height,h=l.align,f=l.verticalAlign,p=l.layout;if(("vertical"===p||"horizontal"===p&&"middle"===f)&&"center"!==h&&Zi(e[h]))return mx(mx({},e),{},gx({},h,e[h]+(u||0)));if(("horizontal"===p||"vertical"===p&&"center"===h)&&"middle"!==f&&Zi(e[f]))return mx(mx({},e),{},gx({},f,e[f]+(d||0)))}return e}(m,0,r,t));var y=o-m.left-m.right,v=l-m.top-m.bottom;return qk(qk({brushBottom:g},m),{},{width:Math.max(y,0),height:Math.max(v,0)})},aS=function(e,t){return"xAxis"===t?e[t].width:"yAxis"===t?e[t].height:void 0},sS=function(e){var r=e.chartName,n=e.GraphicalChild,a=e.defaultTooltipEventType,s=void 0===a?"axis":a,i=e.validateTooltipEventTypes,o=void 0===i?["axis"]:i,l=e.axisComponents,c=e.legendContent,u=e.formatAxisMap,d=e.defaultProps,h=function(e,t){var r=t.graphicalItems,n=t.stackGroups,a=t.offset,s=t.updateId,i=t.dataStartIndex,o=t.dataEndIndex,c=e.barSize,u=e.layout,d=e.barGap,h=e.barCategoryGap,f=e.maxBarSize,p=rS(u),m=p.numericAxisName,g=p.cateAxisName,y=function(e){return!(!e||!e.length)&&e.some(function(e){var t=Eo(e&&e.type);return t&&t.indexOf("Bar")>=0})}(r),v=[];return r.forEach(function(r,p){var x=Yk(e.data,{graphicalItems:[r],dataStartIndex:i,dataEndIndex:o}),b=void 0!==r.type.defaultProps?qk(qk({},r.type.defaultProps),r.props):r.props,w=b.dataKey,j=b.maxBarSize,N=b["".concat(m,"Id")],k=b["".concat(g,"Id")],S=l.reduce(function(e,r){var n=t["".concat(r.axisType,"Map")],a=b["".concat(r.axisType,"Id")];n&&n[a]||"zAxis"===r.axisType||Zo(!1);var s=n[a];return qk(qk({},e),{},Hk(Hk({},r.axisType,s),"".concat(r.axisType,"Ticks"),kx(s)))},{}),_=S[g],O=S["".concat(g,"Ticks")],E=n&&n[N]&&n[N].hasStack&&function(e,t){var r,n=(null!==(r=e.type)&&void 0!==r&&r.defaultProps?mx(mx({},e.type.defaultProps),e.props):e.props).stackId;if(eo(n)){var a=t[n];if(a){var s=a.items.indexOf(e);return s>=0?a.stackedData[s]:null}}return null}(r,n[N].stackGroups),C=Eo(r.type).indexOf("Bar")>=0,P=Fx(_,O),A=[],T=y&&function(e){var t=e.barSize,r=e.totalSize,n=e.stackGroups,a=void 0===n?{}:n;if(!a)return{};for(var s={},i=Object.keys(a),o=0,l=i.length;o<l;o++)for(var c=a[i[o]].stackGroups,u=Object.keys(c),d=0,h=u.length;d<h;d++){var f=c[u[d]],p=f.items,m=f.cateAxisId,g=p.filter(function(e){return Eo(e.type).indexOf("Bar")>=0});if(g&&g.length){var y=g[0].type.defaultProps,v=void 0!==y?mx(mx({},y),g[0].props):g[0].props,x=v.barSize,b=v[m];s[b]||(s[b]=[]);var w=Xi()(x)?t:x;s[b].push({item:g[0],stackList:g.slice(1),barSize:Xi()(w)?void 0:no(w,r,0)})}}return s}({barSize:c,stackGroups:n,totalSize:aS(S,g)});if(C){var D,M,I=Xi()(j)?f:j,R=null!==(D=null!==(M=Fx(_,O,!0))&&void 0!==M?M:I)&&void 0!==D?D:0;A=function(e){var t=e.barGap,r=e.barCategoryGap,n=e.bandSize,a=e.sizeList,s=void 0===a?[]:a,i=e.maxBarSize,o=s.length;if(o<1)return null;var l,c=no(t,n,0,!0),u=[];if(s[0].barSize===+s[0].barSize){var d=!1,h=n/o,f=s.reduce(function(e,t){return e+t.barSize||0},0);(f+=(o-1)*c)>=n&&(f-=(o-1)*c,c=0),f>=n&&h>0&&(d=!0,f=o*(h*=.9));var p={offset:((n-f)/2|0)-c,size:0};l=s.reduce(function(e,t){var r={item:t.item,position:{offset:p.offset+p.size+c,size:d?h:t.barSize}},n=[].concat(hx(e),[r]);return p=n[n.length-1].position,t.stackList&&t.stackList.length&&t.stackList.forEach(function(e){n.push({item:e,position:p})}),n},u)}else{var m=no(r,n,0,!0);n-2*m-(o-1)*c<=0&&(c=0);var g=(n-2*m-(o-1)*c)/o;g>1&&(g>>=0);var y=i===+i?Math.min(g,i):g;l=s.reduce(function(e,t,r){var n=[].concat(hx(e),[{item:t.item,position:{offset:m+(g+c)*r+(g-y)/2,size:y}}]);return t.stackList&&t.stackList.length&&t.stackList.forEach(function(e){n.push({item:e,position:n[n.length-1].position})}),n},u)}return l}({barGap:d,barCategoryGap:h,bandSize:R!==P?R:P,sizeList:T[k],maxBarSize:I}),R!==P&&(A=A.map(function(e){return qk(qk({},e),{},{position:qk(qk({},e.position),{},{offset:e.position.offset-R/2})})}))}var L,z,F=r&&r.type&&r.type.getComposedData;F&&v.push({props:qk(qk({},F(qk(qk({},S),{},{displayedData:x,props:e,dataKey:w,item:r,bandSize:P,barPosition:A,offset:a,stackedData:E,layout:u,dataStartIndex:i,dataEndIndex:o}))),{},Hk(Hk(Hk({key:r.key||"item-".concat(p)},m,S[m]),g,S[g]),"animationId",s)),childIndex:(L=r,z=e.children,Ao(z).indexOf(L)),item:r})}),v},f=function(e,t){var a=e.props,s=e.dataStartIndex,i=e.dataEndIndex,o=e.updateId;if(!Mo({props:a}))return null;var c=a.children,d=a.layout,f=a.stackOffset,p=a.data,m=a.reverseStackOrder,g=rS(d),y=g.numericAxisName,v=g.cateAxisName,x=To(c,n),b=function(e,t,r,n,a,s){if(!e)return null;var i=(s?t.reverse():t).reduce(function(e,t){var a,s=null!==(a=t.type)&&void 0!==a&&a.defaultProps?mx(mx({},t.type.defaultProps),t.props):t.props,i=s.stackId;if(s.hide)return e;var o=s[r],l=e[o]||{hasStack:!1,stackGroups:{}};if(eo(i)){var c=l.stackGroups[i]||{numericAxisId:r,cateAxisId:n,items:[]};c.items.push(t),l.hasStack=!0,l.stackGroups[i]=c}else l.stackGroups[ro("_stackId_")]={numericAxisId:r,cateAxisId:n,items:[t]};return mx(mx({},e),{},gx({},o,l))},{});return Object.keys(i).reduce(function(t,s){var o=i[s];return o.hasStack&&(o.stackGroups=Object.keys(o.stackGroups).reduce(function(t,s){var i=o.stackGroups[s];return mx(mx({},t),{},gx({},s,{numericAxisId:r,cateAxisId:n,items:i.items,stackedData:Ax(e,i.items,a)}))},{})),mx(mx({},t),{},gx({},s,o))},{})}(p,x,"".concat(y,"Id"),"".concat(v,"Id"),f,m),w=l.reduce(function(e,t){var r="".concat(t.axisType,"Map");return qk(qk({},e),{},Hk({},r,eS(a,qk(qk({},t),{},{graphicalItems:x,stackGroups:t.axisType===y&&b,dataStartIndex:s,dataEndIndex:i}))))},{}),j=nS(qk(qk({},w),{},{props:a,graphicalItems:x}),null===t||void 0===t?void 0:t.legendBBox);Object.keys(w).forEach(function(e){w[e]=u(a,w[e],j,e.replace("Map",""),r)});var N=function(e){var t=ao(e),r=kx(t,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:Jo()(r,function(e){return e.coordinate}),tooltipAxis:t,tooltipAxisBandSize:Fx(t,r)}}(w["".concat(v,"Map")]),k=h(a,qk(qk({},w),{},{dataStartIndex:s,dataEndIndex:i,updateId:o,graphicalItems:x,stackGroups:b,offset:j}));return qk(qk({formattedGraphicalItems:k,graphicalItems:x,offset:j,stackGroups:b},N),w)},p=function(e){function n(e){var a,s,i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),Hk(i=Mk(this,n,[e]),"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Hk(i,"accessibilityManager",new AN),Hk(i,"handleLegendBBoxUpdate",function(e){if(e){var t=i.state,r=t.dataStartIndex,n=t.dataEndIndex,a=t.updateId;i.setState(qk({legendBBox:e},f({props:i.props,dataStartIndex:r,dataEndIndex:n,updateId:a},qk(qk({},i.state),{},{legendBBox:e}))))}}),Hk(i,"handleReceiveSyncEvent",function(e,t,r){if(i.props.syncId===e){if(r===i.eventEmitterSymbol&&"function"!==typeof i.props.syncMethod)return;i.applySyncEvent(t)}}),Hk(i,"handleBrushChange",function(e){var t=e.startIndex,r=e.endIndex;if(t!==i.state.dataStartIndex||r!==i.state.dataEndIndex){var n=i.state.updateId;i.setState(function(){return qk({dataStartIndex:t,dataEndIndex:r},f({props:i.props,dataStartIndex:t,dataEndIndex:r,updateId:n},i.state))}),i.triggerSyncEvent({dataStartIndex:t,dataEndIndex:r})}}),Hk(i,"handleMouseEnter",function(e){var t=i.getMouseInfo(e);if(t){var r=qk(qk({},t),{},{isTooltipActive:!0});i.setState(r),i.triggerSyncEvent(r);var n=i.props.onMouseEnter;uo()(n)&&n(r,e)}}),Hk(i,"triggeredAfterMouseMove",function(e){var t=i.getMouseInfo(e),r=t?qk(qk({},t),{},{isTooltipActive:!0}):{isTooltipActive:!1};i.setState(r),i.triggerSyncEvent(r);var n=i.props.onMouseMove;uo()(n)&&n(r,e)}),Hk(i,"handleItemMouseEnter",function(e){i.setState(function(){return{isTooltipActive:!0,activeItem:e,activePayload:e.tooltipPayload,activeCoordinate:e.tooltipPosition||{x:e.cx,y:e.cy}}})}),Hk(i,"handleItemMouseLeave",function(){i.setState(function(){return{isTooltipActive:!1}})}),Hk(i,"handleMouseMove",function(e){e.persist(),i.throttleTriggeredAfterMouseMove(e)}),Hk(i,"handleMouseLeave",function(e){i.throttleTriggeredAfterMouseMove.cancel();var t={isTooltipActive:!1};i.setState(t),i.triggerSyncEvent(t);var r=i.props.onMouseLeave;uo()(r)&&r(t,e)}),Hk(i,"handleOuterEvent",function(e){var t,r=function(e){var t=e&&e.type;return t&&Oo[t]?Oo[t]:null}(e),n=Gi()(i.props,"".concat(r));r&&uo()(n)&&n(null!==(t=/.*touch.*/i.test(r)?i.getMouseInfo(e.changedTouches[0]):i.getMouseInfo(e))&&void 0!==t?t:{},e)}),Hk(i,"handleClick",function(e){var t=i.getMouseInfo(e);if(t){var r=qk(qk({},t),{},{isTooltipActive:!0});i.setState(r),i.triggerSyncEvent(r);var n=i.props.onClick;uo()(n)&&n(r,e)}}),Hk(i,"handleMouseDown",function(e){var t=i.props.onMouseDown;uo()(t)&&t(i.getMouseInfo(e),e)}),Hk(i,"handleMouseUp",function(e){var t=i.props.onMouseUp;uo()(t)&&t(i.getMouseInfo(e),e)}),Hk(i,"handleTouchMove",function(e){null!=e.changedTouches&&e.changedTouches.length>0&&i.throttleTriggeredAfterMouseMove(e.changedTouches[0])}),Hk(i,"handleTouchStart",function(e){null!=e.changedTouches&&e.changedTouches.length>0&&i.handleMouseDown(e.changedTouches[0])}),Hk(i,"handleTouchEnd",function(e){null!=e.changedTouches&&e.changedTouches.length>0&&i.handleMouseUp(e.changedTouches[0])}),Hk(i,"handleDoubleClick",function(e){var t=i.props.onDoubleClick;uo()(t)&&t(i.getMouseInfo(e),e)}),Hk(i,"handleContextMenu",function(e){var t=i.props.onContextMenu;uo()(t)&&t(i.getMouseInfo(e),e)}),Hk(i,"triggerSyncEvent",function(e){void 0!==i.props.syncId&&SN.emit(_N,i.props.syncId,e,i.eventEmitterSymbol)}),Hk(i,"applySyncEvent",function(e){var t=i.props,r=t.layout,n=t.syncMethod,a=i.state.updateId,s=e.dataStartIndex,o=e.dataEndIndex;if(void 0!==e.dataStartIndex||void 0!==e.dataEndIndex)i.setState(qk({dataStartIndex:s,dataEndIndex:o},f({props:i.props,dataStartIndex:s,dataEndIndex:o,updateId:a},i.state)));else if(void 0!==e.activeTooltipIndex){var l=e.chartX,c=e.chartY,u=e.activeTooltipIndex,d=i.state,h=d.offset,p=d.tooltipTicks;if(!h)return;if("function"===typeof n)u=n(p,e);else if("value"===n){u=-1;for(var m=0;m<p.length;m++)if(p[m].value===e.activeLabel){u=m;break}}var g=qk(qk({},h),{},{x:h.left,y:h.top}),y=Math.min(l,g.x+g.width),v=Math.min(c,g.y+g.height),x=p[u]&&p[u].value,b=Jk(i.state,i.props.data,u),w=p[u]?{x:"horizontal"===r?p[u].coordinate:y,y:"horizontal"===r?v:p[u].coordinate}:$k;i.setState(qk(qk({},e),{},{activeLabel:x,activeCoordinate:w,activePayload:b,activeTooltipIndex:u}))}else i.setState(e)}),Hk(i,"renderCursor",function(e){var n,a=i.state,s=a.isTooltipActive,o=a.activeCoordinate,l=a.activePayload,c=a.offset,u=a.activeTooltipIndex,d=a.tooltipAxisBandSize,h=i.getTooltipEventType(),f=null!==(n=e.props.active)&&void 0!==n?n:s,p=i.props.layout,m=e.key||"_recharts-cursor";return t.createElement(_k,{key:m,activeCoordinate:o,activePayload:l,activeTooltipIndex:u,chartName:r,element:e,isActive:f,layout:p,offset:c,tooltipAxisBandSize:d,tooltipEventType:h})}),Hk(i,"renderPolarAxis",function(e,r,n){var a=Gi()(e,"type.axisType"),s=Gi()(i.state,"".concat(a,"Map")),o=e.type.defaultProps,l=void 0!==o?qk(qk({},o),e.props):e.props,c=s&&s[l["".concat(a,"Id")]];return(0,t.cloneElement)(e,qk(qk({},c),{},{className:zi(a,c.className),key:e.key||"".concat(r,"-").concat(n),ticks:kx(c,!0)}))}),Hk(i,"renderPolarGrid",function(e){var r=e.props,n=r.radialLines,a=r.polarAngles,s=r.polarRadius,o=i.state,l=o.radiusAxisMap,c=o.angleAxisMap,u=ao(l),d=ao(c),h=d.cx,f=d.cy,p=d.innerRadius,m=d.outerRadius;return(0,t.cloneElement)(e,{polarAngles:Array.isArray(a)?a:kx(d,!0).map(function(e){return e.coordinate}),polarRadius:Array.isArray(s)?s:kx(u,!0).map(function(e){return e.coordinate}),cx:h,cy:f,innerRadius:p,outerRadius:m,key:e.key||"polar-grid",radialLines:n})}),Hk(i,"renderLegend",function(){var e=i.state.formattedGraphicalItems,r=i.props,n=r.children,a=r.width,s=r.height,o=i.props.margin||{},l=a-(o.left||0)-(o.right||0),u=ux({children:n,formattedGraphicalItems:e,legendWidth:l,legendContent:c});if(!u)return null;var d=u.item,h=Tk(u,Ok);return(0,t.cloneElement)(d,qk(qk({},h),{},{chartWidth:a,chartHeight:s,margin:o,onBBoxUpdate:i.handleLegendBBoxUpdate}))}),Hk(i,"renderTooltip",function(){var e,r=i.props,n=r.children,a=r.accessibilityLayer,s=Do(n,Yl);if(!s)return null;var o=i.state,l=o.isTooltipActive,c=o.activeCoordinate,u=o.activePayload,d=o.activeLabel,h=o.offset,f=null!==(e=s.props.active)&&void 0!==e?e:l;return(0,t.cloneElement)(s,{viewBox:qk(qk({},h),{},{x:h.left,y:h.top}),active:f,label:d,payload:f?u:[],coordinate:c,accessibilityLayer:a})}),Hk(i,"renderBrush",function(e){var r=i.props,n=r.margin,a=r.data,s=i.state,o=s.offset,l=s.dataStartIndex,c=s.dataEndIndex,u=s.updateId;return(0,t.cloneElement)(e,{key:e.key||"_recharts-brush",onChange:_x(i.handleBrushChange,e.props.onChange),data:a,x:Zi(e.props.x)?e.props.x:o.left,y:Zi(e.props.y)?e.props.y:o.top+o.height+o.brushBottom-(n.bottom||0),width:Zi(e.props.width)?e.props.width:o.width,startIndex:l,endIndex:c,updateId:"brush-".concat(u)})}),Hk(i,"renderReferenceElement",function(e,r,n){if(!e)return null;var a=i.clipPathId,s=i.state,o=s.xAxisMap,l=s.yAxisMap,c=s.offset,u=e.type.defaultProps||{},d=e.props,h=d.xAxisId,f=void 0===h?u.xAxisId:h,p=d.yAxisId,m=void 0===p?u.yAxisId:p;return(0,t.cloneElement)(e,{key:e.key||"".concat(r,"-").concat(n),xAxis:o[f],yAxis:l[m],viewBox:{x:c.left,y:c.top,width:c.width,height:c.height},clipPathId:a})}),Hk(i,"renderActivePoints",function(e){var t=e.item,r=e.activePoint,a=e.basePoint,s=e.childIndex,i=e.isRange,o=[],l=t.props.key,c=void 0!==t.item.type.defaultProps?qk(qk({},t.item.type.defaultProps),t.item.props):t.item.props,u=c.activeDot,d=qk(qk({index:s,dataKey:c.dataKey,cx:r.x,cy:r.y,r:4,fill:xx(t.item),strokeWidth:2,stroke:"#fff",payload:r.payload,value:r.value},Lo(u,!1)),wo(u));return o.push(n.renderActiveDot(u,d,"".concat(l,"-activePoint-").concat(s))),a?o.push(n.renderActiveDot(u,qk(qk({},d),{},{cx:a.x,cy:a.y}),"".concat(l,"-basePoint-").concat(s))):i&&o.push(null),o}),Hk(i,"renderGraphicChild",function(e,r,n){var a=i.filterFormatItem(e,r,n);if(!a)return null;var s=i.getTooltipEventType(),o=i.state,l=o.isTooltipActive,c=o.tooltipAxis,u=o.activeTooltipIndex,d=o.activeLabel,h=Do(i.props.children,Yl),f=a.props,p=f.points,m=f.isRange,g=f.baseLine,y=void 0!==a.item.type.defaultProps?qk(qk({},a.item.type.defaultProps),a.item.props):a.item.props,v=y.activeDot,x=y.hide,b=y.activeBar,w=y.activeShape,j=Boolean(!x&&l&&h&&(v||b||w)),N={};"axis"!==s&&h&&"click"===h.props.trigger?N={onClick:_x(i.handleItemMouseEnter,e.props.onClick)}:"axis"!==s&&(N={onMouseLeave:_x(i.handleItemMouseLeave,e.props.onMouseLeave),onMouseEnter:_x(i.handleItemMouseEnter,e.props.onMouseEnter)});var k=(0,t.cloneElement)(e,qk(qk({},a.props),N));if(j){if(!(u>=0)){var S,_=(null!==(S=i.getItemByXY(i.state.activeCoordinate))&&void 0!==S?S:{graphicalItem:k}).graphicalItem,O=_.item,E=void 0===O?e:O,C=_.childIndex,P=qk(qk(qk({},a.props),N),{},{activeIndex:C});return[(0,t.cloneElement)(E,P),null,null]}var A,T;if(c.dataKey&&!c.allowDuplicatedCategory){var D="function"===typeof c.dataKey?function(e){return"function"===typeof c.dataKey?c.dataKey(e.payload):null}:"payload.".concat(c.dataKey.toString());A=io(p,D,d),T=m&&g&&io(g,D,d)}else A=null===p||void 0===p?void 0:p[u],T=m&&g&&g[u];if(w||b){var M=void 0!==e.props.activeIndex?e.props.activeIndex:u;return[(0,t.cloneElement)(e,qk(qk(qk({},a.props),N),{},{activeIndex:M})),null,null]}if(!Xi()(A))return[k].concat(zk(i.renderActivePoints({item:a,activePoint:A,basePoint:T,childIndex:u,isRange:m})))}return m?[k,null,null]:[k,null]}),Hk(i,"renderCustomized",function(e,r,n){return(0,t.cloneElement)(e,qk(qk({key:"recharts-customized-".concat(n)},i.props),i.state))}),Hk(i,"renderMap",{CartesianGrid:{handler:Kk,once:!0},ReferenceArea:{handler:i.renderReferenceElement},ReferenceLine:{handler:Kk},ReferenceDot:{handler:i.renderReferenceElement},XAxis:{handler:Kk},YAxis:{handler:Kk},Brush:{handler:i.renderBrush,once:!0},Bar:{handler:i.renderGraphicChild},Line:{handler:i.renderGraphicChild},Area:{handler:i.renderGraphicChild},Radar:{handler:i.renderGraphicChild},RadialBar:{handler:i.renderGraphicChild},Scatter:{handler:i.renderGraphicChild},Pie:{handler:i.renderGraphicChild},Funnel:{handler:i.renderGraphicChild},Tooltip:{handler:i.renderCursor,once:!0},PolarGrid:{handler:i.renderPolarGrid,once:!0},PolarAngleAxis:{handler:i.renderPolarAxis},PolarRadiusAxis:{handler:i.renderPolarAxis},Customized:{handler:i.renderCustomized}}),i.clipPathId="".concat(null!==(a=e.id)&&void 0!==a?a:ro("recharts"),"-clip"),i.throttleTriggeredAfterMouseMove=Bi()(i.triggeredAfterMouseMove,null!==(s=e.throttleDelay)&&void 0!==s?s:1e3/60),i.state={},i}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Lk(e,t)}(n,e),a=n,i=[{key:"componentDidMount",value:function(){var e,t;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:null!==(e=this.props.margin.left)&&void 0!==e?e:0,top:null!==(t=this.props.margin.top)&&void 0!==t?t:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var e=this.props,t=e.children,r=e.data,n=e.height,a=e.layout,s=Do(t,Yl);if(s){var i=s.props.defaultIndex;if(!("number"!==typeof i||i<0||i>this.state.tooltipTicks.length-1)){var o=this.state.tooltipTicks[i]&&this.state.tooltipTicks[i].value,l=Jk(this.state,r,i,o),c=this.state.tooltipTicks[i].coordinate,u=(this.state.offset.top+n)/2,d="horizontal"===a?{x:c,y:u}:{y:c,x:u},h=this.state.formattedGraphicalItems.find(function(e){return"Scatter"===e.item.type.name});h&&(d=qk(qk({},d),h.props.points[i].tooltipPosition),l=h.props.points[i].tooltipPayload);var f={activeTooltipIndex:i,isTooltipActive:!0,activeLabel:o,activePayload:l,activeCoordinate:d};this.setState(f),this.renderCursor(s),this.accessibilityManager.setIndex(i)}}}},{key:"getSnapshotBeforeUpdate",value:function(e,t){return this.props.accessibilityLayer?(this.state.tooltipTicks!==t.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==e.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==e.margin&&this.accessibilityManager.setDetails({offset:{left:null!==(r=this.props.margin.left)&&void 0!==r?r:0,top:null!==(n=this.props.margin.top)&&void 0!==n?n:0}}),null):null;var r,n}},{key:"componentDidUpdate",value:function(e){zo([Do(e.children,Yl)],[Do(this.props.children,Yl)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var e=Do(this.props.children,Yl);if(e&&"boolean"===typeof e.props.shared){var t=e.props.shared?"axis":"item";return o.indexOf(t)>=0?t:s}return s}},{key:"getMouseInfo",value:function(e){if(!this.container)return null;var t,r=this.container,n=r.getBoundingClientRect(),a={top:(t=n).top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft},s={chartX:Math.round(e.pageX-a.left),chartY:Math.round(e.pageY-a.top)},i=n.width/r.offsetWidth||1,o=this.inRange(s.chartX,s.chartY,i);if(!o)return null;var l=this.state,c=l.xAxisMap,u=l.yAxisMap,d=this.getTooltipEventType(),h=Qk(this.state,this.props.data,this.props.layout,o);if("axis"!==d&&c&&u){var f=ao(c).scale,p=ao(u).scale,m=f&&f.invert?f.invert(s.chartX):null,g=p&&p.invert?p.invert(s.chartY):null;return qk(qk({},s),{},{xValue:m,yValue:g},h)}return h?qk(qk({},s),h):null}},{key:"inRange",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=this.props.layout,a=e/r,s=t/r;if("horizontal"===n||"vertical"===n){var i=this.state.offset;return a>=i.left&&a<=i.left+i.width&&s>=i.top&&s<=i.top+i.height?{x:a,y:s}:null}var o=this.state,l=o.angleAxisMap,c=o.radiusAxisMap;if(l&&c){var u=ao(l);return vb({x:a,y:s},u)}return null}},{key:"parseEventsOfWrapper",value:function(){var e=this.props.children,t=this.getTooltipEventType(),r=Do(e,Yl),n={};return r&&"axis"===t&&(n="click"===r.props.trigger?{onClick:this.handleClick}:{onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu}),qk(qk({},wo(this.props,this.handleOuterEvent)),n)}},{key:"addListener",value:function(){SN.on(_N,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){SN.removeListener(_N,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(e,t,r){for(var n=this.state.formattedGraphicalItems,a=0,s=n.length;a<s;a++){var i=n[a];if(i.item===e||i.props.key===e.key||t===Eo(i.item.type)&&r===i.childIndex)return i}return null}},{key:"renderClipPath",value:function(){var e=this.clipPathId,r=this.state.offset,n=r.left,a=r.top,s=r.height,i=r.width;return t.createElement("defs",null,t.createElement("clipPath",{id:e},t.createElement("rect",{x:n,y:a,height:s,width:i})))}},{key:"getXScales",value:function(){var e=this.state.xAxisMap;return e?Object.entries(e).reduce(function(e,t){var r=Ak(t,2),n=r[0],a=r[1];return qk(qk({},e),{},Hk({},n,a.scale))},{}):null}},{key:"getYScales",value:function(){var e=this.state.yAxisMap;return e?Object.entries(e).reduce(function(e,t){var r=Ak(t,2),n=r[0],a=r[1];return qk(qk({},e),{},Hk({},n,a.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(e){var t;return null===(t=this.state.xAxisMap)||void 0===t||null===(t=t[e])||void 0===t?void 0:t.scale}},{key:"getYScaleByAxisId",value:function(e){var t;return null===(t=this.state.yAxisMap)||void 0===t||null===(t=t[e])||void 0===t?void 0:t.scale}},{key:"getItemByXY",value:function(e){var t=this.state,r=t.formattedGraphicalItems,n=t.activeItem;if(r&&r.length)for(var a=0,s=r.length;a<s;a++){var i=r[a],o=i.props,l=i.item,c=void 0!==l.type.defaultProps?qk(qk({},l.type.defaultProps),l.props):l.props,u=Eo(l.type);if("Bar"===u){var d=(o.data||[]).find(function(t){return ch(e,t)});if(d)return{graphicalItem:i,payload:d}}else if("RadialBar"===u){var h=(o.data||[]).find(function(t){return vb(e,t)});if(h)return{graphicalItem:i,payload:h}}else if(Pw(i,n)||Aw(i,n)||Tw(i,n)){var f=Rw({graphicalItem:i,activeTooltipItem:n,itemData:c.data}),p=void 0===c.activeIndex?f:c.activeIndex;return{graphicalItem:qk(qk({},i),{},{childIndex:p}),payload:Tw(i,n)?c.data[f]:i.props.data[f]}}}return null}},{key:"render",value:function(){var e=this;if(!Mo(this))return null;var r,n,a=this.props,s=a.children,i=a.className,o=a.width,l=a.height,c=a.style,u=a.compact,d=a.title,h=a.desc,f=Tk(a,Ek),p=Lo(f,!1);if(u)return t.createElement(Hj,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},t.createElement(nl,Pk({},p,{width:o,height:l,title:d,desc:h}),this.renderClipPath(),Bo(s,this.renderMap)));this.props.accessibilityLayer&&(p.tabIndex=null!==(r=this.props.tabIndex)&&void 0!==r?r:0,p.role=null!==(n=this.props.role)&&void 0!==n?n:"application",p.onKeyDown=function(t){e.accessibilityManager.keyboardEvent(t)},p.onFocus=function(){e.accessibilityManager.focus()});var m=this.parseEventsOfWrapper();return t.createElement(Hj,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},t.createElement("div",Pk({className:zi("recharts-wrapper",i),style:qk({position:"relative",cursor:"default",width:o,height:l},c)},m,{ref:function(t){e.container=t}}),t.createElement(nl,Pk({},p,{width:o,height:l,title:d,desc:h,style:Gk}),this.renderClipPath(),Bo(s,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}],i&&Dk(a.prototype,i),l&&Dk(a,l),Object.defineProperty(a,"prototype",{writable:!1}),a;var a,i,l}(t.Component);Hk(p,"displayName",r),Hk(p,"defaultProps",qk({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},d)),Hk(p,"getDerivedStateFromProps",function(e,t){var r=e.dataKey,n=e.data,a=e.children,s=e.width,i=e.height,o=e.layout,l=e.stackOffset,c=e.margin,u=t.dataStartIndex,d=t.dataEndIndex;if(void 0===t.updateId){var h=tS(e);return qk(qk(qk({},h),{},{updateId:0},f(qk(qk({props:e},h),{},{updateId:0}),t)),{},{prevDataKey:r,prevData:n,prevWidth:s,prevHeight:i,prevLayout:o,prevStackOffset:l,prevMargin:c,prevChildren:a})}if(r!==t.prevDataKey||n!==t.prevData||s!==t.prevWidth||i!==t.prevHeight||o!==t.prevLayout||l!==t.prevStackOffset||!mo(c,t.prevMargin)){var p=tS(e),m={chartX:t.chartX,chartY:t.chartY,isTooltipActive:t.isTooltipActive},g=qk(qk({},Qk(t,n,o)),{},{updateId:t.updateId+1}),y=qk(qk(qk({},p),m),g);return qk(qk(qk({},y),f(qk({props:e},y),t)),{},{prevDataKey:r,prevData:n,prevWidth:s,prevHeight:i,prevLayout:o,prevStackOffset:l,prevMargin:c,prevChildren:a})}if(!zo(a,t.prevChildren)){var v,x,b,w,j=Do(a,sb),N=j&&null!==(v=null===(x=j.props)||void 0===x?void 0:x.startIndex)&&void 0!==v?v:u,k=j&&null!==(b=null===(w=j.props)||void 0===w?void 0:w.endIndex)&&void 0!==b?b:d,S=N!==u||k!==d,_=!Xi()(n)&&!S?t.updateId:t.updateId+1;return qk(qk({updateId:_},f(qk(qk({props:e},t),{},{updateId:_,dataStartIndex:N,dataEndIndex:k}),t)),{},{prevChildren:a,dataStartIndex:N,dataEndIndex:k})}return null}),Hk(p,"renderActiveDot",function(e,r,n){var a;return a=(0,t.isValidElement)(e)?(0,t.cloneElement)(e,r):uo()(e)?e(r):t.createElement(Su,r),t.createElement(ol,{className:"recharts-active-dot",key:n},a)});var m=(0,t.forwardRef)(function(e,r){return t.createElement(p,Pk({},e,{ref:r}))});return m.displayName=p.displayName,m},iS=["type","layout","connectNulls","ref"],oS=["key"];function lS(e){return lS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lS(e)}function cS(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function uS(){return uS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},uS.apply(this,arguments)}function dS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function hS(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?dS(Object(r),!0).forEach(function(t){bS(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dS(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function fS(e){return function(e){if(Array.isArray(e))return pS(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return pS(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return pS(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function pS(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function mS(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,wS(n.key),n)}}function gS(e,t,r){return t=vS(t),function(e,t){if(t&&("object"===lS(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,yS()?Reflect.construct(t,r||[],vS(e).constructor):t.apply(e,r))}function yS(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(yS=function(){return!!e})()}function vS(e){return vS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},vS(e)}function xS(e,t){return xS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},xS(e,t)}function bS(e,t,r){return(t=wS(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wS(e){var t=function(e,t){if("object"!=lS(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=lS(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==lS(t)?t:t+""}var jS=function(e){function r(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return bS(e=gS(this,r,[].concat(n)),"state",{isAnimationFinished:!0,totalLength:0}),bS(e,"generateSimpleStrokeDasharray",function(e,t){return"".concat(t,"px ").concat(e-t,"px")}),bS(e,"getStrokeDasharray",function(t,n,a){var s=a.reduce(function(e,t){return e+t});if(!s)return e.generateSimpleStrokeDasharray(n,t);for(var i=Math.floor(t/s),o=t%s,l=n-t,c=[],u=0,d=0;u<a.length;d+=a[u],++u)if(d+a[u]>o){c=[].concat(fS(a.slice(0,u)),[o-d]);break}var h=c.length%2===0?[0,l]:[l];return[].concat(fS(r.repeat(a,i)),fS(c),h).map(function(e){return"".concat(e,"px")}).join(", ")}),bS(e,"id",ro("recharts-line-")),bS(e,"pathRef",function(t){e.mainCurve=t}),bS(e,"handleAnimationEnd",function(){e.setState({isAnimationFinished:!0}),e.props.onAnimationEnd&&e.props.onAnimationEnd()}),bS(e,"handleAnimationStart",function(){e.setState({isAnimationFinished:!1}),e.props.onAnimationStart&&e.props.onAnimationStart()}),e}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&xS(e,t)}(r,e),n=r,a=[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var e=this.getTotalLength();this.setState({totalLength:e})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var e=this.getTotalLength();e!==this.state.totalLength&&this.setState({totalLength:e})}}},{key:"getTotalLength",value:function(){var e=this.mainCurve;try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch(t){return 0}}},{key:"renderErrorBar",value:function(e,r){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var n=this.props,a=n.points,s=n.xAxis,i=n.yAxis,o=n.layout,l=To(n.children,sx);if(!l)return null;var c=function(e,t){return{x:e.x,y:e.y,value:e.value,errorVal:yx(e.payload,t)}},u={clipPath:e?"url(#clipPath-".concat(r,")"):null};return t.createElement(ol,u,l.map(function(e){return t.cloneElement(e,{key:"bar-".concat(e.props.dataKey),data:a,xAxis:s,yAxis:i,layout:o,dataPointFormatter:c})}))}},{key:"renderDots",value:function(e,n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,i=s.dot,o=s.points,l=s.dataKey,c=Lo(this.props,!1),u=Lo(i,!0),d=o.map(function(e,t){var n=hS(hS(hS({key:"dot-".concat(t),r:3},c),u),{},{index:t,cx:e.x,cy:e.y,value:e.value,dataKey:l,payload:e.payload,points:o});return r.renderDotItem(i,n)}),h={clipPath:e?"url(#clipPath-".concat(n?"":"dots-").concat(a,")"):null};return t.createElement(ol,uS({className:"recharts-line-dots",key:"dots"},h),d)}},{key:"renderCurveStatically",value:function(e,r,n,a){var s=this.props,i=s.type,o=s.layout,l=s.connectNulls,c=(s.ref,cS(s,iS)),u=hS(hS(hS({},Lo(c,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:r?"url(#clipPath-".concat(n,")"):null,points:e},a),{},{type:i,layout:o,connectNulls:l});return t.createElement(dk,uS({},u,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(e,r){var n=this,a=this.props,s=a.points,i=a.strokeDasharray,o=a.isAnimationActive,l=a.animationBegin,c=a.animationDuration,u=a.animationEasing,d=a.animationId,h=a.animateNewValues,f=a.width,p=a.height,m=this.state,g=m.prevPoints,y=m.totalLength;return t.createElement(eh,{begin:l,duration:c,isActive:o,easing:u,from:{t:0},to:{t:1},key:"line-".concat(d),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(t){var a=t.t;if(g){var o=g.length/s.length,l=s.map(function(e,t){var r=Math.floor(t*o);if(g[r]){var n=g[r],s=so(n.x,e.x),i=so(n.y,e.y);return hS(hS({},e),{},{x:s(a),y:i(a)})}if(h){var l=so(2*f,e.x),c=so(p/2,e.y);return hS(hS({},e),{},{x:l(a),y:c(a)})}return hS(hS({},e),{},{x:e.x,y:e.y})});return n.renderCurveStatically(l,e,r)}var c,u=so(0,y)(a);if(i){var d="".concat(i).split(/[,\s]+/gim).map(function(e){return parseFloat(e)});c=n.getStrokeDasharray(u,y,d)}else c=n.generateSimpleStrokeDasharray(y,u);return n.renderCurveStatically(s,e,r,{strokeDasharray:c})})}},{key:"renderCurve",value:function(e,t){var r=this.props,n=r.points,a=r.isAnimationActive,s=this.state,i=s.prevPoints,o=s.totalLength;return a&&n&&n.length&&(!i&&o>0||!gv()(i,n))?this.renderCurveWithAnimation(e,t):this.renderCurveStatically(n,e,t)}},{key:"render",value:function(){var e,r=this.props,n=r.hide,a=r.dot,s=r.points,i=r.className,o=r.xAxis,l=r.yAxis,c=r.top,u=r.left,d=r.width,h=r.height,f=r.isAnimationActive,p=r.id;if(n||!s||!s.length)return null;var m=this.state.isAnimationFinished,g=1===s.length,y=zi("recharts-line",i),v=o&&o.allowDataOverflow,x=l&&l.allowDataOverflow,b=v||x,w=Xi()(p)?this.id:p,j=null!==(e=Lo(a,!1))&&void 0!==e?e:{r:3,strokeWidth:2},N=j.r,k=void 0===N?3:N,S=j.strokeWidth,_=void 0===S?2:S,O=(function(e){return e&&"object"===_o(e)&&"clipDot"in e}(a)?a:{}).clipDot,E=void 0===O||O,C=2*k+_;return t.createElement(ol,{className:y},v||x?t.createElement("defs",null,t.createElement("clipPath",{id:"clipPath-".concat(w)},t.createElement("rect",{x:v?u:u-d/2,y:x?c:c-h/2,width:v?d:2*d,height:x?h:2*h})),!E&&t.createElement("clipPath",{id:"clipPath-dots-".concat(w)},t.createElement("rect",{x:u-C/2,y:c-C/2,width:d+C,height:h+C}))):null,!g&&this.renderCurve(b,w),this.renderErrorBar(b,w),(g||a)&&this.renderDots(b,E,w),(!f||m)&&Jb.renderCallByParent(this.props,s))}}],s=[{key:"getDerivedStateFromProps",value:function(e,t){return e.animationId!==t.prevAnimationId?{prevAnimationId:e.animationId,curPoints:e.points,prevPoints:t.curPoints}:e.points!==t.curPoints?{curPoints:e.points}:null}},{key:"repeat",value:function(e,t){for(var r=e.length%2!==0?[].concat(fS(e),[0]):e,n=[],a=0;a<t;++a)n=[].concat(fS(n),fS(r));return n}},{key:"renderDotItem",value:function(e,r){var n;if(t.isValidElement(e))n=t.cloneElement(e,r);else if(uo()(e))n=e(r);else{var a=r.key,s=cS(r,oS),i=zi("recharts-line-dot","boolean"!==typeof e?e.className:"");n=t.createElement(Su,uS({key:a},s,{className:i}))}return n}}],a&&mS(n.prototype,a),s&&mS(n,s),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,a,s}(t.PureComponent);function NS(e,t,r){if(t<1)return[];if(1===t&&void 0===r)return e;for(var n=[],a=0;a<e.length;a+=t){if(void 0!==r&&!0!==r(e[a]))return;n.push(e[a])}return n}function kS(e,t,r){return function(e){var t=e.width,r=e.height,n=function(e){return(e%180+180)%180}(arguments.length>1&&void 0!==arguments[1]?arguments[1]:0),a=n*Math.PI/180,s=Math.atan(r/t),i=a>s&&a<Math.PI-s?r/Math.sin(a):t/Math.cos(a);return Math.abs(i)}({width:e.width+t.width,height:e.height+t.height},r)}function SS(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var s=r();return e*(t-e*s/2-n)>=0&&e*(t+e*s/2-a)<=0}function _S(e){return _S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_S(e)}function OS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function ES(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?OS(Object(r),!0).forEach(function(t){CS(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):OS(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function CS(e,t,r){return t=function(e){var t=function(e,t){if("object"!=_S(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=_S(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==_S(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function PS(e,t,r){var n=e.tick,a=e.ticks,s=e.viewBox,i=e.minTickGap,o=e.orientation,l=e.interval,c=e.tickFormatter,u=e.unit,d=e.angle;if(!a||!a.length||!n)return[];if(Zi(l)||Ml.isSsr)return function(e,t){return NS(e,t+1)}(a,"number"===typeof l&&Zi(l)?l:0);var h=[],f="top"===o||"bottom"===o?"width":"height",p=u&&"width"===f?Ah(u,{fontSize:t,letterSpacing:r}):{width:0,height:0},m=function(e,n){var a=uo()(c)?c(e.value,n):e.value;return"width"===f?kS(Ah(a,{fontSize:t,letterSpacing:r}),p,d):Ah(a,{fontSize:t,letterSpacing:r})[f]},g=a.length>=2?Ji(a[1].coordinate-a[0].coordinate):1,y=function(e,t,r){var n="width"===r,a=e.x,s=e.y,i=e.width,o=e.height;return 1===t?{start:n?a:s,end:n?a+i:s+o}:{start:n?a+i:s+o,end:n?a:s}}(s,g,f);return"equidistantPreserveStart"===l?function(e,t,r,n,a){for(var s,i=(n||[]).slice(),o=t.start,l=t.end,c=0,u=1,d=o,h=function(){var t=null===n||void 0===n?void 0:n[c];if(void 0===t)return{v:NS(n,u)};var s,i=c,h=function(){return void 0===s&&(s=r(t,i)),s},f=t.coordinate,p=0===c||SS(e,f,h,d,l);p||(c=0,d=o,u+=1),p&&(d=f+e*(h()/2+a),c+=u)};u<=i.length;)if(s=h())return s.v;return[]}(g,y,m,a,i):(h="preserveStart"===l||"preserveStartEnd"===l?function(e,t,r,n,a,s){var i=(n||[]).slice(),o=i.length,l=t.start,c=t.end;if(s){var u=n[o-1],d=r(u,o-1),h=e*(u.coordinate+e*d/2-c);i[o-1]=u=ES(ES({},u),{},{tickCoord:h>0?u.coordinate-h*e:u.coordinate}),SS(e,u.tickCoord,function(){return d},l,c)&&(c=u.tickCoord-e*(d/2+a),i[o-1]=ES(ES({},u),{},{isShow:!0}))}for(var f=s?o-1:o,p=function(t){var n,s=i[t],o=function(){return void 0===n&&(n=r(s,t)),n};if(0===t){var u=e*(s.coordinate-e*o()/2-l);i[t]=s=ES(ES({},s),{},{tickCoord:u<0?s.coordinate-u*e:s.coordinate})}else i[t]=s=ES(ES({},s),{},{tickCoord:s.coordinate});SS(e,s.tickCoord,o,l,c)&&(l=s.tickCoord+e*(o()/2+a),i[t]=ES(ES({},s),{},{isShow:!0}))},m=0;m<f;m++)p(m);return i}(g,y,m,a,i,"preserveStartEnd"===l):function(e,t,r,n,a){for(var s=(n||[]).slice(),i=s.length,o=t.start,l=t.end,c=function(t){var n,c=s[t],u=function(){return void 0===n&&(n=r(c,t)),n};if(t===i-1){var d=e*(c.coordinate+e*u()/2-l);s[t]=c=ES(ES({},c),{},{tickCoord:d>0?c.coordinate-d*e:c.coordinate})}else s[t]=c=ES(ES({},c),{},{tickCoord:c.coordinate});SS(e,c.tickCoord,u,o,l)&&(l=c.tickCoord-e*(u()/2+a),s[t]=ES(ES({},c),{},{isShow:!0}))},u=i-1;u>=0;u--)c(u);return s}(g,y,m,a,i),h.filter(function(e){return e.isShow}))}bS(jS,"displayName","Line"),bS(jS,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Ml.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1}),bS(jS,"getComposedData",function(e){var t=e.props,r=e.xAxis,n=e.yAxis,a=e.xAxisTicks,s=e.yAxisTicks,i=e.dataKey,o=e.bandSize,l=e.displayedData,c=e.offset,u=t.layout,d=l.map(function(e,t){var l=yx(e,i);return"horizontal"===u?{x:Dx({axis:r,ticks:a,bandSize:o,entry:e,index:t}),y:Xi()(l)?null:n.scale(l),value:l,payload:e}:{x:Xi()(l)?null:r.scale(l),y:Dx({axis:n,ticks:s,bandSize:o,entry:e,index:t}),value:l,payload:e}});return hS({points:d,layout:u},c)});var AS=["viewBox"],TS=["viewBox"],DS=["ticks"];function MS(e){return MS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},MS(e)}function IS(){return IS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},IS.apply(this,arguments)}function RS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function LS(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?RS(Object(r),!0).forEach(function(t){VS(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):RS(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function zS(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function FS(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,WS(n.key),n)}}function BS(e,t,r){return t=qS(t),function(e,t){if(t&&("object"===MS(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,US()?Reflect.construct(t,r||[],qS(e).constructor):t.apply(e,r))}function US(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(US=function(){return!!e})()}function qS(e){return qS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},qS(e)}function HS(e,t){return HS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},HS(e,t)}function VS(e,t,r){return(t=WS(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function WS(e){var t=function(e,t){if("object"!=MS(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=MS(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==MS(t)?t:t+""}var GS=function(e){function r(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),(t=BS(this,r,[e])).state={fontSize:"",letterSpacing:""},t}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&HS(e,t)}(r,e),n=r,a=[{key:"shouldComponentUpdate",value:function(e,t){var r=e.viewBox,n=zS(e,AS),a=this.props,s=a.viewBox,i=zS(a,TS);return!mo(r,s)||!mo(n,i)||!mo(t,this.state)}},{key:"componentDidMount",value:function(){var e=this.layerReference;if(e){var t=e.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];t&&this.setState({fontSize:window.getComputedStyle(t).fontSize,letterSpacing:window.getComputedStyle(t).letterSpacing})}}},{key:"getTickLineCoord",value:function(e){var t,r,n,a,s,i,o=this.props,l=o.x,c=o.y,u=o.width,d=o.height,h=o.orientation,f=o.tickSize,p=o.mirror,m=o.tickMargin,g=p?-1:1,y=e.tickSize||f,v=Zi(e.tickCoord)?e.tickCoord:e.coordinate;switch(h){case"top":t=r=e.coordinate,i=(n=(a=c+ +!p*d)-g*y)-g*m,s=v;break;case"left":n=a=e.coordinate,s=(t=(r=l+ +!p*u)-g*y)-g*m,i=v;break;case"right":n=a=e.coordinate,s=(t=(r=l+ +p*u)+g*y)+g*m,i=v;break;default:t=r=e.coordinate,i=(n=(a=c+ +p*d)+g*y)+g*m,s=v}return{line:{x1:t,y1:n,x2:r,y2:a},tick:{x:s,y:i}}}},{key:"getTickTextAnchor",value:function(){var e,t=this.props,r=t.orientation,n=t.mirror;switch(r){case"left":e=n?"start":"end";break;case"right":e=n?"end":"start";break;default:e="middle"}return e}},{key:"getTickVerticalAnchor",value:function(){var e=this.props,t=e.orientation,r=e.mirror,n="end";switch(t){case"left":case"right":n="middle";break;case"top":n=r?"start":"end";break;default:n=r?"end":"start"}return n}},{key:"renderAxisLine",value:function(){var e=this.props,r=e.x,n=e.y,a=e.width,s=e.height,i=e.orientation,o=e.mirror,l=e.axisLine,c=LS(LS(LS({},Lo(this.props,!1)),Lo(l,!1)),{},{fill:"none"});if("top"===i||"bottom"===i){var u=+("top"===i&&!o||"bottom"===i&&o);c=LS(LS({},c),{},{x1:r,y1:n+u*s,x2:r+a,y2:n+u*s})}else{var d=+("left"===i&&!o||"right"===i&&o);c=LS(LS({},c),{},{x1:r+d*a,y1:n,x2:r+d*a,y2:n+s})}return t.createElement("line",IS({},c,{className:zi("recharts-cartesian-axis-line",Gi()(l,"className"))}))}},{key:"renderTicks",value:function(e,n,a){var s=this,i=this.props,o=i.tickLine,l=i.stroke,c=i.tick,u=i.tickFormatter,d=i.unit,h=PS(LS(LS({},this.props),{},{ticks:e}),n,a),f=this.getTickTextAnchor(),p=this.getTickVerticalAnchor(),m=Lo(this.props,!1),g=Lo(c,!1),y=LS(LS({},m),{},{fill:"none"},Lo(o,!1)),v=h.map(function(e,n){var a=s.getTickLineCoord(e),i=a.line,v=a.tick,x=LS(LS(LS(LS({textAnchor:f,verticalAnchor:p},m),{},{stroke:"none",fill:l},g),v),{},{index:n,payload:e,visibleTicksCount:h.length,tickFormatter:u});return t.createElement(ol,IS({className:"recharts-cartesian-axis-tick",key:"tick-".concat(e.value,"-").concat(e.coordinate,"-").concat(e.tickCoord)},jo(s.props,e,n)),o&&t.createElement("line",IS({},y,i,{className:zi("recharts-cartesian-axis-tick-line",Gi()(o,"className"))})),c&&r.renderTickItem(c,x,"".concat(uo()(u)?u(e.value,n):e.value).concat(d||"")))});return t.createElement("g",{className:"recharts-cartesian-axis-ticks"},v)}},{key:"render",value:function(){var e=this,r=this.props,n=r.axisLine,a=r.width,s=r.height,i=r.ticksGenerator,o=r.className;if(r.hide)return null;var l=this.props,c=l.ticks,u=zS(l,DS),d=c;return uo()(i)&&(d=c&&c.length>0?i(this.props):i(u)),a<=0||s<=0||!d||!d.length?null:t.createElement(ol,{className:zi("recharts-cartesian-axis",o),ref:function(t){e.layerReference=t}},n&&this.renderAxisLine(),this.renderTicks(d,this.state.fontSize,this.state.letterSpacing),Pb.renderCallByParent(this.props))}}],s=[{key:"renderTickItem",value:function(e,r,n){var a=zi(r.className,"recharts-cartesian-axis-tick-value");return t.isValidElement(e)?t.cloneElement(e,LS(LS({},r),{},{className:a})):uo()(e)?e(LS(LS({},r),{},{className:a})):t.createElement(of,IS({},r,{className:"recharts-cartesian-axis-tick-value"}),n)}}],a&&FS(n.prototype,a),s&&FS(n,s),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,a,s}(t.Component);function $S(e){return $S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$S(e)}function KS(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,e_(n.key),n)}}function YS(e,t,r){return t=JS(t),function(e,t){if(t&&("object"===$S(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,XS()?Reflect.construct(t,r||[],JS(e).constructor):t.apply(e,r))}function XS(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(XS=function(){return!!e})()}function JS(e){return JS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},JS(e)}function QS(e,t){return QS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},QS(e,t)}function ZS(e,t,r){return(t=e_(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function e_(e){var t=function(e,t){if("object"!=$S(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=$S(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==$S(t)?t:t+""}function t_(){return t_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},t_.apply(this,arguments)}function r_(e){var r=e.xAxisId,n=Gj(),a=$j(),s=Vj(r);return null==s?null:t.createElement(GS,t_({},s,{className:zi("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:n,height:a},ticksGenerator:function(e){return kx(e,!0)}}))}VS(GS,"displayName","CartesianAxis"),VS(GS,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var n_=function(e){function r(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),YS(this,r,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&QS(e,t)}(r,e),n=r,(a=[{key:"render",value:function(){return t.createElement(r_,this.props)}}])&&KS(n.prototype,a),s&&KS(n,s),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,a,s}(t.Component);function a_(e){return a_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a_(e)}function s_(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,d_(n.key),n)}}function i_(e,t,r){return t=l_(t),function(e,t){if(t&&("object"===a_(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,o_()?Reflect.construct(t,r||[],l_(e).constructor):t.apply(e,r))}function o_(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(o_=function(){return!!e})()}function l_(e){return l_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},l_(e)}function c_(e,t){return c_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},c_(e,t)}function u_(e,t,r){return(t=d_(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function d_(e){var t=function(e,t){if("object"!=a_(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=a_(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==a_(t)?t:t+""}function h_(){return h_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},h_.apply(this,arguments)}ZS(n_,"displayName","XAxis"),ZS(n_,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});var f_=function(e){var r=e.yAxisId,n=Gj(),a=$j(),s=Wj(r);return null==s?null:t.createElement(GS,h_({},s,{className:zi("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:n,height:a},ticksGenerator:function(e){return kx(e,!0)}}))},p_=function(e){function r(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),i_(this,r,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&c_(e,t)}(r,e),n=r,(a=[{key:"render",value:function(){return t.createElement(f_,this.props)}}])&&s_(n.prototype,a),s&&s_(n,s),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,a,s}(t.Component);u_(p_,"displayName","YAxis"),u_(p_,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});var m_=sS({chartName:"LineChart",GraphicalChild:jS,axisComponents:[{axisType:"xAxis",AxisComp:n_},{axisType:"yAxis",AxisComp:p_}],formatAxisMap:pj}),g_=["x1","y1","x2","y2","key"],y_=["offset"];function v_(e){return v_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},v_(e)}function x_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function b_(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?x_(Object(r),!0).forEach(function(t){w_(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):x_(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function w_(e,t,r){return t=function(e){var t=function(e,t){if("object"!=v_(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=v_(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==v_(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function j_(){return j_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},j_.apply(this,arguments)}function N_(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var k_=function(e){var r=e.fill;if(!r||"none"===r)return null;var n=e.fillOpacity,a=e.x,s=e.y,i=e.width,o=e.height,l=e.ry;return t.createElement("rect",{x:a,y:s,ry:l,width:i,height:o,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function S_(e,r){var n;if(t.isValidElement(e))n=t.cloneElement(e,r);else if(uo()(e))n=e(r);else{var a=r.x1,s=r.y1,i=r.x2,o=r.y2,l=r.key,c=N_(r,g_),u=Lo(c,!1),d=(u.offset,N_(u,y_));n=t.createElement("line",j_({},d,{x1:a,y1:s,x2:i,y2:o,fill:"none",key:l}))}return n}function __(e){var r=e.x,n=e.width,a=e.horizontal,s=void 0===a||a,i=e.horizontalPoints;if(!s||!i||!i.length)return null;var o=i.map(function(t,a){var i=b_(b_({},e),{},{x1:r,y1:t,x2:r+n,y2:t,key:"line-".concat(a),index:a});return S_(s,i)});return t.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function O_(e){var r=e.y,n=e.height,a=e.vertical,s=void 0===a||a,i=e.verticalPoints;if(!s||!i||!i.length)return null;var o=i.map(function(t,a){var i=b_(b_({},e),{},{x1:t,y1:r,x2:t,y2:r+n,key:"line-".concat(a),index:a});return S_(s,i)});return t.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function E_(e){var r=e.horizontalFill,n=e.fillOpacity,a=e.x,s=e.y,i=e.width,o=e.height,l=e.horizontalPoints,c=e.horizontal;if(!(void 0===c||c)||!r||!r.length)return null;var u=l.map(function(e){return Math.round(e+s-s)}).sort(function(e,t){return e-t});s!==u[0]&&u.unshift(0);var d=u.map(function(e,l){var c=!u[l+1]?s+o-e:u[l+1]-e;if(c<=0)return null;var d=l%r.length;return t.createElement("rect",{key:"react-".concat(l),y:e,x:a,height:c,width:i,stroke:"none",fill:r[d],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return t.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function C_(e){var r=e.vertical,n=void 0===r||r,a=e.verticalFill,s=e.fillOpacity,i=e.x,o=e.y,l=e.width,c=e.height,u=e.verticalPoints;if(!n||!a||!a.length)return null;var d=u.map(function(e){return Math.round(e+i-i)}).sort(function(e,t){return e-t});i!==d[0]&&d.unshift(0);var h=d.map(function(e,r){var n=!d[r+1]?i+l-e:d[r+1]-e;if(n<=0)return null;var u=r%a.length;return t.createElement("rect",{key:"react-".concat(r),x:e,y:o,width:n,height:c,stroke:"none",fill:a[u],fillOpacity:s,className:"recharts-cartesian-grid-bg"})});return t.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},h)}var P_=function(e,t){var r=e.xAxis,n=e.width,a=e.height,s=e.offset;return Nx(PS(b_(b_(b_({},GS.defaultProps),r),{},{ticks:kx(r,!0),viewBox:{x:0,y:0,width:n,height:a}})),s.left,s.left+s.width,t)},A_=function(e,t){var r=e.yAxis,n=e.width,a=e.height,s=e.offset;return Nx(PS(b_(b_(b_({},GS.defaultProps),r),{},{ticks:kx(r,!0),viewBox:{x:0,y:0,width:n,height:a}})),s.top,s.top+s.height,t)},T_={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function D_(e){var r,n,a,s,i,o,l=Gj(),c=$j(),u=(0,t.useContext)(Fj),d=b_(b_({},e),{},{stroke:null!==(r=e.stroke)&&void 0!==r?r:T_.stroke,fill:null!==(n=e.fill)&&void 0!==n?n:T_.fill,horizontal:null!==(a=e.horizontal)&&void 0!==a?a:T_.horizontal,horizontalFill:null!==(s=e.horizontalFill)&&void 0!==s?s:T_.horizontalFill,vertical:null!==(i=e.vertical)&&void 0!==i?i:T_.vertical,verticalFill:null!==(o=e.verticalFill)&&void 0!==o?o:T_.verticalFill,x:Zi(e.x)?e.x:u.left,y:Zi(e.y)?e.y:u.top,width:Zi(e.width)?e.width:u.width,height:Zi(e.height)?e.height:u.height}),h=d.x,f=d.y,p=d.width,m=d.height,g=d.syncWithTicks,y=d.horizontalValues,v=d.verticalValues,x=function(){var e=(0,t.useContext)(Rj);return ao(e)}(),b=function(){var e=(0,t.useContext)(Lj);return Dj()(e,function(e){return Rb()(e.domain,Number.isFinite)})||ao(e)}();if(!Zi(p)||p<=0||!Zi(m)||m<=0||!Zi(h)||h!==+h||!Zi(f)||f!==+f)return null;var w=d.verticalCoordinatesGenerator||P_,j=d.horizontalCoordinatesGenerator||A_,N=d.horizontalPoints,k=d.verticalPoints;if((!N||!N.length)&&uo()(j)){var S=y&&y.length,_=j({yAxis:b?b_(b_({},b),{},{ticks:S?y:b.ticks}):void 0,width:l,height:c,offset:u},!!S||g);lo(Array.isArray(_),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(v_(_),"]")),Array.isArray(_)&&(N=_)}if((!k||!k.length)&&uo()(w)){var O=v&&v.length,E=w({xAxis:x?b_(b_({},x),{},{ticks:O?v:x.ticks}):void 0,width:l,height:c,offset:u},!!O||g);lo(Array.isArray(E),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(v_(E),"]")),Array.isArray(E)&&(k=E)}return t.createElement("g",{className:"recharts-cartesian-grid"},t.createElement(k_,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),t.createElement(__,j_({},d,{offset:u,horizontalPoints:N,xAxis:x,yAxis:b})),t.createElement(O_,j_({},d,{offset:u,verticalPoints:k,xAxis:x,yAxis:b})),t.createElement(E_,j_({},d,{horizontalPoints:N})),t.createElement(C_,j_({},d,{verticalPoints:k})))}D_.displayName="CartesianGrid";const M_=e=>{let{data:t,loading:r}=e;if(r)return(0,$r.jsx)("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6",children:(0,$r.jsxs)("div",{className:"animate-pulse",children:[(0,$r.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,$r.jsxs)("div",{children:[(0,$r.jsx)("div",{className:"h-6 bg-gray-200 rounded w-48 mb-2"}),(0,$r.jsx)("div",{className:"h-4 bg-gray-200 rounded w-64"})]}),(0,$r.jsx)("div",{className:"h-8 bg-gray-200 rounded w-20"})]}),(0,$r.jsx)("div",{className:"h-80 bg-gray-200 rounded"})]})});const n=t&&t.length>1?(t[t.length-1].ocupacion-t[t.length-2].ocupacion)/t[t.length-2].ocupacion*100:0,a=t&&t.length>1?(t[t.length-1].ingresos-t[t.length-2].ingresos)/t[t.length-2].ingresos*100:0,s=e=>{let{active:t,payload:r,label:n}=e;return t&&r&&r.length?(0,$r.jsxs)("div",{className:"bg-white p-4 border border-gray-200 rounded-lg shadow-lg",children:[(0,$r.jsx)("p",{className:"font-semibold text-gray-900 mb-2",children:"".concat(n)}),(0,$r.jsxs)("div",{className:"space-y-1",children:[(0,$r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,$r.jsx)("div",{className:"w-3 h-3 bg-blue-500 rounded-full"}),(0,$r.jsxs)("span",{className:"text-sm text-gray-600",children:["Ocupaci\xf3n: ",(0,$r.jsxs)("span",{className:"font-semibold text-blue-600",children:[r[0].value,"%"]})]})]}),(0,$r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,$r.jsx)("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),(0,$r.jsxs)("span",{className:"text-sm text-gray-600",children:["Ingresos: ",(0,$r.jsxs)("span",{className:"font-semibold text-green-600",children:["S/ ",r[1].value.toLocaleString()]})]})]})]})]}):null};return(0,$r.jsxs)("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6",children:[(0,$r.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,$r.jsxs)("div",{children:[(0,$r.jsx)("h3",{className:"text-xl font-bold text-gray-900",children:"Ocupaci\xf3n e Ingresos por Mes"}),(0,$r.jsx)("p",{className:"text-gray-600 text-sm mt-1",children:"Comparativa de ocupaci\xf3n y ingresos de los \xfaltimos 6 meses"})]}),(0,$r.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,$r.jsxs)("div",{className:"text-right",children:[(0,$r.jsx)("p",{className:"text-xs text-gray-500",children:"Ocupaci\xf3n"}),(0,$r.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,$r.jsx)(Hn,{className:"w-4 h-4 ".concat(n>=0?"text-green-500":"text-red-500")}),(0,$r.jsxs)("span",{className:"text-sm font-semibold ".concat(n>=0?"text-green-600":"text-red-600"),children:[Math.abs(n).toFixed(1),"%"]})]})]}),(0,$r.jsxs)("div",{className:"text-right",children:[(0,$r.jsx)("p",{className:"text-xs text-gray-500",children:"Ingresos"}),(0,$r.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,$r.jsx)(Hn,{className:"w-4 h-4 ".concat(a>=0?"text-green-500":"text-red-500")}),(0,$r.jsxs)("span",{className:"text-sm font-semibold ".concat(a>=0?"text-green-600":"text-red-600"),children:[Math.abs(a).toFixed(1),"%"]})]})]})]})]}),(0,$r.jsx)("div",{className:"h-80",children:(0,$r.jsx)($o,{width:"100%",height:"100%",children:(0,$r.jsxs)(m_,{data:t,margin:{top:20,right:30,left:20,bottom:20},children:[(0,$r.jsx)(D_,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),(0,$r.jsx)(n_,{dataKey:"month",stroke:"#6b7280",fontSize:12,fontWeight:500}),(0,$r.jsx)(p_,{yAxisId:"left",stroke:"#3b82f6",fontSize:12,fontWeight:500,domain:[0,100],tickFormatter:e=>"".concat(e,"%")}),(0,$r.jsx)(p_,{yAxisId:"right",orientation:"right",stroke:"#10b981",fontSize:12,fontWeight:500,tickFormatter:e=>"".concat((e/1e3).toFixed(0),"K")}),(0,$r.jsx)(Yl,{content:(0,$r.jsx)(s,{})}),(0,$r.jsx)(Nu,{wrapperStyle:{fontSize:"14px",fontWeight:"500",paddingTop:"20px"}}),(0,$r.jsx)(jS,{yAxisId:"left",type:"monotone",dataKey:"ocupacion",stroke:"#3B82F6",strokeWidth:3,dot:{fill:"#3B82F6",strokeWidth:2,stroke:"#ffffff",r:6},activeDot:{r:8,stroke:"#3B82F6",strokeWidth:2,fill:"#ffffff"},name:"Ocupaci\xf3n (%)"}),(0,$r.jsx)(jS,{yAxisId:"right",type:"monotone",dataKey:"ingresos",stroke:"#10B981",strokeWidth:3,dot:{fill:"#10B981",strokeWidth:2,stroke:"#ffffff",r:6},activeDot:{r:8,stroke:"#10B981",strokeWidth:2,fill:"#ffffff"},name:"Ingresos (S/)"})]})})}),t&&t.length>0&&(0,$r.jsx)("div",{className:"mt-6 pt-6 border-t border-gray-200",children:(0,$r.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,$r.jsxs)("div",{className:"text-center",children:[(0,$r.jsx)("p",{className:"text-sm text-gray-500 mb-1",children:"Ocupaci\xf3n Promedio"}),(0,$r.jsxs)("p",{className:"text-lg font-bold text-blue-600",children:[(t.reduce((e,t)=>e+t.ocupacion,0)/t.length).toFixed(1),"%"]})]}),(0,$r.jsxs)("div",{className:"text-center",children:[(0,$r.jsx)("p",{className:"text-sm text-gray-500 mb-1",children:"Ingresos Promedio"}),(0,$r.jsxs)("p",{className:"text-lg font-bold text-green-600",children:["S/ ",(t.reduce((e,t)=>e+t.ingresos,0)/t.length).toLocaleString()]})]}),(0,$r.jsxs)("div",{className:"text-center",children:[(0,$r.jsx)("p",{className:"text-sm text-gray-500 mb-1",children:"Mejor Mes"}),(0,$r.jsx)("p",{className:"text-lg font-bold text-purple-600",children:t.reduce((e,t)=>t.ocupacion>e.ocupacion?t:e,t[0]).month})]}),(0,$r.jsxs)("div",{className:"text-center",children:[(0,$r.jsx)("p",{className:"text-sm text-gray-500 mb-1",children:"Total Ingresos"}),(0,$r.jsxs)("p",{className:"text-lg font-bold text-gray-900",children:["S/ ",t.reduce((e,t)=>e+t.ingresos,0).toLocaleString()]})]})]})})]})};var I_=["points","className","baseLinePoints","connectNulls"];function R_(){return R_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},R_.apply(this,arguments)}function L_(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function z_(e){return function(e){if(Array.isArray(e))return F_(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return F_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return F_(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function F_(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var B_=function(e){return e&&e.x===+e.x&&e.y===+e.y},U_=function(e,t){var r=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=[[]];return e.forEach(function(e){B_(e)?t[t.length-1].push(e):t[t.length-1].length>0&&t.push([])}),B_(e[0])&&t[t.length-1].push(e[0]),t[t.length-1].length<=0&&(t=t.slice(0,-1)),t}(e);t&&(r=[r.reduce(function(e,t){return[].concat(z_(e),z_(t))},[])]);var n=r.map(function(e){return e.reduce(function(e,t,r){return"".concat(e).concat(0===r?"M":"L").concat(t.x,",").concat(t.y)},"")}).join("");return 1===r.length?"".concat(n,"Z"):n},q_=function(e){var r=e.points,n=e.className,a=e.baseLinePoints,s=e.connectNulls,i=L_(e,I_);if(!r||!r.length)return null;var o=zi("recharts-polygon",n);if(a&&a.length){var l=i.stroke&&"none"!==i.stroke,c=function(e,t,r){var n=U_(e,r);return"".concat("Z"===n.slice(-1)?n.slice(0,-1):n,"L").concat(U_(t.reverse(),r).slice(1))}(r,a,s);return t.createElement("g",{className:o},t.createElement("path",R_({},Lo(i,!0),{fill:"Z"===c.slice(-1)?i.fill:"none",stroke:"none",d:c})),l?t.createElement("path",R_({},Lo(i,!0),{fill:"none",d:U_(r,s)})):null,l?t.createElement("path",R_({},Lo(i,!0),{fill:"none",d:U_(a,s)})):null)}var u=U_(r,s);return t.createElement("path",R_({},Lo(i,!0),{fill:"Z"===u.slice(-1)?i.fill:"none",className:o,d:u}))};function H_(e){return H_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},H_(e)}function V_(){return V_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},V_.apply(this,arguments)}function W_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function G_(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?W_(Object(r),!0).forEach(function(t){Q_(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):W_(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function $_(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Z_(n.key),n)}}function K_(e,t,r){return t=X_(t),function(e,t){if(t&&("object"===H_(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Y_()?Reflect.construct(t,r||[],X_(e).constructor):t.apply(e,r))}function Y_(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(Y_=function(){return!!e})()}function X_(e){return X_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},X_(e)}function J_(e,t){return J_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},J_(e,t)}function Q_(e,t,r){return(t=Z_(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Z_(e){var t=function(e,t){if("object"!=H_(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=H_(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==H_(t)?t:t+""}var eO=Math.PI/180,tO=1e-5,rO=function(e){function r(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),K_(this,r,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&J_(e,t)}(r,e),n=r,a=[{key:"getTickLineCoord",value:function(e){var t=this.props,r=t.cx,n=t.cy,a=t.radius,s=t.orientation,i=t.tickSize||8,o=pb(r,n,a,e.coordinate),l=pb(r,n,a+("inner"===s?-1:1)*i,e.coordinate);return{x1:o.x,y1:o.y,x2:l.x,y2:l.y}}},{key:"getTickTextAnchor",value:function(e){var t=this.props.orientation,r=Math.cos(-e.coordinate*eO);return r>tO?"outer"===t?"start":"end":r<-tO?"outer"===t?"end":"start":"middle"}},{key:"renderAxisLine",value:function(){var e=this.props,r=e.cx,n=e.cy,a=e.radius,s=e.axisLine,i=e.axisLineType,o=G_(G_({},Lo(this.props,!1)),{},{fill:"none"},Lo(s,!1));if("circle"===i)return t.createElement(Su,V_({className:"recharts-polar-angle-axis-line"},o,{cx:r,cy:n,r:a}));var l=this.props.ticks.map(function(e){return pb(r,n,a,e.coordinate)});return t.createElement(q_,V_({className:"recharts-polar-angle-axis-line"},o,{points:l}))}},{key:"renderTicks",value:function(){var e=this,n=this.props,a=n.ticks,s=n.tick,i=n.tickLine,o=n.tickFormatter,l=n.stroke,c=Lo(this.props,!1),u=Lo(s,!1),d=G_(G_({},c),{},{fill:"none"},Lo(i,!1)),h=a.map(function(n,a){var h=e.getTickLineCoord(n),f=G_(G_(G_({textAnchor:e.getTickTextAnchor(n)},c),{},{stroke:"none",fill:l},u),{},{index:a,payload:n,x:h.x2,y:h.y2});return t.createElement(ol,V_({className:zi("recharts-polar-angle-axis-tick",xb(s)),key:"tick-".concat(n.coordinate)},jo(e.props,n,a)),i&&t.createElement("line",V_({className:"recharts-polar-angle-axis-tick-line"},d,h)),s&&r.renderTickItem(s,f,o?o(n.value,a):n.value))});return t.createElement(ol,{className:"recharts-polar-angle-axis-ticks"},h)}},{key:"render",value:function(){var e=this.props,r=e.ticks,n=e.radius,a=e.axisLine;return n<=0||!r||!r.length?null:t.createElement(ol,{className:zi("recharts-polar-angle-axis",this.props.className)},a&&this.renderAxisLine(),this.renderTicks())}}],s=[{key:"renderTickItem",value:function(e,r,n){return t.isValidElement(e)?t.cloneElement(e,r):uo()(e)?e(r):t.createElement(of,V_({},r,{className:"recharts-polar-angle-axis-tick-value"}),n)}}],a&&$_(n.prototype,a),s&&$_(n,s),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,a,s}(t.PureComponent);Q_(rO,"displayName","PolarAngleAxis"),Q_(rO,"axisType","angleAxis"),Q_(rO,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var nO=r(2794),aO=r.n(nO),sO=r(9364),iO=r.n(sO),oO=["cx","cy","angle","ticks","axisLine"],lO=["ticks","tick","angle","tickFormatter","stroke"];function cO(e){return cO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cO(e)}function uO(){return uO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},uO.apply(this,arguments)}function dO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function hO(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?dO(Object(r),!0).forEach(function(t){xO(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dO(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function fO(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function pO(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,bO(n.key),n)}}function mO(e,t,r){return t=yO(t),function(e,t){if(t&&("object"===cO(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,gO()?Reflect.construct(t,r||[],yO(e).constructor):t.apply(e,r))}function gO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(gO=function(){return!!e})()}function yO(e){return yO=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},yO(e)}function vO(e,t){return vO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},vO(e,t)}function xO(e,t,r){return(t=bO(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bO(e){var t=function(e,t){if("object"!=cO(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=cO(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==cO(t)?t:t+""}var wO,jO=function(e){function r(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),mO(this,r,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&vO(e,t)}(r,e),n=r,a=[{key:"getTickValueCoord",value:function(e){var t=e.coordinate,r=this.props,n=r.angle,a=r.cx,s=r.cy;return pb(a,s,t,n)}},{key:"getTickTextAnchor",value:function(){var e;switch(this.props.orientation){case"left":e="end";break;case"right":e="start";break;default:e="middle"}return e}},{key:"getViewBox",value:function(){var e=this.props,t=e.cx,r=e.cy,n=e.angle,a=e.ticks,s=aO()(a,function(e){return e.coordinate||0});return{cx:t,cy:r,startAngle:n,endAngle:n,innerRadius:iO()(a,function(e){return e.coordinate||0}).coordinate||0,outerRadius:s.coordinate||0}}},{key:"renderAxisLine",value:function(){var e=this.props,r=e.cx,n=e.cy,a=e.angle,s=e.ticks,i=e.axisLine,o=fO(e,oO),l=s.reduce(function(e,t){return[Math.min(e[0],t.coordinate),Math.max(e[1],t.coordinate)]},[1/0,-1/0]),c=pb(r,n,l[0],a),u=pb(r,n,l[1],a),d=hO(hO(hO({},Lo(o,!1)),{},{fill:"none"},Lo(i,!1)),{},{x1:c.x,y1:c.y,x2:u.x,y2:u.y});return t.createElement("line",uO({className:"recharts-polar-radius-axis-line"},d))}},{key:"renderTicks",value:function(){var e=this,n=this.props,a=n.ticks,s=n.tick,i=n.angle,o=n.tickFormatter,l=n.stroke,c=fO(n,lO),u=this.getTickTextAnchor(),d=Lo(c,!1),h=Lo(s,!1),f=a.map(function(n,a){var c=e.getTickValueCoord(n),f=hO(hO(hO(hO({textAnchor:u,transform:"rotate(".concat(90-i,", ").concat(c.x,", ").concat(c.y,")")},d),{},{stroke:"none",fill:l},h),{},{index:a},c),{},{payload:n});return t.createElement(ol,uO({className:zi("recharts-polar-radius-axis-tick",xb(s)),key:"tick-".concat(n.coordinate)},jo(e.props,n,a)),r.renderTickItem(s,f,o?o(n.value,a):n.value))});return t.createElement(ol,{className:"recharts-polar-radius-axis-ticks"},f)}},{key:"render",value:function(){var e=this.props,r=e.ticks,n=e.axisLine,a=e.tick;return r&&r.length?t.createElement(ol,{className:zi("recharts-polar-radius-axis",this.props.className)},n&&this.renderAxisLine(),a&&this.renderTicks(),Pb.renderCallByParent(this.props,this.getViewBox())):null}}],s=[{key:"renderTickItem",value:function(e,r,n){return t.isValidElement(e)?t.cloneElement(e,r):uo()(e)?e(r):t.createElement(of,uO({},r,{className:"recharts-polar-radius-axis-tick-value"}),n)}}],a&&pO(n.prototype,a),s&&pO(n,s),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,a,s}(t.PureComponent);function NO(e){return NO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},NO(e)}function kO(){return kO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},kO.apply(this,arguments)}function SO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function _O(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?SO(Object(r),!0).forEach(function(t){TO(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):SO(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function OO(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,DO(n.key),n)}}function EO(e,t,r){return t=PO(t),function(e,t){if(t&&("object"===NO(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,CO()?Reflect.construct(t,r||[],PO(e).constructor):t.apply(e,r))}function CO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(CO=function(){return!!e})()}function PO(e){return PO=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},PO(e)}function AO(e,t){return AO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},AO(e,t)}function TO(e,t,r){return(t=DO(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function DO(e){var t=function(e,t){if("object"!=NO(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=NO(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==NO(t)?t:t+""}xO(jO,"displayName","PolarRadiusAxis"),xO(jO,"axisType","radiusAxis"),xO(jO,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});var MO=function(e){function r(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),TO(t=EO(this,r,[e]),"pieRef",null),TO(t,"sectorRefs",[]),TO(t,"id",ro("recharts-pie-")),TO(t,"handleAnimationEnd",function(){var e=t.props.onAnimationEnd;t.setState({isAnimationFinished:!0}),uo()(e)&&e()}),TO(t,"handleAnimationStart",function(){var e=t.props.onAnimationStart;t.setState({isAnimationFinished:!1}),uo()(e)&&e()}),t.state={isAnimationFinished:!e.isAnimationActive,prevIsAnimationActive:e.isAnimationActive,prevAnimationId:e.animationId,sectorToFocus:0},t}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&AO(e,t)}(r,e),n=r,a=[{key:"isActiveIndex",value:function(e){var t=this.props.activeIndex;return Array.isArray(t)?-1!==t.indexOf(e):e===t}},{key:"hasActiveIndex",value:function(){var e=this.props.activeIndex;return Array.isArray(e)?0!==e.length:e||0===e}},{key:"renderLabels",value:function(e){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var n=this.props,a=n.label,s=n.labelLine,i=n.dataKey,o=n.valueKey,l=Lo(this.props,!1),c=Lo(a,!1),u=Lo(s,!1),d=a&&a.offsetRadius||20,h=e.map(function(e,n){var h=(e.startAngle+e.endAngle)/2,f=pb(e.cx,e.cy,e.outerRadius+d,h),p=_O(_O(_O(_O({},l),e),{},{stroke:"none"},c),{},{index:n,textAnchor:r.getTextAnchor(f.x,e.cx)},f),m=_O(_O(_O(_O({},l),e),{},{fill:"none",stroke:e.fill},u),{},{index:n,points:[pb(e.cx,e.cy,e.outerRadius,h),f]}),g=i;return Xi()(i)&&Xi()(o)?g="value":Xi()(i)&&(g=o),t.createElement(ol,{key:"label-".concat(e.startAngle,"-").concat(e.endAngle,"-").concat(e.midAngle,"-").concat(n)},s&&r.renderLabelLineItem(s,m,"line"),r.renderLabelItem(a,p,yx(e,g)))});return t.createElement(ol,{className:"recharts-pie-labels"},h)}},{key:"renderSectorsStatically",value:function(e){var r=this,n=this.props,a=n.activeShape,s=n.blendStroke,i=n.inactiveShape;return e.map(function(n,o){if(0===(null===n||void 0===n?void 0:n.startAngle)&&0===(null===n||void 0===n?void 0:n.endAngle)&&1!==e.length)return null;var l=r.isActiveIndex(o),c=i&&r.hasActiveIndex()?i:null,u=l?a:c,d=_O(_O({},n),{},{stroke:s?n.fill:n.stroke,tabIndex:-1});return t.createElement(ol,kO({ref:function(e){e&&!r.sectorRefs.includes(e)&&r.sectorRefs.push(e)},tabIndex:-1,className:"recharts-pie-sector"},jo(r.props,n,o),{key:"sector-".concat(null===n||void 0===n?void 0:n.startAngle,"-").concat(null===n||void 0===n?void 0:n.endAngle,"-").concat(n.midAngle,"-").concat(o)}),t.createElement(Cw,kO({option:u,isActive:l,shapeType:"sector"},d)))})}},{key:"renderSectorsWithAnimation",value:function(){var e=this,r=this.props,n=r.sectors,a=r.isAnimationActive,s=r.animationBegin,i=r.animationDuration,o=r.animationEasing,l=r.animationId,c=this.state,u=c.prevSectors,d=c.prevIsAnimationActive;return t.createElement(eh,{begin:s,duration:i,isActive:a,easing:o,from:{t:0},to:{t:1},key:"pie-".concat(l,"-").concat(d),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(r){var a=r.t,s=[],i=(n&&n[0]).startAngle;return n.forEach(function(e,t){var r=u&&u[t],n=t>0?Gi()(e,"paddingAngle",0):0;if(r){var o=so(r.endAngle-r.startAngle,e.endAngle-e.startAngle),l=_O(_O({},e),{},{startAngle:i+n,endAngle:i+o(a)+n});s.push(l),i=l.endAngle}else{var c=e.endAngle,d=e.startAngle,h=so(0,c-d)(a),f=_O(_O({},e),{},{startAngle:i+n,endAngle:i+h+n});s.push(f),i=f.endAngle}}),t.createElement(ol,null,e.renderSectorsStatically(s))})}},{key:"attachKeyboardHandlers",value:function(e){var t=this;e.onkeydown=function(e){if(!e.altKey)switch(e.key){case"ArrowLeft":var r=++t.state.sectorToFocus%t.sectorRefs.length;t.sectorRefs[r].focus(),t.setState({sectorToFocus:r});break;case"ArrowRight":var n=--t.state.sectorToFocus<0?t.sectorRefs.length-1:t.state.sectorToFocus%t.sectorRefs.length;t.sectorRefs[n].focus(),t.setState({sectorToFocus:n});break;case"Escape":t.sectorRefs[t.state.sectorToFocus].blur(),t.setState({sectorToFocus:0})}}}},{key:"renderSectors",value:function(){var e=this.props,t=e.sectors,r=e.isAnimationActive,n=this.state.prevSectors;return!(r&&t&&t.length)||n&&gv()(n,t)?this.renderSectorsStatically(t):this.renderSectorsWithAnimation()}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var e=this,r=this.props,n=r.hide,a=r.sectors,s=r.className,i=r.label,o=r.cx,l=r.cy,c=r.innerRadius,u=r.outerRadius,d=r.isAnimationActive,h=this.state.isAnimationFinished;if(n||!a||!a.length||!Zi(o)||!Zi(l)||!Zi(c)||!Zi(u))return null;var f=zi("recharts-pie",s);return t.createElement(ol,{tabIndex:this.props.rootTabIndex,className:f,ref:function(t){e.pieRef=t}},this.renderSectors(),i&&this.renderLabels(a),Pb.renderCallByParent(this.props,null,!1),(!d||h)&&Jb.renderCallByParent(this.props,a,!1))}}],s=[{key:"getDerivedStateFromProps",value:function(e,t){return t.prevIsAnimationActive!==e.isAnimationActive?{prevIsAnimationActive:e.isAnimationActive,prevAnimationId:e.animationId,curSectors:e.sectors,prevSectors:[],isAnimationFinished:!0}:e.isAnimationActive&&e.animationId!==t.prevAnimationId?{prevAnimationId:e.animationId,curSectors:e.sectors,prevSectors:t.curSectors,isAnimationFinished:!0}:e.sectors!==t.curSectors?{curSectors:e.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(e,t){return e>t?"start":e<t?"end":"middle"}},{key:"renderLabelLineItem",value:function(e,r,n){if(t.isValidElement(e))return t.cloneElement(e,r);if(uo()(e))return e(r);var a=zi("recharts-pie-label-line","boolean"!==typeof e?e.className:"");return t.createElement(dk,kO({},r,{key:n,type:"linear",className:a}))}},{key:"renderLabelItem",value:function(e,r,n){if(t.isValidElement(e))return t.cloneElement(e,r);var a=n;if(uo()(e)&&(a=e(r),t.isValidElement(a)))return a;var s=zi("recharts-pie-label-text","boolean"===typeof e||uo()(e)?"":e.className);return t.createElement(of,kO({},r,{alignmentBaseline:"middle",className:s}),a)}}],a&&OO(n.prototype,a),s&&OO(n,s),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,a,s}(t.PureComponent);wO=MO,TO(MO,"displayName","Pie"),TO(MO,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!Ml.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0}),TO(MO,"parseDeltaAngle",function(e,t){return Ji(t-e)*Math.min(Math.abs(t-e),360)}),TO(MO,"getRealPieData",function(e){var t=e.data,r=e.children,n=Lo(e,!1),a=To(r,Lb);return t&&t.length?t.map(function(e,t){return _O(_O(_O({payload:e},n),e),a&&a[t]&&a[t].props)}):a&&a.length?a.map(function(e){return _O(_O({},n),e.props)}):[]}),TO(MO,"parseCoordinateOfPie",function(e,t){var r=t.top,n=t.left,a=t.width,s=t.height,i=mb(a,s);return{cx:n+no(e.cx,a,a/2),cy:r+no(e.cy,s,s/2),innerRadius:no(e.innerRadius,i,0),outerRadius:no(e.outerRadius,i,.8*i),maxRadius:e.maxRadius||Math.sqrt(a*a+s*s)/2}}),TO(MO,"getComposedData",function(e){var t=e.item,r=e.offset,n=void 0!==t.type.defaultProps?_O(_O({},t.type.defaultProps),t.props):t.props,a=wO.getRealPieData(n);if(!a||!a.length)return null;var s=n.cornerRadius,i=n.startAngle,o=n.endAngle,l=n.paddingAngle,c=n.dataKey,u=n.nameKey,d=n.valueKey,h=n.tooltipType,f=Math.abs(n.minAngle),p=wO.parseCoordinateOfPie(n,r),m=wO.parseDeltaAngle(i,o),g=Math.abs(m),y=c;Xi()(c)&&Xi()(d)?(lo(!1,'Use "dataKey" to specify the value of pie,\n      the props "valueKey" will be deprecated in 1.1.0'),y="value"):Xi()(c)&&(lo(!1,'Use "dataKey" to specify the value of pie,\n      the props "valueKey" will be deprecated in 1.1.0'),y=d);var v,x,b=a.filter(function(e){return 0!==yx(e,y,0)}).length,w=g-b*f-(g>=360?b:b-1)*l,j=a.reduce(function(e,t){var r=yx(t,y,0);return e+(Zi(r)?r:0)},0);j>0&&(v=a.map(function(e,t){var r,n=yx(e,y,0),a=yx(e,u,t),o=(Zi(n)?n:0)/j,c=(r=t?x.endAngle+Ji(m)*l*(0!==n?1:0):i)+Ji(m)*((0!==n?f:0)+o*w),d=(r+c)/2,g=(p.innerRadius+p.outerRadius)/2,v=[{name:a,value:n,payload:e,dataKey:y,type:h}],b=pb(p.cx,p.cy,g,d);return x=_O(_O(_O({percent:o,cornerRadius:s,name:a,tooltipPayload:v,midAngle:d,middleRadius:g,tooltipPosition:b},e),p),{},{value:yx(e,y),startAngle:r,endAngle:c,payload:e,paddingAngle:Ji(m)*l})}));return _O(_O({},p),{},{sectors:v,data:a})});var IO=sS({chartName:"PieChart",GraphicalChild:MO,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:rO},{axisType:"radiusAxis",AxisComp:jO}],formatAxisMap:function(e,t,r,n,a){var s=e.width,i=e.height,o=e.startAngle,l=e.endAngle,c=no(e.cx,s,s/2),u=no(e.cy,i,i/2),d=mb(s,i,r),h=no(e.innerRadius,d,0),f=no(e.outerRadius,d,.8*d);return Object.keys(t).reduce(function(e,r){var s,i=t[r],d=i.domain,p=i.reversed;if(Xi()(i.range))"angleAxis"===n?s=[o,l]:"radiusAxis"===n&&(s=[h,f]),p&&(s=[s[1],s[0]]);else{var m=ub(s=i.range,2);o=m[0],l=m[1]}var g=Ox(i,a),y=g.realScaleType,v=g.scale;v.domain(d).range(s),Cx(v);var x=Tx(v,lb(lb({},i),{},{realScaleType:y})),b=lb(lb(lb({},i),x),{},{range:s,radius:f,realScaleType:y,scale:v,cx:c,cy:u,innerRadius:h,outerRadius:f,startAngle:o,endAngle:l});return lb(lb({},e),{},cb({},r,b))},{})},defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});const RO=e=>{let{data:t,loading:r}=e;if(r)return(0,$r.jsx)("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6",children:(0,$r.jsxs)("div",{className:"animate-pulse",children:[(0,$r.jsx)("div",{className:"h-6 bg-gray-200 rounded w-1/2 mb-4"}),(0,$r.jsx)("div",{className:"h-64 bg-gray-200 rounded-full mx-auto w-64"})]})});const n=e=>{let{active:t,payload:r}=e;if(t&&r&&r.length){const e=r[0];return(0,$r.jsxs)("div",{className:"bg-white p-3 border border-gray-200 rounded-lg shadow-lg",children:[(0,$r.jsx)("p",{className:"font-semibold text-gray-900",children:e.name}),(0,$r.jsx)("p",{style:{color:e.payload.color},children:"".concat(e.value,"% del total")})]})}return null};return(0,$r.jsxs)("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6",children:[(0,$r.jsxs)("div",{className:"mb-6",children:[(0,$r.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Distribuci\xf3n de Ingresos"}),(0,$r.jsx)("p",{className:"text-sm text-gray-600",children:"Porcentaje de ingresos por categor\xeda"})]}),(0,$r.jsx)("div",{className:"h-80",children:(0,$r.jsx)($o,{width:"100%",height:"100%",children:(0,$r.jsxs)(IO,{children:[(0,$r.jsx)(MO,{data:t,cx:"50%",cy:"50%",labelLine:!1,label:e=>{let{cx:t,cy:r,midAngle:n,innerRadius:a,outerRadius:s,percent:i}=e;const o=Math.PI/180,l=a+.5*(s-a),c=t+l*Math.cos(-n*o),u=r+l*Math.sin(-n*o);if(i>.05)return(0,$r.jsx)("text",{x:c,y:u,fill:"white",textAnchor:c>t?"start":"end",dominantBaseline:"central",fontSize:12,fontWeight:"bold",children:"".concat((100*i).toFixed(0),"%")})},outerRadius:100,fill:"#8884d8",dataKey:"value",children:t.map((e,t)=>(0,$r.jsx)(Lb,{fill:e.color},"cell-".concat(t)))}),(0,$r.jsx)(Yl,{content:(0,$r.jsx)(n,{})}),(0,$r.jsx)(Nu,{verticalAlign:"bottom",height:36,formatter:(e,t)=>(0,$r.jsx)("span",{style:{color:t.color},className:"font-medium",children:e})})]})})})]})},LO=Vr("wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]),zO=e=>{let{activities:t,loading:r}=e;const n=e=>{switch(e){case"checkin":return"Check-in";case"checkout":return"Check-out";case"reservation":return"Reserva";case"maintenance":return"Mantenimiento";default:return"Actividad"}};return r?(0,$r.jsx)("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6",children:(0,$r.jsxs)("div",{className:"animate-pulse",children:[(0,$r.jsx)("div",{className:"h-6 bg-gray-200 rounded w-1/3 mb-4"}),(0,$r.jsx)("div",{className:"space-y-4",children:[...Array(5)].map((e,t)=>(0,$r.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,$r.jsx)("div",{className:"w-10 h-10 bg-gray-200 rounded-full"}),(0,$r.jsxs)("div",{className:"flex-1 space-y-2",children:[(0,$r.jsx)("div",{className:"h-4 bg-gray-200 rounded w-3/4"}),(0,$r.jsx)("div",{className:"h-3 bg-gray-200 rounded w-1/2"})]})]},t))})]})}):(0,$r.jsxs)("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6",children:[(0,$r.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,$r.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Actividad Reciente"}),(0,$r.jsx)("button",{className:"text-blue-600 hover:text-blue-700 text-sm font-medium",children:"Ver todo"})]}),(0,$r.jsx)("div",{className:"space-y-4",children:t.map(e=>{const t=(e=>{switch(e){case"checkin":return hn;case"checkout":return zn;case"reservation":return _n;case"maintenance":return LO;default:return Vn}})(e.type),r=((e,t)=>{if("pending"===t)return"text-yellow-500";switch(e){case"checkin":return"text-green-500";case"checkout":return"text-blue-500";case"reservation":return"text-purple-500";case"maintenance":return"text-orange-500";default:return"text-gray-500"}})(e.type,e.status),a=((e,t)=>{if("pending"===t)return"bg-yellow-50";switch(e){case"checkin":return"bg-green-50";case"checkout":return"bg-blue-50";case"reservation":return"bg-purple-50";case"maintenance":return"bg-orange-50";default:return"bg-gray-50"}})(e.type,e.status);return(0,$r.jsxs)("div",{className:"flex items-center space-x-4 p-3 rounded-lg hover:bg-gray-50 transition-colors",children:[(0,$r.jsx)("div",{className:pn()("p-2 rounded-full",a),children:(0,$r.jsx)(t,{size:20,className:r})}),(0,$r.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,$r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,$r.jsx)("p",{className:"text-sm font-medium text-gray-900 truncate",children:n(e.type)}),"pending"===e.status&&(0,$r.jsx)("span",{className:"px-2 py-1 text-xs bg-yellow-100 text-yellow-800 rounded-full",children:"Pendiente"})]}),(0,$r.jsxs)("div",{className:"flex items-center space-x-4 mt-1",children:[(0,$r.jsxs)("div",{className:"flex items-center space-x-1 text-sm text-gray-500",children:[(0,$r.jsx)(sn,{size:14}),(0,$r.jsx)("span",{children:e.guest})]}),(0,$r.jsxs)("div",{className:"flex items-center space-x-1 text-sm text-gray-500",children:[(0,$r.jsx)(xn,{size:14}),(0,$r.jsxs)("span",{children:["Hab. ",e.room]})]})]})]}),(0,$r.jsxs)("div",{className:"flex items-center space-x-1 text-sm text-gray-500",children:[(0,$r.jsx)(Vn,{size:14}),(0,$r.jsx)("span",{children:e.time})]})]},e.id)})})]})},FO=e=>{let{checkIns:t,loading:r}=e;return r?(0,$r.jsx)("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6",children:(0,$r.jsxs)("div",{className:"animate-pulse",children:[(0,$r.jsx)("div",{className:"h-6 bg-gray-200 rounded w-1/2 mb-4"}),(0,$r.jsx)("div",{className:"space-y-4",children:[...Array(3)].map((e,t)=>(0,$r.jsx)("div",{className:"border border-gray-200 rounded-lg p-4",children:(0,$r.jsxs)("div",{className:"space-y-2",children:[(0,$r.jsx)("div",{className:"h-4 bg-gray-200 rounded w-3/4"}),(0,$r.jsx)("div",{className:"h-3 bg-gray-200 rounded w-1/2"}),(0,$r.jsx)("div",{className:"h-3 bg-gray-200 rounded w-2/3"})]})},t))})]})}):(0,$r.jsxs)("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6",children:[(0,$r.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,$r.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Check-ins de Hoy"}),(0,$r.jsxs)("span",{className:"bg-blue-100 text-blue-800 text-sm font-medium px-3 py-1 rounded-full",children:[t.length," pendientes"]})]}),(0,$r.jsx)("div",{className:"space-y-4",children:t.map(e=>(0,$r.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4 hover:border-blue-300 transition-colors",children:[(0,$r.jsx)("div",{className:"flex items-start justify-between mb-3",children:(0,$r.jsxs)("div",{children:[(0,$r.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[(0,$r.jsx)("h4",{className:"font-semibold text-gray-900",children:e.guest}),(0,$r.jsx)("span",{className:"px-2 py-1 text-xs bg-purple-100 text-purple-800 rounded",children:e.type})]}),(0,$r.jsxs)("div",{className:"grid grid-cols-2 gap-2 text-sm text-gray-600",children:[(0,$r.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,$r.jsx)(xn,{size:14}),(0,$r.jsxs)("span",{children:["Habitaci\xf3n ",e.room]})]}),(0,$r.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,$r.jsx)(Vn,{size:14}),(0,$r.jsx)("span",{children:e.time})]}),(0,$r.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,$r.jsx)(_n,{size:14}),(0,$r.jsxs)("span",{children:[e.nights," noche",e.nights>1?"s":""]})]})]})]})}),(0,$r.jsxs)("div",{className:"flex space-x-2",children:[(0,$r.jsx)(gn,{size:"sm",variant:"outline",className:"flex-1",icon:sn,children:"Ver Perfil"}),(0,$r.jsx)(gn,{size:"sm",variant:"primary",className:"flex-1",children:"Check-in"})]})]},e.id))}),(0,$r.jsx)("div",{className:"mt-6 pt-4 border-t border-gray-200",children:(0,$r.jsx)(gn,{variant:"ghost",fullWidth:!0,className:"text-blue-600 hover:text-blue-700",children:"Ver todos los check-ins"})})]})},BO=Vr("sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]),UO=Vr("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),qO=e=>{let{rooms:t,loading:r}=e;const n=e=>{switch(e){case"high":return"Urgente";case"medium":default:return"Normal";case"low":return"Baja"}};return r?(0,$r.jsx)("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6",children:(0,$r.jsxs)("div",{className:"animate-pulse",children:[(0,$r.jsx)("div",{className:"h-6 bg-gray-200 rounded w-1/2 mb-4"}),(0,$r.jsx)("div",{className:"space-y-3",children:[...Array(3)].map((e,t)=>(0,$r.jsx)("div",{className:"h-16 bg-gray-200 rounded-lg"},t))})]})}):(0,$r.jsxs)("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6",children:[(0,$r.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,$r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,$r.jsx)(BO,{className:"w-5 h-5 text-blue-600"}),(0,$r.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Limpieza Pendiente"})]}),(0,$r.jsxs)("span",{className:"bg-orange-100 text-orange-800 text-sm font-medium px-3 py-1 rounded-full",children:[t.length," habitaciones"]})]}),(0,$r.jsx)("div",{className:"space-y-3",children:t.map((e,t)=>{const r=(e=>{switch(e){case"high":return{bg:"bg-red-50",text:"text-red-700",border:"border-red-200",badge:"bg-red-100 text-red-800"};case"medium":return{bg:"bg-yellow-50",text:"text-yellow-700",border:"border-yellow-200",badge:"bg-yellow-100 text-yellow-800"};case"low":return{bg:"bg-green-50",text:"text-green-700",border:"border-green-200",badge:"bg-green-100 text-green-800"};default:return{bg:"bg-gray-50",text:"text-gray-700",border:"border-gray-200",badge:"bg-gray-100 text-gray-800"}}})(e.priority);return(0,$r.jsx)("div",{className:pn()("p-4 rounded-lg border-2 transition-all duration-200 hover:shadow-md",r.bg,r.border),children:(0,$r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,$r.jsxs)("div",{className:"flex-1",children:[(0,$r.jsxs)("div",{className:"flex items-center space-x-3 mb-2",children:[(0,$r.jsxs)("h4",{className:"font-semibold text-gray-900",children:["Habitaci\xf3n ",e.room]}),(0,$r.jsx)("span",{className:pn()("px-2 py-1 text-xs rounded-full font-medium",r.badge),children:n(e.priority)}),"high"===e.priority&&(0,$r.jsx)(UO,{size:16,className:"text-red-500"})]}),(0,$r.jsxs)("div",{className:"flex items-center space-x-4 text-sm text-gray-600",children:[(0,$r.jsx)("span",{className:"font-medium",children:e.type}),(0,$r.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,$r.jsx)(sn,{size:14}),(0,$r.jsx)("span",{children:e.lastGuest})]})]})]}),(0,$r.jsx)(gn,{size:"sm",variant:"primary",icon:BO,className:"ml-4",children:"Asignar"})]})},t)})}),(0,$r.jsx)("div",{className:"mt-6 pt-4 border-t border-gray-200",children:(0,$r.jsx)(gn,{variant:"ghost",fullWidth:!0,icon:BO,className:"text-blue-600 hover:text-blue-700",children:"Gestionar todas las habitaciones"})})]})},HO=Vr("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),VO=Vr("credit-card",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]),WO=Vr("phone",[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]]),GO=Vr("arrow-up",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]),$O=Vr("arrow-down",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]),KO=e=>{let{isOpen:r,onClose:n,onSubmit:a}=e;const[s,i]=(0,t.useState)(1),[o,l]=(0,t.useState)(1),[u,d]=(0,t.useState)(null),[h,f]=(0,t.useState)({fullName:"",documentId:"",email:"",phone:""}),p={1:{name:"Primer Piso",rooms:{top:[101,102,103,104,105],bottom:[106,107,108,109,110]}},2:{name:"Segundo Piso",rooms:{top:[201,202,203,204,205],bottom:[206,207,208,209,210]}},3:{name:"Tercer Piso",rooms:{top:[301,302,303,304,305],bottom:[306,307,308,309,310]}}},m={101:"available",102:"occupied",103:"available",104:"maintenance",105:"available",106:"available",107:"available",108:"occupied",109:"available",110:"checkout",201:"available",202:"available",203:"occupied",204:"available",205:"available",206:"maintenance",207:"available",208:"available",209:"occupied",210:"available",301:"available",302:"available",303:"available",304:"available",305:"occupied",306:"available",307:"checkout",308:"available",309:"available",310:"available"},g=e=>{const{name:t,value:r}=e.target;f(e=>c(c({},e),{},{[t]:r}))},y=e=>{switch(m[e]){case"available":return"bg-green-500 hover:bg-green-600 text-white";case"occupied":return"bg-red-500 text-white cursor-not-allowed";case"maintenance":return"bg-orange-500 text-white cursor-not-allowed";case"checkout":return"bg-yellow-500 hover:bg-yellow-600 text-white";default:return"bg-gray-300 text-gray-600 cursor-not-allowed"}},v=e=>{switch(m[e]){case"available":return"Disponible";case"occupied":return"Ocupada";case"maintenance":return"Mantenimiento";case"checkout":return"Por limpiar";default:return"No disponible"}},x=e=>{const t=m[e];return"available"===t||"checkout"===t};return r?(0,$r.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,$r.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-4xl max-h-[90vh] overflow-hidden",children:[(0,$r.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 bg-blue-50",children:[(0,$r.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,$r.jsx)("div",{className:"p-2 bg-blue-600 rounded-lg",children:(0,$r.jsx)(sn,{className:"w-6 h-6 text-white"})}),(0,$r.jsxs)("div",{children:[(0,$r.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:"Check-in R\xe1pido"}),(0,$r.jsx)("p",{className:"text-sm text-gray-600",children:1===s?"Paso 1: Datos del hu\xe9sped":"Paso 2: Selecci\xf3n de habitaci\xf3n"})]})]}),(0,$r.jsx)("button",{onClick:n,className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",children:(0,$r.jsx)(HO,{size:20})})]}),(0,$r.jsx)("div",{className:"px-6 py-4 bg-gray-50",children:(0,$r.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,$r.jsxs)("div",{className:"flex items-center space-x-2 ".concat(s>=1?"text-blue-600":"text-gray-400"),children:[(0,$r.jsx)("div",{className:"w-8 h-8 rounded-full flex items-center justify-center ".concat(s>=1?"bg-blue-600 text-white":"bg-gray-300 text-gray-600"),children:"1"}),(0,$r.jsx)("span",{className:"font-medium",children:"Datos del Hu\xe9sped"})]}),(0,$r.jsx)(Tn,{className:"text-gray-400",size:20}),(0,$r.jsxs)("div",{className:"flex items-center space-x-2 ".concat(s>=2?"text-blue-600":"text-gray-400"),children:[(0,$r.jsx)("div",{className:"w-8 h-8 rounded-full flex items-center justify-center ".concat(s>=2?"bg-blue-600 text-white":"bg-gray-300 text-gray-600"),children:"2"}),(0,$r.jsx)("span",{className:"font-medium",children:"Selecci\xf3n de Habitaci\xf3n"})]})]})}),(0,$r.jsxs)("div",{className:"p-6 overflow-y-auto",style:{maxHeight:"calc(90vh - 200px)"},children:[1===s&&(0,$r.jsx)("div",{className:"space-y-6",children:(0,$r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,$r.jsxs)("div",{children:[(0,$r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nombres Completos *"}),(0,$r.jsxs)("div",{className:"relative",children:[(0,$r.jsx)(sn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:18}),(0,$r.jsx)("input",{type:"text",name:"fullName",value:h.fullName,onChange:g,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Nombre y apellidos completos",required:!0})]})]}),(0,$r.jsxs)("div",{children:[(0,$r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Documento de Identidad *"}),(0,$r.jsxs)("div",{className:"relative",children:[(0,$r.jsx)(VO,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:18}),(0,$r.jsx)("input",{type:"text",name:"documentId",value:h.documentId,onChange:g,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"DNI, Pasaporte, etc.",required:!0})]})]}),(0,$r.jsxs)("div",{children:[(0,$r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email (Opcional)"}),(0,$r.jsxs)("div",{className:"relative",children:[(0,$r.jsx)(ln,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:18}),(0,$r.jsx)("input",{type:"email",name:"email",value:h.email,onChange:g,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"correo@ejemplo.com"})]})]}),(0,$r.jsxs)("div",{children:[(0,$r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tel\xe9fono (Opcional)"}),(0,$r.jsxs)("div",{className:"relative",children:[(0,$r.jsx)(WO,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:18}),(0,$r.jsx)("input",{type:"tel",name:"phone",value:h.phone,onChange:g,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"+51 999 999 999"})]})]})]})}),2===s&&(0,$r.jsxs)("div",{className:"space-y-6",children:[(0,$r.jsxs)("div",{children:[(0,$r.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Seleccionar Piso"}),(0,$r.jsx)("div",{className:"grid grid-cols-3 gap-4",children:Object.keys(p).map(e=>(0,$r.jsxs)("button",{onClick:()=>{l(parseInt(e)),d(null)},className:"p-4 rounded-lg border-2 transition-all ".concat(o===parseInt(e)?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-200 hover:border-gray-300 text-gray-700"),children:[(0,$r.jsx)(Sn,{className:"w-6 h-6 mx-auto mb-2"}),(0,$r.jsx)("div",{className:"font-medium",children:p[e].name})]},e))})]}),(0,$r.jsxs)("div",{children:[(0,$r.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:["Habitaciones - ",p[o].name]}),(0,$r.jsxs)("div",{className:"bg-gray-50 p-6 rounded-lg border-2 border-gray-200",children:[(0,$r.jsxs)("div",{className:"mb-4",children:[(0,$r.jsxs)("div",{className:"flex items-center mb-2",children:[(0,$r.jsx)(GO,{className:"w-4 h-4 text-gray-500 mr-2"}),(0,$r.jsx)("span",{className:"text-sm text-gray-600 font-medium",children:"Lado Norte"})]}),(0,$r.jsx)("div",{className:"grid grid-cols-5 gap-3",children:p[o].rooms.top.map(e=>(0,$r.jsxs)("button",{onClick:()=>x(e)&&d(e),disabled:!x(e),className:"\n                            relative p-4 rounded-lg border-2 transition-all text-center font-medium\n                            ".concat(u===e?"border-blue-500 bg-blue-100 ring-2 ring-blue-200":"border-gray-300","\n                            ").concat(y(e),"\n                          "),children:[(0,$r.jsx)("div",{className:"text-lg font-bold",children:e}),(0,$r.jsx)("div",{className:"text-xs mt-1",children:v(e)}),u===e&&(0,$r.jsx)("div",{className:"absolute -top-2 -right-2 w-6 h-6 bg-blue-600 rounded-full flex items-center justify-center",children:(0,$r.jsx)(vn,{className:"w-4 h-4 text-white"})})]},e))})]}),(0,$r.jsx)("div",{className:"my-6 bg-gray-200 h-16 rounded-lg flex items-center justify-center",children:(0,$r.jsx)("span",{className:"text-gray-600 font-medium",children:"PASILLO CENTRAL"})}),(0,$r.jsxs)("div",{children:[(0,$r.jsxs)("div",{className:"flex items-center mb-2",children:[(0,$r.jsx)($O,{className:"w-4 h-4 text-gray-500 mr-2"}),(0,$r.jsx)("span",{className:"text-sm text-gray-600 font-medium",children:"Lado Sur"})]}),(0,$r.jsx)("div",{className:"grid grid-cols-5 gap-3",children:p[o].rooms.bottom.map(e=>(0,$r.jsxs)("button",{onClick:()=>x(e)&&d(e),disabled:!x(e),className:"\n                            relative p-4 rounded-lg border-2 transition-all text-center font-medium\n                            ".concat(u===e?"border-blue-500 bg-blue-100 ring-2 ring-blue-200":"border-gray-300","\n                            ").concat(y(e),"\n                          "),children:[(0,$r.jsx)("div",{className:"text-lg font-bold",children:e}),(0,$r.jsx)("div",{className:"text-xs mt-1",children:v(e)}),u===e&&(0,$r.jsx)("div",{className:"absolute -top-2 -right-2 w-6 h-6 bg-blue-600 rounded-full flex items-center justify-center",children:(0,$r.jsx)(vn,{className:"w-4 h-4 text-white"})})]},e))})]})]}),(0,$r.jsxs)("div",{className:"mt-4 flex flex-wrap gap-4 text-sm",children:[(0,$r.jsxs)("div",{className:"flex items-center",children:[(0,$r.jsx)("div",{className:"w-4 h-4 bg-green-500 rounded mr-2"}),(0,$r.jsx)("span",{children:"Disponible"})]}),(0,$r.jsxs)("div",{className:"flex items-center",children:[(0,$r.jsx)("div",{className:"w-4 h-4 bg-yellow-500 rounded mr-2"}),(0,$r.jsx)("span",{children:"Por limpiar"})]}),(0,$r.jsxs)("div",{className:"flex items-center",children:[(0,$r.jsx)("div",{className:"w-4 h-4 bg-red-500 rounded mr-2"}),(0,$r.jsx)("span",{children:"Ocupada"})]}),(0,$r.jsxs)("div",{className:"flex items-center",children:[(0,$r.jsx)("div",{className:"w-4 h-4 bg-orange-500 rounded mr-2"}),(0,$r.jsx)("span",{children:"Mantenimiento"})]})]})]})]})]}),(0,$r.jsxs)("div",{className:"flex items-center justify-between p-6 border-t border-gray-200 bg-gray-50",children:[(0,$r.jsx)("div",{className:"flex space-x-3",children:2===s&&(0,$r.jsx)(gn,{variant:"outline",onClick:()=>i(1),icon:An,children:"Anterior"})}),(0,$r.jsxs)("div",{className:"flex space-x-3",children:[(0,$r.jsx)(gn,{variant:"outline",onClick:n,children:"Cancelar"}),1===s?(0,$r.jsx)(gn,{variant:"primary",onClick:()=>{1===s&&h.fullName&&h.documentId&&i(2)},disabled:!h.fullName||!h.documentId,icon:Tn,children:"Siguiente"}):(0,$r.jsx)(gn,{variant:"primary",onClick:()=>{u&&h.fullName&&h.documentId&&(a({guest:h,room:u,floor:o}),n())},disabled:!u,icon:vn,children:"Completar Check-in"})]})]})]})}):null},YO=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"PEN";return null===e||void 0===e||isNaN(e)?"S/ 0.00":new Intl.NumberFormat("es-PE",{style:"currency",currency:t,minimumFractionDigits:2,maximumFractionDigits:2}).format(e)},XO=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"DD/MM/YYYY";const r=new Date(e);return"HH:mm"===t?r.toLocaleTimeString("es-PE",{hour:"2-digit",minute:"2-digit"}):r.toLocaleDateString("es-PE")},JO=e=>null===e||void 0===e||isNaN(e)?"0":new Intl.NumberFormat("es-PE").format(e),QO=e=>{if(!e)return"Nunca";const t=new Date,r=new Date(e),n=t-r,a=Math.floor(n/6e4),s=Math.floor(a/60),i=Math.floor(s/24);return a<1?"Ahora mismo":a<60?"hace ".concat(a," minuto").concat(a>1?"s":""):s<24?"hace ".concat(s," hora").concat(s>1?"s":""):i<7?"hace ".concat(i," d\xeda").concat(i>1?"s":""):r.toLocaleDateString("es-PE")},ZO=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(null===e||void 0===e||isNaN(e))return"0%";return"".concat((t?100*e:e).toFixed(1),"%")},eE=()=>{const{hasPermission:e}=en(),[r,n]=(0,t.useState)(!1),{stats:a,occupancyData:s,revenueByCategory:i,recentActivity:o,upcomingCheckIns:l,roomsToClean:u,loading:d,lastUpdated:h,getOccupancyTrend:f,getRevenueTrend:p}=(()=>{const[e,r]=(0,t.useState)({rooms:{total:0,available:0,occupied:0,checkout:0,cleaning:0,maintenance:0,occupancyRate:0},revenue:{today:0,thisWeek:0,thisMonth:0,lastMonth:0,growth:0},orders:{active:0,completed:0,totalToday:0,pending:0},inventory:{lowStock:0,totalItems:0,totalValue:0,outOfStock:0},guests:{checkedIn:0,checkingOut:0,total:0,newToday:0},cleaning:{pending:0,inProgress:0,completed:0}}),[n,a]=(0,t.useState)([]),[s,i]=(0,t.useState)([]),[o,l]=(0,t.useState)([]),[u,d]=(0,t.useState)(!0),[h,f]=(0,t.useState)(null),[p,m]=(0,t.useState)(new Date),g=async()=>{try{const{data:e,error:t}=await Di.from("rooms").select("status");if(t)throw t;const r=e.reduce((e,t)=>{switch(e.total++,t.status){case"available":default:e.available++;break;case"occupied":e.occupied++;break;case"checkout":e.checkout++;break;case"cleaning":e.cleaning++;break;case"maintenance":e.maintenance++}return e},{total:0,available:0,occupied:0,checkout:0,cleaning:0,maintenance:0});return r.occupancyRate=r.total>0?Math.round(r.occupied/r.total*100):0,r}catch(h){return console.error("Error cargando estad\xedsticas de habitaciones:",h),{total:0,available:0,occupied:0,checkout:0,cleaning:0,maintenance:0,occupancyRate:0}}},y=async()=>{try{const e=(new Date).toISOString().split("T")[0],t=new Date(Date.now()-6048e5).toISOString().split("T")[0],r=new Date((new Date).getFullYear(),(new Date).getMonth(),1).toISOString().split("T")[0],n=new Date((new Date).getFullYear(),(new Date).getMonth()-1,1).toISOString().split("T")[0],a=new Date((new Date).getFullYear(),(new Date).getMonth(),0).toISOString().split("T")[0],{data:s,error:i}=await Di.from("orders").select("total").eq("check_in_date",e).eq("status","completed");if(i)throw i;const{data:o,error:l}=await Di.from("orders").select("total").gte("check_in_date",t).eq("status","completed");if(l)throw l;const{data:c,error:u}=await Di.from("orders").select("total").gte("check_in_date",r).eq("status","completed");if(u)throw u;const{data:d,error:h}=await Di.from("orders").select("total").gte("check_in_date",n).lte("check_in_date",a).eq("status","completed");if(h)throw h;const f=s.reduce((e,t)=>e+parseFloat(t.total),0),p=o.reduce((e,t)=>e+parseFloat(t.total),0),m=c.reduce((e,t)=>e+parseFloat(t.total),0),g=d.reduce((e,t)=>e+parseFloat(t.total),0);return{today:f,thisWeek:p,thisMonth:m,lastMonth:g,growth:g>0?Math.round((m-g)/g*100):0}}catch(h){return console.error("Error cargando estad\xedsticas de ingresos:",h),{today:0,thisWeek:0,thisMonth:0,lastMonth:0,growth:0}}},v=async()=>{try{const e=(new Date).toISOString().split("T")[0],{data:t,error:r}=await Di.from("orders").select("id").eq("status","active");if(r)throw r;const{data:n,error:a}=await Di.from("orders").select("id").eq("status","completed");if(a)throw a;const{data:s,error:i}=await Di.from("orders").select("id").eq("check_in_date",e);if(i)throw i;return{active:t.length,completed:n.length,totalToday:s.length,pending:0}}catch(h){return console.error("Error cargando estad\xedsticas de \xf3rdenes:",h),{active:0,completed:0,totalToday:0,pending:0}}},x=async()=>{try{const{data:e,error:t}=await Di.from("inventory").select("current_stock, min_stock, unit_cost").eq("status","active");if(t)throw t;return e.reduce((e,t)=>(e.totalItems++,e.totalValue+=t.current_stock*t.unit_cost,0===t.current_stock?e.outOfStock++:t.current_stock<=t.min_stock&&e.lowStock++,e),{totalItems:0,totalValue:0,lowStock:0,outOfStock:0})}catch(h){return console.error("Error cargando estad\xedsticas de inventario:",h),{totalItems:0,totalValue:0,lowStock:0,outOfStock:0}}},b=async()=>{try{const e=(new Date).toISOString().split("T")[0],{data:t,error:r}=await Di.from("orders").select("guest_name").eq("status","active");if(r)throw r;const{data:n,error:a}=await Di.from("orders").select("guest_name").eq("check_out_date",e).eq("status","completed");if(a)throw a;const{data:s,error:i}=await Di.from("guests").select("id");if(i)throw i;const{data:o,error:l}=await Di.from("guests").select("id").eq("created_at::date",e);if(l)throw l;return{checkedIn:t.length,checkingOut:n.length,total:s.length,newToday:o.length}}catch(h){return console.error("Error cargando estad\xedsticas de hu\xe9spedes:",h),{checkedIn:0,checkingOut:0,total:0,newToday:0}}},w=async()=>{try{const{data:e,error:t}=await Di.from("room_cleaning").select("status").in("status",["pending","in_progress","completed"]);if(t)throw t;return e.reduce((e,t)=>{switch(t.status){case"pending":e.pending++;break;case"in_progress":e.inProgress++;break;case"completed":e.completed++}return e},{pending:0,inProgress:0,completed:0})}catch(h){return console.error("Error cargando estad\xedsticas de limpieza:",h),{pending:0,inProgress:0,completed:0}}},j=async()=>{try{const e=[],{data:t,error:r}=await Di.from("orders").select("*, rooms(number)").order("created_at",{ascending:!1}).limit(5);!r&&t&&t.forEach(t=>{e.push({id:"order-".concat(t.id),type:"active"===t.status?"check-in":"check-out",message:"".concat(t.guest_name," - Habitaci\xf3n ").concat(t.room_number),timestamp:t.check_out_time||t.created_at,details:{room:t.room_number,guest:t.guest_name,total:t.total}})});const{data:n,error:s}=await Di.from("room_cleaning").select("*, rooms(number), staff(full_name)").order("created_at",{ascending:!1}).limit(5);return!s&&n&&n.forEach(t=>{var r,n,a;e.push({id:"cleaning-".concat(t.id),type:"cleaning",message:"Limpieza ".concat(t.status," - Habitaci\xf3n ").concat(null===(r=t.rooms)||void 0===r?void 0:r.number),timestamp:t.completed_at||t.started_at||t.created_at,details:{room:null===(n=t.rooms)||void 0===n?void 0:n.number,staff:null===(a=t.staff)||void 0===a?void 0:a.full_name,status:t.status}})}),e.sort((e,t)=>new Date(t.timestamp)-new Date(e.timestamp)),a(e.slice(0,10)),e}catch(h){return console.error("Error cargando actividad reciente:",h),[]}},N=async()=>{try{const{data:e,error:t}=await Di.from("inventory").select("id, name, current_stock, min_stock, category, unit").eq("status","active").lte("current_stock",Di.rpc("min_stock")).gt("current_stock",0).order("current_stock").limit(10);if(t){const{data:e,error:t}=await Di.from("inventory").select("id, name, current_stock, min_stock, category, unit").eq("status","active").order("current_stock").limit(20);if(t)throw t;const r=e.filter(e=>e.current_stock<=e.min_stock&&e.current_stock>0).slice(0,10);return i(r),r}return i(e||[]),e}catch(h){return console.error("Error cargando items con stock bajo:",h),[]}},k=async()=>{try{const e=new Date,t=new Date(e);t.setDate(e.getDate()+1);const{data:r,error:n}=await Di.from("orders").select("id, guest_name, room_number, check_in_date, total").eq("status","active").order("check_in_date");if(n)throw n;const a=r.map(e=>c(c({},e),{},{estimatedCheckOut:new Date(new Date(e.check_in_date).getTime()+3*Math.random()*24*60*60*1e3)})).filter(r=>{const n=new Date(r.estimatedCheckOut);return n>=e&&n<=t}).slice(0,5);return l(a),a}catch(h){return console.error("Error cargando pr\xf3ximos check-outs:",h),[]}},S=async()=>{d(!0),f(null);try{const[e,t,n,a,s,i]=await Promise.all([g(),y(),v(),x(),b(),w()]);r({rooms:e,revenue:t,orders:n,inventory:a,guests:s,cleaning:i}),await Promise.all([j(),N(),k()]),m(new Date)}catch(h){console.error("Error refrescando estad\xedsticas:",h),f(h.message)}finally{d(!1)}},_=(0,t.useMemo)(()=>({occupancy:{value:e.rooms.occupancyRate,trend:e.rooms.occupancyRate>75?"up":e.rooms.occupancyRate<50?"down":"stable",change:"+5%"},revenue:{value:e.revenue.growth,trend:e.revenue.growth>0?"up":e.revenue.growth<0?"down":"stable",change:"".concat(e.revenue.growth>0?"+":"").concat(e.revenue.growth,"%")},guests:{value:e.guests.checkedIn,trend:e.guests.newToday>0?"up":"stable",change:"+".concat(e.guests.newToday," hoy")}}),[e]);return(0,t.useEffect)(()=>{const e=Di.channel("dashboard_rooms").on("postgres_changes",{event:"*",schema:"public",table:"rooms"},()=>g().then(e=>r(t=>c(c({},t),{},{rooms:e})))).subscribe(),t=Di.channel("dashboard_orders").on("postgres_changes",{event:"*",schema:"public",table:"orders"},()=>{Promise.all([y(),v(),b()]).then(e=>{let[t,n,a]=e;r(e=>c(c({},e),{},{revenue:t,orders:n,guests:a}))}),j(),k()}).subscribe(),n=Di.channel("dashboard_inventory").on("postgres_changes",{event:"*",schema:"public",table:"inventory"},()=>{x().then(e=>r(t=>c(c({},t),{},{inventory:e}))),N()}).subscribe(),a=Di.channel("dashboard_cleaning").on("postgres_changes",{event:"*",schema:"public",table:"room_cleaning"},()=>{w().then(e=>r(t=>c(c({},t),{},{cleaning:e}))),j()}).subscribe();return()=>{Di.removeChannel(e),Di.removeChannel(t),Di.removeChannel(n),Di.removeChannel(a)}},[]),(0,t.useEffect)(()=>{const e=setInterval(()=>{S()},3e5);return()=>clearInterval(e)},[]),(0,t.useEffect)(()=>{S()},[]),{stats:e,recentActivity:n,lowStockItems:s,upcomingCheckOuts:o,trends:_,loading:u,error:h,lastUpdated:p,refreshStats:S,loadRoomStats:g,loadRevenueStats:y,loadOrderStats:v,loadInventoryStats:x,loadGuestStats:b,loadCleaningStats:w,loadRecentActivity:j,loadLowStockItems:N,loadUpcomingCheckOuts:k}})(),m=f(),g=p();return(0,$r.jsxs)("div",{className:"space-y-6",children:[(0,$r.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[(0,$r.jsxs)("div",{children:[(0,$r.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Dashboard"}),(0,$r.jsx)("p",{className:"text-gray-600 mt-1",children:"Vista general del Hotel Para\xedso"})]}),(0,$r.jsxs)("div",{className:"flex items-center space-x-4 mt-4 sm:mt-0",children:[(0,$r.jsxs)("div",{className:"text-sm text-gray-500",children:["\xdaltima actualizaci\xf3n: ",XO(h,"HH:mm")]}),(0,$r.jsx)(gn,{variant:"outline",size:"sm",icon:Un,onClick:()=>window.location.reload(),children:"Actualizar"})]})]}),(0,$r.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e("reservations","write")&&(0,$r.jsx)(gn,{variant:"primary",className:"h-12",icon:_n,children:"Nueva Reserva"}),e("reservations","write")&&(0,$r.jsx)(gn,{variant:"success",className:"h-12",icon:bn,onClick:()=>n(!0),children:"Check-in R\xe1pido"}),(0,$r.jsx)(gn,{variant:"warning",className:"h-12",icon:On,children:"Gestionar Habitaciones"}),(0,$r.jsx)(gn,{variant:"purple",className:"h-12 bg-purple-600 hover:bg-purple-700 text-white",icon:Cn,children:"Ver Reportes"})]}),(0,$r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,$r.jsx)(Ri,{title:"Tasa de Ocupaci\xf3n",value:"".concat(a.occupancy,"%"),subtitle:"".concat(a.occupiedRooms,"/").concat(a.totalRooms," habitaciones"),icon:Cn,trend:m,color:"blue",loading:d}),(0,$r.jsx)(Ri,{title:"Hu\xe9spedes Actuales",value:a.totalGuests,subtitle:"+".concat(a.checkInsToday," check-ins hoy"),icon:bn,color:"green",loading:d}),(0,$r.jsx)(Ri,{title:"Ingresos del Mes",value:YO(a.revenue.thisMonth),subtitle:"".concat(YO(a.revenue.today)," hoy"),icon:qn,trend:g,color:"purple",loading:d}),(0,$r.jsx)(Ri,{title:"Tarifa Promedio",value:YO(a.averageRate),subtitle:"Satisfacci\xf3n: ".concat(a.guestSatisfaction,"/5.0"),icon:Hn,color:"yellow",loading:d})]}),(0,$r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,$r.jsx)("div",{className:"lg:col-span-2",children:(0,$r.jsx)(M_,{data:s,loading:d})}),(0,$r.jsx)("div",{children:(0,$r.jsx)(RO,{data:i,loading:d})})]}),(0,$r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,$r.jsx)("div",{children:(0,$r.jsx)(zO,{activities:o,loading:d})}),(0,$r.jsx)("div",{children:(0,$r.jsx)(FO,{checkIns:l,loading:d})}),(0,$r.jsx)("div",{children:(0,$r.jsx)(qO,{rooms:u,loading:d})})]}),(0,$r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,$r.jsx)("div",{className:"bg-gradient-to-r from-blue-500 to-blue-600 rounded-xl text-white p-6",children:(0,$r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,$r.jsxs)("div",{children:[(0,$r.jsx)("p",{className:"text-blue-100 text-sm",children:"Check-outs Pendientes"}),(0,$r.jsx)("p",{className:"text-3xl font-bold",children:a.checkOutsToday}),(0,$r.jsx)("p",{className:"text-blue-100 text-sm mt-1",children:"Para hoy"})]}),(0,$r.jsx)(Vn,{className:"w-12 h-12 text-blue-200"})]})}),(0,$r.jsx)("div",{className:"bg-gradient-to-r from-green-500 to-green-600 rounded-xl text-white p-6",children:(0,$r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,$r.jsxs)("div",{children:[(0,$r.jsx)("p",{className:"text-green-100 text-sm",children:"Habitaciones Disponibles"}),(0,$r.jsx)("p",{className:"text-3xl font-bold",children:a.availableRooms}),(0,$r.jsx)("p",{className:"text-green-100 text-sm mt-1",children:"Listas para ocupar"})]}),(0,$r.jsx)(On,{className:"w-12 h-12 text-green-200"})]})}),(0,$r.jsx)("div",{className:"bg-gradient-to-r from-purple-500 to-purple-600 rounded-xl text-white p-6",children:(0,$r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,$r.jsxs)("div",{children:[(0,$r.jsx)("p",{className:"text-purple-100 text-sm",children:"Ingresos Semanales"}),(0,$r.jsx)("p",{className:"text-3xl font-bold",children:YO(a.revenue.thisWeek)}),(0,$r.jsx)("p",{className:"text-purple-100 text-sm mt-1",children:"Esta semana"})]}),(0,$r.jsx)(qn,{className:"w-12 h-12 text-purple-200"})]})})]}),(0,$r.jsx)(KO,{isOpen:r,onClose:()=>n(!1),onSubmit:e=>{console.log("Check-in r\xe1pido:",e),alert("Check-in exitoso!\nHu\xe9sped: ".concat(e.guest.fullName,"\nHabitaci\xf3n: ").concat(e.room))}})]})},tE=Vr("shopping-cart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]),rE=e=>{let{floorRooms:t,selectedFloor:r,selectedRoom:n,checkoutMode:a,savedOrders:s,roomsNeedingCleaning:i,cleanedRooms:o,onFloorChange:l,onRoomClick:c,onNext:u}=e;const d=e=>o&&o.has(e.number)?"available":i&&i.has(e.number)||"checkout"===e.status?"cleaning":s&&s[e.number]?"occupied":e.status||"available",h=e=>{switch(d(e)){case"available":return"bg-green-500 hover:bg-green-600 text-white";case"occupied":return"bg-red-500 hover:bg-red-600 text-white";case"cleaning":case"checkout":return"bg-yellow-500 hover:bg-yellow-600 text-white";default:return"bg-gray-400 text-white cursor-not-allowed"}},f=e=>"cleaning"===d(e)?(0,$r.jsx)(BO,{className:"w-8 h-8 mx-auto mb-2"}):(0,$r.jsx)(On,{className:"w-8 h-8 mx-auto mb-2"}),p=e=>{const t=d(e);if(a)return"occupied"===t?"Click para hacer check-out":"No disponible para check-out";switch(t){case"cleaning":return"Click para marcar como limpia";case"available":return"Click para hacer check-in";case"occupied":return"Habitaci\xf3n ocupada";default:return"Habitaci\xf3n no disponible"}};return(0,$r.jsxs)($r.Fragment,{children:[(0,$r.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,$r.jsx)("h2",{className:"text-xl font-semibold text-gray-800",children:a?"Selecciona habitaci\xf3n para Check Out":"Habitaciones"}),(0,$r.jsx)("div",{className:"flex space-x-2",children:[1,2,3].map(e=>(0,$r.jsxs)("button",{onClick:()=>l(e),className:"px-4 py-2 rounded-lg font-medium transition-all ".concat(r===e?"bg-blue-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"),children:["Piso ",e]},e))})]}),a?(0,$r.jsx)("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg",children:(0,$r.jsx)("p",{className:"text-red-700 text-sm",children:"\ud83d\udd34 Modo Check Out: Solo puedes seleccionar habitaciones ocupadas (rojas)"})}):(0,$r.jsx)("div",{className:"mb-4 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:(0,$r.jsx)("p",{className:"text-blue-700 text-sm",children:"\ud83d\udfe2 Modo Check In: Selecciona habitaciones verdes para check-in o amarillas para marcar como limpias"})}),(0,$r.jsx)("div",{className:"grid grid-cols-4 gap-4 mb-6",children:t[r].map(e=>{const t=(e=>{const t=d(e);return a?"occupied"===t:"available"===t||"cleaning"===t||"checkout"===e.status})(e),r=s[e.number],i=d(e);return(0,$r.jsxs)("button",{onClick:()=>c(e),disabled:!t,className:"\n                relative p-6 rounded-lg font-bold text-xl transition-all duration-200 transform hover:scale-105\n                ".concat(h(e),"\n                ").concat((null===n||void 0===n?void 0:n.number)===e.number?"ring-4 ring-blue-400 ring-opacity-50":"","\n                ").concat(t?"":"opacity-50 cursor-not-allowed","\n              "),title:p(e),children:[f(e),(0,$r.jsx)("div",{children:e.number}),r&&(0,$r.jsx)("div",{className:"absolute -top-2 -right-2 bg-blue-600 text-white rounded-full w-6 h-6 flex items-center justify-center text-xs",children:(0,$r.jsx)(tE,{size:12})}),"cleaning"===i&&(0,$r.jsx)("div",{className:"absolute -top-2 -left-2 bg-yellow-600 text-white rounded-full w-6 h-6 flex items-center justify-center text-xs",children:(0,$r.jsx)(BO,{size:12})}),"available"===i&&o&&o.has(e.number)&&(0,$r.jsx)("div",{className:"absolute -top-2 -left-2 bg-green-600 text-white rounded-full w-6 h-6 flex items-center justify-center text-xs",children:"\u2713"})]},e.number)})}),(0,$r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,$r.jsxs)("div",{className:"flex flex-wrap gap-4 text-sm",children:[(0,$r.jsxs)("div",{className:"flex items-center",children:[(0,$r.jsx)("div",{className:"w-4 h-4 bg-green-500 rounded mr-2"}),(0,$r.jsx)("span",{children:"Disponible"})]}),(0,$r.jsxs)("div",{className:"flex items-center",children:[(0,$r.jsx)("div",{className:"w-4 h-4 bg-red-500 rounded mr-2"}),(0,$r.jsx)("span",{children:"Ocupada"})]}),(0,$r.jsxs)("div",{className:"flex items-center",children:[(0,$r.jsx)("div",{className:"w-4 h-4 bg-yellow-500 rounded mr-2"}),(0,$r.jsx)("span",{children:"Necesita Limpieza"})]}),(0,$r.jsxs)("div",{className:"flex items-center",children:[(0,$r.jsx)(tE,{className:"w-4 h-4 mr-2 text-blue-600"}),(0,$r.jsx)("span",{children:"Con orden"})]}),(0,$r.jsxs)("div",{className:"flex items-center",children:[(0,$r.jsx)(BO,{className:"w-4 h-4 mr-2 text-yellow-600"}),(0,$r.jsx)("span",{children:"Limpieza pendiente"})]}),(0,$r.jsxs)("div",{className:"flex items-center",children:[(0,$r.jsx)("div",{className:"w-4 h-4 bg-green-600 rounded mr-2 flex items-center justify-center text-white text-xs",children:"\u2713"}),(0,$r.jsx)("span",{children:"Reci\xe9n limpiada"})]})]}),n&&"cleaning"!==d(n)&&(0,$r.jsx)(gn,{variant:"primary",onClick:u,icon:Tn,className:"px-6 py-3",children:a?"Ver Resumen de Pago":"Siguiente - Agregar Orden"})]})]})},nE=e=>{var t,r;let{currentOrder:n,selectedSnackType:a,selectedSnacks:s,snackTypes:i,snackItems:o,checkoutMode:l=!1,onBack:u,onSnackTypeSelect:d,onSnackSelect:h,onSnackRemove:f,onQuantityUpdate:p,onConfirmOrder:m,onConfirmRoomOnly:g,onCancelOrder:y,onProceedToPayment:v}=e;const x=()=>(null===n||void 0===n?void 0:n.roomPrice)+s.reduce((e,t)=>e+t.price*t.quantity,0);return(0,$r.jsxs)("div",{children:[(0,$r.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,$r.jsxs)("h2",{className:"text-xl font-semibold text-gray-800",children:["Habitaci\xf3n ",null===n||void 0===n?void 0:n.room.number," - ",l?"Agregar Items al Check-out":"Snacks (Opcional)"]}),(0,$r.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,$r.jsx)("div",{className:"text-sm px-3 py-1 rounded-full ".concat(l?"bg-red-100 text-red-700":"bg-green-100 text-green-700"),children:l?"\ud83d\uded2 Agregar items antes del pago":"\ud83d\udca1 Los snacks son opcionales"}),(0,$r.jsx)(gn,{variant:"outline",onClick:u,icon:An,children:"Volver"})]})]}),(0,$r.jsxs)("div",{className:"grid grid-cols-3 gap-6 h-[600px]",children:[(0,$r.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4",children:[(0,$r.jsx)("h3",{className:"text-lg font-semibold mb-4 text-center",children:"TIPOS DE SNACK"}),(0,$r.jsx)("div",{className:"space-y-4",children:i.map(e=>(0,$r.jsxs)("button",{onClick:()=>d(e.id),className:"w-full p-4 rounded-lg border-2 transition-all text-left ".concat(a===e.id?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-200 hover:border-gray-300 bg-white"),children:[(0,$r.jsx)("h4",{className:"font-bold text-sm mb-1",children:e.name}),(0,$r.jsx)("p",{className:"text-xs text-gray-600",children:e.description})]},e.id))})]}),(0,$r.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4",children:[(0,$r.jsx)("h3",{className:"text-lg font-semibold mb-4 text-center",children:a?null===(t=i.find(e=>e.id===a))||void 0===t?void 0:t.name:"LISTA DE SNACKS"}),a?(0,$r.jsx)("div",{className:"space-y-3 overflow-y-auto h-[500px]",children:null===(r=o[a])||void 0===r?void 0:r.map(e=>{var t;return(0,$r.jsx)("button",{onClick:()=>h(e),className:"w-full p-3 bg-white border-2 border-gray-200 rounded-lg hover:border-green-500 hover:bg-green-50 transition-all text-left",children:(0,$r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,$r.jsxs)("div",{children:[(0,$r.jsx)("h4",{className:"font-semibold text-sm",children:e.name}),(0,$r.jsxs)("p",{className:"text-green-600 font-bold text-sm",children:["$",e.price.toFixed(2)]})]}),s.find(t=>t.id===e.id)&&(0,$r.jsx)("div",{className:"bg-green-500 text-white rounded-full w-6 h-6 flex items-center justify-center text-xs font-bold",children:null===(t=s.find(t=>t.id===e.id))||void 0===t?void 0:t.quantity})]})},e.id)})}):(0,$r.jsx)("div",{className:"flex items-center justify-center h-[500px] text-gray-500",children:(0,$r.jsxs)("div",{className:"text-center",children:[(0,$r.jsx)(tE,{className:"w-16 h-16 mx-auto mb-4 text-gray-300"}),(0,$r.jsx)("p",{children:"Selecciona un tipo de snack para ver la lista"})]})})]}),(0,$r.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4",children:[(0,$r.jsx)("h3",{className:"text-lg font-semibold mb-4 text-center",children:l?"RESUMEN DEL CHECK-OUT":"RESUMEN DE LA ORDEN"}),(0,$r.jsxs)("div",{className:"bg-white rounded-lg p-4 h-[500px] overflow-y-auto",children:[(0,$r.jsxs)("div",{className:"text-center mb-4 p-3 text-white rounded-lg ".concat(l?"bg-red-600":"bg-blue-600"),children:[(0,$r.jsxs)("h4",{className:"font-bold",children:["Habitaci\xf3n ",null===n||void 0===n?void 0:n.room.number]}),l&&(0,$r.jsxs)("p",{className:"text-sm opacity-90",children:["Hu\xe9sped: ",null===n||void 0===n?void 0:n.guestName]})]}),(0,$r.jsxs)("div",{className:"space-y-3 mb-4",children:[(0,$r.jsxs)("div",{className:"flex justify-between items-center py-2 border-b",children:[(0,$r.jsx)("span",{className:"font-medium text-sm",children:"Precio habitaci\xf3n"}),(0,$r.jsxs)("span",{className:"font-bold",children:["$",null===n||void 0===n?void 0:n.roomPrice.toFixed(2)]})]}),l&&(null===n||void 0===n?void 0:n.snacks)&&n.snacks.length>0&&(0,$r.jsxs)("div",{className:"border-b pb-3",children:[(0,$r.jsx)("h5",{className:"text-sm font-medium text-gray-600 mb-2",children:"Items originales:"}),n.snacks.map((e,t)=>(0,$r.jsxs)("div",{className:"flex justify-between items-center py-1 text-sm text-gray-600",children:[(0,$r.jsxs)("span",{children:[e.name," x",e.quantity]}),(0,$r.jsxs)("span",{children:["$",(e.price*e.quantity).toFixed(2)]})]},t))]}),s.length>0?(0,$r.jsxs)("div",{children:[(0,$r.jsx)("h5",{className:"text-sm font-medium text-gray-800 mb-2",children:l?"Items adicionales:":"Snacks seleccionados:"}),s.map(e=>(0,$r.jsxs)("div",{className:"flex justify-between items-center py-2 border-b border-gray-100",children:[(0,$r.jsxs)("div",{className:"flex-1",children:[(0,$r.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,$r.jsx)("span",{className:"text-sm font-medium",children:e.name}),(0,$r.jsx)("button",{onClick:()=>f(e.id),className:"text-red-500 hover:text-red-700 text-xs",children:"\u2715"})]}),(0,$r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,$r.jsx)("button",{onClick:()=>p(e.id,e.quantity-1),className:"w-5 h-5 bg-red-500 text-white rounded-full text-xs flex items-center justify-center",children:"-"}),(0,$r.jsx)("span",{className:"text-xs w-6 text-center",children:e.quantity}),(0,$r.jsx)("button",{onClick:()=>p(e.id,e.quantity+1),className:"w-5 h-5 bg-green-500 text-white rounded-full text-xs flex items-center justify-center",children:"+"})]})]}),(0,$r.jsxs)("span",{className:"text-sm font-bold ml-2",children:["$",(e.price*e.quantity).toFixed(2)]})]},e.id))]}):(0,$r.jsxs)("div",{className:"text-center text-gray-500 py-8",children:[(0,$r.jsx)("p",{className:"text-sm mb-2",children:l?"\ud83d\uded2 No hay items adicionales":"\ud83c\udf4e No hay snacks seleccionados"}),(0,$r.jsx)("p",{className:"text-xs text-gray-400",children:l?"Puedes proceder al pago o agregar items":"Puedes confirmar solo la habitaci\xf3n o agregar snacks"})]})]}),(0,$r.jsx)("div",{className:"border-t-2 border-gray-300 pt-4 mb-4",children:(0,$r.jsxs)("div",{className:"flex justify-between items-center text-lg font-bold",children:[(0,$r.jsx)("span",{children:"Total:"}),(0,$r.jsxs)("span",{className:l?"text-red-600":"text-green-600",children:["$",x().toFixed(2)]})]})}),(0,$r.jsx)("div",{className:"space-y-2",children:l?(0,$r.jsxs)($r.Fragment,{children:[(0,$r.jsxs)(gn,{variant:"danger",onClick:()=>{c(c({},n),{},{snacks:s,total:x()});v()},icon:VO,className:"w-full text-sm py-3",children:["\ud83d\udcb3 Proceder al Pago",(0,$r.jsxs)("div",{className:"text-xs opacity-90",children:["$",x().toFixed(2)," total"]})]}),(0,$r.jsx)(gn,{variant:"outline",onClick:y,className:"w-full text-sm",children:"Cancelar Check-out"})]}):(0,$r.jsxs)($r.Fragment,{children:[(0,$r.jsxs)(gn,{variant:"primary",onClick:s.length>0?m:g,icon:s.length>0?tE:vn,className:"w-full text-sm py-4 text-lg font-semibold",children:[s.length>0?"\ud83d\uded2 Confirmar Check-in":"\u2705 Confirmar Check-in",(0,$r.jsxs)("div",{className:"text-xs opacity-90 mt-1",children:["Total: $",s.length>0?x().toFixed(2):null===n||void 0===n?void 0:n.roomPrice.toFixed(2)]})]}),(0,$r.jsx)(gn,{variant:"outline",onClick:y,className:"w-full text-sm",children:"Cancelar"})]})})]})]})]})]})},aE=e=>{let{currentOrder:r,onBack:n,onProcessPayment:a,onCancel:s}=e;const[i,o]=(0,t.useState)("card");return(0,$r.jsxs)("div",{children:[(0,$r.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,$r.jsx)("h2",{className:"text-xl font-semibold text-gray-800",children:"Resumen de Pago - Check Out"}),(0,$r.jsx)(gn,{variant:"outline",onClick:n,icon:An,children:"Volver"})]}),(0,$r.jsx)("div",{className:"max-w-2xl mx-auto",children:(0,$r.jsxs)("div",{className:"bg-white rounded-lg shadow-lg border border-gray-200 p-8",children:[(0,$r.jsxs)("div",{className:"text-center mb-6 p-4 bg-gradient-to-r from-blue-600 to-blue-700 text-white rounded-lg",children:[(0,$r.jsxs)("h3",{className:"text-2xl font-bold",children:["Habitaci\xf3n ",null===r||void 0===r?void 0:r.room.number]}),(0,$r.jsxs)("p",{className:"text-blue-100 mt-1",children:["Hu\xe9sped: ",null===r||void 0===r?void 0:r.guestName]}),(0,$r.jsxs)("p",{className:"text-blue-100 text-sm",children:["Check-in: ",null===r||void 0===r?void 0:r.checkInDate]})]}),(0,$r.jsxs)("div",{className:"space-y-4 mb-6",children:[(0,$r.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4",children:[(0,$r.jsx)("h4",{className:"font-semibold text-gray-800 mb-3",children:"Detalles de la Cuenta"}),(0,$r.jsxs)("div",{className:"flex justify-between items-center py-3 border-b border-gray-200",children:[(0,$r.jsxs)("div",{children:[(0,$r.jsx)("span",{className:"font-medium",children:"Precio de habitaci\xf3n"}),(0,$r.jsxs)("p",{className:"text-sm text-gray-600",children:["Piso ",Math.floor((null===r||void 0===r?void 0:r.room.number)/100)]})]}),(0,$r.jsxs)("span",{className:"font-bold text-lg",children:["$",null===r||void 0===r?void 0:r.roomPrice.toFixed(2)]})]}),(null===r||void 0===r?void 0:r.snacks.length)>0&&(0,$r.jsx)($r.Fragment,{children:(0,$r.jsxs)("div",{className:"py-3",children:[(0,$r.jsx)("h5",{className:"font-medium text-gray-800 mb-2",children:"Servicios Adicionales:"}),r.snacks.map((e,t)=>(0,$r.jsxs)("div",{className:"flex justify-between items-center py-2",children:[(0,$r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,$r.jsx)("span",{className:"text-gray-700",children:e.name}),(0,$r.jsxs)("span",{className:"text-gray-500 text-sm",children:["x",e.quantity]})]}),(0,$r.jsxs)("span",{className:"font-medium",children:["$",(e.price*e.quantity).toFixed(2)]})]},t))]})})]}),(0,$r.jsx)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:(0,$r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,$r.jsx)("span",{className:"text-xl font-bold text-gray-800",children:"Total a Pagar:"}),(0,$r.jsxs)("span",{className:"text-3xl font-bold text-green-600",children:["$",null===r||void 0===r?void 0:r.total.toFixed(2)]})]})}),(0,$r.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4",children:[(0,$r.jsx)("h4",{className:"font-semibold text-gray-800 mb-3",children:"M\xe9todo de Pago"}),(0,$r.jsx)("div",{className:"grid grid-cols-3 gap-3",children:[{id:"card",name:"Tarjeta",icon:"\ud83d\udcb3"},{id:"cash",name:"Efectivo",icon:"\ud83d\udcb5"},{id:"digital",name:"Digital",icon:"\ud83d\udcf1"}].map(e=>(0,$r.jsx)("button",{onClick:()=>o(e.id),className:"p-3 border-2 rounded-lg text-center transition-all ".concat(i===e.id?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"),children:(0,$r.jsxs)("div",{className:"font-medium ".concat(i===e.id?"text-blue-700":"text-gray-700"),children:[e.icon," ",e.name]})},e.id))})]})]}),(0,$r.jsxs)("div",{className:"space-y-3",children:[(0,$r.jsx)(gn,{variant:"success",onClick:()=>a(i),icon:vn,className:"w-full py-4 text-lg",children:"Procesar Pago y Completar Check-out"}),(0,$r.jsx)(gn,{variant:"outline",onClick:s,className:"w-full",children:"Cancelar"})]})]})})]})},sE=()=>{const[e,r]=(0,t.useState)(null),[n,a]=(0,t.useState)(1),[s,i]=(0,t.useState)(0),[o,l]=(0,t.useState)(!1),[u,d]=(0,t.useState)(null),[h,f]=(0,t.useState)([]),[p,m]=(0,t.useState)(null),[g,y]=(0,t.useState)(null),{floorRooms:v,snackTypes:x,snackItems:b,roomPrices:w,savedOrders:j,setSavedOrders:N,loading:k,error:S,createOrder:_,completeCheckout:O,checkStockAvailability:E,updateInventoryStock:C}=(()=>{const[e,r]=(0,t.useState)({}),[n,a]=(0,t.useState)([]),[s,i]=(0,t.useState)({}),[o,l]=(0,t.useState)({}),[u,d]=(0,t.useState)({}),[h,f]=(0,t.useState)(!0),[p,m]=(0,t.useState)(null);(0,t.useEffect)(()=>{(async()=>{f(!0);try{await Promise.all([y(),x(),w(),N()])}catch(p){console.error("Error loading from Supabase, using fallback data:",p);const t=g();r(t.rooms),a(t.types),i(t.items)}finally{f(!1)}})()},[]);const g=()=>({rooms:{1:Array.from({length:12},(e,t)=>({number:101+t,status:"available",type:"standard",price:80})),2:Array.from({length:12},(e,t)=>({number:201+t,status:"available",type:"deluxe",price:95})),3:Array.from({length:12},(e,t)=>({number:301+t,status:"available",type:"suite",price:110}))},types:[{id:"frutas",name:"FRUTAS"},{id:"bebidas",name:"BEBIDAS"},{id:"snacks",name:"SNACKS"}],items:{frutas:[{id:1,name:"Manzana",price:2.5},{id:2,name:"Pl\xe1tano",price:1.5}],bebidas:[{id:3,name:"Agua",price:1},{id:4,name:"Coca Cola",price:2.5}]}}),y=async()=>{try{const e=await Mi(async()=>{const{data:e,error:t}=await Di.from("rooms").select("*").order("number");if(t)throw t;return{data:e,error:null}});if(e.error||!e.data)return console.warn("Error loading rooms from Supabase, using fallback:",e.error),v();const t={},n={};return(e.data||[]).forEach(e=>{t[e.floor]||(t[e.floor]=[]),t[e.floor].push({number:e.number,status:e.status,type:e.type,price:parseFloat(e.price)}),n[e.floor]||(n[e.floor]=parseFloat(e.price))}),r(t),l(n),{grouped:t,prices:n}}catch(p){return console.error("Error cargando habitaciones:",p),m(p.message),v()}},v=()=>{const e={1:Array.from({length:12},(e,t)=>({number:101+t,status:2===t?"occupied":6===t?"checkout":"available",type:"standard",price:80})),2:Array.from({length:12},(e,t)=>({number:201+t,status:1===t||8===t?"occupied":4===t?"checkout":"available",type:"deluxe",price:95})),3:Array.from({length:12},(e,t)=>({number:301+t,status:3===t?"occupied":5===t?"checkout":"available",type:"suite",price:110}))},t={1:80,2:95,3:110};return r(e),l(t),{grouped:e,prices:t}},x=async()=>{try{const e=await Mi(async()=>{const{data:e,error:t}=await Di.from("service_types").select("*").eq("active",!0).order("name");if(t)throw t;return{data:e,error:null}});if(e.error||!e.data)return console.warn("Error loading service types, using fallback:",e.error),b();const t=(e.data||[]).map(e=>({id:e.id,name:e.name,description:e.description||e.name}));return a(t),t}catch(p){return console.error("Error cargando tipos de servicios:",p),m(p.message),b()}},b=()=>{const e=[{id:"frutas",name:"FRUTAS",description:"Frutas frescas y naturales"},{id:"bebidas",name:"BEBIDAS",description:"Bebidas fr\xedas y calientes"},{id:"snacks",name:"SNACKS",description:"Bocadillos y aperitivos"},{id:"postres",name:"POSTRES",description:"Dulces y postres"}];return a(e),e},w=async()=>{try{const e=await Mi(async()=>{const{data:e,error:t}=await Di.from("services").select("*").eq("available",!0).gt("stock_quantity",0).order("category, name");if(t)throw t;return{data:e,error:null}});if(e.error||!e.data)return console.warn("Error loading services, using fallback:",e.error),j();const t={};return(e.data||[]).forEach(e=>{const r=e.type_id||e.category||"otros";t[r]||(t[r]=[]),t[r].push({id:e.id,name:e.name,price:parseFloat(e.price),cost:parseFloat(e.cost||0),description:e.description,stock:e.stock_quantity,minStock:e.min_stock||0,unit:e.unit,category:e.category,type_id:e.type_id,stockLevel:e.stock_quantity<=(e.min_stock||0)?"LOW":e.stock_quantity<=1.5*(e.min_stock||0)?"MEDIUM":"HIGH"})}),i(t),t}catch(p){return console.error("Error cargando servicios:",p),m(p.message),j()}},j=()=>{const e={frutas:[{id:1,name:"Manzana",price:2.5,stock:50,description:"Manzana roja fresca"},{id:2,name:"Pl\xe1tano",price:1.5,stock:30,description:"Pl\xe1tano maduro"},{id:3,name:"Naranja",price:2,stock:40,description:"Naranja jugosa"},{id:4,name:"Uvas",price:4,stock:25,description:"Uvas verdes sin pepas"}],bebidas:[{id:6,name:"Agua",price:1,stock:100,description:"Agua mineral 500ml"},{id:7,name:"Coca Cola",price:2.5,stock:80,description:"Gaseosa 350ml"},{id:8,name:"Jugo de naranja",price:3,stock:60,description:"Jugo natural 300ml"},{id:9,name:"Caf\xe9",price:2,stock:45,description:"Caf\xe9 instant\xe1neo"}],snacks:[{id:11,name:"Papas fritas",price:3.5,stock:40,description:"Papas fritas cl\xe1sicas"},{id:12,name:"Galletas",price:2,stock:35,description:"Galletas de chocolate"},{id:13,name:"Nueces",price:4.5,stock:30,description:"Mix de nueces"},{id:14,name:"Chocolate",price:3,stock:25,description:"Chocolate premium"}],postres:[{id:16,name:"Helado",price:4,stock:30,description:"Helado de vainilla"},{id:17,name:"Torta",price:5.5,stock:18,description:"Porci\xf3n de torta"},{id:18,name:"Flan",price:3.5,stock:22,description:"Flan de caramelo"},{id:19,name:"Brownie",price:4.5,stock:20,description:"Brownie con nueces"}]};return i(e),e},N=async()=>{try{const e=await Mi(async()=>{const{data:e,error:t}=await Di.from("orders").select("\n            *,\n            order_services (\n              quantity,\n              unit_price,\n              total_price,\n              services (\n                id,\n                name\n              )\n            )\n          ").eq("status","active").order("created_at",{ascending:!1});if(t)throw t;return{data:e,error:null}});if(e.error||!e.data)return console.warn("Error loading orders, using empty state:",e.error),d({}),{};const t={};return(e.data||[]).forEach(e=>{var r;const n=(null===(r=e.order_services)||void 0===r?void 0:r.map(e=>{var t,r;return{id:null===(t=e.services)||void 0===t?void 0:t.id,name:null===(r=e.services)||void 0===r?void 0:r.name,price:parseFloat(e.unit_price),quantity:e.quantity}}))||[];t[e.room_number]={room:{number:e.room_number,status:"occupied"},roomPrice:parseFloat(e.room_price),snacks:n,total:parseFloat(e.total),checkInDate:e.check_in_date,guestName:e.guest_name,orderId:e.id}}),d(t),t}catch(p){return console.error("Error cargando \xf3rdenes activas:",p),m(p.message),d({}),{}}},k=e=>{const t={id:Date.now(),room_number:e.room.number,guest_name:e.guestName,room_price:e.roomPrice,total:e.total,check_in_date:e.checkInDate,status:"active"};return d(r=>c(c({},r),{},{[e.room.number]:{room:e.room,roomPrice:e.roomPrice,snacks:e.snacks,total:e.total,checkInDate:e.checkInDate,guestName:e.guestName,orderId:t.id}})),{success:!0,data:t,local:!0}},S=async(e,t)=>{try{const r=await Mi(async()=>{const{data:t,error:r}=await Di.from("services").select("stock_quantity, name").eq("id",e).single();return{data:t,error:r}});if(r.error)return console.warn("Could not get service stock:",r.error),{success:!1,error:r.error};const n=r.data,a=n.stock_quantity+t;if(a<0)throw new Error("Stock insuficiente para ".concat(n.name,". Stock actual: ").concat(n.stock_quantity,", solicitado: ").concat(Math.abs(t)));const s=await Mi(async()=>{const{error:t}=await Di.from("services").update({stock_quantity:a}).eq("id",e);return{data:null,error:t}});return s.error?(console.warn("Could not update service stock:",s.error),{success:!1,error:s.error}):{success:!0,newStock:a}}catch(p){return console.error("Error actualizando stock de servicio:",p),{success:!1,error:p.message}}},_=(e,t)=>(d(t=>{const r=c({},t);return delete r[e],r}),r(t=>{const r=c({},t);return Object.keys(r).forEach(t=>{r[t]=r[t].map(t=>t.number===e?c(c({},t),{},{status:"checkout"}):t)}),r}),{success:!0,local:!0}),O=async()=>{f(!0),m(null);try{await Promise.all([y(),x(),w(),N()])}catch(p){console.error("Error refrescando datos:",p),m(p.message)}finally{f(!1)}},E=S;return(0,t.useEffect)(()=>{let e,t,r;try{e=Di.channel("rooms_changes").on("postgres_changes",{event:"*",schema:"public",table:"rooms"},e=>{console.log("Cambio en habitaciones:",e),y()}).subscribe(),t=Di.channel("services_changes").on("postgres_changes",{event:"*",schema:"public",table:"services"},e=>{console.log("Cambio en servicios:",e),w()}).subscribe(),r=Di.channel("orders_changes").on("postgres_changes",{event:"*",schema:"public",table:"orders"},e=>{console.log("Cambio en \xf3rdenes:",e),N()}).subscribe()}catch(n){console.warn("Could not setup realtime subscriptions:",n)}return()=>{try{e&&Di.removeChannel(e),t&&Di.removeChannel(t),r&&Di.removeChannel(r)}catch(n){console.warn("Error cleaning up subscriptions:",n)}}},[]),(0,t.useEffect)(()=>{O()},[]),{floorRooms:e,snackTypes:n,snackItems:s,roomPrices:o,savedOrders:u,setSavedOrders:d,loading:h,error:p,createOrder:async e=>{try{let a=null;try{const t=await Mi(async()=>{const{data:t,error:r}=await Di.from("guests").select("id").eq("full_name",e.guestName).single();return{data:t,error:r}});t.data&&(a=t.data.id)}catch(t){console.warn("Could not find guest, proceeding without guest_id:",t)}const s=await Mi(async()=>{const{data:t,error:r}=await Di.from("orders").insert([{room_number:e.room.number,guest_name:e.guestName,guest_id:a,room_price:e.roomPrice,services_total:e.total-e.roomPrice,total:e.total,check_in_date:e.checkInDate,check_in_time:(new Date).toISOString(),status:"active"}]).select().single();return{data:t,error:r}});if(s.error)return console.warn("Could not create order in database:",s.error),k(e);const i=s.data;if(e.snacks&&e.snacks.length>0)try{const t=e.snacks.map(e=>({order_id:i.id,service_id:e.id,quantity:e.quantity,unit_price:e.price,total_price:e.price*e.quantity})),r=await Mi(async()=>{const{error:e}=await Di.from("order_services").insert(t);return{data:null,error:e}});r.error&&console.warn("Could not create order services:",r.error);for(const n of e.snacks)await S(n.id,-n.quantity)}catch(r){console.warn("Error creating services for order:",r)}try{await Mi(async()=>{const{error:t}=await Di.from("rooms").update({status:"occupied"}).eq("number",e.room.number);return{data:null,error:t}})}catch(n){console.warn("Could not update room status:",n)}return await Promise.all([N(),y(),w()]),{success:!0,data:i}}catch(p){return console.error("Error creando orden:",p),k(e)}},completeCheckout:async(e,t)=>{try{const n=await Mi(async()=>{const{error:r}=await Di.from("orders").update({status:"completed",check_out_date:(new Date).toISOString().split("T")[0],check_out_time:(new Date).toISOString(),payment_method:t,payment_status:"paid"}).eq("room_number",e).eq("status","active");return{data:null,error:r}});if(n.error)return console.warn("Could not complete order in database:",n.error),_(e,t);try{await Mi(async()=>{const{error:t}=await Di.from("rooms").update({status:"checkout"}).eq("number",e);return{data:null,error:t}})}catch(r){console.warn("Could not update room status:",r)}return await Promise.all([N(),y()]),{success:!0}}catch(p){return console.error("Error completando checkout:",p),_(e,t)}},updateInventoryStock:E,checkStockAvailability:(e,t)=>{for(const r of Object.values(s)){const n=r.find(t=>t.id===e);if(n)return{available:n.stock>=t,currentStock:n.stock,requested:t,shortfall:Math.max(0,t-n.stock),name:n.name}}return{available:!0,currentStock:100,requested:t,shortfall:0}},getLowStockItems:()=>{const e=[];return Object.values(s).forEach(t=>{t.forEach(t=>{"LOW"===t.stockLevel&&e.push(c(c({},t),{},{category:Object.keys(s).find(e=>s[e].some(e=>e.id===t.id))}))})}),e},refreshData:O,loadRooms:y,loadSnackTypes:x,loadSnackItems:w,loadActiveOrders:N}})(),[P,A]=(0,t.useState)(()=>{const e=new Set;return v&&"object"===typeof v&&Object.values(v).forEach(t=>{Array.isArray(t)&&t.forEach(t=>{t&&"checkout"===t.status&&e.add(t.number)})}),e}),[T,D]=(0,t.useState)(new Set),M=function(e){y({message:e,type:arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success"}),setTimeout(()=>y(null),3e3)},I=async e=>{A(t=>{const r=new Set(t);return r.delete(e),r}),D(t=>{const r=new Set(t);return r.add(e),r});try{const{error:t}=await Di.from("rooms").update({status:"available"}).eq("number",e);t&&console.error("Error actualizando estado de habitaci\xf3n:",t),M("Habitaci\xf3n ".concat(e," marcada como limpia y disponible"),"info")}catch(t){console.error("Error actualizando habitaci\xf3n:",t),M("Habitaci\xf3n ".concat(e," marcada como limpia localmente"),"info")}},R=e=>{f(h.filter(t=>t.id!==e))},L=async()=>{if(!p)return;const e=h.reduce((e,t)=>e+t.price*t.quantity,0),t={room:p.room,roomPrice:p.roomPrice,snacks:h,total:p.roomPrice+e,guestName:"Hu\xe9sped ".concat(p.room.number),checkInDate:(new Date).toISOString().split("T")[0],checkInTime:(new Date).toISOString()},r=await _(t);r.success?(M("Check-in completado exitosamente!\nHabitaci\xf3n ".concat(t.room.number," - Total: ").concat(t.total.toFixed(2)),"success"),D(e=>{const r=new Set(e);return r.delete(t.room.number),r}),z()):M("Error en check-in: ".concat(r.error),"error")},z=()=>{i(0),d(null),f([]),m(null),r(null),l(!1)};return k||!v||0===Object.keys(v).length?(0,$r.jsx)("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center",children:(0,$r.jsxs)("div",{className:"text-center",children:[(0,$r.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),(0,$r.jsx)("p",{className:"text-gray-600",children:k?"Cargando datos desde Supabase...":"Cargando datos..."}),S&&(0,$r.jsxs)("p",{className:"text-red-600 text-sm mt-2",children:["Error: ",S]})]})}):(0,$r.jsx)("div",{className:"min-h-screen bg-gray-100 p-6",children:(0,$r.jsxs)("div",{className:"max-w-6xl mx-auto",children:[(0,$r.jsx)("div",{className:"text-center mb-8",children:(0,$r.jsx)("h1",{className:"text-4xl font-bold text-gray-800 mb-2",children:"Reception Panel"})}),g&&(0,$r.jsx)("div",{className:"fixed top-4 right-4 z-50 max-w-md p-4 rounded-lg shadow-lg border-l-4 transition-all duration-300 transform ".concat("success"===g.type?"bg-green-50 border-green-500 text-green-800":"info"===g.type?"bg-blue-50 border-blue-500 text-blue-800":"bg-red-50 border-red-500 text-red-800"),children:(0,$r.jsxs)("div",{className:"flex items-start",children:[(0,$r.jsxs)("div",{className:"flex-shrink-0 mr-3",children:["success"===g.type&&(0,$r.jsx)("div",{className:"w-6 h-6 bg-green-500 rounded-full flex items-center justify-center",children:(0,$r.jsx)("svg",{className:"w-4 h-4 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:(0,$r.jsx)("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})}),"info"===g.type&&(0,$r.jsx)("div",{className:"w-6 h-6 bg-blue-500 rounded-full flex items-center justify-center",children:(0,$r.jsx)("svg",{className:"w-4 h-4 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:(0,$r.jsx)("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})})})]}),(0,$r.jsx)("div",{className:"flex-1",children:(0,$r.jsx)("div",{className:"font-semibold text-sm whitespace-pre-line",children:g.message})}),(0,$r.jsx)("button",{onClick:()=>y(null),className:"flex-shrink-0 ml-3 text-gray-400 hover:text-gray-600",children:(0,$r.jsx)("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:(0,$r.jsx)("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]})}),0===s&&(0,$r.jsxs)("div",{className:"flex justify-center space-x-4 mb-8",children:[(0,$r.jsx)(gn,{variant:o?"outline":"primary",size:"lg",icon:hn,onClick:()=>{l(!1),r(null),i(0)},className:"px-8 py-4 text-lg",children:"Check In"}),(0,$r.jsx)(gn,{variant:o?"danger":"outline",size:"lg",icon:zn,onClick:()=>{l(!0),r(null),i(0)},className:"px-8 py-4 text-lg",children:"Check Out"})]}),(0,$r.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[0===s&&(0,$r.jsx)(rE,{floorRooms:v||{},selectedFloor:n,selectedRoom:e,checkoutMode:o,savedOrders:j||{},roomsNeedingCleaning:P,cleanedRooms:T,onFloorChange:e=>{a(e),r(null)},onRoomClick:e=>{if(!e)return;const t=(e=>e?T.has(e.number)?"available":P.has(e.number)||"checkout"===e.status?"cleaning":j&&j[e.number]?"occupied":e.status||"available":"available")(e);if(o)j&&j[e.number]&&(r(e),m(j[e.number]),i(1),f(j[e.number].snacks||[]));else if("cleaning"===t)I(e.number);else if("available"===t){r(e);const t=w&&w[n]?w[n]:80;m({room:e,roomPrice:t,snacks:[],total:t}),i(1)}},onNext:()=>{}}),1===s&&(0,$r.jsx)(nE,{currentOrder:p,selectedSnackType:u,selectedSnacks:h,snackTypes:x||[],snackItems:b||{},checkoutMode:o,onBack:()=>i(0),onSnackTypeSelect:e=>{d(e)},onSnackSelect:e=>{if(!e)return;const t=E(e.id,1);if(!t.available)return void M("Stock insuficiente para ".concat(e.name,". Stock actual: ").concat(t.currentStock),"error");const r=h.find(t=>t.id===e.id);if(r){const t=r.quantity+1,n=E(e.id,t);if(!n.available)return void M("Stock insuficiente para ".concat(e.name,". Stock actual: ").concat(n.currentStock),"error");f(h.map(r=>r.id===e.id?c(c({},r),{},{quantity:t}):r))}else f([...h,c(c({},e),{},{quantity:1})])},onSnackRemove:R,onQuantityUpdate:(e,t)=>{if(t<=0)R(e);else{const r=E(e,t);if(!r.available){const t=h.find(t=>t.id===e);return void M("Stock insuficiente para ".concat(null===t||void 0===t?void 0:t.name,". Stock actual: ").concat(r.currentStock),"error")}f(h.map(r=>r.id===e?c(c({},r),{},{quantity:t}):r))}},onConfirmOrder:L,onConfirmRoomOnly:L,onCancelOrder:z,onProceedToPayment:()=>{if(!p)return;const e=h.reduce((e,t)=>e+t.price*t.quantity,0),t=(p.snacks||[]).reduce((e,t)=>e+t.price*t.quantity,0),r=[...p.snacks||[],...h],n=c(c({},p),{},{snacks:r,total:p.roomPrice+t+e});m(n),i(2)}}),2===s&&o&&(0,$r.jsx)(aE,{currentOrder:p,onBack:()=>i(1),onProcessPayment:async e=>{if(!p)return;const t=await O(p.room.number,e);t.success?(M("Pago procesado exitosamente!\nHabitaci\xf3n: ".concat(p.room.number,"\nTotal: ").concat(p.total.toFixed(2),"\nM\xe9todo: ").concat(e),"success"),D(e=>{const t=new Set(e);return t.delete(p.room.number),t}),A(e=>new Set(e).add(p.room.number)),z()):M("Error procesando pago: ".concat(t.error),"error")},onCancel:z})]})]})})},iE=Vr("upload",[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]]),oE=Vr("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]]),lE=Vr("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),cE={PENDING:"pending",CONFIRMED:"confirmed",CHECKED_IN:"checked_in",CHECKED_OUT:"checked_out",CANCELLED:"cancelled",NO_SHOW:"no_show"},uE={PENDING:"pending",PARTIAL:"partial",PAID:"paid",REFUNDED:"refunded"},dE=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const[r,n]=(0,t.useState)([]),[a,s]=(0,t.useState)([]),[i,o]=(0,t.useState)(!0),[l,u]=(0,t.useState)(null),[d,h]=(0,t.useState)(c({status:"",dateRange:"",search:"",source:"",paymentStatus:""},e)),[f,p]=(0,t.useState)({page:1,limit:10,total:0}),m=(0,t.useCallback)(async()=>{try{o(!0),u(null);const{data:e,error:t}=await Di.from("reservations").select("\n          *,\n          guest:guests(\n            id,\n            full_name,\n            email,\n            phone,\n            dni,\n            nationality\n          ),\n          room:rooms(\n            id,\n            number,\n            type,\n            floor,\n            price\n          )\n        ").order("created_at",{ascending:!1});if(t)throw t;const r=e.map(e=>{var t,r,n,a,s,i,o,l,c,u,d,h;return{id:e.id,confirmationCode:e.confirmation_code,guest:{id:null===(t=e.guest)||void 0===t?void 0:t.id,name:null===(r=e.guest)||void 0===r?void 0:r.full_name,email:null===(n=e.guest)||void 0===n?void 0:n.email,phone:null===(a=e.guest)||void 0===a?void 0:a.phone,dni:null===(s=e.guest)||void 0===s?void 0:s.dni,nationality:null===(i=e.guest)||void 0===i?void 0:i.nationality},room:{id:null===(o=e.room)||void 0===o?void 0:o.id,number:null===(l=e.room)||void 0===l||null===(c=l.number)||void 0===c?void 0:c.toString(),type:null===(u=e.room)||void 0===u?void 0:u.type,floor:null===(d=e.room)||void 0===d?void 0:d.floor,price:null===(h=e.room)||void 0===h?void 0:h.price},checkIn:e.check_in_date,checkOut:e.check_out_date,adults:e.adults,children:e.children,status:e.status,totalAmount:parseFloat(e.total_amount),paidAmount:parseFloat(e.paid_amount||0),paymentStatus:e.payment_status,source:e.booking_source,specialRequests:e.special_requests,cancellationReason:e.cancellation_reason,createdAt:e.created_at,updatedAt:e.updated_at}});n(r)}catch(e){console.error("Error fetching reservations:",e),u(e.message),Rr.error("Error al cargar las reservas")}finally{o(!1)}},[]);(0,t.useEffect)(()=>{m()},[m]),(0,t.useEffect)(()=>{let e=[...r];if(d.status&&(e=e.filter(e=>e.status===d.status)),d.paymentStatus&&(e=e.filter(e=>e.paymentStatus===d.paymentStatus)),d.search){const t=d.search.toLowerCase();e=e.filter(e=>{var r,n,a,s,i;return(null===(r=e.guest.name)||void 0===r?void 0:r.toLowerCase().includes(t))||(null===(n=e.confirmationCode)||void 0===n?void 0:n.toLowerCase().includes(t))||(null===(a=e.guest.email)||void 0===a?void 0:a.toLowerCase().includes(t))||(null===(s=e.room.number)||void 0===s?void 0:s.includes(t))||(null===(i=e.guest.dni)||void 0===i?void 0:i.includes(t))})}if(d.source&&(e=e.filter(e=>e.source===d.source)),d.dateRange){const t=new Date;let r,n;switch(d.dateRange){case"today":r=new Date(t),n=new Date(t);break;case"tomorrow":r=new Date(t),r.setDate(t.getDate()+1),n=new Date(r);break;case"this_week":r=new Date(t),n=new Date(t),n.setDate(t.getDate()+7);break;case"next_week":r=new Date(t),r.setDate(t.getDate()+7),n=new Date(r),n.setDate(r.getDate()+7);break;case"this_month":r=new Date(t.getFullYear(),t.getMonth(),1),n=new Date(t.getFullYear(),t.getMonth()+1,0);break;default:r=null,n=null}r&&n&&(e=e.filter(e=>{const t=new Date(e.checkIn);return t>=r&&t<=n}))}s(e),p(t=>c(c({},t),{},{total:e.length,page:1}))},[r,d]);const g=(0,t.useCallback)(async e=>{try{var t,r,a,s,i,o,c,u,d,h,f,p;const l=await(async()=>{const{data:e,error:t}=await Di.rpc("generate_confirmation_code");return t?(console.error("Error generating confirmation code:",t),"HTP-".concat((new Date).getFullYear(),"-").concat(Math.random().toString(36).substr(2,6).toUpperCase())):e||"HTP-".concat((new Date).getFullYear(),"-").concat(Math.random().toString(36).substr(2,6).toUpperCase())})(),m={guest_id:e.guestId,room_id:e.roomId,confirmation_code:l,check_in_date:e.checkIn,check_out_date:e.checkOut,adults:e.adults||1,children:e.children||0,status:cE.CONFIRMED,total_amount:e.totalAmount,paid_amount:e.paidAmount||0,payment_status:e.paymentStatus||uE.PENDING,booking_source:e.source||"direct",special_requests:e.specialRequests||null},{data:g,error:y}=await Di.from("reservations").insert([m]).select("\n          *,\n          guest:guests(\n            id,\n            full_name,\n            email,\n            phone,\n            dni,\n            nationality\n          ),\n          room:rooms(\n            id,\n            number,\n            type,\n            floor,\n            price\n          )\n        ").single();if(y)throw y;const v={id:g.id,confirmationCode:g.confirmation_code,guest:{id:null===(t=g.guest)||void 0===t?void 0:t.id,name:null===(r=g.guest)||void 0===r?void 0:r.full_name,email:null===(a=g.guest)||void 0===a?void 0:a.email,phone:null===(s=g.guest)||void 0===s?void 0:s.phone,dni:null===(i=g.guest)||void 0===i?void 0:i.dni,nationality:null===(o=g.guest)||void 0===o?void 0:o.nationality},room:{id:null===(c=g.room)||void 0===c?void 0:c.id,number:null===(u=g.room)||void 0===u||null===(d=u.number)||void 0===d?void 0:d.toString(),type:null===(h=g.room)||void 0===h?void 0:h.type,floor:null===(f=g.room)||void 0===f?void 0:f.floor,price:null===(p=g.room)||void 0===p?void 0:p.price},checkIn:g.check_in_date,checkOut:g.check_out_date,adults:g.adults,children:g.children,status:g.status,totalAmount:parseFloat(g.total_amount),paidAmount:parseFloat(g.paid_amount||0),paymentStatus:g.payment_status,source:g.booking_source,specialRequests:g.special_requests,createdAt:g.created_at};return n(e=>[v,...e]),Rr.success("Reserva creada exitosamente. C\xf3digo: ".concat(l)),v}catch(l){throw console.error("Error creating reservation:",l),Rr.error("Error al crear la reserva: "+l.message),l}},[]),y=(0,t.useCallback)(async(e,t)=>{try{const r={};void 0!==t.guestId&&(r.guest_id=t.guestId),void 0!==t.roomId&&(r.room_id=t.roomId),void 0!==t.checkIn&&(r.check_in_date=t.checkIn),void 0!==t.checkOut&&(r.check_out_date=t.checkOut),void 0!==t.adults&&(r.adults=t.adults),void 0!==t.children&&(r.children=t.children),void 0!==t.status&&(r.status=t.status),void 0!==t.totalAmount&&(r.total_amount=t.totalAmount),void 0!==t.paidAmount&&(r.paid_amount=t.paidAmount),void 0!==t.paymentStatus&&(r.payment_status=t.paymentStatus),void 0!==t.source&&(r.booking_source=t.source),void 0!==t.specialRequests&&(r.special_requests=t.specialRequests),void 0!==t.cancellationReason&&(r.cancellation_reason=t.cancellationReason);const{data:a,error:s}=await Di.from("reservations").update(r).eq("id",e).select("\n          *,\n          guest:guests(\n            id,\n            full_name,\n            email,\n            phone,\n            dni,\n            nationality\n          ),\n          room:rooms(\n            id,\n            number,\n            type,\n            floor,\n            price\n          )\n        ").single();if(s)throw s;return n(r=>r.map(r=>r.id===e?c(c(c({},r),t),{},{updatedAt:a.updated_at}):r)),Rr.success("Reserva actualizada exitosamente"),a}catch(l){throw console.error("Error updating reservation:",l),Rr.error("Error al actualizar la reserva: "+l.message),l}},[]),v=(0,t.useCallback)(async e=>{try{const{error:t}=await Di.from("reservations").delete().eq("id",e);if(t)throw t;n(t=>t.filter(t=>t.id!==e)),Rr.success("Reserva eliminada exitosamente")}catch(l){throw console.error("Error deleting reservation:",l),Rr.error("Error al eliminar la reserva: "+l.message),l}},[]),x=(0,t.useCallback)(async function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};try{const n={[cE.CONFIRMED]:"confirmada",[cE.CHECKED_IN]:"check-in realizado",[cE.CHECKED_OUT]:"check-out realizado",[cE.CANCELLED]:"cancelada",[cE.NO_SHOW]:"marcada como no-show"},a=c({status:t},r);await y(e,a),Rr.success("Reserva ".concat(n[t]||"actualizada"))}catch(l){throw Rr.error("Error al cambiar el estado de la reserva"),l}},[y]),b=(0,t.useCallback)(e=>r.find(t=>t.id===parseInt(e)),[r]),w=(0,t.useCallback)(async function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;try{const{data:n,error:a}=await Di.from("rooms").select("*").eq("status","available");if(a)throw a;const{data:s,error:i}=await Di.from("reservations").select("room_id").neq("status","cancelled").neq("status","checked_out").or("check_in_date.lte.".concat(t,",check_out_date.gte.").concat(e)).neq("id",r||0);if(i)throw i;const o=s.map(e=>e.room_id);return n.filter(e=>!o.includes(e.id)).map(e=>({id:e.id,number:e.number.toString(),type:e.type,floor:e.floor,price:parseFloat(e.price),capacity:e.capacity,amenities:e.amenities||[],description:e.description}))}catch(l){return console.error("Error fetching available rooms:",l),Rr.error("Error al obtener habitaciones disponibles"),[]}},[]),j=(0,t.useCallback)(()=>{const e=r.length,t=r.filter(e=>e.status===cE.PENDING).length,n=r.filter(e=>e.status===cE.CONFIRMED).length,a=r.filter(e=>e.status===cE.CHECKED_IN).length,s=r.filter(e=>e.status===cE.CHECKED_OUT).length,i=r.filter(e=>e.status===cE.CANCELLED).length,o=r.filter(e=>e.status===cE.NO_SHOW).length,l=r.filter(e=>e.status!==cE.CANCELLED).reduce((e,t)=>e+t.totalAmount,0),c=r.reduce((e,t)=>e+t.paidAmount,0);return{total:e,pending:t,confirmed:n,checkedIn:a,checkedOut:s,cancelled:i,noShow:o,totalRevenue:l,paidAmount:c,pendingPayments:l-c}},[r]),N=(0,t.useCallback)(()=>{const e=(f.page-1)*f.limit,t=e+f.limit;return a.slice(e,t)},[a,f]),k=(0,t.useCallback)(e=>r.filter(t=>new Date(t.checkIn).toDateString()===new Date(e).toDateString()),[r]);return(0,t.useEffect)(()=>{const e=Di.channel("reservations_changes").on("postgres_changes",{event:"*",schema:"public",table:"reservations"},e=>{console.log("Reservation change detected:",e),m()}).subscribe();return()=>{e.unsubscribe()}},[m]),{reservations:N(),allReservations:a,loading:i,error:l,filters:d,setFilters:h,pagination:f,setPagination:p,createReservation:g,updateReservation:y,deleteReservation:v,changeReservationStatus:x,getReservationById:b,getAvailableRooms:w,getReservationStats:j,getReservationsByDate:k,refreshData:m,RESERVATION_STATUS:cE,PAYMENT_STATUS:uE}},hE=Vr("funnel",[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]]),fE={PENDING:"Pendiente",CONFIRMED:"Confirmada",CHECKED_IN:"Check-in",CHECKED_OUT:"Check-out",CANCELLED:"Cancelada",NO_SHOW:"No-show"},pE=["Direct","Booking.com","Expedia","Airbnb","Website","Phone","Walk-in"],mE=e=>{let{filters:t,onFiltersChange:r,loading:n}=e;const a=(e,t)=>{r(r=>c(c({},r),{},{[e]:t}))},s=t.status||t.dateRange||t.search||t.source,i=[{value:"",label:"Todos los estados"},...Object.values(fE).map(e=>({value:e,label:e}))],o=[{value:"",label:"Todas las fuentes"},...pE.map(e=>({value:e,label:e}))];return n?(0,$r.jsx)("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6",children:(0,$r.jsx)("div",{className:"animate-pulse",children:(0,$r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[...Array(4)].map((e,t)=>(0,$r.jsx)("div",{className:"h-10 bg-gray-200 rounded"},t))})})}):(0,$r.jsxs)("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6",children:[(0,$r.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,$r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,$r.jsx)(hE,{className:"w-5 h-5 text-gray-500"}),(0,$r.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Filtros"}),s&&(0,$r.jsx)("span",{className:"bg-blue-100 text-blue-800 text-xs font-medium px-2 py-1 rounded-full",children:"Activos"})]}),s&&(0,$r.jsxs)("button",{onClick:()=>{r({status:"",dateRange:"",search:"",source:""})},className:"flex items-center space-x-1 text-sm text-gray-500 hover:text-gray-700",children:[(0,$r.jsx)(HO,{size:16}),(0,$r.jsx)("span",{children:"Limpiar filtros"})]})]}),(0,$r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,$r.jsxs)("div",{className:"relative",children:[(0,$r.jsx)(In,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),(0,$r.jsx)("input",{type:"text",placeholder:"Buscar reservas...",value:t.search,onChange:e=>a("search",e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,$r.jsx)("select",{value:t.status,onChange:e=>a("status",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:i.map(e=>(0,$r.jsx)("option",{value:e.value,children:e.label},e.value))}),(0,$r.jsx)("select",{value:t.dateRange,onChange:e=>a("dateRange",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[{value:"",label:"Todas las fechas"},{value:"today",label:"Hoy"},{value:"tomorrow",label:"Ma\xf1ana"},{value:"this_week",label:"Esta semana"},{value:"next_week",label:"Pr\xf3xima semana"}].map(e=>(0,$r.jsx)("option",{value:e.value,children:e.label},e.value))}),(0,$r.jsx)("select",{value:t.source,onChange:e=>a("source",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:o.map(e=>(0,$r.jsx)("option",{value:e.value,children:e.label},e.value))})]})]})},gE=Vr("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),yE=Vr("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),vE=Vr("trash-2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),xE=e=>{let{reservations:t,loading:r,onStatusChange:n,onDelete:a}=e;const s=e=>{switch(e){case fE.CONFIRMED:return"bg-green-100 text-green-800 border-green-200";case fE.PENDING:return"bg-yellow-100 text-yellow-800 border-yellow-200";case fE.CHECKED_IN:return"bg-blue-100 text-blue-800 border-blue-200";case fE.CHECKED_OUT:return"bg-gray-100 text-gray-800 border-gray-200";case fE.CANCELLED:return"bg-red-100 text-red-800 border-red-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},i=e=>{let{reservation:t}=e;const r=[];switch(t.status){case fE.PENDING:r.push({label:"Confirmar",action:()=>n(t.id,fE.CONFIRMED),icon:gE,color:"success"},{label:"Cancelar",action:()=>n(t.id,fE.CANCELLED),icon:yE,color:"danger"});break;case fE.CONFIRMED:r.push({label:"Check-in",action:()=>n(t.id,fE.CHECKED_IN),icon:gE,color:"primary"});break;case fE.CHECKED_IN:r.push({label:"Check-out",action:()=>n(t.id,fE.CHECKED_OUT),icon:gE,color:"success"})}return(0,$r.jsx)("div",{className:"flex space-x-2",children:r.map((e,t)=>(0,$r.jsx)(gn,{size:"sm",variant:e.color,onClick:e.action,icon:e.icon,className:"text-xs px-3 py-1",children:e.label},t))})};return r?(0,$r.jsx)("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100",children:(0,$r.jsx)("div",{className:"p-6",children:(0,$r.jsx)("div",{className:"animate-pulse space-y-4",children:[...Array(5)].map((e,t)=>(0,$r.jsx)("div",{className:"border border-gray-200 rounded-lg p-4",children:(0,$r.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,$r.jsx)("div",{className:"w-12 h-12 bg-gray-200 rounded-full"}),(0,$r.jsxs)("div",{className:"flex-1 space-y-2",children:[(0,$r.jsx)("div",{className:"h-4 bg-gray-200 rounded w-1/3"}),(0,$r.jsx)("div",{className:"h-3 bg-gray-200 rounded w-1/2"})]}),(0,$r.jsx)("div",{className:"w-20 h-8 bg-gray-200 rounded"})]})},t))})})}):(0,$r.jsxs)("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100",children:[(0,$r.jsx)("div",{className:"p-6 border-b border-gray-200",children:(0,$r.jsxs)("span",{className:"text-lg font-semibold text-gray-900",children:[t.length," reserva",1!==t.length?"s":""]})}),(0,$r.jsx)("div",{className:"divide-y divide-gray-200",children:t.map(e=>(0,$r.jsx)("div",{className:"p-6 hover:bg-gray-50 transition-colors",children:(0,$r.jsxs)("div",{className:"flex items-start space-x-4",children:[(0,$r.jsx)("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center text-white font-semibold flex-shrink-0",children:e.guest.name.split(" ").map(e=>e[0]).join("")}),(0,$r.jsx)("div",{className:"flex-1 min-w-0",children:(0,$r.jsxs)("div",{className:"flex items-start justify-between",children:[(0,$r.jsxs)("div",{className:"flex-1",children:[(0,$r.jsxs)("div",{className:"flex items-center space-x-3 mb-3",children:[(0,$r.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:e.guest.name}),(0,$r.jsx)("span",{className:pn()("px-3 py-1 rounded-full text-xs font-semibold border",s(e.status)),children:e.status}),(0,$r.jsxs)("span",{className:"text-sm text-gray-500",children:["#",e.confirmationCode]})]}),(0,$r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[(0,$r.jsxs)("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[(0,$r.jsx)(xn,{size:16}),(0,$r.jsxs)("span",{children:["Habitaci\xf3n ",e.room.number]})]}),(0,$r.jsxs)("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[(0,$r.jsx)(_n,{size:16}),(0,$r.jsxs)("span",{children:[XO(e.checkIn)," - ",XO(e.checkOut)]})]}),(0,$r.jsxs)("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[(0,$r.jsx)(sn,{size:16}),(0,$r.jsxs)("span",{children:[e.guests," hu\xe9sped",e.guests>1?"es":""]})]})]}),(0,$r.jsx)("div",{className:"mb-4",children:(0,$r.jsxs)("span",{className:"text-lg font-semibold text-gray-900",children:["Total: ",YO(e.totalAmount)]})}),(0,$r.jsx)(i,{reservation:e})]}),(0,$r.jsxs)("div",{className:"flex items-center space-x-2 ml-4",children:[(0,$r.jsx)(gn,{size:"sm",variant:"outline",icon:dn,onClick:()=>console.log("View reservation",e.id),children:"Ver"}),(0,$r.jsx)(gn,{size:"sm",variant:"danger",icon:vE,onClick:()=>a(e.id),children:"Eliminar"})]})]})})]})},e.id))})]})},bE=e=>{let{stats:t,loading:r}=e;const n=[{title:"Total Reservas",value:t.total,icon:_n,color:"blue",description:"Todas las reservas"},{title:"Confirmadas",value:t.confirmed,icon:gE,color:"green",description:"Reservas confirmadas"},{title:"Pendientes",value:t.pending,icon:Vn,color:"yellow",description:"Esperando confirmaci\xf3n"}];return r?(0,$r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[...Array(3)].map((e,t)=>(0,$r.jsx)("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6",children:(0,$r.jsx)("div",{className:"animate-pulse",children:(0,$r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,$r.jsxs)("div",{className:"space-y-2 flex-1",children:[(0,$r.jsx)("div",{className:"h-4 bg-gray-200 rounded w-3/4"}),(0,$r.jsx)("div",{className:"h-8 bg-gray-200 rounded w-1/2"}),(0,$r.jsx)("div",{className:"h-3 bg-gray-200 rounded w-2/3"})]}),(0,$r.jsx)("div",{className:"w-12 h-12 bg-gray-200 rounded-lg"})]})})},t))}):(0,$r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:n.map((e,t)=>{const r=(e=>{const t={blue:{bg:"bg-blue-50",icon:"text-blue-600",border:"border-blue-200"},green:{bg:"bg-green-50",icon:"text-green-600",border:"border-green-200"},yellow:{bg:"bg-yellow-50",icon:"text-yellow-600",border:"border-yellow-200"}};return t[e]||t.blue})(e.color),n=e.icon;return(0,$r.jsx)("div",{className:"bg-white rounded-xl shadow-lg border ".concat(r.border," p-6 hover:shadow-xl transition-shadow duration-300"),children:(0,$r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,$r.jsxs)("div",{className:"flex-1",children:[(0,$r.jsx)("p",{className:"text-sm font-medium text-gray-600 mb-1",children:e.title}),(0,$r.jsx)("p",{className:"text-2xl font-bold text-gray-900 mb-1",children:e.value}),(0,$r.jsx)("p",{className:"text-xs text-gray-500",children:e.description})]}),(0,$r.jsx)("div",{className:"p-3 rounded-lg ".concat(r.bg),children:(0,$r.jsx)(n,{className:"w-6 h-6 ".concat(r.icon)})})]})},t)})})},wE=Vr("file-text",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]),jE=["_f"],NE=["name"],kE=["_f"],SE=["ref","message","type"],_E=["formControl"];var OE=e=>"checkbox"===e.type,EE=e=>e instanceof Date,CE=e=>null==e;const PE=e=>"object"===typeof e;var AE=e=>!CE(e)&&!Array.isArray(e)&&PE(e)&&!EE(e),TE=e=>AE(e)&&e.target?OE(e.target)?e.target.checked:e.target.value:e,DE=(e,t)=>e.has((e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e)(t)),ME="undefined"!==typeof window&&"undefined"!==typeof window.HTMLElement&&"undefined"!==typeof document;function IE(e){let t;const r=Array.isArray(e),n="undefined"!==typeof FileList&&e instanceof FileList;if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else{if(ME&&(e instanceof Blob||n)||!r&&!AE(e))return e;if(t=r?[]:{},r||(e=>{const t=e.constructor&&e.constructor.prototype;return AE(t)&&t.hasOwnProperty("isPrototypeOf")})(e))for(const r in e)e.hasOwnProperty(r)&&(t[r]=IE(e[r]));else t=e}return t}var RE=e=>/^\w*$/.test(e),LE=e=>void 0===e,zE=e=>Array.isArray(e)?e.filter(Boolean):[],FE=e=>zE(e.replace(/["|']|\]/g,"").split(/\.|\[/)),BE=(e,t,r)=>{if(!t||!AE(e))return r;const n=(RE(t)?[t]:FE(t)).reduce((e,t)=>CE(e)?e:e[t],e);return LE(n)||n===e?LE(e[t])?r:e[t]:n},UE=e=>"boolean"===typeof e,qE=(e,t,r)=>{let n=-1;const a=RE(t)?[t]:FE(t),s=a.length,i=s-1;for(;++n<s;){const t=a[n];let s=r;if(n!==i){const r=e[t];s=AE(r)||Array.isArray(r)?r:isNaN(+a[n+1])?{}:[]}if("__proto__"===t||"constructor"===t||"prototype"===t)return;e[t]=s,e=e[t]}};const HE="blur",VE="focusout",WE="onBlur",GE="onChange",$E="onSubmit",KE="onTouched",YE="all",XE="max",JE="min",QE="maxLength",ZE="minLength",eC="pattern",tC="required",rC="validate",nC=t.createContext(null);nC.displayName="HookFormContext";const aC=()=>t.useContext(nC);var sC=function(e,t,r){let n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];const a={defaultValues:t._defaultValues};for(const s in e)Object.defineProperty(a,s,{get:()=>{const a=s;return t._proxyFormState[a]!==YE&&(t._proxyFormState[a]=!n||YE),r&&(r[a]=!0),e[a]}});return a};const iC="undefined"!==typeof window?t.useLayoutEffect:t.useEffect;var oC=e=>"string"===typeof e,lC=(e,t,r,n,a)=>oC(e)?(n&&t.watch.add(e),BE(r,e,a)):Array.isArray(e)?e.map(e=>(n&&t.watch.add(e),BE(r,e))):(n&&(t.watchAll=!0),r);var cC=(e,t,r,n,a)=>t?c(c({},r[e]),{},{types:c(c({},r[e]&&r[e].types?r[e].types:{}),{},{[n]:a||!0})}):{},uC=e=>Array.isArray(e)?e:[e],dC=()=>{let e=[];return{get observers(){return e},next:t=>{for(const r of e)r.next&&r.next(t)},subscribe:t=>(e.push(t),{unsubscribe:()=>{e=e.filter(e=>e!==t)}}),unsubscribe:()=>{e=[]}}},hC=e=>CE(e)||!PE(e);function fC(e,t){if(hC(e)||hC(t))return e===t;if(EE(e)&&EE(t))return e.getTime()===t.getTime();const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(const a of r){const r=e[a];if(!n.includes(a))return!1;if("ref"!==a){const e=t[a];if(EE(r)&&EE(e)||AE(r)&&AE(e)||Array.isArray(r)&&Array.isArray(e)?!fC(r,e):r!==e)return!1}}return!0}var pC=e=>AE(e)&&!Object.keys(e).length,mC=e=>"file"===e.type,gC=e=>"function"===typeof e,yC=e=>{if(!ME)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},vC=e=>"select-multiple"===e.type,xC=e=>"radio"===e.type,bC=e=>yC(e)&&e.isConnected;function wC(e,t){const r=Array.isArray(t)?t:RE(t)?[t]:FE(t),n=1===r.length?e:function(e,t){const r=t.slice(0,-1).length;let n=0;for(;n<r;)e=LE(e)?n++:e[t[n++]];return e}(e,r),a=r.length-1,s=r[a];return n&&delete n[s],0!==a&&(AE(n)&&pC(n)||Array.isArray(n)&&function(e){for(const t in e)if(e.hasOwnProperty(t)&&!LE(e[t]))return!1;return!0}(n))&&wC(e,r.slice(0,-1)),e}var jC=e=>{for(const t in e)if(gC(e[t]))return!0;return!1};function NC(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=Array.isArray(e);if(AE(e)||r)for(const n in e)Array.isArray(e[n])||AE(e[n])&&!jC(e[n])?(t[n]=Array.isArray(e[n])?[]:{},NC(e[n],t[n])):CE(e[n])||(t[n]=!0);return t}function kC(e,t,r){const n=Array.isArray(e);if(AE(e)||n)for(const a in e)Array.isArray(e[a])||AE(e[a])&&!jC(e[a])?LE(t)||hC(r[a])?r[a]=Array.isArray(e[a])?NC(e[a],[]):c({},NC(e[a])):kC(e[a],CE(t)?{}:t[a],r[a]):r[a]=!fC(e[a],t[a]);return r}var SC=(e,t)=>kC(e,t,NC(t));const _C={value:!1,isValid:!1},OC={value:!0,isValid:!0};var EC=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(e=>e&&e.checked&&!e.disabled).map(e=>e.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!LE(e[0].attributes.value)?LE(e[0].value)||""===e[0].value?OC:{value:e[0].value,isValid:!0}:OC:_C}return _C},CC=(e,t)=>{let{valueAsNumber:r,valueAsDate:n,setValueAs:a}=t;return LE(e)?e:r?""===e?NaN:e?+e:e:n&&oC(e)?new Date(e):a?a(e):e};const PC={isValid:!1,value:null};var AC=e=>Array.isArray(e)?e.reduce((e,t)=>t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:e,PC):PC;function TC(e){const t=e.ref;return mC(t)?t.files:xC(t)?AC(e.refs).value:vC(t)?[...t.selectedOptions].map(e=>{let{value:t}=e;return t}):OE(t)?EC(e.refs).value:CC(LE(t.value)?e.ref.value:t.value,e)}var DC=e=>e instanceof RegExp,MC=e=>LE(e)?e:DC(e)?e.source:AE(e)?DC(e.value)?e.value.source:e.value:e,IC=e=>({isOnSubmit:!e||e===$E,isOnBlur:e===WE,isOnChange:e===GE,isOnAll:e===YE,isOnTouch:e===KE});const RC="AsyncFunction";var LC=e=>!!e&&!!e.validate&&!!(gC(e.validate)&&e.validate.constructor.name===RC||AE(e.validate)&&Object.values(e.validate).find(e=>e.constructor.name===RC)),zC=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(t=>e.startsWith(t)&&/^\.\w+/.test(e.slice(t.length))));const FC=(e,t,r,n)=>{for(const s of r||Object.keys(e)){const r=BE(e,s);if(r){const{_f:e}=r,i=a(r,jE);if(e){if(e.refs&&e.refs[0]&&t(e.refs[0],s)&&!n)return!0;if(e.ref&&t(e.ref,e.name)&&!n)return!0;if(FC(i,t))break}else if(AE(i)&&FC(i,t))break}}};function BC(e,t,r){const n=BE(e,r);if(n||RE(r))return{error:n,name:r};const a=r.split(".");for(;a.length;){const n=a.join("."),s=BE(t,n),i=BE(e,n);if(s&&!Array.isArray(s)&&r!==n)return{name:r};if(i&&i.type)return{name:n,error:i};if(i&&i.root&&i.root.type)return{name:"".concat(n,".root"),error:i.root};a.pop()}return{name:r}}var UC=(e,t,r)=>{const n=uC(BE(e,r));return qE(n,"root",t[r]),qE(e,r,n),e},qC=e=>oC(e);function HC(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"validate";if(qC(e)||Array.isArray(e)&&e.every(qC)||UE(e)&&!e)return{type:r,message:qC(e)?e:"",ref:t}}var VC=e=>AE(e)&&!DC(e)?e:{value:e,message:""},WC=async(e,t,r,n,a,s)=>{const{ref:i,refs:o,required:l,maxLength:u,minLength:d,min:h,max:f,pattern:p,validate:m,name:g,valueAsNumber:y,mount:v}=e._f,x=BE(r,g);if(!v||t.has(g))return{};const b=o?o[0]:i,w=e=>{a&&b.reportValidity&&(b.setCustomValidity(UE(e)?"":e||""),b.reportValidity())},j={},N=xC(i),k=OE(i),S=N||k,_=(y||mC(i))&&LE(i.value)&&LE(x)||yC(i)&&""===i.value||""===x||Array.isArray(x)&&!x.length,O=cC.bind(null,g,n,j),E=function(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:QE,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:ZE;const s=e?t:r;j[g]=c({type:e?n:a,message:s,ref:i},O(e?n:a,s))};if(s?!Array.isArray(x)||!x.length:l&&(!S&&(_||CE(x))||UE(x)&&!x||k&&!EC(o).isValid||N&&!AC(o).isValid)){const{value:e,message:t}=qC(l)?{value:!!l,message:l}:VC(l);if(e&&(j[g]=c({type:tC,message:t,ref:b},O(tC,t)),!n))return w(t),j}if(!_&&(!CE(h)||!CE(f))){let e,t;const r=VC(f),a=VC(h);if(CE(x)||isNaN(x)){const n=i.valueAsDate||new Date(x),s=e=>new Date((new Date).toDateString()+" "+e),o="time"==i.type,l="week"==i.type;oC(r.value)&&x&&(e=o?s(x)>s(r.value):l?x>r.value:n>new Date(r.value)),oC(a.value)&&x&&(t=o?s(x)<s(a.value):l?x<a.value:n<new Date(a.value))}else{const n=i.valueAsNumber||(x?+x:x);CE(r.value)||(e=n>r.value),CE(a.value)||(t=n<a.value)}if((e||t)&&(E(!!e,r.message,a.message,XE,JE),!n))return w(j[g].message),j}if((u||d)&&!_&&(oC(x)||s&&Array.isArray(x))){const e=VC(u),t=VC(d),r=!CE(e.value)&&x.length>+e.value,a=!CE(t.value)&&x.length<+t.value;if((r||a)&&(E(r,e.message,t.message),!n))return w(j[g].message),j}if(p&&!_&&oC(x)){const{value:e,message:t}=VC(p);if(DC(e)&&!x.match(e)&&(j[g]=c({type:eC,message:t,ref:i},O(eC,t)),!n))return w(t),j}if(m)if(gC(m)){const e=HC(await m(x,r),b);if(e&&(j[g]=c(c({},e),O(rC,e.message)),!n))return w(e.message),j}else if(AE(m)){let e={};for(const t in m){if(!pC(e)&&!n)break;const a=HC(await m[t](x,r),b,t);a&&(e=c(c({},a),O(t,a.message)),w(a.message),n&&(j[g]=e))}if(!pC(e)&&(j[g]=c({ref:b},e),!n))return j}return w(!0),j};const GC={mode:$E,reValidateMode:GE,shouldFocusError:!0};function $C(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=c(c({},GC),e),r={submitCount:0,isDirty:!1,isReady:!1,isLoading:gC(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1};const n={};let s,i=(AE(t.defaultValues)||AE(t.values))&&IE(t.defaultValues||t.values)||{},o=t.shouldUnregister?{}:IE(i),l={action:!1,mount:!1,watch:!1},u={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},d=0;const h={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let f=c({},h);const p={array:dC(),state:dC()},m=t.criteriaMode===YE,g=async e=>{if(!t.disabled&&(h.isValid||f.isValid||e)){const e=t.resolver?pC((await w()).errors):await j(n,!0);e!==r.isValid&&p.state.next({isValid:e})}},y=(e,n)=>{!t.disabled&&(h.isValidating||h.validatingFields||f.isValidating||f.validatingFields)&&((e||Array.from(u.mount)).forEach(e=>{e&&(n?qE(r.validatingFields,e,n):wC(r.validatingFields,e))}),p.state.next({validatingFields:r.validatingFields,isValidating:!pC(r.validatingFields)}))},v=(e,t,r,a)=>{const s=BE(n,e);if(s){const n=BE(o,e,LE(r)?BE(i,e):r);LE(n)||a&&a.defaultChecked||t?qE(o,e,t?n:TC(s._f)):S(e,n),l.mount&&g()}},x=(e,n,a,s,o)=>{let l=!1,c=!1;const u={name:e};if(!t.disabled){if(!a||s){(h.isDirty||f.isDirty)&&(c=r.isDirty,r.isDirty=u.isDirty=N(),l=c!==u.isDirty);const t=fC(BE(i,e),n);c=!!BE(r.dirtyFields,e),t?wC(r.dirtyFields,e):qE(r.dirtyFields,e,!0),u.dirtyFields=r.dirtyFields,l=l||(h.dirtyFields||f.dirtyFields)&&c!==!t}if(a){const t=BE(r.touchedFields,e);t||(qE(r.touchedFields,e,a),u.touchedFields=r.touchedFields,l=l||(h.touchedFields||f.touchedFields)&&t!==a)}l&&o&&p.state.next(u)}return l?u:{}},b=(e,n,a,i)=>{const o=BE(r.errors,e),l=(h.isValid||f.isValid)&&UE(n)&&r.isValid!==n;var u;if(t.delayError&&a?(u=()=>((e,t)=>{qE(r.errors,e,t),p.state.next({errors:r.errors})})(e,a),s=e=>{clearTimeout(d),d=setTimeout(u,e)},s(t.delayError)):(clearTimeout(d),s=null,a?qE(r.errors,e,a):wC(r.errors,e)),(a?!fC(o,a):o)||!pC(i)||l){const t=c(c(c({},i),l&&UE(n)?{isValid:n}:{}),{},{errors:r.errors,name:e});r=c(c({},r),t),p.state.next(t)}},w=async e=>{y(e,!0);const r=await t.resolver(o,t.context,((e,t,r,n)=>{const a={};for(const s of e){const e=BE(t,s);e&&qE(a,s,e._f)}return{criteriaMode:r,names:[...e],fields:a,shouldUseNativeValidation:n}})(e||u.mount,n,t.criteriaMode,t.shouldUseNativeValidation));return y(e),r},j=async function(e,n){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{valid:!0};for(const i in e){const l=e[i];if(l){const{_f:e}=l,c=a(l,kE);if(e){const a=u.array.has(e.name),c=l._f&&LC(l._f);c&&h.validatingFields&&y([i],!0);const d=await WC(l,u.disabled,o,m,t.shouldUseNativeValidation&&!n,a);if(c&&h.validatingFields&&y([i]),d[e.name]&&(s.valid=!1,n))break;!n&&(BE(d,e.name)?a?UC(r.errors,d,e.name):qE(r.errors,e.name,d[e.name]):wC(r.errors,e.name))}!pC(c)&&await j(c,n,s)}}return s.valid},N=(e,r)=>!t.disabled&&(e&&r&&qE(o,e,r),!fC(A(),i)),k=(e,t,r)=>lC(e,u,c({},l.mount?o:LE(t)?i:oC(e)?{[e]:t}:t),r,t),S=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a=BE(n,e);let s=t;if(a){const r=a._f;r&&(!r.disabled&&qE(o,e,CC(t,r)),s=yC(r.ref)&&CE(t)?"":t,vC(r.ref)?[...r.ref.options].forEach(e=>e.selected=s.includes(e.value)):r.refs?OE(r.ref)?r.refs.forEach(e=>{e.defaultChecked&&e.disabled||(Array.isArray(s)?e.checked=!!s.find(t=>t===e.value):e.checked=s===e.value||!!s)}):r.refs.forEach(e=>e.checked=e.value===s):mC(r.ref)?r.ref.value="":(r.ref.value=s,r.ref.type||p.state.next({name:e,values:IE(o)})))}(r.shouldDirty||r.shouldTouch)&&x(e,s,r.shouldTouch,r.shouldDirty,!0),r.shouldValidate&&P(e)},_=(e,t,r)=>{for(const a in t){if(!t.hasOwnProperty(a))return;const s=t[a],i=e+"."+a,o=BE(n,i);(u.array.has(e)||AE(s)||o&&!o._f)&&!EE(s)?_(i,s,r):S(i,s,r)}},O=function(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const s=BE(n,e),d=u.array.has(e),m=IE(t);qE(o,e,m),d?(p.array.next({name:e,values:IE(o)}),(h.isDirty||h.dirtyFields||f.isDirty||f.dirtyFields)&&a.shouldDirty&&p.state.next({name:e,dirtyFields:SC(i,o),isDirty:N(e,m)})):!s||s._f||CE(m)?S(e,m,a):_(e,m,a),zC(e,u)&&p.state.next(c({},r)),p.state.next({name:l.mount?e:void 0,values:IE(o)})},E=async e=>{l.mount=!0;const a=e.target;let i=a.name,d=!0;const v=BE(n,i),N=e=>{d=Number.isNaN(e)||EE(e)&&isNaN(e.getTime())||fC(e,BE(o,i,e))},k=IC(t.mode),S=IC(t.reValidateMode);if(v){let l,O;const E=a.type?TC(v._f):TE(e),C=e.type===HE||e.type===VE,A=!((_=v._f).mount&&(_.required||_.min||_.max||_.maxLength||_.minLength||_.pattern||_.validate))&&!t.resolver&&!BE(r.errors,i)&&!v._f.deps||((e,t,r,n,a)=>!a.isOnAll&&(!r&&a.isOnTouch?!(t||e):(r?n.isOnBlur:a.isOnBlur)?!e:!(r?n.isOnChange:a.isOnChange)||e))(C,BE(r.touchedFields,i),r.isSubmitted,S,k),T=zC(i,u,C);qE(o,i,E),C?(v._f.onBlur&&v._f.onBlur(e),s&&s(0)):v._f.onChange&&v._f.onChange(e);const D=x(i,E,C),M=!pC(D)||T;if(!C&&p.state.next({name:i,type:e.type,values:IE(o)}),A)return(h.isValid||f.isValid)&&("onBlur"===t.mode?C&&g():C||g()),M&&p.state.next(c({name:i},T?{}:D));if(!C&&T&&p.state.next(c({},r)),t.resolver){const{errors:e}=await w([i]);if(N(E),d){const t=BC(r.errors,n,i),a=BC(e,n,t.name||i);l=a.error,i=a.name,O=pC(e)}}else y([i],!0),l=(await WC(v,u.disabled,o,m,t.shouldUseNativeValidation))[i],y([i]),N(E),d&&(l?O=!1:(h.isValid||f.isValid)&&(O=await j(n,!0)));d&&(v._f.deps&&P(v._f.deps),b(i,O,l,D))}var _},C=(e,t)=>{if(BE(r.errors,t)&&e.focus)return e.focus(),1},P=async function(e){let a,s,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const o=uC(e);if(t.resolver){const t=await(async e=>{const{errors:t}=await w(e);if(e)for(const n of e){const e=BE(t,n);e?qE(r.errors,n,e):wC(r.errors,n)}else r.errors=t;return t})(LE(e)?e:o);a=pC(t),s=e?!o.some(e=>BE(t,e)):a}else e?(s=(await Promise.all(o.map(async e=>{const t=BE(n,e);return await j(t&&t._f?{[e]:t}:t)}))).every(Boolean),(s||r.isValid)&&g()):s=a=await j(n);return p.state.next(c(c(c({},!oC(e)||(h.isValid||f.isValid)&&a!==r.isValid?{}:{name:e}),t.resolver||!e?{isValid:a}:{}),{},{errors:r.errors})),i.shouldFocus&&!s&&FC(n,C,e?o:u.mount),s},A=e=>{const t=c({},l.mount?o:i);return LE(e)?t:oC(e)?BE(t,e):e.map(e=>BE(t,e))},T=(e,t)=>({invalid:!!BE((t||r).errors,e),isDirty:!!BE((t||r).dirtyFields,e),error:BE((t||r).errors,e),isValidating:!!BE(r.validatingFields,e),isTouched:!!BE((t||r).touchedFields,e)}),D=(e,t,s)=>{const i=(BE(n,e,{_f:{}})._f||{}).ref,o=BE(r.errors,e)||{},{ref:l,message:u,type:d}=o,h=a(o,SE);qE(r.errors,e,c(c(c({},h),t),{},{ref:i})),p.state.next({name:e,errors:r.errors,isValid:!1}),s&&s.shouldFocus&&i&&i.focus&&i.focus()},M=e=>p.state.subscribe({next:t=>{var n,s,i;n=e.name,s=t.name,i=e.exact,n&&s&&n!==s&&!uC(n).some(e=>e&&(i?e===s:e.startsWith(s)||s.startsWith(e)))||!((e,t,r,n)=>{r(e);const{name:s}=e,i=a(e,NE);return pC(i)||Object.keys(i).length>=Object.keys(t).length||Object.keys(i).find(e=>t[e]===(!n||YE))})(t,e.formState||h,q,e.reRenderRoot)||e.callback(c(c({values:c({},o)},r),t))}}).unsubscribe,I=function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};for(const s of e?uC(e):u.mount)u.mount.delete(s),u.array.delete(s),a.keepValue||(wC(n,s),wC(o,s)),!a.keepError&&wC(r.errors,s),!a.keepDirty&&wC(r.dirtyFields,s),!a.keepTouched&&wC(r.touchedFields,s),!a.keepIsValidating&&wC(r.validatingFields,s),!t.shouldUnregister&&!a.keepDefaultValue&&wC(i,s);p.state.next({values:IE(o)}),p.state.next(c(c({},r),a.keepDirty?{isDirty:N()}:{})),!a.keepIsValid&&g()},R=e=>{let{disabled:t,name:r}=e;(UE(t)&&l.mount||t||u.disabled.has(r))&&(t?u.disabled.add(r):u.disabled.delete(r))},L=function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=BE(n,e);const s=UE(r.disabled)||UE(t.disabled);return qE(n,e,c(c({},a||{}),{},{_f:c(c({},a&&a._f?a._f:{ref:{name:e}}),{},{name:e,mount:!0},r)})),u.mount.add(e),a?R({disabled:UE(r.disabled)?r.disabled:t.disabled,name:e}):v(e,!0,r.value),c(c(c({},s?{disabled:r.disabled||t.disabled}:{}),t.progressive?{required:!!r.required,min:MC(r.min),max:MC(r.max),minLength:MC(r.minLength),maxLength:MC(r.maxLength),pattern:MC(r.pattern)}:{}),{},{name:e,onChange:E,onBlur:E,ref:s=>{if(s){L(e,r),a=BE(n,e);const t=LE(s.value)&&s.querySelectorAll&&s.querySelectorAll("input,select,textarea")[0]||s,o=(e=>xC(e)||OE(e))(t),l=a._f.refs||[];if(o?l.find(e=>e===t):t===a._f.ref)return;qE(n,e,{_f:c(c({},a._f),o?{refs:[...l.filter(bC),t,...Array.isArray(BE(i,e))?[{}]:[]],ref:{type:t.type,name:e}}:{ref:t})}),v(e,!1,void 0,t)}else a=BE(n,e,{}),a._f&&(a._f.mount=!1),(t.shouldUnregister||r.shouldUnregister)&&(!DE(u.array,e)||!l.action)&&u.unMount.add(e)}})},z=()=>t.shouldFocusError&&FC(n,C,u.mount),F=(e,a)=>async s=>{let i;s&&(s.preventDefault&&s.preventDefault(),s.persist&&s.persist());let l=IE(o);if(p.state.next({isSubmitting:!0}),t.resolver){const{errors:e,values:t}=await w();r.errors=e,l=t}else await j(n);if(u.disabled.size)for(const e of u.disabled)qE(l,e,void 0);if(wC(r.errors,"root"),pC(r.errors)){p.state.next({errors:{}});try{await e(l,s)}catch(d){i=d}}else a&&await a(c({},r.errors),s),z(),setTimeout(z);if(p.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:pC(r.errors)&&!i,submitCount:r.submitCount+1,errors:r.errors}),i)throw i},B=function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const s=e?IE(e):i,d=IE(s),f=pC(e),m=f?i:d;if(a.keepDefaultValues||(i=s),!a.keepValues){if(a.keepDirtyValues){const e=new Set([...u.mount,...Object.keys(SC(i,o))]);for(const t of Array.from(e))BE(r.dirtyFields,t)?qE(m,t,BE(o,t)):O(t,BE(m,t))}else{if(ME&&LE(e))for(const e of u.mount){const t=BE(n,e);if(t&&t._f){const e=Array.isArray(t._f.refs)?t._f.refs[0]:t._f.ref;if(yC(e)){const t=e.closest("form");if(t){t.reset();break}}}}for(const e of u.mount)O(e,BE(m,e))}o=IE(m),p.array.next({values:c({},m)}),p.state.next({values:c({},m)})}u={mount:a.keepDirtyValues?u.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},l.mount=!h.isValid||!!a.keepIsValid||!!a.keepDirtyValues,l.watch=!!t.shouldUnregister,p.state.next({submitCount:a.keepSubmitCount?r.submitCount:0,isDirty:!f&&(a.keepDirty?r.isDirty:!(!a.keepDefaultValues||fC(e,i))),isSubmitted:!!a.keepIsSubmitted&&r.isSubmitted,dirtyFields:f?{}:a.keepDirtyValues?a.keepDefaultValues&&o?SC(i,o):r.dirtyFields:a.keepDefaultValues&&e?SC(i,e):a.keepDirty?r.dirtyFields:{},touchedFields:a.keepTouched?r.touchedFields:{},errors:a.keepErrors?r.errors:{},isSubmitSuccessful:!!a.keepIsSubmitSuccessful&&r.isSubmitSuccessful,isSubmitting:!1})},U=(e,t)=>B(gC(e)?e(o):e,t),q=e=>{r=c(c({},r),e)},H={control:{register:L,unregister:I,getFieldState:T,handleSubmit:F,setError:D,_subscribe:M,_runSchema:w,_focusError:z,_getWatch:k,_getDirty:N,_setValid:g,_setFieldArray:function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],s=arguments.length>2?arguments[2]:void 0,c=arguments.length>3?arguments[3]:void 0,u=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],d=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];if(c&&s&&!t.disabled){if(l.action=!0,d&&Array.isArray(BE(n,e))){const t=s(BE(n,e),c.argA,c.argB);u&&qE(n,e,t)}if(d&&Array.isArray(BE(r.errors,e))){const t=s(BE(r.errors,e),c.argA,c.argB);u&&qE(r.errors,e,t),((e,t)=>{!zE(BE(e,t)).length&&wC(e,t)})(r.errors,e)}if((h.touchedFields||f.touchedFields)&&d&&Array.isArray(BE(r.touchedFields,e))){const t=s(BE(r.touchedFields,e),c.argA,c.argB);u&&qE(r.touchedFields,e,t)}(h.dirtyFields||f.dirtyFields)&&(r.dirtyFields=SC(i,o)),p.state.next({name:e,isDirty:N(e,a),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else qE(o,e,a)},_setDisabledField:R,_setErrors:e=>{r.errors=e,p.state.next({errors:r.errors,isValid:!1})},_getFieldArray:e=>zE(BE(l.mount?o:i,e,t.shouldUnregister?BE(i,e,[]):[])),_reset:B,_resetDefaultValues:()=>gC(t.defaultValues)&&t.defaultValues().then(e=>{U(e,t.resetOptions),p.state.next({isLoading:!1})}),_removeUnmounted:()=>{for(const e of u.unMount){const t=BE(n,e);t&&(t._f.refs?t._f.refs.every(e=>!bC(e)):!bC(t._f.ref))&&I(e)}u.unMount=new Set},_disableForm:e=>{UE(e)&&(p.state.next({disabled:e}),FC(n,(t,r)=>{const a=BE(n,r);a&&(t.disabled=a._f.disabled||e,Array.isArray(a._f.refs)&&a._f.refs.forEach(t=>{t.disabled=a._f.disabled||e}))},0,!1))},_subjects:p,_proxyFormState:h,get _fields(){return n},get _formValues(){return o},get _state(){return l},set _state(e){l=e},get _defaultValues(){return i},get _names(){return u},set _names(e){u=e},get _formState(){return r},get _options(){return t},set _options(e){t=c(c({},t),e)}},subscribe:e=>(l.mount=!0,f=c(c({},f),e.formState),M(c(c({},e),{},{formState:f}))),trigger:P,register:L,handleSubmit:F,watch:(e,t)=>gC(e)?p.state.subscribe({next:r=>e(k(void 0,t),r)}):k(e,t,!0),setValue:O,getValues:A,reset:U,resetField:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};BE(n,e)&&(LE(t.defaultValue)?O(e,IE(BE(i,e))):(O(e,t.defaultValue),qE(i,e,IE(t.defaultValue))),t.keepTouched||wC(r.touchedFields,e),t.keepDirty||(wC(r.dirtyFields,e),r.isDirty=t.defaultValue?N(e,IE(BE(i,e))):N()),t.keepError||(wC(r.errors,e),h.isValid&&g()),p.state.next(c({},r)))},clearErrors:e=>{e&&uC(e).forEach(e=>wC(r.errors,e)),p.state.next({errors:e?r.errors:{}})},unregister:I,setError:D,setFocus:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=BE(n,e),a=r&&r._f;if(a){const e=a.refs?a.refs[0]:a.ref;e.focus&&(e.focus(),t.shouldSelect&&gC(e.select)&&e.select())}},getFieldState:T};return c(c({},H),{},{formControl:H})}var KC=()=>{if("undefined"!==typeof crypto&&crypto.randomUUID)return crypto.randomUUID();const e="undefined"===typeof performance?Date.now():1e3*performance.now();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{const r=(16*Math.random()+e)%16|0;return("x"==t?r:3&r|8).toString(16)})},YC=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return r.shouldFocus||LE(r.shouldFocus)?r.focusName||"".concat(e,".").concat(LE(r.focusIndex)?t:r.focusIndex,"."):""},XC=(e,t)=>[...e,...uC(t)],JC=e=>Array.isArray(e)?e.map(()=>{}):void 0;function QC(e,t,r){return[...e.slice(0,t),...uC(r),...e.slice(t)]}var ZC=(e,t,r)=>Array.isArray(e)?(LE(e[r])&&(e[r]=void 0),e.splice(r,0,e.splice(t,1)[0]),e):[],eP=(e,t)=>[...uC(t),...uC(e)];var tP=(e,t)=>LE(t)?[]:function(e,t){let r=0;const n=[...e];for(const a of t)n.splice(a-r,1),r++;return zE(n).length?n:[]}(e,uC(t).sort((e,t)=>e-t)),rP=(e,t,r)=>{[e[t],e[r]]=[e[r],e[t]]},nP=(e,t,r)=>(e[t]=r,e);function aP(e){const r=aC(),{control:n=r.control,name:a,keyName:s="id",shouldUnregister:i,rules:o}=e,[l,u]=t.useState(n._getFieldArray(a)),d=t.useRef(n._getFieldArray(a).map(KC)),h=t.useRef(l),f=t.useRef(a),p=t.useRef(!1);f.current=a,h.current=l,n._names.array.add(a),o&&n.register(a,o),iC(()=>n._subjects.array.subscribe({next:e=>{let{values:t,name:r}=e;if(r===f.current||!r){const e=BE(t,f.current);Array.isArray(e)&&(u(e),d.current=e.map(KC))}}}).unsubscribe,[n]);const m=t.useCallback(e=>{p.current=!0,n._setFieldArray(a,e)},[n,a]);return t.useEffect(()=>{if(n._state.action=!1,zC(a,n._names)&&n._subjects.state.next(c({},n._formState)),p.current&&(!IC(n._options.mode).isOnSubmit||n._formState.isSubmitted)&&!IC(n._options.reValidateMode).isOnSubmit)if(n._options.resolver)n._runSchema([a]).then(e=>{const t=BE(e.errors,a),r=BE(n._formState.errors,a);(r?!t&&r.type||t&&(r.type!==t.type||r.message!==t.message):t&&t.type)&&(t?qE(n._formState.errors,a,t):wC(n._formState.errors,a),n._subjects.state.next({errors:n._formState.errors}))});else{const e=BE(n._fields,a);!e||!e._f||IC(n._options.reValidateMode).isOnSubmit&&IC(n._options.mode).isOnSubmit||WC(e,n._names.disabled,n._formValues,n._options.criteriaMode===YE,n._options.shouldUseNativeValidation,!0).then(e=>!pC(e)&&n._subjects.state.next({errors:UC(n._formState.errors,e,a)}))}n._subjects.state.next({name:a,values:IE(n._formValues)}),n._names.focus&&FC(n._fields,(e,t)=>{if(n._names.focus&&t.startsWith(n._names.focus)&&e.focus)return e.focus(),1}),n._names.focus="",n._setValid(),p.current=!1},[l,a,n]),t.useEffect(()=>(!BE(n._formValues,a)&&n._setFieldArray(a),()=>{n._options.shouldUnregister||i?n.unregister(a):((e,t)=>{const r=BE(n._fields,e);r&&r._f&&(r._f.mount=t)})(a,!1)}),[a,n,s,i]),{swap:t.useCallback((e,t)=>{const r=n._getFieldArray(a);rP(r,e,t),rP(d.current,e,t),m(r),u(r),n._setFieldArray(a,r,rP,{argA:e,argB:t},!1)},[m,a,n]),move:t.useCallback((e,t)=>{const r=n._getFieldArray(a);ZC(r,e,t),ZC(d.current,e,t),m(r),u(r),n._setFieldArray(a,r,ZC,{argA:e,argB:t},!1)},[m,a,n]),prepend:t.useCallback((e,t)=>{const r=uC(IE(e)),s=eP(n._getFieldArray(a),r);n._names.focus=YC(a,0,t),d.current=eP(d.current,r.map(KC)),m(s),u(s),n._setFieldArray(a,s,eP,{argA:JC(e)})},[m,a,n]),append:t.useCallback((e,t)=>{const r=uC(IE(e)),s=XC(n._getFieldArray(a),r);n._names.focus=YC(a,s.length-1,t),d.current=XC(d.current,r.map(KC)),m(s),u(s),n._setFieldArray(a,s,XC,{argA:JC(e)})},[m,a,n]),remove:t.useCallback(e=>{const t=tP(n._getFieldArray(a),e);d.current=tP(d.current,e),m(t),u(t),!Array.isArray(BE(n._fields,a))&&qE(n._fields,a,void 0),n._setFieldArray(a,t,tP,{argA:e})},[m,a,n]),insert:t.useCallback((e,t,r)=>{const s=uC(IE(t)),i=QC(n._getFieldArray(a),e,s);n._names.focus=YC(a,e,r),d.current=QC(d.current,e,s.map(KC)),m(i),u(i),n._setFieldArray(a,i,QC,{argA:e,argB:JC(t)})},[m,a,n]),update:t.useCallback((e,t)=>{const r=IE(t),s=nP(n._getFieldArray(a),e,r);d.current=[...s].map((t,r)=>t&&r!==e?d.current[r]:KC()),m(s),u([...s]),n._setFieldArray(a,s,nP,{argA:e,argB:r},!0,!1)},[m,a,n]),replace:t.useCallback(e=>{const t=uC(IE(e));d.current=t.map(KC),m([...t]),u([...t]),n._setFieldArray(a,[...t],e=>e,{},!0,!1)},[m,a,n]),fields:t.useMemo(()=>l.map((e,t)=>c(c({},e),{},{[s]:d.current[t]||KC()})),[l,s])}}function sP(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const r=t.useRef(void 0),n=t.useRef(void 0),[s,i]=t.useState({isDirty:!1,isValidating:!1,isLoading:gC(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:gC(e.defaultValues)?void 0:e.defaultValues});if(!r.current)if(e.formControl)r.current=c(c({},e.formControl),{},{formState:s}),e.defaultValues&&!gC(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const t=$C(e),{formControl:n}=t,i=a(t,_E);r.current=c(c({},i),{},{formState:s})}const o=r.current.control;return o._options=e,iC(()=>{const e=o._subscribe({formState:o._proxyFormState,callback:()=>i(c({},o._formState)),reRenderRoot:!0});return i(e=>c(c({},e),{},{isReady:!0})),o._formState.isReady=!0,e},[o]),t.useEffect(()=>o._disableForm(e.disabled),[o,e.disabled]),t.useEffect(()=>{e.mode&&(o._options.mode=e.mode),e.reValidateMode&&(o._options.reValidateMode=e.reValidateMode)},[o,e.mode,e.reValidateMode]),t.useEffect(()=>{e.errors&&(o._setErrors(e.errors),o._focusError())},[o,e.errors]),t.useEffect(()=>{e.shouldUnregister&&o._subjects.state.next({values:o._getWatch()})},[o,e.shouldUnregister]),t.useEffect(()=>{if(o._proxyFormState.isDirty){const e=o._getDirty();e!==s.isDirty&&o._subjects.state.next({isDirty:e})}},[o,s.isDirty]),t.useEffect(()=>{e.values&&!fC(e.values,n.current)?(o._reset(e.values,o._options.resetOptions),n.current=e.values,i(e=>c({},e))):o._resetDefaultValues()},[o,e.values]),t.useEffect(()=>{o._state.mount||(o._setValid(),o._state.mount=!0),o._state.watch&&(o._state.watch=!1,o._subjects.state.next(c({},o._formState))),o._removeUnmounted()}),r.current.formState=sC(s,o),r.current}const iP=(e,t,r)=>{if(e&&"reportValidity"in e){const n=BE(r,t);e.setCustomValidity(n&&n.message||""),e.reportValidity()}},oP=(e,t)=>{for(const r in t.fields){const n=t.fields[r];n&&n.ref&&"reportValidity"in n.ref?iP(n.ref,r,e):n&&n.refs&&n.refs.forEach(t=>iP(t,r,e))}},lP=(e,t)=>{t.shouldUseNativeValidation&&oP(e,t);const r={};for(const n in e){const a=BE(t.fields,n),s=Object.assign(e[n]||{},{ref:a&&a.ref});if(cP(t.names||Object.keys(e),n)){const e=Object.assign({},BE(r,n));qE(e,"root",s),qE(r,n,e)}else qE(r,n,s)}return r},cP=(e,t)=>{const r=uP(t);return e.some(e=>uP(e).match("^".concat(r,"\\.\\d+")))};function uP(e){return e.replace(/\]|\[/g,"")}function dP(e,t,r){return void 0===r&&(r={}),function(n,a,s){try{return Promise.resolve(function(i,o){try{var l=(null!=t&&t.context,Promise.resolve(e["sync"===r.mode?"validateSync":"validate"](n,Object.assign({abortEarly:!1},t,{context:a}))).then(function(e){return s.shouldUseNativeValidation&&oP({},s),{values:r.raw?Object.assign({},n):e,errors:{}}}))}catch(Nt){return o(Nt)}return l&&l.then?l.then(void 0,o):l}(0,function(e){if(!e.inner)throw e;return{values:{},errors:lP((t=e,r=!s.shouldUseNativeValidation&&"all"===s.criteriaMode,(t.inner||[]).reduce(function(e,t){if(e[t.path]||(e[t.path]={message:t.message,type:t.type}),r){var n=e[t.path].types,a=n&&n[t.type];e[t.path]=cC(t.path,r,e,t.type,a?[].concat(a,t.message):t.message)}return e},{})),s)};var t,r}))}catch(Nt){return Promise.reject(Nt)}}}var hP=r(4575),fP=r(1517),pP=r(8704),mP=r.n(pP);const gP=Object.prototype.toString,yP=Error.prototype.toString,vP=RegExp.prototype.toString,xP="undefined"!==typeof Symbol?Symbol.prototype.toString:()=>"",bP=/^Symbol\((.*)\)(.*)$/;function wP(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(null==e||!0===e||!1===e)return""+e;const r=typeof e;if("number"===r)return function(e){return e!=+e?"NaN":0===e&&1/e<0?"-0":""+e}(e);if("string"===r)return t?'"'.concat(e,'"'):e;if("function"===r)return"[Function "+(e.name||"anonymous")+"]";if("symbol"===r)return xP.call(e).replace(bP,"Symbol($1)");const n=gP.call(e).slice(8,-1);return"Date"===n?isNaN(e.getTime())?""+e:e.toISOString(e):"Error"===n||e instanceof Error?"["+yP.call(e)+"]":"RegExp"===n?vP.call(e):null}function jP(e,t){let r=wP(e,t);return null!==r?r:JSON.stringify(e,function(e,r){let n=wP(this[e],t);return null!==n?n:r},2)}function NP(e){return null==e?[]:[].concat(e)}let kP,SP,_P,OP=/\$\{\s*(\w+)\s*\}/g;kP=Symbol.toStringTag;class EP{constructor(e,t,r,n){this.name=void 0,this.message=void 0,this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=void 0,this.inner=void 0,this[kP]="Error",this.name="ValidationError",this.value=t,this.path=r,this.type=n,this.errors=[],this.inner=[],NP(e).forEach(e=>{if(CP.isError(e)){this.errors.push(...e.errors);const t=e.inner.length?e.inner:[e];this.inner.push(...t)}else this.errors.push(e)}),this.message=this.errors.length>1?"".concat(this.errors.length," errors occurred"):this.errors[0]}}SP=Symbol.hasInstance,_P=Symbol.toStringTag;class CP extends Error{static formatError(e,t){const r=t.label||t.path||"this";return t=Object.assign({},t,{path:r,originalPath:t.path}),"string"===typeof e?e.replace(OP,(e,r)=>jP(t[r])):"function"===typeof e?e(t):e}static isError(e){return e&&"ValidationError"===e.name}constructor(e,t,r,n,a){const s=new EP(e,t,r,n);if(a)return s;super(),this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=[],this.inner=[],this[_P]="Error",this.name=s.name,this.message=s.message,this.type=s.type,this.value=s.value,this.path=s.path,this.errors=s.errors,this.inner=s.inner,Error.captureStackTrace&&Error.captureStackTrace(this,CP)}static[SP](e){return EP[Symbol.hasInstance](e)||super[Symbol.hasInstance](e)}}let PP={default:"${path} is invalid",required:"${path} is a required field",defined:"${path} must be defined",notNull:"${path} cannot be null",oneOf:"${path} must be one of the following values: ${values}",notOneOf:"${path} must not be one of the following values: ${values}",notType:e=>{let{path:t,type:r,value:n,originalValue:a}=e;const s=null!=a&&a!==n?" (cast from the value `".concat(jP(a,!0),"`)."):".";return"mixed"!==r?"".concat(t," must be a `").concat(r,"` type, ")+"but the final value was: `".concat(jP(n,!0),"`")+s:"".concat(t," must match the configured type. ")+"The validated value was: `".concat(jP(n,!0),"`")+s}},AP={length:"${path} must be exactly ${length} characters",min:"${path} must be at least ${min} characters",max:"${path} must be at most ${max} characters",matches:'${path} must match the following: "${regex}"',email:"${path} must be a valid email",url:"${path} must be a valid URL",uuid:"${path} must be a valid UUID",datetime:"${path} must be a valid ISO date-time",datetime_precision:"${path} must be a valid ISO date-time with a sub-second precision of exactly ${precision} digits",datetime_offset:'${path} must be a valid ISO date-time with UTC "Z" timezone',trim:"${path} must be a trimmed string",lowercase:"${path} must be a lowercase string",uppercase:"${path} must be a upper case string"},TP={min:"${path} must be greater than or equal to ${min}",max:"${path} must be less than or equal to ${max}",lessThan:"${path} must be less than ${less}",moreThan:"${path} must be greater than ${more}",positive:"${path} must be a positive number",negative:"${path} must be a negative number",integer:"${path} must be an integer"},DP={min:"${path} field must be later than ${min}",max:"${path} field must be at earlier than ${max}"},MP={isValue:"${path} field must be ${value}"},IP={noUnknown:"${path} field has unspecified keys: ${unknown}",exact:"${path} object contains unknown properties: ${properties}"},RP={min:"${path} field must have at least ${min} items",max:"${path} field must have less than or equal to ${max} items",length:"${path} must have ${length} items"},LP={notType:e=>{const{path:t,value:r,spec:n}=e,a=n.types.length;if(Array.isArray(r)){if(r.length<a)return"".concat(t," tuple value has too few items, expected a length of ").concat(a," but got ").concat(r.length," for value: `").concat(jP(r,!0),"`");if(r.length>a)return"".concat(t," tuple value has too many items, expected a length of ").concat(a," but got ").concat(r.length," for value: `").concat(jP(r,!0),"`")}return CP.formatError(PP.notType,e)}};Object.assign(Object.create(null),{mixed:PP,string:AP,number:TP,date:DP,object:IP,array:RP,boolean:MP,tuple:LP});const zP=e=>e&&e.__isYupSchema__;class FP{static fromOptions(e,t){if(!t.then&&!t.otherwise)throw new TypeError("either `then:` or `otherwise:` is required for `when()` conditions");let{is:r,then:n,otherwise:a}=t,s="function"===typeof r?r:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.every(e=>e===r)};return new FP(e,(e,t)=>{var r;let i=s(...e)?n:a;return null!=(r=null==i?void 0:i(t))?r:t})}constructor(e,t){this.fn=void 0,this.refs=e,this.refs=e,this.fn=t}resolve(e,t){let r=this.refs.map(e=>e.getValue(null==t?void 0:t.value,null==t?void 0:t.parent,null==t?void 0:t.context)),n=this.fn(r,e,t);if(void 0===n||n===e)return e;if(!zP(n))throw new TypeError("conditions must return a schema object");return n.resolve(t)}}const BP="$",UP=".";class qP{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.key=void 0,this.isContext=void 0,this.isValue=void 0,this.isSibling=void 0,this.path=void 0,this.getter=void 0,this.map=void 0,"string"!==typeof e)throw new TypeError("ref must be a string, got: "+e);if(this.key=e.trim(),""===e)throw new TypeError("ref must be a non-empty string");this.isContext=this.key[0]===BP,this.isValue=this.key[0]===UP,this.isSibling=!this.isContext&&!this.isValue;let r=this.isContext?BP:this.isValue?UP:"";this.path=this.key.slice(r.length),this.getter=this.path&&(0,hP.getter)(this.path,!0),this.map=t.map}getValue(e,t,r){let n=this.isContext?r:this.isValue?e:t;return this.getter&&(n=this.getter(n||{})),this.map&&(n=this.map(n)),n}cast(e,t){return this.getValue(e,null==t?void 0:t.parent,null==t?void 0:t.context)}resolve(){return this}describe(){return{type:"ref",key:this.key}}toString(){return"Ref(".concat(this.key,")")}static isRef(e){return e&&e.__isYupRef}}qP.prototype.__isYupRef=!0;const HP=e=>null==e;function VP(e){function t(t,r,n){let{value:a,path:s="",options:i,originalValue:o,schema:l}=t;const{name:c,test:u,params:d,message:h,skipAbsent:f}=e;let{parent:p,context:m,abortEarly:g=l.spec.abortEarly,disableStackTrace:y=l.spec.disableStackTrace}=i;function v(e){return qP.isRef(e)?e.getValue(a,p,m):e}function x(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=Object.assign({value:a,originalValue:o,label:l.spec.label,path:e.path||s,spec:l.spec,disableStackTrace:e.disableStackTrace||y},d,e.params);for(const n of Object.keys(t))t[n]=v(t[n]);const r=new CP(CP.formatError(e.message||h,t),a,t.path,e.type||c,t.disableStackTrace);return r.params=t,r}const b=g?r:n;let w={path:s,parent:p,type:c,from:i.from,createError:x,resolve:v,options:i,originalValue:o,schema:l};const j=e=>{CP.isError(e)?b(e):e?n(null):b(x())},N=e=>{CP.isError(e)?b(e):r(e)};if(f&&HP(a))return j(!0);let k;try{var S;if(k=u.call(w,a,w),"function"===typeof(null==(S=k)?void 0:S.then)){if(i.sync)throw new Error('Validation test of type: "'.concat(w.type,'" returned a Promise during a synchronous validate. ')+"This test will finish after the validate call has returned");return Promise.resolve(k).then(j,N)}}catch(_){return void N(_)}j(k)}return t.OPTIONS=e,t}function WP(e,t,r){let n,a,s,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:r;return t?((0,hP.forEach)(t,(o,l,c)=>{let u=l?o.slice(1,o.length-1):o,d="tuple"===(e=e.resolve({context:i,parent:n,value:r})).type,h=c?parseInt(u,10):0;if(e.innerType||d){if(d&&!c)throw new Error('Yup.reach cannot implicitly index into a tuple type. the path part "'.concat(s,'" must contain an index to the tuple element, e.g. "').concat(s,'[0]"'));if(r&&h>=r.length)throw new Error("Yup.reach cannot resolve an array item at index: ".concat(o,", in the path: ").concat(t,". ")+"because there is no value at that index. ");n=r,r=r&&r[h],e=d?e.spec.types[h]:e.innerType}if(!c){if(!e.fields||!e.fields[u])throw new Error("The schema does not contain the path: ".concat(t,". ")+"(failed at: ".concat(s,' which is a type: "').concat(e.type,'")'));n=r,r=r&&r[u],e=e.fields[u]}a=u,s=l?"["+o+"]":"."+o}),{schema:e,parent:n,parentPath:a}):{parent:n,parentPath:t,schema:e}}class GP extends Set{describe(){const e=[];for(const t of this.values())e.push(qP.isRef(t)?t.describe():t);return e}resolveAll(e){let t=[];for(const r of this.values())t.push(e(r));return t}clone(){return new GP(this.values())}merge(e,t){const r=this.clone();return e.forEach(e=>r.add(e)),t.forEach(e=>r.delete(e)),r}}function $P(e){let t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Map;if(zP(e)||!e||"object"!==typeof e)return e;if(r.has(e))return r.get(e);if(e instanceof Date)t=new Date(e.getTime()),r.set(e,t);else if(e instanceof RegExp)t=new RegExp(e),r.set(e,t);else if(Array.isArray(e)){t=new Array(e.length),r.set(e,t);for(let n=0;n<e.length;n++)t[n]=$P(e[n],r)}else if(e instanceof Map){t=new Map,r.set(e,t);for(const[n,a]of e.entries())t.set(n,$P(a,r))}else if(e instanceof Set){t=new Set,r.set(e,t);for(const n of e)t.add($P(n,r))}else{if(!(e instanceof Object))throw Error("Unable to clone ".concat(e));t={},r.set(e,t);for(const[n,a]of Object.entries(e))t[n]=$P(a,r)}return t}class KP{constructor(e){this.type=void 0,this.deps=[],this.tests=void 0,this.transforms=void 0,this.conditions=[],this._mutate=void 0,this.internalTests={},this._whitelist=new GP,this._blacklist=new GP,this.exclusiveTests=Object.create(null),this._typeCheck=void 0,this.spec=void 0,this.tests=[],this.transforms=[],this.withMutation(()=>{this.typeError(PP.notType)}),this.type=e.type,this._typeCheck=e.check,this.spec=Object.assign({strip:!1,strict:!1,abortEarly:!0,recursive:!0,disableStackTrace:!1,nullable:!1,optional:!0,coerce:!0},null==e?void 0:e.spec),this.withMutation(e=>{e.nonNullable()})}get _type(){return this.type}clone(e){if(this._mutate)return e&&Object.assign(this.spec,e),this;const t=Object.create(Object.getPrototypeOf(this));return t.type=this.type,t._typeCheck=this._typeCheck,t._whitelist=this._whitelist.clone(),t._blacklist=this._blacklist.clone(),t.internalTests=Object.assign({},this.internalTests),t.exclusiveTests=Object.assign({},this.exclusiveTests),t.deps=[...this.deps],t.conditions=[...this.conditions],t.tests=[...this.tests],t.transforms=[...this.transforms],t.spec=$P(Object.assign({},this.spec,e)),t}label(e){let t=this.clone();return t.spec.label=e,t}meta(){if(0===arguments.length)return this.spec.meta;let e=this.clone();return e.spec.meta=Object.assign(e.spec.meta||{},arguments.length<=0?void 0:arguments[0]),e}withMutation(e){let t=this._mutate;this._mutate=!0;let r=e(this);return this._mutate=t,r}concat(e){if(!e||e===this)return this;if(e.type!==this.type&&"mixed"!==this.type)throw new TypeError("You cannot `concat()` schema's of different types: ".concat(this.type," and ").concat(e.type));let t=this,r=e.clone();const n=Object.assign({},t.spec,r.spec);return r.spec=n,r.internalTests=Object.assign({},t.internalTests,r.internalTests),r._whitelist=t._whitelist.merge(e._whitelist,e._blacklist),r._blacklist=t._blacklist.merge(e._blacklist,e._whitelist),r.tests=t.tests,r.exclusiveTests=t.exclusiveTests,r.withMutation(t=>{e.tests.forEach(e=>{t.test(e.OPTIONS)})}),r.transforms=[...t.transforms,...r.transforms],r}isType(e){return null==e?!(!this.spec.nullable||null!==e)||!(!this.spec.optional||void 0!==e):this._typeCheck(e)}resolve(e){let t=this;if(t.conditions.length){let r=t.conditions;t=t.clone(),t.conditions=[],t=r.reduce((t,r)=>r.resolve(t,e),t),t=t.resolve(e)}return t}resolveOptions(e){var t,r,n,a;return Object.assign({},e,{from:e.from||[],strict:null!=(t=e.strict)?t:this.spec.strict,abortEarly:null!=(r=e.abortEarly)?r:this.spec.abortEarly,recursive:null!=(n=e.recursive)?n:this.spec.recursive,disableStackTrace:null!=(a=e.disableStackTrace)?a:this.spec.disableStackTrace})}cast(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=this.resolve(Object.assign({value:e},t)),n="ignore-optionality"===t.assert,a=r._cast(e,t);if(!1!==t.assert&&!r.isType(a)){if(n&&HP(a))return a;let s=jP(e),i=jP(a);throw new TypeError("The value of ".concat(t.path||"field"," could not be cast to a value ")+'that satisfies the schema type: "'.concat(r.type,'". \n\n')+"attempted value: ".concat(s," \n")+(i!==s?"result of cast: ".concat(i):""))}return a}_cast(e,t){let r=void 0===e?e:this.transforms.reduce((t,r)=>r.call(this,t,e,this),e);return void 0===r&&(r=this.getDefault(t)),r}_validate(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0,{path:a,originalValue:s=e,strict:i=this.spec.strict}=t,o=e;i||(o=this._cast(o,Object.assign({assert:!1},t)));let l=[];for(let c of Object.values(this.internalTests))c&&l.push(c);this.runTests({path:a,value:o,originalValue:s,options:t,tests:l},r,e=>{if(e.length)return n(e,o);this.runTests({path:a,value:o,originalValue:s,options:t,tests:this.tests},r,n)})}runTests(e,t,r){let n=!1,{tests:a,value:s,originalValue:i,path:o,options:l}=e,c=e=>{n||(n=!0,t(e,s))},u=e=>{n||(n=!0,r(e,s))},d=a.length,h=[];if(!d)return u([]);let f={value:s,originalValue:i,path:o,options:l,schema:this};for(let p=0;p<a.length;p++){(0,a[p])(f,c,function(e){e&&(Array.isArray(e)?h.push(...e):h.push(e)),--d<=0&&u(h)})}}asNestedTest(e){let{key:t,index:r,parent:n,parentPath:a,originalParent:s,options:i}=e;const o=null!=t?t:r;if(null==o)throw TypeError("Must include `key` or `index` for nested validations");const l="number"===typeof o;let c=n[o];const u=Object.assign({},i,{strict:!0,parent:n,value:c,originalValue:s[o],key:void 0,[l?"index":"key"]:o,path:l||o.includes(".")?"".concat(a||"","[").concat(l?o:'"'.concat(o,'"'),"]"):(a?"".concat(a,"."):"")+t});return(e,t,r)=>this.resolve(u)._validate(c,u,t,r)}validate(e,t){var r;let n=this.resolve(Object.assign({},t,{value:e})),a=null!=(r=null==t?void 0:t.disableStackTrace)?r:n.spec.disableStackTrace;return new Promise((r,s)=>n._validate(e,t,(e,t)=>{CP.isError(e)&&(e.value=t),s(e)},(e,t)=>{e.length?s(new CP(e,t,void 0,void 0,a)):r(t)}))}validateSync(e,t){var r;let n,a=this.resolve(Object.assign({},t,{value:e})),s=null!=(r=null==t?void 0:t.disableStackTrace)?r:a.spec.disableStackTrace;return a._validate(e,Object.assign({},t,{sync:!0}),(e,t)=>{throw CP.isError(e)&&(e.value=t),e},(t,r)=>{if(t.length)throw new CP(t,e,void 0,void 0,s);n=r}),n}isValid(e,t){return this.validate(e,t).then(()=>!0,e=>{if(CP.isError(e))return!1;throw e})}isValidSync(e,t){try{return this.validateSync(e,t),!0}catch(r){if(CP.isError(r))return!1;throw r}}_getDefault(e){let t=this.spec.default;return null==t?t:"function"===typeof t?t.call(this,e):$P(t)}getDefault(e){return this.resolve(e||{})._getDefault(e)}default(e){if(0===arguments.length)return this._getDefault();return this.clone({default:e})}strict(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.clone({strict:e})}nullability(e,t){const r=this.clone({nullable:e});return r.internalTests.nullable=VP({message:t,name:"nullable",test(e){return null!==e||this.schema.spec.nullable}}),r}optionality(e,t){const r=this.clone({optional:e});return r.internalTests.optionality=VP({message:t,name:"optionality",test(e){return void 0!==e||this.schema.spec.optional}}),r}optional(){return this.optionality(!0)}defined(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:PP.defined;return this.optionality(!1,e)}nullable(){return this.nullability(!0)}nonNullable(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:PP.notNull;return this.nullability(!1,e)}required(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:PP.required;return this.clone().withMutation(t=>t.nonNullable(e).defined(e))}notRequired(){return this.clone().withMutation(e=>e.nullable().optional())}transform(e){let t=this.clone();return t.transforms.push(e),t}test(){let e;if(e=1===arguments.length?"function"===typeof(arguments.length<=0?void 0:arguments[0])?{test:arguments.length<=0?void 0:arguments[0]}:arguments.length<=0?void 0:arguments[0]:2===arguments.length?{name:arguments.length<=0?void 0:arguments[0],test:arguments.length<=1?void 0:arguments[1]}:{name:arguments.length<=0?void 0:arguments[0],message:arguments.length<=1?void 0:arguments[1],test:arguments.length<=2?void 0:arguments[2]},void 0===e.message&&(e.message=PP.default),"function"!==typeof e.test)throw new TypeError("`test` is a required parameters");let t=this.clone(),r=VP(e),n=e.exclusive||e.name&&!0===t.exclusiveTests[e.name];if(e.exclusive&&!e.name)throw new TypeError("Exclusive tests must provide a unique `name` identifying the test");return e.name&&(t.exclusiveTests[e.name]=!!e.exclusive),t.tests=t.tests.filter(t=>{if(t.OPTIONS.name===e.name){if(n)return!1;if(t.OPTIONS.test===r.OPTIONS.test)return!1}return!0}),t.tests.push(r),t}when(e,t){Array.isArray(e)||"string"===typeof e||(t=e,e=".");let r=this.clone(),n=NP(e).map(e=>new qP(e));return n.forEach(e=>{e.isSibling&&r.deps.push(e.key)}),r.conditions.push("function"===typeof t?new FP(n,t):FP.fromOptions(n,t)),r}typeError(e){let t=this.clone();return t.internalTests.typeError=VP({message:e,name:"typeError",skipAbsent:!0,test(e){return!!this.schema._typeCheck(e)||this.createError({params:{type:this.schema.type}})}}),t}oneOf(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:PP.oneOf,r=this.clone();return e.forEach(e=>{r._whitelist.add(e),r._blacklist.delete(e)}),r.internalTests.whiteList=VP({message:t,name:"oneOf",skipAbsent:!0,test(e){let t=this.schema._whitelist,r=t.resolveAll(this.resolve);return!!r.includes(e)||this.createError({params:{values:Array.from(t).join(", "),resolved:r}})}}),r}notOneOf(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:PP.notOneOf,r=this.clone();return e.forEach(e=>{r._blacklist.add(e),r._whitelist.delete(e)}),r.internalTests.blacklist=VP({message:t,name:"notOneOf",test(e){let t=this.schema._blacklist,r=t.resolveAll(this.resolve);return!r.includes(e)||this.createError({params:{values:Array.from(t).join(", "),resolved:r}})}}),r}strip(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=this.clone();return t.spec.strip=e,t}describe(e){const t=(e?this.resolve(e):this).clone(),{label:r,meta:n,optional:a,nullable:s}=t.spec,i={meta:n,label:r,optional:a,nullable:s,default:t.getDefault(e),type:t.type,oneOf:t._whitelist.describe(),notOneOf:t._blacklist.describe(),tests:t.tests.map(e=>({name:e.OPTIONS.name,params:e.OPTIONS.params})).filter((e,t,r)=>r.findIndex(t=>t.name===e.name)===t)};return i}}KP.prototype.__isYupSchema__=!0;for(const r of["validate","validateSync"])KP.prototype["".concat(r,"At")]=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{parent:a,parentPath:s,schema:i}=WP(this,e,t,n.context);return i[r](a&&a[s],Object.assign({},n,{parent:a,path:e}))};for(const r of["equals","is"])KP.prototype[r]=KP.prototype.oneOf;for(const r of["not","nope"])KP.prototype[r]=KP.prototype.notOneOf;const YP=()=>!0;class XP extends KP{constructor(e){super("function"===typeof e?{type:"mixed",check:e}:Object.assign({type:"mixed",check:YP},e))}}XP.prototype;class JP extends KP{constructor(){super({type:"boolean",check:e=>(e instanceof Boolean&&(e=e.valueOf()),"boolean"===typeof e)}),this.withMutation(()=>{this.transform((e,t,r)=>{if(r.spec.coerce&&!r.isType(e)){if(/^(true|1)$/i.test(String(e)))return!0;if(/^(false|0)$/i.test(String(e)))return!1}return e})})}isTrue(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:MP.isValue;return this.test({message:e,name:"is-value",exclusive:!0,params:{value:"true"},test:e=>HP(e)||!0===e})}isFalse(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:MP.isValue;return this.test({message:e,name:"is-value",exclusive:!0,params:{value:"false"},test:e=>HP(e)||!1===e})}default(e){return super.default(e)}defined(e){return super.defined(e)}optional(){return super.optional()}required(e){return super.required(e)}notRequired(){return super.notRequired()}nullable(){return super.nullable()}nonNullable(e){return super.nonNullable(e)}strip(e){return super.strip(e)}}JP.prototype;const QP=/^(\d{4}|[+-]\d{6})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:[ T]?(\d{2}):?(\d{2})(?::?(\d{2})(?:[,.](\d{1,}))?)?(?:(Z)|([+-])(\d{2})(?::?(\d{2}))?)?)?$/;function ZP(e){var t,r;const n=QP.exec(e);return n?{year:eA(n[1]),month:eA(n[2],1)-1,day:eA(n[3],1),hour:eA(n[4]),minute:eA(n[5]),second:eA(n[6]),millisecond:n[7]?eA(n[7].substring(0,3)):0,precision:null!=(t=null==(r=n[7])?void 0:r.length)?t:void 0,z:n[8]||void 0,plusMinus:n[9]||void 0,hourOffset:eA(n[10]),minuteOffset:eA(n[11])}:null}function eA(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Number(e)||t}let tA=/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,rA=/^((https?|ftp):)?\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,nA=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,aA=new RegExp("".concat("^\\d{4}-\\d{2}-\\d{2}","T").concat("\\d{2}:\\d{2}:\\d{2}","(\\.\\d+)?").concat("(([+-]\\d{2}(:?\\d{2})?)|Z)","$")),sA=e=>HP(e)||e===e.trim(),iA={}.toString();function oA(){return new lA}class lA extends KP{constructor(){super({type:"string",check:e=>(e instanceof String&&(e=e.valueOf()),"string"===typeof e)}),this.withMutation(()=>{this.transform((e,t,r)=>{if(!r.spec.coerce||r.isType(e))return e;if(Array.isArray(e))return e;const n=null!=e&&e.toString?e.toString():e;return n===iA?e:n})})}required(e){return super.required(e).withMutation(t=>t.test({message:e||PP.required,name:"required",skipAbsent:!0,test:e=>!!e.length}))}notRequired(){return super.notRequired().withMutation(e=>(e.tests=e.tests.filter(e=>"required"!==e.OPTIONS.name),e))}length(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:AP.length;return this.test({message:t,name:"length",exclusive:!0,params:{length:e},skipAbsent:!0,test(t){return t.length===this.resolve(e)}})}min(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:AP.min;return this.test({message:t,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(t){return t.length>=this.resolve(e)}})}max(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:AP.max;return this.test({name:"max",exclusive:!0,message:t,params:{max:e},skipAbsent:!0,test(t){return t.length<=this.resolve(e)}})}matches(e,t){let r,n,a=!1;return t&&("object"===typeof t?({excludeEmptyString:a=!1,message:r,name:n}=t):r=t),this.test({name:n||"matches",message:r||AP.matches,params:{regex:e},skipAbsent:!0,test:t=>""===t&&a||-1!==t.search(e)})}email(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:AP.email;return this.matches(tA,{name:"email",message:e,excludeEmptyString:!0})}url(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:AP.url;return this.matches(rA,{name:"url",message:e,excludeEmptyString:!0})}uuid(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:AP.uuid;return this.matches(nA,{name:"uuid",message:e,excludeEmptyString:!1})}datetime(e){let t,r,n="";return e&&("object"===typeof e?({message:n="",allowOffset:t=!1,precision:r}=e):n=e),this.matches(aA,{name:"datetime",message:n||AP.datetime,excludeEmptyString:!0}).test({name:"datetime_offset",message:n||AP.datetime_offset,params:{allowOffset:t},skipAbsent:!0,test:e=>{if(!e||t)return!0;const r=ZP(e);return!!r&&!!r.z}}).test({name:"datetime_precision",message:n||AP.datetime_precision,params:{precision:r},skipAbsent:!0,test:e=>{if(!e||void 0==r)return!0;const t=ZP(e);return!!t&&t.precision===r}})}ensure(){return this.default("").transform(e=>null===e?"":e)}trim(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:AP.trim;return this.transform(e=>null!=e?e.trim():e).test({message:e,name:"trim",test:sA})}lowercase(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:AP.lowercase;return this.transform(e=>HP(e)?e:e.toLowerCase()).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:e=>HP(e)||e===e.toLowerCase()})}uppercase(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:AP.uppercase;return this.transform(e=>HP(e)?e:e.toUpperCase()).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:e=>HP(e)||e===e.toUpperCase()})}}oA.prototype=lA.prototype;function cA(){return new uA}class uA extends KP{constructor(){super({type:"number",check:e=>(e instanceof Number&&(e=e.valueOf()),"number"===typeof e&&!(e=>e!=+e)(e))}),this.withMutation(()=>{this.transform((e,t,r)=>{if(!r.spec.coerce)return e;let n=e;if("string"===typeof n){if(n=n.replace(/\s/g,""),""===n)return NaN;n=+n}return r.isType(n)||null===n?n:parseFloat(n)})})}min(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:TP.min;return this.test({message:t,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(t){return t>=this.resolve(e)}})}max(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:TP.max;return this.test({message:t,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(t){return t<=this.resolve(e)}})}lessThan(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:TP.lessThan;return this.test({message:t,name:"max",exclusive:!0,params:{less:e},skipAbsent:!0,test(t){return t<this.resolve(e)}})}moreThan(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:TP.moreThan;return this.test({message:t,name:"min",exclusive:!0,params:{more:e},skipAbsent:!0,test(t){return t>this.resolve(e)}})}positive(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:TP.positive;return this.moreThan(0,e)}negative(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:TP.negative;return this.lessThan(0,e)}integer(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:TP.integer;return this.test({name:"integer",message:e,skipAbsent:!0,test:e=>Number.isInteger(e)})}truncate(){return this.transform(e=>HP(e)?e:0|e)}round(e){var t;let r=["ceil","floor","round","trunc"];if("trunc"===(e=(null==(t=e)?void 0:t.toLowerCase())||"round"))return this.truncate();if(-1===r.indexOf(e.toLowerCase()))throw new TypeError("Only valid options for round() are: "+r.join(", "));return this.transform(t=>HP(t)?t:Math[e](t))}}cA.prototype=uA.prototype;let dA=new Date("");function hA(){return new fA}class fA extends KP{constructor(){super({type:"date",check(e){return t=e,"[object Date]"===Object.prototype.toString.call(t)&&!isNaN(e.getTime());var t}}),this.withMutation(()=>{this.transform((e,t,r)=>!r.spec.coerce||r.isType(e)||null===e?e:(e=function(e){const t=ZP(e);if(!t)return Date.parse?Date.parse(e):Number.NaN;if(void 0===t.z&&void 0===t.plusMinus)return new Date(t.year,t.month,t.day,t.hour,t.minute,t.second,t.millisecond).valueOf();let r=0;return"Z"!==t.z&&void 0!==t.plusMinus&&(r=60*t.hourOffset+t.minuteOffset,"+"===t.plusMinus&&(r=0-r)),Date.UTC(t.year,t.month,t.day,t.hour,t.minute+r,t.second,t.millisecond)}(e),isNaN(e)?fA.INVALID_DATE:new Date(e)))})}prepareParam(e,t){let r;if(qP.isRef(e))r=e;else{let n=this.cast(e);if(!this._typeCheck(n))throw new TypeError("`".concat(t,"` must be a Date or a value that can be `cast()` to a Date"));r=n}return r}min(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:DP.min,r=this.prepareParam(e,"min");return this.test({message:t,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(e){return e>=this.resolve(r)}})}max(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:DP.max,r=this.prepareParam(e,"max");return this.test({message:t,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(e){return e<=this.resolve(r)}})}}function pA(e,t){let r=1/0;return e.some((e,n)=>{var a;if(null!=(a=t.path)&&a.includes(e))return r=n,!0}),r}function mA(e){return(t,r)=>pA(e,t)-pA(e,r)}fA.INVALID_DATE=dA,hA.prototype=fA.prototype,hA.INVALID_DATE=dA;const gA=(e,t,r)=>{if("string"!==typeof e)return e;let n=e;try{n=JSON.parse(e)}catch(a){}return r.isType(n)?n:e};function yA(e){if("fields"in e){const t={};for(const[r,n]of Object.entries(e.fields))t[r]=yA(n);return e.setFields(t)}if("array"===e.type){const t=e.optional();return t.innerType&&(t.innerType=yA(t.innerType)),t}return"tuple"===e.type?e.optional().clone({types:e.spec.types.map(yA)}):"optional"in e?e.optional():e}let vA=e=>"[object Object]"===Object.prototype.toString.call(e);function xA(e,t){let r=Object.keys(e.fields);return Object.keys(t).filter(e=>-1===r.indexOf(e))}const bA=mA([]);function wA(e){return new jA(e)}class jA extends KP{constructor(e){super({type:"object",check:e=>vA(e)||"function"===typeof e}),this.fields=Object.create(null),this._sortErrors=bA,this._nodes=[],this._excludedEdges=[],this.withMutation(()=>{e&&this.shape(e)})}_cast(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var r;let n=super._cast(e,t);if(void 0===n)return this.getDefault(t);if(!this._typeCheck(n))return n;let a=this.fields,s=null!=(r=t.stripUnknown)?r:this.spec.noUnknown,i=[].concat(this._nodes,Object.keys(n).filter(e=>!this._nodes.includes(e))),o={},l=Object.assign({},t,{parent:o,__validating:t.__validating||!1}),c=!1;for(const u of i){let e=a[u],r=u in n;if(e){let r,a=n[u];l.path=(t.path?"".concat(t.path,"."):"")+u,e=e.resolve({value:a,context:t.context,parent:o});let s=e instanceof KP?e.spec:void 0,i=null==s?void 0:s.strict;if(null!=s&&s.strip){c=c||u in n;continue}r=t.__validating&&i?n[u]:e.cast(n[u],l),void 0!==r&&(o[u]=r)}else r&&!s&&(o[u]=n[u]);r===u in o&&o[u]===n[u]||(c=!0)}return c?o:n}_validate(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0,{from:a=[],originalValue:s=e,recursive:i=this.spec.recursive}=t;t.from=[{schema:this,value:s},...a],t.__validating=!0,t.originalValue=s,super._validate(e,t,r,(e,a)=>{if(!i||!vA(a))return void n(e,a);s=s||a;let o=[];for(let r of this._nodes){let e=this.fields[r];e&&!qP.isRef(e)&&o.push(e.asNestedTest({options:t,key:r,parent:a,parentPath:t.path,originalParent:s}))}this.runTests({tests:o,value:a,originalValue:s,options:t},r,t=>{n(t.sort(this._sortErrors).concat(e),a)})})}clone(e){const t=super.clone(e);return t.fields=Object.assign({},this.fields),t._nodes=this._nodes,t._excludedEdges=this._excludedEdges,t._sortErrors=this._sortErrors,t}concat(e){let t=super.concat(e),r=t.fields;for(let[n,a]of Object.entries(this.fields)){const e=r[n];r[n]=void 0===e?a:e}return t.withMutation(t=>t.setFields(r,[...this._excludedEdges,...e._excludedEdges]))}_getDefault(e){if("default"in this.spec)return super._getDefault(e);if(!this._nodes.length)return;let t={};return this._nodes.forEach(r=>{var n;const a=this.fields[r];let s=e;null!=(n=s)&&n.value&&(s=Object.assign({},s,{parent:s.value,value:s.value[r]})),t[r]=a&&"getDefault"in a?a.getDefault(s):void 0}),t}setFields(e,t){let r=this.clone();return r.fields=e,r._nodes=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=[],n=new Set,a=new Set(t.map(e=>{let[t,r]=e;return"".concat(t,"-").concat(r)}));function s(e,t){let s=(0,hP.split)(e)[0];n.add(s),a.has("".concat(t,"-").concat(s))||r.push([t,s])}for(const i of Object.keys(e)){let t=e[i];n.add(i),qP.isRef(t)&&t.isSibling?s(t.path,i):zP(t)&&"deps"in t&&t.deps.forEach(e=>s(e,i))}return mP().array(Array.from(n),r).reverse()}(e,t),r._sortErrors=mA(Object.keys(e)),t&&(r._excludedEdges=t),r}shape(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return this.clone().withMutation(r=>{let n=r._excludedEdges;return t.length&&(Array.isArray(t[0])||(t=[t]),n=[...r._excludedEdges,...t]),r.setFields(Object.assign(r.fields,e),n)})}partial(){const e={};for(const[t,r]of Object.entries(this.fields))e[t]="optional"in r&&r.optional instanceof Function?r.optional():r;return this.setFields(e)}deepPartial(){return yA(this)}pick(e){const t={};for(const r of e)this.fields[r]&&(t[r]=this.fields[r]);return this.setFields(t,this._excludedEdges.filter(t=>{let[r,n]=t;return e.includes(r)&&e.includes(n)}))}omit(e){const t=[];for(const r of Object.keys(this.fields))e.includes(r)||t.push(r);return this.pick(t)}from(e,t,r){let n=(0,hP.getter)(e,!0);return this.transform(a=>{if(!a)return a;let s=a;return((e,t)=>{const r=[...(0,hP.normalizePath)(t)];if(1===r.length)return r[0]in e;let n=r.pop(),a=(0,hP.getter)((0,hP.join)(r),!0)(e);return!(!a||!(n in a))})(a,e)&&(s=Object.assign({},a),r||delete s[e],s[t]=n(a)),s})}json(){return this.transform(gA)}exact(e){return this.test({name:"exact",exclusive:!0,message:e||IP.exact,test(e){if(null==e)return!0;const t=xA(this.schema,e);return 0===t.length||this.createError({params:{properties:t.join(", ")}})}})}stripUnknown(){return this.clone({noUnknown:!0})}noUnknown(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:IP.noUnknown;"boolean"!==typeof e&&(t=e,e=!0);let r=this.test({name:"noUnknown",exclusive:!0,message:t,test(t){if(null==t)return!0;const r=xA(this.schema,t);return!e||0===r.length||this.createError({params:{unknown:r.join(", ")}})}});return r.spec.noUnknown=e,r}unknown(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:IP.noUnknown;return this.noUnknown(!e,t)}transformKeys(e){return this.transform(t=>{if(!t)return t;const r={};for(const n of Object.keys(t))r[e(n)]=t[n];return r})}camelCase(){return this.transformKeys(fP.camelCase)}snakeCase(){return this.transformKeys(fP.snakeCase)}constantCase(){return this.transformKeys(e=>(0,fP.snakeCase)(e).toUpperCase())}describe(e){const t=(e?this.resolve(e):this).clone(),r=super.describe(e);r.fields={};for(const[a,s]of Object.entries(t.fields)){var n;let t=e;null!=(n=t)&&n.value&&(t=Object.assign({},t,{parent:t.value,value:t.value[a]})),r.fields[a]=s.describe(t)}return r}}function NA(e){return new kA(e)}wA.prototype=jA.prototype;class kA extends KP{constructor(e){super({type:"array",spec:{types:e},check:e=>Array.isArray(e)}),this.innerType=void 0,this.innerType=e}_cast(e,t){const r=super._cast(e,t);if(!this._typeCheck(r)||!this.innerType)return r;let n=!1;const a=r.map((e,r)=>{const a=this.innerType.cast(e,Object.assign({},t,{path:"".concat(t.path||"","[").concat(r,"]")}));return a!==e&&(n=!0),a});return n?a:r}_validate(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0;var a;let s=this.innerType,i=null!=(a=t.recursive)?a:this.spec.recursive;null!=t.originalValue&&t.originalValue,super._validate(e,t,r,(a,o)=>{var l;if(!i||!s||!this._typeCheck(o))return void n(a,o);let c=new Array(o.length);for(let r=0;r<o.length;r++){var u;c[r]=s.asNestedTest({options:t,index:r,parent:o,parentPath:t.path,originalParent:null!=(u=t.originalValue)?u:e})}this.runTests({value:o,tests:c,originalValue:null!=(l=t.originalValue)?l:e,options:t},r,e=>n(e.concat(a),o))})}clone(e){const t=super.clone(e);return t.innerType=this.innerType,t}json(){return this.transform(gA)}concat(e){let t=super.concat(e);return t.innerType=this.innerType,e.innerType&&(t.innerType=t.innerType?t.innerType.concat(e.innerType):e.innerType),t}of(e){let t=this.clone();if(!zP(e))throw new TypeError("`array.of()` sub-schema must be a valid yup schema not: "+jP(e));return t.innerType=e,t.spec=Object.assign({},t.spec,{types:e}),t}length(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:RP.length;return this.test({message:t,name:"length",exclusive:!0,params:{length:e},skipAbsent:!0,test(t){return t.length===this.resolve(e)}})}min(e,t){return t=t||RP.min,this.test({message:t,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(t){return t.length>=this.resolve(e)}})}max(e,t){return t=t||RP.max,this.test({message:t,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(t){return t.length<=this.resolve(e)}})}ensure(){return this.default(()=>[]).transform((e,t)=>this._typeCheck(e)?e:null==t?[]:[].concat(t))}compact(e){let t=e?(t,r,n)=>!e(t,r,n):e=>!!e;return this.transform(e=>null!=e?e.filter(t):e)}describe(e){const t=(e?this.resolve(e):this).clone(),r=super.describe(e);if(t.innerType){var n;let a=e;null!=(n=a)&&n.value&&(a=Object.assign({},a,{parent:a.value,value:a.value[0]})),r.innerType=t.innerType.describe(a)}return r}}NA.prototype=kA.prototype;class SA extends KP{constructor(e){super({type:"tuple",spec:{types:e},check(e){const t=this.spec.types;return Array.isArray(e)&&e.length===t.length}}),this.withMutation(()=>{this.typeError(LP.notType)})}_cast(e,t){const{types:r}=this.spec,n=super._cast(e,t);if(!this._typeCheck(n))return n;let a=!1;const s=r.map((e,r)=>{const s=e.cast(n[r],Object.assign({},t,{path:"".concat(t.path||"","[").concat(r,"]")}));return s!==n[r]&&(a=!0),s});return a?s:n}_validate(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0,a=this.spec.types;super._validate(e,t,r,(s,i)=>{var o;if(!this._typeCheck(i))return void n(s,i);let l=[];for(let[r,n]of a.entries()){var c;l[r]=n.asNestedTest({options:t,index:r,parent:i,parentPath:t.path,originalParent:null!=(c=t.originalValue)?c:e})}this.runTests({value:i,tests:l,originalValue:null!=(o=t.originalValue)?o:e,options:t},r,e=>n(e.concat(s),i))})}describe(e){const t=(e?this.resolve(e):this).clone(),r=super.describe(e);return r.innerType=t.spec.types.map((t,r)=>{var n;let a=e;return null!=(n=a)&&n.value&&(a=Object.assign({},a,{parent:a.value,value:a.value[r]})),t.describe(a)}),r}}SA.prototype;const _A=wA().shape({guestName:oA().required("El nombre es obligatorio"),guestEmail:oA().email("Email inv\xe1lido"),guestPhone:oA(),guestDocument:oA().required("El documento es obligatorio"),roomId:cA().required("Selecciona una habitaci\xf3n"),checkIn:hA().required("La fecha de entrada es obligatoria"),checkOut:hA().required("La fecha de salida es obligatoria").min((OA="checkIn",new qP(OA,EA)),"La fecha de salida debe ser posterior a la entrada")});var OA,EA;const CA=e=>{let{isOpen:r,onClose:n,onSubmit:a,availableRooms:s}=e;const[i,o]=(0,t.useState)(1),[l,u]=(0,t.useState)(null),{register:d,handleSubmit:h,watch:f,formState:{errors:p,isSubmitting:m},reset:g}=sP({resolver:dP(_A)}),y=f();t.useEffect(()=>{if(y.roomId&&s){const e=s.find(e=>e.id===parseInt(y.roomId));e&&u(e)}},[y.roomId,s]);const v=()=>{g(),o(1),u(null),n()};if(!r)return null;const x=[{number:1,title:"Informaci\xf3n del Hu\xe9sped",icon:sn},{number:2,title:"Detalles de la Reserva",icon:_n},{number:3,title:"Confirmaci\xf3n",icon:wE}];return(0,$r.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,$r.jsxs)("div",{className:"bg-white rounded-xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-hidden",children:[(0,$r.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[(0,$r.jsxs)("div",{children:[(0,$r.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Nueva Reserva"}),(0,$r.jsx)("p",{className:"text-gray-600 mt-1",children:"Crear una nueva reserva para el hotel"})]}),(0,$r.jsx)("button",{onClick:v,className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",children:(0,$r.jsx)(HO,{size:24})})]}),(0,$r.jsx)("div",{className:"px-6 py-4 border-b border-gray-200 bg-gray-50",children:(0,$r.jsx)("div",{className:"flex items-center justify-between",children:x.map((e,t)=>{const r=e.icon,n=i===e.number,a=i>e.number;return(0,$r.jsxs)("div",{className:"flex items-center",children:[(0,$r.jsx)("div",{className:"flex items-center justify-center w-10 h-10 rounded-full border-2 transition-colors ".concat(n?"bg-blue-600 border-blue-600 text-white":a?"bg-green-600 border-green-600 text-white":"border-gray-300 text-gray-400"),children:(0,$r.jsx)(r,{size:20})}),(0,$r.jsxs)("div",{className:"ml-3",children:[(0,$r.jsxs)("p",{className:"text-sm font-medium ".concat(n?"text-blue-600":a?"text-green-600":"text-gray-500"),children:["Paso ",e.number]}),(0,$r.jsx)("p",{className:"text-xs ".concat(n?"text-blue-600":a?"text-green-600":"text-gray-400"),children:e.title})]}),t<x.length-1&&(0,$r.jsx)("div",{className:"w-16 h-1 mx-6 rounded-full ".concat(a?"bg-green-600":"bg-gray-200")})]},e.number)})})}),(0,$r.jsxs)("form",{onSubmit:h(async e=>{try{const t=new Date(e.checkIn),r=new Date(e.checkOut),n=Math.ceil((r-t)/864e5),s={guest:{name:e.guestName,email:e.guestEmail||"",phone:e.guestPhone||"",document:e.guestDocument},room:l,checkIn:e.checkIn,checkOut:e.checkOut,nights:n,guests:1,status:fE.PENDING};await a(s),g(),o(1),u(null)}catch(t){console.error("Error creating reservation:",t)}}),children:[(0,$r.jsxs)("div",{className:"p-6 max-h-[60vh] overflow-y-auto",children:[1===i&&(0,$r.jsxs)("div",{className:"space-y-6",children:[(0,$r.jsxs)("div",{className:"flex items-center space-x-2 mb-6",children:[(0,$r.jsx)(sn,{className:"w-6 h-6 text-blue-600"}),(0,$r.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Informaci\xf3n del Hu\xe9sped"})]}),(0,$r.jsxs)("div",{className:"space-y-6",children:[(0,$r.jsxs)("div",{children:[(0,$r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nombre Completo *"}),(0,$r.jsx)("input",c(c({type:"text"},d("guestName")),{},{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Ej: Juan P\xe9rez Garc\xeda"})),p.guestName&&(0,$r.jsx)("p",{className:"text-red-600 text-sm mt-1",children:p.guestName.message})]}),(0,$r.jsxs)("div",{children:[(0,$r.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Email ",(0,$r.jsx)("span",{className:"text-gray-500",children:"(opcional)"})]}),(0,$r.jsx)("input",c(c({type:"email"},d("guestEmail")),{},{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"ejemplo@email.com"})),p.guestEmail&&(0,$r.jsx)("p",{className:"text-red-600 text-sm mt-1",children:p.guestEmail.message})]}),(0,$r.jsxs)("div",{children:[(0,$r.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Tel\xe9fono ",(0,$r.jsx)("span",{className:"text-gray-500",children:"(opcional)"})]}),(0,$r.jsx)("input",c(c({type:"tel"},d("guestPhone")),{},{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"+34 600 123 456"})),p.guestPhone&&(0,$r.jsx)("p",{className:"text-red-600 text-sm mt-1",children:p.guestPhone.message})]}),(0,$r.jsxs)("div",{children:[(0,$r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Documento de Identidad *"}),(0,$r.jsx)("input",c(c({type:"text"},d("guestDocument")),{},{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"DNI, Pasaporte, etc."})),p.guestDocument&&(0,$r.jsx)("p",{className:"text-red-600 text-sm mt-1",children:p.guestDocument.message})]})]})]}),2===i&&(0,$r.jsxs)("div",{className:"space-y-6",children:[(0,$r.jsxs)("div",{className:"flex items-center space-x-2 mb-6",children:[(0,$r.jsx)(_n,{className:"w-6 h-6 text-blue-600"}),(0,$r.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Detalles de la Reserva"})]}),(0,$r.jsxs)("div",{className:"space-y-6",children:[(0,$r.jsxs)("div",{children:[(0,$r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Habitaci\xf3n *"}),(0,$r.jsxs)("select",c(c({},d("roomId")),{},{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,$r.jsx)("option",{value:"",children:"Seleccionar habitaci\xf3n"}),s.map(e=>(0,$r.jsxs)("option",{value:e.id,children:["Habitaci\xf3n ",e.number," - ",e.type]},e.id))]})),p.roomId&&(0,$r.jsx)("p",{className:"text-red-600 text-sm mt-1",children:p.roomId.message})]}),(0,$r.jsxs)("div",{children:[(0,$r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Fecha de Entrada *"}),(0,$r.jsx)("input",c(c({type:"date"},d("checkIn")),{},{min:(new Date).toISOString().split("T")[0],className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})),p.checkIn&&(0,$r.jsx)("p",{className:"text-red-600 text-sm mt-1",children:p.checkIn.message})]}),(0,$r.jsxs)("div",{children:[(0,$r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Fecha de Salida *"}),(0,$r.jsx)("input",c(c({type:"date"},d("checkOut")),{},{min:y.checkIn||(new Date).toISOString().split("T")[0],className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})),p.checkOut&&(0,$r.jsx)("p",{className:"text-red-600 text-sm mt-1",children:p.checkOut.message})]})]})]}),3===i&&(0,$r.jsxs)("div",{className:"space-y-6",children:[(0,$r.jsxs)("div",{className:"flex items-center space-x-2 mb-6",children:[(0,$r.jsx)(wE,{className:"w-6 h-6 text-blue-600"}),(0,$r.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Confirmaci\xf3n de Reserva"})]}),(0,$r.jsxs)("div",{className:"bg-gray-50 rounded-lg p-6 space-y-4",children:[(0,$r.jsxs)("div",{children:[(0,$r.jsx)("h4",{className:"font-semibold text-gray-900 mb-3",children:"Informaci\xf3n del Hu\xe9sped"}),(0,$r.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,$r.jsxs)("p",{children:[(0,$r.jsx)("span",{className:"text-gray-600",children:"Nombre:"})," ",(0,$r.jsx)("span",{className:"font-medium",children:y.guestName})]}),y.guestEmail&&(0,$r.jsxs)("p",{children:[(0,$r.jsx)("span",{className:"text-gray-600",children:"Email:"})," ",(0,$r.jsx)("span",{className:"font-medium",children:y.guestEmail})]}),y.guestPhone&&(0,$r.jsxs)("p",{children:[(0,$r.jsx)("span",{className:"text-gray-600",children:"Tel\xe9fono:"})," ",(0,$r.jsx)("span",{className:"font-medium",children:y.guestPhone})]}),(0,$r.jsxs)("p",{children:[(0,$r.jsx)("span",{className:"text-gray-600",children:"Documento:"})," ",(0,$r.jsx)("span",{className:"font-medium",children:y.guestDocument})]})]})]}),(0,$r.jsxs)("div",{className:"border-t border-gray-200 pt-4",children:[(0,$r.jsx)("h4",{className:"font-semibold text-gray-900 mb-3",children:"Detalles de la Reserva"}),(0,$r.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,$r.jsxs)("p",{children:[(0,$r.jsx)("span",{className:"text-gray-600",children:"Habitaci\xf3n:"})," ",(0,$r.jsxs)("span",{className:"font-medium",children:[null===l||void 0===l?void 0:l.number," - ",null===l||void 0===l?void 0:l.type]})]}),(0,$r.jsxs)("p",{children:[(0,$r.jsx)("span",{className:"text-gray-600",children:"Check-in:"})," ",(0,$r.jsx)("span",{className:"font-medium",children:y.checkIn&&new Date(y.checkIn).toLocaleDateString("es-ES")})]}),(0,$r.jsxs)("p",{children:[(0,$r.jsx)("span",{className:"text-gray-600",children:"Check-out:"})," ",(0,$r.jsx)("span",{className:"font-medium",children:y.checkOut&&new Date(y.checkOut).toLocaleDateString("es-ES")})]}),y.checkIn&&y.checkOut&&(0,$r.jsxs)("p",{children:[(0,$r.jsx)("span",{className:"text-gray-600",children:"Noches:"})," ",(0,$r.jsx)("span",{className:"font-medium",children:Math.ceil((new Date(y.checkOut)-new Date(y.checkIn))/864e5)})]})]})]})]})]})]}),(0,$r.jsxs)("div",{className:"px-6 py-4 border-t border-gray-200 bg-gray-50 flex justify-between",children:[(0,$r.jsx)("div",{children:i>1&&(0,$r.jsx)(gn,{type:"button",variant:"outline",onClick:()=>{o(e=>Math.max(e-1,1))},children:"Anterior"})}),(0,$r.jsxs)("div",{className:"flex space-x-3",children:[(0,$r.jsx)(gn,{type:"button",variant:"outline",onClick:v,children:"Cancelar"}),i<3?(0,$r.jsx)(gn,{type:"button",variant:"primary",onClick:()=>{o(e=>Math.min(e+1,3))},children:"Siguiente"}):(0,$r.jsx)(gn,{type:"submit",variant:"primary",loading:m,children:"Crear Reserva"})]})]})]})]})})},PA=(Math.pow(10,8),6048e5),AA=Symbol.for("constructDateFrom");function TA(e,t){return"function"===typeof e?e(t):e&&"object"===typeof e&&AA in e?e[AA](t):e instanceof Date?new e.constructor(t):new Date(t)}function DA(e,t){return TA(t||e,e)}function MA(e,t){const r=DA(e,null===t||void 0===t?void 0:t.in);return r.setDate(1),r.setHours(0,0,0,0),r}function IA(e,t){const r=DA(e,null===t||void 0===t?void 0:t.in),n=r.getMonth();return r.setFullYear(r.getFullYear(),n+1,0),r.setHours(23,59,59,999),r}function RA(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];const a=TA.bind(null,e||r.find(e=>"object"===typeof e));return r.map(a)}function LA(e,t){var r;const{start:n,end:a}=function(e,t){const[r,n]=RA(e,t.start,t.end);return{start:r,end:n}}(null===t||void 0===t?void 0:t.in,e);let s=+n>+a;const i=s?+n:+a,o=s?a:n;o.setHours(0,0,0,0);let l=null!==(r=null===t||void 0===t?void 0:t.step)&&void 0!==r?r:1;if(!l)return[];l<0&&(l=-l,s=!s);const c=[];for(;+o<=i;)c.push(TA(n,o)),o.setDate(o.getDate()+l),o.setHours(0,0,0,0);return s?c.reverse():c}const zA={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};function FA(e){return function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const BA={date:FA({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:FA({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:FA({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},UA={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function qA(e){return(t,r)=>{let n;if("formatting"===(null!==r&&void 0!==r&&r.context?String(r.context):"standalone")&&e.formattingValues){const t=e.defaultFormattingWidth||e.defaultWidth,a=null!==r&&void 0!==r&&r.width?String(r.width):t;n=e.formattingValues[a]||e.formattingValues[t]}else{const t=e.defaultWidth,a=null!==r&&void 0!==r&&r.width?String(r.width):e.defaultWidth;n=e.values[a]||e.values[t]}return n[e.argumentCallback?e.argumentCallback(t):t]}}const HA={ordinalNumber:(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},era:qA({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:qA({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:e=>e-1}),month:qA({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:qA({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:qA({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})};function VA(e){return function(t){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=r.width,a=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],s=t.match(a);if(!s)return null;const i=s[0],o=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],l=Array.isArray(o)?function(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r;return}(o,e=>e.test(i)):function(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r;return}(o,e=>e.test(i));let c;c=e.valueCallback?e.valueCallback(l):l,c=r.valueCallback?r.valueCallback(c):c;return{value:c,rest:t.slice(i.length)}}}function WA(e){return function(t){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=t.match(e.matchPattern);if(!n)return null;const a=n[0],s=t.match(e.parsePattern);if(!s)return null;let i=e.valueCallback?e.valueCallback(s[0]):s[0];i=r.valueCallback?r.valueCallback(i):i;return{value:i,rest:t.slice(a.length)}}}const GA={ordinalNumber:WA({matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:e=>parseInt(e,10)}),era:VA({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:VA({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:e=>e+1}),month:VA({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:VA({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:VA({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})},$A={code:"en-US",formatDistance:(e,t,r)=>{let n;const a=zA[e];return n="string"===typeof a?a:1===t?a.one:a.other.replace("{{count}}",t.toString()),null!==r&&void 0!==r&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n},formatLong:BA,formatRelative:(e,t,r,n)=>UA[e],localize:HA,match:GA,options:{weekStartsOn:0,firstWeekContainsDate:1}};let KA={};function YA(){return KA}function XA(e){const t=DA(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function JA(e,t){const r=DA(e,null===t||void 0===t?void 0:t.in);return r.setHours(0,0,0,0),r}function QA(e,t,r){const[n,a]=RA(null===r||void 0===r?void 0:r.in,e,t),s=JA(n),i=JA(a),o=+s-XA(s),l=+i-XA(i);return Math.round((o-l)/864e5)}function ZA(e,t){const r=DA(e,null===t||void 0===t?void 0:t.in);return r.setFullYear(r.getFullYear(),0,1),r.setHours(0,0,0,0),r}function eT(e,t){const r=DA(e,null===t||void 0===t?void 0:t.in);return QA(r,ZA(r))+1}function tT(e,t){var r,n,a,s,i,o;const l=YA(),c=null!==(r=null!==(n=null!==(a=null!==(s=null===t||void 0===t?void 0:t.weekStartsOn)&&void 0!==s?s:null===t||void 0===t||null===(i=t.locale)||void 0===i||null===(i=i.options)||void 0===i?void 0:i.weekStartsOn)&&void 0!==a?a:l.weekStartsOn)&&void 0!==n?n:null===(o=l.locale)||void 0===o||null===(o=o.options)||void 0===o?void 0:o.weekStartsOn)&&void 0!==r?r:0,u=DA(e,null===t||void 0===t?void 0:t.in),d=u.getDay(),h=(d<c?7:0)+d-c;return u.setDate(u.getDate()-h),u.setHours(0,0,0,0),u}function rT(e,t){return tT(e,c(c({},t),{},{weekStartsOn:1}))}function nT(e,t){const r=DA(e,null===t||void 0===t?void 0:t.in),n=r.getFullYear(),a=TA(r,0);a.setFullYear(n+1,0,4),a.setHours(0,0,0,0);const s=rT(a),i=TA(r,0);i.setFullYear(n,0,4),i.setHours(0,0,0,0);const o=rT(i);return r.getTime()>=s.getTime()?n+1:r.getTime()>=o.getTime()?n:n-1}function aT(e,t){const r=nT(e,t),n=TA((null===t||void 0===t?void 0:t.in)||e,0);return n.setFullYear(r,0,4),n.setHours(0,0,0,0),rT(n)}function sT(e,t){const r=DA(e,null===t||void 0===t?void 0:t.in),n=+rT(r)-+aT(r);return Math.round(n/PA)+1}function iT(e,t){var r,n,a,s,i,o;const l=DA(e,null===t||void 0===t?void 0:t.in),c=l.getFullYear(),u=YA(),d=null!==(r=null!==(n=null!==(a=null!==(s=null===t||void 0===t?void 0:t.firstWeekContainsDate)&&void 0!==s?s:null===t||void 0===t||null===(i=t.locale)||void 0===i||null===(i=i.options)||void 0===i?void 0:i.firstWeekContainsDate)&&void 0!==a?a:u.firstWeekContainsDate)&&void 0!==n?n:null===(o=u.locale)||void 0===o||null===(o=o.options)||void 0===o?void 0:o.firstWeekContainsDate)&&void 0!==r?r:1,h=TA((null===t||void 0===t?void 0:t.in)||e,0);h.setFullYear(c+1,0,d),h.setHours(0,0,0,0);const f=tT(h,t),p=TA((null===t||void 0===t?void 0:t.in)||e,0);p.setFullYear(c,0,d),p.setHours(0,0,0,0);const m=tT(p,t);return+l>=+f?c+1:+l>=+m?c:c-1}function oT(e,t){var r,n,a,s,i,o;const l=YA(),c=null!==(r=null!==(n=null!==(a=null!==(s=null===t||void 0===t?void 0:t.firstWeekContainsDate)&&void 0!==s?s:null===t||void 0===t||null===(i=t.locale)||void 0===i||null===(i=i.options)||void 0===i?void 0:i.firstWeekContainsDate)&&void 0!==a?a:l.firstWeekContainsDate)&&void 0!==n?n:null===(o=l.locale)||void 0===o||null===(o=o.options)||void 0===o?void 0:o.firstWeekContainsDate)&&void 0!==r?r:1,u=iT(e,t),d=TA((null===t||void 0===t?void 0:t.in)||e,0);d.setFullYear(u,0,c),d.setHours(0,0,0,0);return tT(d,t)}function lT(e,t){const r=DA(e,null===t||void 0===t?void 0:t.in),n=+tT(r,t)-+oT(r,t);return Math.round(n/PA)+1}function cT(e,t){return(e<0?"-":"")+Math.abs(e).toString().padStart(t,"0")}const uT={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return cT("yy"===t?n%100:n,t.length)},M(e,t){const r=e.getMonth();return"M"===t?String(r+1):cT(r+1,2)},d:(e,t)=>cT(e.getDate(),t.length),a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];default:return"am"===r?"a.m.":"p.m."}},h:(e,t)=>cT(e.getHours()%12||12,t.length),H:(e,t)=>cT(e.getHours(),t.length),m:(e,t)=>cT(e.getMinutes(),t.length),s:(e,t)=>cT(e.getSeconds(),t.length),S(e,t){const r=t.length,n=e.getMilliseconds();return cT(Math.trunc(n*Math.pow(10,r-3)),t.length)}},dT="midnight",hT="noon",fT="morning",pT="afternoon",mT="evening",gT="night",yT={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if("yo"===t){const t=e.getFullYear(),n=t>0?t:1-t;return r.ordinalNumber(n,{unit:"year"})}return uT.y(e,t)},Y:function(e,t,r,n){const a=iT(e,n),s=a>0?a:1-a;if("YY"===t){return cT(s%100,2)}return"Yo"===t?r.ordinalNumber(s,{unit:"year"}):cT(s,t.length)},R:function(e,t){return cT(nT(e),t.length)},u:function(e,t){return cT(e.getFullYear(),t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return cT(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return cT(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return uT.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return cT(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const a=lT(e,n);return"wo"===t?r.ordinalNumber(a,{unit:"week"}):cT(a,t.length)},I:function(e,t,r){const n=sT(e);return"Io"===t?r.ordinalNumber(n,{unit:"week"}):cT(n,t.length)},d:function(e,t,r){return"do"===t?r.ordinalNumber(e.getDate(),{unit:"date"}):uT.d(e,t)},D:function(e,t,r){const n=eT(e);return"Do"===t?r.ordinalNumber(n,{unit:"dayOfYear"}):cT(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const a=e.getDay(),s=(a-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(s);case"ee":return cT(s,2);case"eo":return r.ordinalNumber(s,{unit:"day"});case"eee":return r.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(a,{width:"short",context:"formatting"});default:return r.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const a=e.getDay(),s=(a-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(s);case"cc":return cT(s,t.length);case"co":return r.ordinalNumber(s,{unit:"day"});case"ccc":return r.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(a,{width:"narrow",context:"standalone"});case"cccccc":return r.day(a,{width:"short",context:"standalone"});default:return r.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),a=0===n?7:n;switch(t){case"i":return String(a);case"ii":return cT(a,t.length);case"io":return r.ordinalNumber(a,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(n,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(n,{width:"narrow",context:"formatting"});default:return r.dayPeriod(n,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let a;switch(a=12===n?hT:0===n?dT:n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(a,{width:"narrow",context:"formatting"});default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let a;switch(a=n>=17?mT:n>=12?pT:n>=4?fT:gT,t){case"B":case"BB":case"BBB":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(a,{width:"narrow",context:"formatting"});default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,t,r){if("ho"===t){let t=e.getHours()%12;return 0===t&&(t=12),r.ordinalNumber(t,{unit:"hour"})}return uT.h(e,t)},H:function(e,t,r){return"Ho"===t?r.ordinalNumber(e.getHours(),{unit:"hour"}):uT.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return"Ko"===t?r.ordinalNumber(n,{unit:"hour"}):cT(n,t.length)},k:function(e,t,r){let n=e.getHours();return 0===n&&(n=24),"ko"===t?r.ordinalNumber(n,{unit:"hour"}):cT(n,t.length)},m:function(e,t,r){return"mo"===t?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):uT.m(e,t)},s:function(e,t,r){return"so"===t?r.ordinalNumber(e.getSeconds(),{unit:"second"}):uT.s(e,t)},S:function(e,t){return uT.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(0===n)return"Z";switch(t){case"X":return xT(n);case"XXXX":case"XX":return bT(n);default:return bT(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return xT(n);case"xxxx":case"xx":return bT(n);default:return bT(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+vT(n,":");default:return"GMT"+bT(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+vT(n,":");default:return"GMT"+bT(n,":")}},t:function(e,t,r){return cT(Math.trunc(+e/1e3),t.length)},T:function(e,t,r){return cT(+e,t.length)}};function vT(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";const r=e>0?"-":"+",n=Math.abs(e),a=Math.trunc(n/60),s=n%60;return 0===s?r+String(a):r+String(a)+t+cT(s,2)}function xT(e,t){if(e%60===0){return(e>0?"-":"+")+cT(Math.abs(e)/60,2)}return bT(e,t)}function bT(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";const r=e>0?"-":"+",n=Math.abs(e);return r+cT(Math.trunc(n/60),2)+t+cT(n%60,2)}const wT=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});default:return t.date({width:"full"})}},jT=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});default:return t.time({width:"full"})}},NT={p:jT,P:(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],a=r[2];if(!a)return wT(e,t);let s;switch(n){case"P":s=t.dateTime({width:"short"});break;case"PP":s=t.dateTime({width:"medium"});break;case"PPP":s=t.dateTime({width:"long"});break;default:s=t.dateTime({width:"full"})}return s.replace("{{date}}",wT(n,t)).replace("{{time}}",jT(a,t))}},kT=/^D+$/,ST=/^Y+$/,_T=["D","DD","YY","YYYY"];function OT(e){return e instanceof Date||"object"===typeof e&&"[object Date]"===Object.prototype.toString.call(e)}function ET(e){return!(!OT(e)&&"number"!==typeof e||isNaN(+DA(e)))}const CT=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,PT=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,AT=/^'([^]*?)'?$/,TT=/''/g,DT=/[a-zA-Z]/;function MT(e,t,r){var n,a,s,i,o,l,c,u,d,h,f,p,m,g;const y=YA(),v=null!==(n=null!==(a=null===r||void 0===r?void 0:r.locale)&&void 0!==a?a:y.locale)&&void 0!==n?n:$A,x=null!==(s=null!==(i=null!==(o=null!==(l=null===r||void 0===r?void 0:r.firstWeekContainsDate)&&void 0!==l?l:null===r||void 0===r||null===(c=r.locale)||void 0===c||null===(c=c.options)||void 0===c?void 0:c.firstWeekContainsDate)&&void 0!==o?o:y.firstWeekContainsDate)&&void 0!==i?i:null===(u=y.locale)||void 0===u||null===(u=u.options)||void 0===u?void 0:u.firstWeekContainsDate)&&void 0!==s?s:1,b=null!==(d=null!==(h=null!==(f=null!==(p=null===r||void 0===r?void 0:r.weekStartsOn)&&void 0!==p?p:null===r||void 0===r||null===(m=r.locale)||void 0===m||null===(m=m.options)||void 0===m?void 0:m.weekStartsOn)&&void 0!==f?f:y.weekStartsOn)&&void 0!==h?h:null===(g=y.locale)||void 0===g||null===(g=g.options)||void 0===g?void 0:g.weekStartsOn)&&void 0!==d?d:0,w=DA(e,null===r||void 0===r?void 0:r.in);if(!ET(w))throw new RangeError("Invalid time value");let j=t.match(PT).map(e=>{const t=e[0];if("p"===t||"P"===t){return(0,NT[t])(e,v.formatLong)}return e}).join("").match(CT).map(e=>{if("''"===e)return{isToken:!1,value:"'"};const t=e[0];if("'"===t)return{isToken:!1,value:IT(e)};if(yT[t])return{isToken:!0,value:e};if(t.match(DT))throw new RangeError("Format string contains an unescaped latin alphabet character `"+t+"`");return{isToken:!1,value:e}});v.localize.preprocessor&&(j=v.localize.preprocessor(w,j));const N={firstWeekContainsDate:x,weekStartsOn:b,locale:v};return j.map(n=>{if(!n.isToken)return n.value;const a=n.value;(null!==r&&void 0!==r&&r.useAdditionalWeekYearTokens||!function(e){return ST.test(e)}(a))&&(null!==r&&void 0!==r&&r.useAdditionalDayOfYearTokens||!function(e){return kT.test(e)}(a))||function(e,t,r){const n=function(e,t,r){const n="Y"===e[0]?"years":"days of the month";return"Use `".concat(e.toLowerCase(),"` instead of `").concat(e,"` (in `").concat(t,"`) for formatting ").concat(n," to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md")}(e,t,r);if(console.warn(n),_T.includes(e))throw new RangeError(n)}(a,t,String(e));return(0,yT[a[0]])(w,a,v.localize,N)}).join("")}function IT(e){const t=e.match(AT);return t?t[1].replace(TT,"'"):e}function RT(e,t,r){const[n,a]=RA(null===r||void 0===r?void 0:r.in,e,t);return n.getFullYear()===a.getFullYear()&&n.getMonth()===a.getMonth()}function LT(e,t,r){const[n,a]=RA(null===r||void 0===r?void 0:r.in,e,t);return+JA(n)===+JA(a)}function zT(e){return TA(e,Date.now())}function FT(e,t){return LT(TA((null===t||void 0===t?void 0:t.in)||e,e),zT((null===t||void 0===t?void 0:t.in)||e))}const BT={lessThanXSeconds:{one:"menos de un segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"medio minuto",lessThanXMinutes:{one:"menos de un minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"alrededor de 1 hora",other:"alrededor de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 d\xeda",other:"{{count}} d\xedas"},aboutXWeeks:{one:"alrededor de 1 semana",other:"alrededor de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"alrededor de 1 mes",other:"alrededor de {{count}} meses"},xMonths:{one:"1 mes",other:"{{count}} meses"},aboutXYears:{one:"alrededor de 1 a\xf1o",other:"alrededor de {{count}} a\xf1os"},xYears:{one:"1 a\xf1o",other:"{{count}} a\xf1os"},overXYears:{one:"m\xe1s de 1 a\xf1o",other:"m\xe1s de {{count}} a\xf1os"},almostXYears:{one:"casi 1 a\xf1o",other:"casi {{count}} a\xf1os"}},UT={date:FA({formats:{full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/y"},defaultWidth:"full"}),time:FA({formats:{full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},defaultWidth:"full"}),dateTime:FA({formats:{full:"{{date}} 'a las' {{time}}",long:"{{date}} 'a las' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},qT={lastWeek:"'el' eeee 'pasado a la' p",yesterday:"'ayer a la' p",today:"'hoy a la' p",tomorrow:"'ma\xf1ana a la' p",nextWeek:"eeee 'a la' p",other:"P"},HT={lastWeek:"'el' eeee 'pasado a las' p",yesterday:"'ayer a las' p",today:"'hoy a las' p",tomorrow:"'ma\xf1ana a las' p",nextWeek:"eeee 'a las' p",other:"P"},VT={ordinalNumber:(e,t)=>Number(e)+"\xba",era:qA({values:{narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","despu\xe9s de cristo"]},defaultWidth:"wide"}),quarter:qA({values:{narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1\xba trimestre","2\xba trimestre","3\xba trimestre","4\xba trimestre"]},defaultWidth:"wide",argumentCallback:e=>Number(e)-1}),month:qA({values:{narrow:["e","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic"],wide:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"]},defaultWidth:"wide"}),day:qA({values:{narrow:["d","l","m","m","j","v","s"],short:["do","lu","ma","mi","ju","vi","s\xe1"],abbreviated:["dom","lun","mar","mi\xe9","jue","vie","s\xe1b"],wide:["domingo","lunes","martes","mi\xe9rcoles","jueves","viernes","s\xe1bado"]},defaultWidth:"wide"}),dayPeriod:qA({values:{narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"ma\xf1ana",afternoon:"tarde",evening:"tarde",night:"noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"ma\xf1ana",afternoon:"tarde",evening:"tarde",night:"noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"ma\xf1ana",afternoon:"tarde",evening:"tarde",night:"noche"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"de la ma\xf1ana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"de la ma\xf1ana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"de la ma\xf1ana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"}},defaultFormattingWidth:"wide"})},WT={ordinalNumber:WA({matchPattern:/^(\d+)(\xba)?/i,parsePattern:/\d+/i,valueCallback:function(e){return parseInt(e,10)}}),era:VA({matchPatterns:{narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|a\.?\s?e\.?\s?c\.?|d\.?\s?c\.?|e\.?\s?c\.?)/i,wide:/^(antes de cristo|antes de la era com[u\xfa]n|despu[e\xe9]s de cristo|era com[u\xfa]n)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^ac/i,/^dc/i],wide:[/^(antes de cristo|antes de la era com[u\xfa]n)/i,/^(despu[e\xe9]s de cristo|era com[u\xfa]n)/i]},defaultParseWidth:"any"}),quarter:VA({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234](\xba)? trimestre/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:e=>e+1}),month:VA({matchPatterns:{narrow:/^[efmajsond]/i,abbreviated:/^(ene|feb|mar|abr|may|jun|jul|ago|sep|oct|nov|dic)/i,wide:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^e/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^en/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i]},defaultParseWidth:"any"}),day:VA({matchPatterns:{narrow:/^[dlmjvs]/i,short:/^(do|lu|ma|mi|ju|vi|s[\xe1a])/i,abbreviated:/^(dom|lun|mar|mi[\xe9e]|jue|vie|s[\xe1a]b)/i,wide:/^(domingo|lunes|martes|mi[\xe9e]rcoles|jueves|viernes|s[\xe1a]bado)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^j/i,/^v/i,/^s/i],any:[/^do/i,/^lu/i,/^ma/i,/^mi/i,/^ju/i,/^vi/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:VA({matchPatterns:{narrow:/^(a|p|mn|md|(de la|a las) (ma\xf1ana|tarde|noche))/i,any:/^([ap]\.?\s?m\.?|medianoche|mediodia|(de la|a las) (ma\xf1ana|tarde|noche))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mn/i,noon:/^md/i,morning:/ma\xf1ana/i,afternoon:/tarde/i,evening:/tarde/i,night:/noche/i}},defaultParseWidth:"any"})},GT={code:"es",formatDistance:(e,t,r)=>{let n;const a=BT[e];return n="string"===typeof a?a:1===t?a.one:a.other.replace("{{count}}",t.toString()),null!==r&&void 0!==r&&r.addSuffix?r.comparison&&r.comparison>0?"en "+n:"hace "+n:n},formatLong:UT,formatRelative:(e,t,r,n)=>1!==t.getHours()?HT[e]:qT[e],localize:VT,match:WT,options:{weekStartsOn:1,firstWeekContainsDate:1}},$T=e=>{let{reservations:r,loading:n,onSelectReservation:a}=e;const[s,i]=(0,t.useState)(new Date),[o,l]=(0,t.useState)(new Date),u=MA(s),d=LA({start:u,end:IA(s)}),h=(0,t.useMemo)(()=>{const e={};return r.forEach(t=>{const r=LA({start:new Date(t.checkIn),end:new Date(t.checkOut)});r.forEach((n,a)=>{const s=MT(n,"yyyy-MM-dd");e[s]||(e[s]=[]),e[s].push(c(c({},t),{},{isCheckIn:0===a,isCheckOut:a===r.length-1,isStay:a>0&&a<r.length-1}))})}),e},[r]),f=e=>{const t=MT(e,"yyyy-MM-dd");return h[t]||[]},p=e=>{switch(e){case fE.CONFIRMED:return"bg-green-500";case fE.PENDING:return"bg-yellow-500";case fE.CHECKED_IN:return"bg-blue-500";case fE.CHECKED_OUT:return"bg-gray-500";case fE.CANCELLED:return"bg-red-500";default:return"bg-gray-400"}},m=e=>{const t=new Date(s);t.setMonth(s.getMonth()+e),i(t)},g=e=>{let{date:t}=e;const r=f(t),n=RT(t,s),i=LT(t,o),c=FT(t);return(0,$r.jsxs)("div",{className:pn()("min-h-[120px] border border-gray-200 p-2 cursor-pointer hover:bg-gray-50 transition-colors",!n&&"bg-gray-50 text-gray-400",i&&"bg-blue-50 border-blue-300",c&&"bg-yellow-50"),onClick:()=>l(t),children:[(0,$r.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,$r.jsx)("span",{className:pn()("text-sm font-medium",c&&"bg-blue-600 text-white w-6 h-6 rounded-full flex items-center justify-center text-xs"),children:MT(t,"d")}),r.length>0&&(0,$r.jsx)("span",{className:"text-xs text-gray-500",children:r.length})]}),(0,$r.jsxs)("div",{className:"space-y-1",children:[r.slice(0,3).map((e,t)=>{const{reservation:r,isCheckIn:n,isCheckOut:s,isStay:i}=e;return(0,$r.jsx)("div",{className:pn()("text-xs p-1 rounded cursor-pointer hover:opacity-75",p(r.status).replace("bg-","bg-opacity-20 bg-"),"text-gray-800 border-l-2",p(r.status).replace("bg-","border-")),onClick:e=>{e.stopPropagation(),a(r)},children:(0,$r.jsxs)("div",{className:"flex items-center space-x-1",children:[n&&(0,$r.jsx)("span",{className:"text-green-600 font-bold",children:"\u2192"}),s&&(0,$r.jsx)("span",{className:"text-red-600 font-bold",children:"\u2190"}),(0,$r.jsxs)("span",{className:"truncate",children:[r.guest.name," - ",r.room.number]})]})},"".concat(r.id,"-").concat(t))}),r.length>3&&(0,$r.jsxs)("div",{className:"text-xs text-gray-500 text-center",children:["+",r.length-3," m\xe1s"]})]})]})};return n?(0,$r.jsx)("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6",children:(0,$r.jsxs)("div",{className:"animate-pulse",children:[(0,$r.jsx)("div",{className:"h-8 bg-gray-200 rounded w-1/3 mb-6"}),(0,$r.jsx)("div",{className:"grid grid-cols-7 gap-2",children:[...Array(35)].map((e,t)=>(0,$r.jsx)("div",{className:"h-24 bg-gray-200 rounded"},t))})]})}):(0,$r.jsxs)("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100",children:[(0,$r.jsxs)("div",{className:"p-6 border-b border-gray-200",children:[(0,$r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,$r.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,$r.jsx)(_n,{className:"w-6 h-6 text-blue-600"}),(0,$r.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:MT(s,"MMMM yyyy",{locale:GT})})]}),(0,$r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,$r.jsx)("button",{onClick:()=>m(-1),className:"p-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors",children:(0,$r.jsx)(An,{size:20})}),(0,$r.jsx)("button",{onClick:()=>i(new Date),className:"px-4 py-2 text-sm text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",children:"Hoy"}),(0,$r.jsx)("button",{onClick:()=>m(1),className:"p-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors",children:(0,$r.jsx)(Tn,{size:20})})]})]}),(0,$r.jsxs)("div",{className:"flex items-center space-x-4 mt-4 text-sm",children:[(0,$r.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,$r.jsx)("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),(0,$r.jsx)("span",{children:"Confirmada"})]}),(0,$r.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,$r.jsx)("div",{className:"w-3 h-3 bg-yellow-500 rounded-full"}),(0,$r.jsx)("span",{children:"Pendiente"})]}),(0,$r.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,$r.jsx)("div",{className:"w-3 h-3 bg-blue-500 rounded-full"}),(0,$r.jsx)("span",{children:"Check-in"})]}),(0,$r.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,$r.jsx)("div",{className:"w-3 h-3 bg-gray-500 rounded-full"}),(0,$r.jsx)("span",{children:"Check-out"})]}),(0,$r.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,$r.jsx)("span",{className:"text-green-600 font-bold",children:"\u2192"}),(0,$r.jsx)("span",{children:"Llegada"})]}),(0,$r.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,$r.jsx)("span",{className:"text-red-600 font-bold",children:"\u2190"}),(0,$r.jsx)("span",{children:"Salida"})]})]})]}),(0,$r.jsxs)("div",{className:"p-6",children:[(0,$r.jsx)("div",{className:"grid grid-cols-7 gap-2 mb-2",children:["Lun","Mar","Mi\xe9","Jue","Vie","S\xe1b","Dom"].map(e=>(0,$r.jsx)("div",{className:"text-center text-sm font-medium text-gray-500 py-2",children:e},e))}),(0,$r.jsxs)("div",{className:"grid grid-cols-7 gap-2",children:[Array.from({length:(u.getDay()+6)%7}).map((e,t)=>(0,$r.jsx)("div",{className:"min-h-[120px]"},"empty-".concat(t))),d.map(e=>(0,$r.jsx)(g,{date:e},MT(e,"yyyy-MM-dd")))]})]}),o&&(0,$r.jsxs)("div",{className:"p-6 border-t border-gray-200 bg-gray-50",children:[(0,$r.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:MT(o,"EEEE, d MMMM yyyy",{locale:GT})}),f(o).length>0?(0,$r.jsx)("div",{className:"space-y-2",children:f(o).map((e,t)=>{const{reservation:r,isCheckIn:n,isCheckOut:a}=e;return(0,$r.jsxs)("div",{className:"flex items-center justify-between p-3 bg-white rounded-lg border border-gray-200",children:[(0,$r.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,$r.jsx)("div",{className:pn()("w-3 h-3 rounded-full",p(r.status))}),(0,$r.jsxs)("div",{children:[(0,$r.jsx)("p",{className:"font-medium text-gray-900",children:r.guest.name}),(0,$r.jsxs)("p",{className:"text-sm text-gray-500",children:["Habitaci\xf3n ",r.room.number," - ",r.room.type]})]})]}),(0,$r.jsx)("div",{className:"text-right",children:(0,$r.jsxs)("div",{className:"flex items-center space-x-2",children:[n&&(0,$r.jsx)("span",{className:"text-xs bg-green-100 text-green-800 px-2 py-1 rounded",children:"Llegada"}),a&&(0,$r.jsx)("span",{className:"text-xs bg-red-100 text-red-800 px-2 py-1 rounded",children:"Salida"}),(0,$r.jsx)("span",{className:pn()("text-xs px-2 py-1 rounded",p(r.status).replace("bg-","bg-opacity-20 bg-")),children:r.status})]})})]},"".concat(r.id,"-").concat(t))})}):(0,$r.jsx)("p",{className:"text-gray-500",children:"No hay reservas para esta fecha"})]})]})},KT=()=>{const{hasPermission:e,hasRole:r}=en(),n=e("reservations","write"),a=r("admin"),{reservations:s,allReservations:i,loading:o,filters:l,setFilters:u,pagination:d,setPagination:h,createReservation:f,updateReservation:p,deleteReservation:m,changeReservationStatus:g,getReservationStats:y,availableRooms:v}=dE(),[x,b]=(0,t.useState)(!1),[w,j]=(0,t.useState)("list"),[N,k]=(0,t.useState)(null),S=y(),_=(()=>{let e=s;if(a){const t=new Date,r=new Date;r.setDate(t.getDate()+7),e=s.filter(e=>{const n=new Date(e.checkIn);return n>=t&&n<=r})}return e})(),O=()=>{console.log("Exporting reservations...")};return(0,$r.jsxs)("div",{className:"space-y-6",children:[(0,$r.jsxs)("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between",children:[(0,$r.jsxs)("div",{children:[(0,$r.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,$r.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Gesti\xf3n de Reservas"}),a&&(0,$r.jsxs)("div",{className:"flex items-center space-x-2 px-3 py-1 bg-yellow-100 rounded-lg",children:[(0,$r.jsx)(cn,{size:16,className:"text-yellow-600"}),(0,$r.jsx)("span",{className:"text-sm font-medium text-yellow-800",children:"Vista Limitada"})]})]}),(0,$r.jsx)("p",{className:"text-gray-600 mt-1",children:a?"Vista limitada: Reservas de los pr\xf3ximos 7 d\xedas":"Administra todas las reservas del hotel"})]}),(0,$r.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3 mt-4 lg:mt-0",children:[!n&&(0,$r.jsxs)("div",{className:"flex items-center space-x-2 px-3 py-2 bg-red-50 rounded-lg border border-red-200",children:[(0,$r.jsx)(on,{size:16,className:"text-red-500"}),(0,$r.jsx)("span",{className:"text-sm text-red-700",children:"Solo lectura"})]}),n&&(0,$r.jsxs)($r.Fragment,{children:[(0,$r.jsx)(gn,{variant:"outline",icon:iE,onClick:O,children:"Importar"}),(0,$r.jsx)(gn,{variant:"outline",icon:oE,onClick:O,children:"Exportar"}),(0,$r.jsx)(gn,{variant:"primary",icon:lE,onClick:()=>b(!0),children:"Nueva Reserva"})]})]})]}),a&&(0,$r.jsx)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:(0,$r.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,$r.jsx)(on,{className:"w-5 h-5 text-yellow-600 flex-shrink-0 mt-0.5"}),(0,$r.jsxs)("div",{children:[(0,$r.jsx)("h3",{className:"text-sm font-semibold text-yellow-800",children:"Acceso Limitado"}),(0,$r.jsx)("p",{className:"text-sm text-yellow-700 mt-1",children:"Como administrador, solo puedes ver las reservas de los pr\xf3ximos 7 d\xedas. Para acceso completo a reservas, inicia sesi\xf3n como personal de recepci\xf3n."})]})]})}),(0,$r.jsx)(bE,{stats:a?c(c({},S),{},{total:_.length}):S,loading:o}),(0,$r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,$r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,$r.jsx)(gn,{variant:"list"===w?"primary":"outline",onClick:()=>j("list"),size:"sm",children:"Lista"}),(0,$r.jsx)(gn,{variant:"calendar"===w?"primary":"outline",onClick:()=>j("calendar"),size:"sm",icon:_n,children:"Calendario"})]}),(0,$r.jsxs)("div",{className:"text-sm text-gray-500",children:[_.length," reserva",1!==_.length?"s":"",a&&(0,$r.jsx)("span",{className:"text-yellow-600 font-medium",children:" (vista limitada)"}),l.search||l.status||l.dateRange?" (filtradas)":""]})]}),(0,$r.jsx)(mE,{filters:l,onFiltersChange:u,loading:o}),"list"===w?(0,$r.jsx)(xE,{reservations:_,loading:o,pagination:d,onPaginationChange:h,onStatusChange:n?g:null,onEdit:n?k:null,onDelete:n?m:null,readOnly:!n}):(0,$r.jsx)($T,{reservations:a?_:i,loading:o,onSelectReservation:k,readOnly:!n}),x&&n&&(0,$r.jsx)(CA,{isOpen:x,onClose:()=>b(!1),onSubmit:async e=>{if(n)try{await f(e),b(!1)}catch(t){console.error("Error creating reservation:",t)}else alert("No tienes permisos para crear reservas")},availableRooms:v}),x&&!n&&(0,$r.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,$r.jsxs)("div",{className:"bg-white rounded-xl shadow-xl p-6 max-w-md mx-4",children:[(0,$r.jsxs)("div",{className:"flex items-center space-x-3 mb-4",children:[(0,$r.jsx)("div",{className:"p-2 bg-red-100 rounded-lg",children:(0,$r.jsx)(cn,{className:"w-6 h-6 text-red-600"})}),(0,$r.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Sin Permisos"})]}),(0,$r.jsx)("p",{className:"text-gray-600 mb-6",children:"No tienes permisos para crear nuevas reservas. Esta funci\xf3n est\xe1 disponible solo para el personal de recepci\xf3n."}),(0,$r.jsx)(gn,{variant:"primary",onClick:()=>b(!1),className:"w-full",children:"Entendido"})]})})]})},YT=Vr("user-x",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]),XT=e=>{let{guests:t,loading:r,selectedGuests:n,onSelectGuest:a,onEdit:s,onDelete:i,onViewProfile:o,reservations:l}=e;return r?(0,$r.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 sm:gap-6",children:[...Array(8)].map((e,t)=>(0,$r.jsx)("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6",children:(0,$r.jsxs)("div",{className:"animate-pulse",children:[(0,$r.jsxs)("div",{className:"flex items-center space-x-3 mb-4",children:[(0,$r.jsx)("div",{className:"w-12 h-12 bg-gray-200 rounded-full"}),(0,$r.jsxs)("div",{className:"space-y-2 flex-1",children:[(0,$r.jsx)("div",{className:"h-4 bg-gray-200 rounded w-3/4"}),(0,$r.jsx)("div",{className:"h-3 bg-gray-200 rounded w-1/2"})]})]}),(0,$r.jsxs)("div",{className:"space-y-3",children:[(0,$r.jsx)("div",{className:"h-3 bg-gray-200 rounded w-full"}),(0,$r.jsx)("div",{className:"h-3 bg-gray-200 rounded w-3/4"})]}),(0,$r.jsxs)("div",{className:"mt-4 flex space-x-2",children:[(0,$r.jsx)("div",{className:"h-8 bg-gray-200 rounded w-1/2"}),(0,$r.jsx)("div",{className:"h-8 bg-gray-200 rounded w-1/2"})]})]})},t))}):(0,$r.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 sm:gap-6",children:t.map(e=>{const t=n.includes(e.id);return(0,$r.jsxs)("div",{className:pn()("bg-white rounded-xl shadow-lg border transition-all duration-300 hover:shadow-xl relative overflow-hidden",t?"border-blue-500 ring-2 ring-blue-200":"border-gray-100"),children:[(0,$r.jsx)("div",{className:"p-4 sm:p-6 border-b border-gray-200",children:(0,$r.jsxs)("div",{className:"flex items-center space-x-3 mb-4",children:[(0,$r.jsx)("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center flex-shrink-0",children:(0,$r.jsx)("span",{className:"text-white font-bold text-sm",children:e.fullName.split(" ").map(e=>e[0]).join("").slice(0,2)})}),(0,$r.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,$r.jsx)("h3",{className:"text-lg font-bold text-gray-900 leading-tight break-words",children:e.fullName}),(0,$r.jsxs)("p",{className:"text-sm text-gray-600 truncate",children:["DNI: ",e.dni||e.documentNumber]})]})]})}),(0,$r.jsx)("div",{className:"p-4 sm:p-6 space-y-3",children:(0,$r.jsxs)("div",{className:"space-y-3",children:[e.phone&&(0,$r.jsxs)("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[(0,$r.jsx)(WO,{size:14,className:"flex-shrink-0"}),(0,$r.jsx)("span",{className:"truncate",children:e.phone})]}),e.email&&(0,$r.jsxs)("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[(0,$r.jsx)(ln,{size:14,className:"flex-shrink-0"}),(0,$r.jsx)("span",{className:"truncate",children:e.email})]})]})}),(0,$r.jsx)("div",{className:"px-4 py-3 sm:px-6 sm:py-4 border-t border-gray-200 bg-gray-50 rounded-b-xl",children:(0,$r.jsxs)("div",{className:"space-y-2",children:[(0,$r.jsx)(gn,{size:"sm",variant:"primary",icon:dn,onClick:()=>o(e),className:"w-full text-xs",children:"Ver Perfil"}),(0,$r.jsx)(gn,{size:"sm",variant:"danger",icon:vE,onClick:()=>i(e.id),className:"w-full text-xs",children:"Eliminar"})]})})]},e.id)})})},JT=e=>{let{isOpen:t,onClose:r,guest:n}=e;return t&&n?(0,$r.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,$r.jsxs)("div",{className:"bg-white rounded-xl shadow-2xl max-w-md w-full overflow-hidden",children:[(0,$r.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[(0,$r.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,$r.jsx)("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center",children:(0,$r.jsx)("span",{className:"text-white font-bold text-xl",children:n.fullName.split(" ").map(e=>e[0]).join("").slice(0,2)})}),(0,$r.jsxs)("div",{children:[(0,$r.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:n.fullName}),(0,$r.jsx)("p",{className:"text-gray-600 text-sm",children:"Perfil del Hu\xe9sped"})]})]}),(0,$r.jsx)("button",{onClick:r,className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",children:(0,$r.jsx)(HO,{size:24})})]}),(0,$r.jsxs)("div",{className:"p-6",children:[(0,$r.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Informaci\xf3n Personal"}),(0,$r.jsxs)("div",{className:"space-y-4",children:[(0,$r.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,$r.jsx)(sn,{size:18,className:"text-gray-400 mt-0.5"}),(0,$r.jsxs)("div",{children:[(0,$r.jsx)("p",{className:"text-sm font-medium text-gray-900",children:"Nombre Completo"}),(0,$r.jsx)("p",{className:"text-gray-700",children:n.fullName})]})]}),(0,$r.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,$r.jsx)(sn,{size:18,className:"text-gray-400 mt-0.5"}),(0,$r.jsxs)("div",{children:[(0,$r.jsx)("p",{className:"text-sm font-medium text-gray-900",children:"DNI"}),(0,$r.jsx)("p",{className:"text-gray-700",children:n.dni||n.documentNumber})]})]}),n.phone&&(0,$r.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,$r.jsx)(WO,{size:18,className:"text-gray-400 mt-0.5"}),(0,$r.jsxs)("div",{children:[(0,$r.jsx)("p",{className:"text-sm font-medium text-gray-900",children:"Tel\xe9fono"}),(0,$r.jsx)("p",{className:"text-gray-700",children:n.phone})]})]}),n.email&&(0,$r.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,$r.jsx)(ln,{size:18,className:"text-gray-400 mt-0.5"}),(0,$r.jsxs)("div",{children:[(0,$r.jsx)("p",{className:"text-sm font-medium text-gray-900",children:"Correo Electr\xf3nico"}),(0,$r.jsx)("p",{className:"text-gray-700",children:n.email})]})]})]})]}),(0,$r.jsx)("div",{className:"px-6 py-4 border-t border-gray-200 bg-gray-50 flex justify-end",children:(0,$r.jsx)(gn,{type:"button",variant:"outline",onClick:r,children:"Cerrar"})})]})}):null},QT=wA().shape({firstName:oA().required("El nombre es obligatorio"),lastName:oA().required("El apellido es obligatorio"),email:oA().email("Email inv\xe1lido").required("El email es obligatorio"),phone:oA().required("El tel\xe9fono es obligatorio"),documentType:oA().required("El tipo de documento es obligatorio"),documentNumber:oA().required("El n\xfamero de documento es obligatorio"),birthDate:hA().max(new Date,"La fecha no puede ser futura"),gender:oA().required("El g\xe9nero es obligatorio"),nationality:oA().required("La nacionalidad es obligatoria"),country:oA().required("El pa\xeds es obligatorio"),city:oA().required("La ciudad es obligatoria"),address:oA(),zipCode:oA(),emergencyContactName:oA(),emergencyContactPhone:oA(),emergencyContactRelationship:oA()}),ZT=e=>{let{isOpen:r,onClose:n,onSubmit:a}=e;const[s,i]=(0,t.useState)(1),{register:o,handleSubmit:l,watch:u,formState:{errors:d,isSubmitting:h},reset:f,trigger:p}=sP({resolver:dP(QT),defaultValues:{documentType:"DNI",gender:"male",nationality:"Peruana",country:"Per\xfa"}}),m=()=>{f(),i(1),n()};return r?(0,$r.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,$r.jsxs)("div",{className:"bg-white rounded-xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-hidden",children:[(0,$r.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[(0,$r.jsxs)("div",{children:[(0,$r.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Nuevo Hu\xe9sped"}),(0,$r.jsxs)("p",{className:"text-gray-600 mt-1",children:["Paso ",s," de ",3," - ",1===s?"Informaci\xf3n Personal":2===s?"Documentaci\xf3n":"Informaci\xf3n Adicional"]})]}),(0,$r.jsx)("button",{onClick:m,className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",children:(0,$r.jsx)(HO,{size:24})})]}),(0,$r.jsx)("div",{className:"px-6 py-3 bg-gray-50",children:(0,$r.jsx)("div",{className:"flex items-center",children:[...Array(3)].map((e,t)=>(0,$r.jsxs)("div",{className:"flex items-center flex-1",children:[(0,$r.jsx)("div",{className:"w-8 h-8 rounded-full flex items-center justify-center text-sm font-semibold ".concat(t+1<=s?"bg-blue-600 text-white":"bg-gray-200 text-gray-600"),children:t+1}),t<2&&(0,$r.jsx)("div",{className:"flex-1 h-1 mx-2 ".concat(t+1<s?"bg-blue-600":"bg-gray-200")})]},t))})}),(0,$r.jsxs)("form",{onSubmit:l(async e=>{try{const t=c(c({},e),{},{fullName:"".concat(e.firstName," ").concat(e.lastName),emergencyContact:e.emergencyContactName?{name:e.emergencyContactName,phone:e.emergencyContactPhone,relationship:e.emergencyContactRelationship}:null});await a(t),m()}catch(t){console.error("Error creating guest:",t)}}),children:[(0,$r.jsxs)("div",{className:"p-6 max-h-[60vh] overflow-y-auto",children:[1===s&&(0,$r.jsxs)("div",{className:"space-y-4",children:[(0,$r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,$r.jsxs)("div",{children:[(0,$r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nombre(s) *"}),(0,$r.jsx)("input",c(c({type:"text"},o("firstName")),{},{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Carlos Eduardo"})),d.firstName&&(0,$r.jsx)("p",{className:"text-red-600 text-sm mt-1",children:d.firstName.message})]}),(0,$r.jsxs)("div",{children:[(0,$r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Apellido(s) *"}),(0,$r.jsx)("input",c(c({type:"text"},o("lastName")),{},{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Mendoza Garc\xeda"})),d.lastName&&(0,$r.jsx)("p",{className:"text-red-600 text-sm mt-1",children:d.lastName.message})]})]}),(0,$r.jsxs)("div",{children:[(0,$r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email *"}),(0,$r.jsx)("input",c(c({type:"email"},o("email")),{},{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"carlos.mendoza@email.com"})),d.email&&(0,$r.jsx)("p",{className:"text-red-600 text-sm mt-1",children:d.email.message})]}),(0,$r.jsxs)("div",{children:[(0,$r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tel\xe9fono *"}),(0,$r.jsx)("input",c(c({type:"tel"},o("phone")),{},{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"+51 987-654-321"})),d.phone&&(0,$r.jsx)("p",{className:"text-red-600 text-sm mt-1",children:d.phone.message})]})]}),2===s&&(0,$r.jsxs)("div",{className:"space-y-4",children:[(0,$r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,$r.jsxs)("div",{children:[(0,$r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tipo de Documento *"}),(0,$r.jsx)("select",c(c({},o("documentType")),{},{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[{value:"DNI",label:"DNI"},{value:"Pasaporte",label:"Pasaporte"},{value:"CE",label:"Carn\xe9 de Extranjer\xeda"},{value:"RUC",label:"RUC"}].map(e=>(0,$r.jsx)("option",{value:e.value,children:e.label},e.value))})),d.documentType&&(0,$r.jsx)("p",{className:"text-red-600 text-sm mt-1",children:d.documentType.message})]}),(0,$r.jsxs)("div",{children:[(0,$r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"N\xfamero de Documento *"}),(0,$r.jsx)("input",c(c({type:"text"},o("documentNumber")),{},{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"12345678"})),d.documentNumber&&(0,$r.jsx)("p",{className:"text-red-600 text-sm mt-1",children:d.documentNumber.message})]})]}),(0,$r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,$r.jsxs)("div",{children:[(0,$r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Fecha de Nacimiento"}),(0,$r.jsx)("input",c(c({type:"date"},o("birthDate")),{},{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})),d.birthDate&&(0,$r.jsx)("p",{className:"text-red-600 text-sm mt-1",children:d.birthDate.message})]}),(0,$r.jsxs)("div",{children:[(0,$r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"G\xe9nero *"}),(0,$r.jsx)("select",c(c({},o("gender")),{},{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[{value:"male",label:"Masculino"},{value:"female",label:"Femenino"},{value:"other",label:"Otro"},{value:"prefer-not-to-say",label:"Prefiero no decir"}].map(e=>(0,$r.jsx)("option",{value:e.value,children:e.label},e.value))})),d.gender&&(0,$r.jsx)("p",{className:"text-red-600 text-sm mt-1",children:d.gender.message})]})]}),(0,$r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,$r.jsxs)("div",{children:[(0,$r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nacionalidad *"}),(0,$r.jsx)("input",c(c({type:"text"},o("nationality")),{},{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Peruana"})),d.nationality&&(0,$r.jsx)("p",{className:"text-red-600 text-sm mt-1",children:d.nationality.message})]}),(0,$r.jsxs)("div",{children:[(0,$r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Pa\xeds *"}),(0,$r.jsx)("select",c(c({},o("country")),{},{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:["Per\xfa","Argentina","Brasil","Chile","Colombia","Ecuador","Bolivia","Uruguay","Paraguay","Venezuela","Estados Unidos","Canad\xe1","M\xe9xico","Espa\xf1a","Francia","Italia","Alemania","Reino Unido","China","Jap\xf3n","Corea del Sur","Australia","Nueva Zelanda"].map(e=>(0,$r.jsx)("option",{value:e,children:e},e))})),d.country&&(0,$r.jsx)("p",{className:"text-red-600 text-sm mt-1",children:d.country.message})]})]})]}),3===s&&(0,$r.jsxs)("div",{className:"space-y-4",children:[(0,$r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,$r.jsxs)("div",{children:[(0,$r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Ciudad *"}),(0,$r.jsx)("input",c(c({type:"text"},o("city")),{},{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Lima"})),d.city&&(0,$r.jsx)("p",{className:"text-red-600 text-sm mt-1",children:d.city.message})]}),(0,$r.jsxs)("div",{children:[(0,$r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"C\xf3digo Postal"}),(0,$r.jsx)("input",c(c({type:"text"},o("zipCode")),{},{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"15036"}))]})]}),(0,$r.jsxs)("div",{children:[(0,$r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Direcci\xf3n"}),(0,$r.jsx)("textarea",c(c({},o("address")),{},{rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Av. Javier Prado 1234, San Isidro"}))]}),(0,$r.jsxs)("div",{className:"border-t border-gray-200 pt-4",children:[(0,$r.jsx)("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Contacto de Emergencia"}),(0,$r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,$r.jsxs)("div",{children:[(0,$r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nombre del Contacto"}),(0,$r.jsx)("input",c(c({type:"text"},o("emergencyContactName")),{},{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Mar\xeda Mendoza"}))]}),(0,$r.jsxs)("div",{children:[(0,$r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tel\xe9fono de Contacto"}),(0,$r.jsx)("input",c(c({type:"tel"},o("emergencyContactPhone")),{},{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"+51 987-654-322"}))]})]}),(0,$r.jsxs)("div",{className:"mt-4",children:[(0,$r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Relaci\xf3n"}),(0,$r.jsxs)("select",c(c({},o("emergencyContactRelationship")),{},{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,$r.jsx)("option",{value:"",children:"Seleccionar relaci\xf3n"}),["Padre/Madre","Esposo/Esposa","Hermano/Hermana","Hijo/Hija","Abuelo/Abuela","T\xedo/T\xeda","Primo/Prima","Amigo/Amiga","Otro"].map(e=>(0,$r.jsx)("option",{value:e,children:e},e))]}))]})]}),(0,$r.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mt-6",children:[(0,$r.jsx)("h4",{className:"font-semibold text-blue-900 mb-2",children:"Resumen del Hu\xe9sped"}),(0,$r.jsxs)("div",{className:"text-sm text-blue-800",children:[(0,$r.jsxs)("p",{children:[(0,$r.jsx)("span",{className:"font-medium",children:"Nombre:"})," ",u("firstName")," ",u("lastName")]}),(0,$r.jsxs)("p",{children:[(0,$r.jsx)("span",{className:"font-medium",children:"Email:"})," ",u("email")]}),(0,$r.jsxs)("p",{children:[(0,$r.jsx)("span",{className:"font-medium",children:"Tel\xe9fono:"})," ",u("phone")]}),(0,$r.jsxs)("p",{children:[(0,$r.jsx)("span",{className:"font-medium",children:"Documento:"})," ",u("documentType")," - ",u("documentNumber")]}),(0,$r.jsxs)("p",{children:[(0,$r.jsx)("span",{className:"font-medium",children:"Pa\xeds:"})," ",u("country")]})]})]})]})]}),(0,$r.jsxs)("div",{className:"px-6 py-4 border-t border-gray-200 bg-gray-50 flex justify-between",children:[(0,$r.jsx)("div",{children:s>1&&(0,$r.jsx)(gn,{type:"button",variant:"outline",onClick:()=>{i(e=>Math.max(e-1,1))},children:"Anterior"})}),(0,$r.jsxs)("div",{className:"flex space-x-3",children:[(0,$r.jsx)(gn,{type:"button",variant:"outline",onClick:m,children:"Cancelar"}),s<3?(0,$r.jsx)(gn,{type:"button",variant:"primary",onClick:async()=>{let e=[];switch(s){case 1:e=["firstName","lastName","email","phone"];break;case 2:e=["documentType","documentNumber","birthDate","gender"]}await p(e)&&i(e=>Math.min(e+1,3))},children:"Siguiente"}):(0,$r.jsx)(gn,{type:"submit",variant:"primary",loading:h,icon:sn,children:"Crear Hu\xe9sped"})]})]})]})]})}):null},eD=()=>{const[e,r]=(0,t.useState)(!1),[n,a]=(0,t.useState)(!1),[s,i]=(0,t.useState)(null),[o,l]=(0,t.useState)(""),{guests:u,loading:d,error:h,createGuest:f,deleteGuest:p}=(()=>{const[e,r]=(0,t.useState)([]),[n,a]=(0,t.useState)(null),[s,i]=(0,t.useState)([]),[o,l]=(0,t.useState)([]),[u,d]=(0,t.useState)(!0),[h,f]=(0,t.useState)(null),p=(0,t.useMemo)(()=>{if(!e||0===e.length)return{total:0,active:0,vip:0,frequent:0,newThisMonth:0,totalRevenue:0,averageStay:0,repeatRate:0,topCountries:[],ageGroups:{},satisfactionScore:0,recommendationRate:0};const t=e.length,r=e.filter(e=>!0===e.vip_status).length,n=e.filter(e=>!0===e.vip_status).length,a={};o.forEach(e=>{e.guest_id&&(a[e.guest_id]=(a[e.guest_id]||0)+1)});const s=Object.values(a).filter(e=>e>=3).length,i=(new Date).getMonth(),l=(new Date).getFullYear(),c=e.filter(e=>{const t=new Date(e.created_at);return t.getMonth()===i&&t.getFullYear()===l}).length,u=o.filter(e=>"completed"===e.status).reduce((e,t)=>e+parseFloat(t.total||0),0),d=o.filter(e=>"completed"===e.status),h=d.length>0?Math.round(d.reduce((e,t)=>{const r=new Date(t.check_in_date),n=new Date(t.check_out_date||t.check_in_date);return e+Math.max(1,Math.ceil((n-r)/864e5))},0)/d.length):0,f=Object.values(a).filter(e=>e>1).length,p=t>0?Math.round(f/t*100):0,m={};e.forEach(e=>{e.nationality&&(m[e.nationality]=(m[e.nationality]||0)+1)});const g=Object.entries(m).map(e=>{let[t,r]=e;return{name:t,code:t.slice(0,2).toUpperCase(),count:r}}).sort((e,t)=>t.count-e.count).slice(0,5),y={"18-25":0,"26-35":0,"36-50":0,"51-65":0,"65+":0};return e.forEach(e=>{if(e.birth_date){const t=(new Date).getFullYear()-new Date(e.birth_date).getFullYear();t>=18&&t<=25?y["18-25"]++:t>=26&&t<=35?y["26-35"]++:t>=36&&t<=50?y["36-50"]++:t>=51&&t<=65?y["51-65"]++:t>65&&y["65+"]++}}),{total:t,active:r,vip:n,frequent:s,newThisMonth:c,totalRevenue:u,averageStay:h,repeatRate:p,topCountries:g,ageGroups:y,satisfactionScore:4.2,recommendationRate:85}},[e,o]),m=async()=>{try{const{data:e,error:t}=await Di.from("guests").select("*").order("created_at",{ascending:!1});if(t)throw t;return r(e||[]),e}catch(h){return console.error("Error cargando hu\xe9spedes:",h),f(h.message),[]}},g=async()=>{try{const{data:e,error:t}=await Di.from("reservations").select("\n          *,\n          guests (full_name, email, phone),\n          rooms (number, type, price)\n        ").order("created_at",{ascending:!1});if(t)throw t;const r=e.map(e=>({id:e.id,guestId:e.guest_id,guest:e.guests,room:e.rooms,confirmationCode:e.confirmation_code,checkIn:e.check_in_date,checkOut:e.check_out_date,adults:e.adults,children:e.children,status:e.status,totalAmount:parseFloat(e.total_amount),paidAmount:parseFloat(e.paid_amount||0),paymentStatus:e.payment_status,specialRequests:e.special_requests,createdAt:e.created_at}));return i(r),r}catch(h){return console.error("Error cargando reservas:",h),f(h.message),[]}},y=async()=>{try{const{data:e,error:t}=await Di.from("orders").select("*").order("created_at",{ascending:!1});if(t)throw t;return l(e||[]),e}catch(h){return console.error("Error cargando \xf3rdenes:",h),f(h.message),[]}},v=e=>s.filter(t=>t.guestId===e).sort((e,t)=>new Date(t.checkIn)-new Date(e.checkIn)),x=e=>o.filter(t=>t.guest_id===e).sort((e,t)=>new Date(t.created_at)-new Date(e.created_at)),b=async()=>{d(!0),f(null);try{await Promise.all([m(),g(),y()])}catch(h){console.error("Error refrescando datos de hu\xe9spedes:",h),f(h.message)}finally{d(!1)}};return(0,t.useEffect)(()=>{const e=Di.channel("guests_changes").on("postgres_changes",{event:"*",schema:"public",table:"guests"},e=>{console.log("Cambio en hu\xe9spedes:",e),m()}).subscribe(),t=Di.channel("reservations_changes").on("postgres_changes",{event:"*",schema:"public",table:"reservations"},e=>{console.log("Cambio en reservas:",e),g()}).subscribe(),r=Di.channel("orders_guests_changes").on("postgres_changes",{event:"*",schema:"public",table:"orders"},e=>{console.log("Cambio en \xf3rdenes:",e),y()}).subscribe();return()=>{Di.removeChannel(e),Di.removeChannel(t),Di.removeChannel(r)}},[]),(0,t.useEffect)(()=>{a(p)},[p]),(0,t.useEffect)(()=>{b()},[]),{guests:e,guestsStats:n,reservations:s,orders:o,loading:u,error:h,createGuest:async e=>{try{const{data:t,error:r}=await Di.from("guests").insert([{dni:e.dni,passport:e.passport,full_name:e.fullName,email:e.email,phone:e.phone,nationality:e.nationality,birth_date:e.birthDate,address:e.address,emergency_contact:e.emergencyContact||{},preferences:e.preferences||{},vip_status:e.vipStatus||!1,blacklisted:e.blacklisted||!1,notes:e.notes}]).select().single();if(r)throw r;return await m(),{success:!0,data:t}}catch(h){return console.error("Error creando hu\xe9sped:",h),{success:!1,error:h.message}}},updateGuest:async(e,t)=>{try{const{error:r}=await Di.from("guests").update({dni:t.dni,passport:t.passport,full_name:t.fullName,email:t.email,phone:t.phone,nationality:t.nationality,birth_date:t.birthDate,address:t.address,emergency_contact:t.emergencyContact,preferences:t.preferences,vip_status:t.vipStatus,blacklisted:t.blacklisted,notes:t.notes,updated_at:(new Date).toISOString()}).eq("id",e);if(r)throw r;return await m(),{success:!0}}catch(h){return console.error("Error actualizando hu\xe9sped:",h),{success:!1,error:h.message}}},deleteGuest:async e=>{try{const{data:t}=await Di.from("reservations").select("id").eq("guest_id",e),{data:r}=await Di.from("orders").select("id").eq("guest_id",e);if(t&&t.length>0||r&&r.length>0)return{success:!1,error:"No se puede eliminar el hu\xe9sped porque tiene reservas u \xf3rdenes asociadas"};const{error:n}=await Di.from("guests").delete().eq("id",e);if(n)throw n;return await m(),{success:!0}}catch(h){return console.error("Error eliminando hu\xe9sped:",h),{success:!1,error:h.message}}},getGuestReservations:v,getGuestOrders:x,getGuestHistory:e=>{const t=v(e),r=x(e),n=[];return t.forEach(e=>{var t,r,a;n.push({id:"reservation-".concat(e.id),type:"reservation",date:e.checkIn,description:"Reserva en habitaci\xf3n ".concat(null===(t=e.room)||void 0===t?void 0:t.number),details:{confirmationCode:e.confirmationCode,checkIn:e.checkIn,checkOut:e.checkOut,roomNumber:null===(r=e.room)||void 0===r?void 0:r.number,roomType:null===(a=e.room)||void 0===a?void 0:a.type,totalAmount:e.totalAmount,status:e.status,adults:e.adults,children:e.children}})}),r.forEach(e=>{n.push({id:"order-".concat(e.id),type:"order",date:e.check_in_date,description:"Estad\xeda en habitaci\xf3n ".concat(e.room_number),details:{roomNumber:e.room_number,checkIn:e.check_in_date,checkOut:e.check_out_date,total:e.total,status:e.status,paymentMethod:e.payment_method}})}),n.sort((e,t)=>new Date(t.date)-new Date(e.date))},getGuestStats:e=>{const t=x(e),r=v(e),n=t.filter(e=>"completed"===e.status).reduce((e,t)=>e+parseFloat(t.total||0),0),a=t.length,s=t.length>0?t.reduce((e,t)=>{const r=new Date(t.check_in_date),n=new Date(t.check_out_date||t.check_in_date);return e+Math.max(1,Math.ceil((n-r)/864e5))},0)/t.length:0,i=t.length>0?new Date(Math.max(...t.map(e=>new Date(e.check_in_date)))).toISOString().split("T")[0]:null;return{totalVisits:a,totalSpent:n,averageStay:Math.round(s),lastVisit:i,reservationsCount:r.length,activeOrders:t.filter(e=>"active"===e.status).length}},searchGuests:t=>{if(!t)return e;const r=t.toLowerCase();return e.filter(e=>{var t,n,a,s,i,o;return(null===(t=e.full_name)||void 0===t?void 0:t.toLowerCase().includes(r))||(null===(n=e.email)||void 0===n?void 0:n.toLowerCase().includes(r))||(null===(a=e.phone)||void 0===a?void 0:a.includes(r))||(null===(s=e.dni)||void 0===s?void 0:s.includes(r))||(null===(i=e.passport)||void 0===i?void 0:i.includes(r))||(null===(o=e.nationality)||void 0===o?void 0:o.toLowerCase().includes(r))})},getVipGuests:()=>e.filter(e=>!0===e.vip_status).sort((e,t)=>new Date(t.created_at)-new Date(e.created_at)),getFrequentGuests:()=>{const t={};return o.forEach(e=>{e.guest_id&&(t[e.guest_id]=(t[e.guest_id]||0)+1)}),e.filter(e=>(t[e.id]||0)>=3).map(e=>c(c({},e),{},{totalVisits:t[e.id]||0})).sort((e,t)=>t.totalVisits-e.totalVisits)},getBirthdayGuests:()=>{const t=(new Date).getMonth();return e.filter(e=>!!e.birth_date&&new Date(e.birth_date).getMonth()===t).sort((e,t)=>new Date(e.birth_date).getDate()-new Date(t.birth_date).getDate())},getActiveGuests:()=>{const t=o.filter(e=>"active"===e.status).map(e=>e.guest_id);return e.filter(e=>t.includes(e.id))},refreshData:b,loadGuests:m,loadReservations:g,loadOrders:y}})(),m=u?o?u.filter(e=>{var t,r,n,a;return(null===(t=e.fullName)||void 0===t?void 0:t.toLowerCase().includes(o.toLowerCase()))||(null===(r=e.dni)||void 0===r?void 0:r.includes(o))||(null===(n=e.email)||void 0===n?void 0:n.toLowerCase().includes(o.toLowerCase()))||(null===(a=e.phone)||void 0===a?void 0:a.includes(o))}):u:[];return h?(0,$r.jsx)("div",{className:"flex items-center justify-center min-h-[400px]",children:(0,$r.jsxs)("div",{className:"text-center p-4",children:[(0,$r.jsx)(YT,{className:"mx-auto h-12 w-12 text-red-500 mb-4"}),(0,$r.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Error al cargar datos"}),(0,$r.jsx)("p",{className:"text-gray-600",children:h})]})}):(0,$r.jsxs)("div",{className:"space-y-4",children:[(0,$r.jsxs)("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between mb-6",children:[(0,$r.jsxs)("div",{children:[(0,$r.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Gesti\xf3n de Hu\xe9spedes"}),(0,$r.jsx)("p",{className:"text-gray-600 mt-1",children:"Registro y gesti\xf3n de hu\xe9spedes del hotel"})]}),(0,$r.jsx)(gn,{variant:"primary",icon:lE,onClick:()=>r(!0),children:"Nuevo Hu\xe9sped"})]}),(0,$r.jsx)("div",{className:"mb-6",children:(0,$r.jsx)("input",{type:"text",placeholder:"Buscar por nombre, DNI, email o tel\xe9fono...",value:o,onChange:e=>l(e.target.value),className:"w-full max-w-md px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})}),(0,$r.jsx)("div",{className:"mb-4",children:(0,$r.jsxs)("span",{className:"text-sm text-gray-600",children:[m.length," hu\xe9sped",1!==m.length?"es":""," ",o?"encontrado":"registrado",1!==m.length?"s":""]})}),(0,$r.jsx)(XT,{guests:m,loading:d,selectedGuests:[],onSelectGuest:()=>{},onEdit:()=>{},onDelete:async e=>{if(window.confirm("\xbfEst\xe1s seguro de que quieres eliminar este hu\xe9sped?"))try{await p(e)}catch(h){console.error("Error deleting guest:",h)}},onViewProfile:e=>{i(e),a(!0)},reservations:[]}),e&&(0,$r.jsx)(ZT,{isOpen:e,onClose:()=>r(!1),onSubmit:async e=>{try{await f(e),r(!1)}catch(h){console.error("Error creating guest:",h)}}}),n&&s&&(0,$r.jsx)(JT,{isOpen:n,onClose:()=>{a(!1),i(null)},guest:s})]})},tD=Vr("message-square",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]),rD=Vr("key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]),nD=()=>{const[e,r]=(0,t.useState)(!0),[n,a]=(0,t.useState)(new Date),[s,i]=(0,t.useState)(""),[o,l]=(0,t.useState)("all"),[c,u]=(0,t.useState)({todayStats:{},arrivals:[],departures:[],inHouse:[],rooms:[],requests:[],notifications:[]});(0,t.useEffect)(()=>{d();const e=setInterval(d,3e5);return()=>clearInterval(e)},[n]);const d=async()=>{r(!0);try{await new Promise(e=>setTimeout(e,800)),u({todayStats:{totalArrivals:24,totalDepartures:18,inHouse:98,pendingCheckIns:6,pendingCheckOuts:3,availableRooms:22,occupancyRate:81.7},arrivals:[{id:1,guest:"Juan P\xe9rez",room:"101",arrivalTime:"14:00",status:"confirmed",nights:3,email:"juan.perez@email.com",phone:"+51 999 888 777",requests:"Vista al mar"},{id:2,guest:"Mar\xeda Garc\xeda",room:"205",arrivalTime:"15:30",status:"pending",nights:2,email:"maria.garcia@email.com",phone:"+51 987 654 321",requests:"Cama extra"},{id:3,guest:"Carlos L\xf3pez",room:"308",arrivalTime:"16:00",status:"confirmed",nights:1,email:"carlos.lopez@email.com",phone:"+51 999 111 222",requests:""}],departures:[{id:1,guest:"Ana Silva",room:"102",departureTime:"11:00",status:"pending",bill:850,paymentStatus:"paid"},{id:2,guest:"Roberto Torres",room:"301",departureTime:"12:00",status:"checked_out",bill:1200,paymentStatus:"paid"}],inHouse:[{id:1,guest:"Elena Vargas",room:"201",checkIn:"2024-06-23",checkOut:"2024-06-26",status:"in_house",nights:3,phone:"+51 998 877 666"},{id:2,guest:"Diego Mendoza",room:"405",checkIn:"2024-06-24",checkOut:"2024-06-25",status:"in_house",nights:1,phone:"+51 987 123 456"}],rooms:[{number:"101",status:"occupied",guest:"Juan P\xe9rez",type:"Standard"},{number:"102",status:"checkout",guest:"",type:"Standard"},{number:"103",status:"available",guest:"",type:"Standard"},{number:"201",status:"occupied",guest:"Elena Vargas",type:"Deluxe"},{number:"202",status:"maintenance",guest:"",type:"Deluxe"},{number:"301",status:"available",guest:"",type:"Suite"}],requests:[{id:1,room:"201",guest:"Elena Vargas",request:"Toallas adicionales",time:"10:30",status:"pending",priority:"medium"},{id:2,room:"405",guest:"Diego Mendoza",request:"Servicio de habitaciones",time:"11:15",status:"in_progress",priority:"high"}],notifications:[{id:1,type:"checkin",message:"Check-in retrasado: Juan P\xe9rez (Hab. 101)",time:"14:30"},{id:2,type:"maintenance",message:"Mantenimiento completado en Hab. 202",time:"13:45"}]})}catch(e){console.error("Error fetching reception data:",e)}finally{r(!1)}},h=e=>{switch(e){case"confirmed":case"available":return"bg-green-100 text-green-800";case"pending":case"checkout":return"bg-yellow-100 text-yellow-800";case"checked_out":return"bg-blue-100 text-blue-800";case"in_house":return"bg-purple-100 text-purple-800";case"occupied":return"bg-red-100 text-red-800";case"maintenance":return"bg-orange-100 text-orange-800";default:return"bg-gray-100 text-gray-800"}},f=e=>{switch(e){case"occupied":return(0,$r.jsx)(kn,{className:"w-4 h-4"});case"available":default:return(0,$r.jsx)(On,{className:"w-4 h-4"});case"checkout":return(0,$r.jsx)(YT,{className:"w-4 h-4"});case"maintenance":return(0,$r.jsx)(on,{className:"w-4 h-4"})}};return e?(0,$r.jsx)("div",{className:"space-y-6",children:(0,$r.jsx)("div",{className:"animate-pulse",children:(0,$r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-6",children:[...Array(4)].map((e,t)=>(0,$r.jsxs)("div",{className:"bg-white p-6 rounded-xl shadow-lg",children:[(0,$r.jsx)("div",{className:"h-4 bg-gray-200 rounded mb-2"}),(0,$r.jsx)("div",{className:"h-8 bg-gray-200 rounded"})]},t))})})}):(0,$r.jsxs)("div",{className:"space-y-6",children:[(0,$r.jsxs)("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center gap-4",children:[(0,$r.jsxs)("div",{children:[(0,$r.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Recepci\xf3n"}),(0,$r.jsxs)("p",{className:"text-gray-600",children:["Panel de control para el front desk - ",XO(n)]})]}),(0,$r.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,$r.jsx)(gn,{variant:"outline",icon:Un,onClick:d,size:"sm",children:"Actualizar"}),(0,$r.jsx)(gn,{variant:"primary",icon:lE,onClick:()=>console.log("Nueva reserva"),children:"Nueva Reserva"})]})]}),(0,$r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,$r.jsx)("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6",children:(0,$r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,$r.jsxs)("div",{children:[(0,$r.jsx)("p",{className:"text-sm font-medium text-gray-600 mb-1",children:"Llegadas Hoy"}),(0,$r.jsx)("p",{className:"text-3xl font-bold text-blue-600",children:c.todayStats.totalArrivals}),(0,$r.jsxs)("p",{className:"text-xs text-blue-600 mt-1",children:[c.todayStats.pendingCheckIns," pendientes"]})]}),(0,$r.jsx)("div",{className:"p-3 bg-blue-100 rounded-lg",children:(0,$r.jsx)(hn,{className:"w-6 h-6 text-blue-600"})})]})}),(0,$r.jsx)("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6",children:(0,$r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,$r.jsxs)("div",{children:[(0,$r.jsx)("p",{className:"text-sm font-medium text-gray-600 mb-1",children:"Salidas Hoy"}),(0,$r.jsx)("p",{className:"text-3xl font-bold text-green-600",children:c.todayStats.totalDepartures}),(0,$r.jsxs)("p",{className:"text-xs text-green-600 mt-1",children:[c.todayStats.pendingCheckOuts," pendientes"]})]}),(0,$r.jsx)("div",{className:"p-3 bg-green-100 rounded-lg",children:(0,$r.jsx)(zn,{className:"w-6 h-6 text-green-600"})})]})}),(0,$r.jsx)("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6",children:(0,$r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,$r.jsxs)("div",{children:[(0,$r.jsx)("p",{className:"text-sm font-medium text-gray-600 mb-1",children:"Hu\xe9spedes In-House"}),(0,$r.jsx)("p",{className:"text-3xl font-bold text-purple-600",children:c.todayStats.inHouse}),(0,$r.jsx)("p",{className:"text-xs text-purple-600 mt-1",children:"Actualmente hospedados"})]}),(0,$r.jsx)("div",{className:"p-3 bg-purple-100 rounded-lg",children:(0,$r.jsx)(bn,{className:"w-6 h-6 text-purple-600"})})]})}),(0,$r.jsx)("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6",children:(0,$r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,$r.jsxs)("div",{children:[(0,$r.jsx)("p",{className:"text-sm font-medium text-gray-600 mb-1",children:"Habitaciones Disponibles"}),(0,$r.jsx)("p",{className:"text-3xl font-bold text-orange-600",children:c.todayStats.availableRooms}),(0,$r.jsxs)("p",{className:"text-xs text-orange-600 mt-1",children:[c.todayStats.occupancyRate,"% ocupaci\xf3n"]})]}),(0,$r.jsx)("div",{className:"p-3 bg-orange-100 rounded-lg",children:(0,$r.jsx)(On,{className:"w-6 h-6 text-orange-600"})})]})})]}),(0,$r.jsx)("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6",children:(0,$r.jsxs)("div",{className:"flex flex-col lg:flex-row gap-4 items-center justify-between",children:[(0,$r.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,$r.jsxs)("div",{className:"relative",children:[(0,$r.jsx)(In,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:16}),(0,$r.jsx)("input",{type:"text",placeholder:"Buscar hu\xe9sped o habitaci\xf3n...",value:s,onChange:e=>i(e.target.value),className:"pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent w-64"})]}),(0,$r.jsxs)("select",{value:o,onChange:e=>l(e.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,$r.jsx)("option",{value:"all",children:"Todos los estados"}),(0,$r.jsx)("option",{value:"pending",children:"Pendientes"}),(0,$r.jsx)("option",{value:"confirmed",children:"Confirmados"}),(0,$r.jsx)("option",{value:"in_house",children:"In-House"})]})]}),(0,$r.jsx)("input",{type:"date",value:n.toISOString().split("T")[0],onChange:e=>a(new Date(e.target.value)),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})}),(0,$r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,$r.jsxs)("div",{className:"lg:col-span-2 space-y-6",children:[(0,$r.jsxs)("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6",children:[(0,$r.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,$r.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[(0,$r.jsx)(hn,{className:"w-5 h-5 mr-2 text-blue-600"}),"Llegadas de Hoy"]}),(0,$r.jsxs)("span",{className:"text-sm text-gray-600",children:[c.arrivals.length," llegadas"]})]}),(0,$r.jsx)("div",{className:"space-y-3",children:c.arrivals.map(e=>(0,$r.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow",children:[(0,$r.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,$r.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,$r.jsx)("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:(0,$r.jsx)(bn,{className:"w-5 h-5 text-blue-600"})}),(0,$r.jsxs)("div",{children:[(0,$r.jsx)("h4",{className:"font-semibold text-gray-900",children:e.guest}),(0,$r.jsxs)("p",{className:"text-sm text-gray-600",children:["Hab. ",e.room," \u2022 ",e.nights," noches"]})]})]}),(0,$r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,$r.jsx)("span",{className:"px-3 py-1 rounded-full text-xs font-medium ".concat(h(e.status)),children:"confirmed"===e.status?"Confirmado":"Pendiente"}),(0,$r.jsx)("span",{className:"text-sm text-gray-600",children:e.arrivalTime})]})]}),(0,$r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,$r.jsxs)("div",{className:"flex items-center space-x-4 text-sm text-gray-600",children:[(0,$r.jsxs)("div",{className:"flex items-center",children:[(0,$r.jsx)(WO,{className:"w-4 h-4 mr-1"}),e.phone]}),e.requests&&(0,$r.jsxs)("div",{className:"flex items-center",children:[(0,$r.jsx)(tD,{className:"w-4 h-4 mr-1"}),e.requests]})]}),(0,$r.jsxs)("div",{className:"flex space-x-2",children:[(0,$r.jsx)(gn,{size:"sm",variant:"outline",icon:dn,onClick:()=>console.log("Ver detalles"),children:"Ver"}),(0,$r.jsx)(gn,{size:"sm",variant:"primary",icon:rD,onClick:()=>{return t=e.id,void console.log("Check-in guest:",t);var t},disabled:"confirmed"!==e.status,children:"Check-in"})]})]})]},e.id))})]}),(0,$r.jsxs)("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6",children:[(0,$r.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,$r.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[(0,$r.jsx)(zn,{className:"w-5 h-5 mr-2 text-green-600"}),"Salidas de Hoy"]}),(0,$r.jsxs)("span",{className:"text-sm text-gray-600",children:[c.departures.length," salidas"]})]}),(0,$r.jsx)("div",{className:"space-y-3",children:c.departures.map(e=>(0,$r.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow",children:[(0,$r.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,$r.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,$r.jsx)("div",{className:"w-10 h-10 bg-green-100 rounded-full flex items-center justify-center",children:(0,$r.jsx)(bn,{className:"w-5 h-5 text-green-600"})}),(0,$r.jsxs)("div",{children:[(0,$r.jsx)("h4",{className:"font-semibold text-gray-900",children:e.guest}),(0,$r.jsxs)("p",{className:"text-sm text-gray-600",children:["Hab. ",e.room]})]})]}),(0,$r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,$r.jsx)("span",{className:"px-3 py-1 rounded-full text-xs font-medium ".concat(h(e.status)),children:"checked_out"===e.status?"Completado":"Pendiente"}),(0,$r.jsx)("span",{className:"text-sm text-gray-600",children:e.departureTime})]})]}),(0,$r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,$r.jsxs)("div",{className:"text-sm",children:[(0,$r.jsx)("span",{className:"text-gray-600",children:"Total: "}),(0,$r.jsx)("span",{className:"font-semibold text-gray-900",children:YO(e.bill)}),(0,$r.jsx)("span",{className:"ml-2 px-2 py-1 rounded text-xs ".concat("paid"===e.paymentStatus?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:"paid"===e.paymentStatus?"Pagado":"Pendiente"})]}),(0,$r.jsxs)("div",{className:"flex space-x-2",children:[(0,$r.jsx)(gn,{size:"sm",variant:"outline",icon:dn,onClick:()=>console.log("Ver factura"),children:"Factura"}),(0,$r.jsx)(gn,{size:"sm",variant:"primary",icon:zn,onClick:()=>{return t=e.id,void console.log("Check-out guest:",t);var t},disabled:"checked_out"===e.status,children:"Check-out"})]})]})]},e.id))})]})]}),(0,$r.jsxs)("div",{className:"space-y-6",children:[(0,$r.jsxs)("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6",children:[(0,$r.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[(0,$r.jsx)(On,{className:"w-5 h-5 mr-2 text-gray-600"}),"Estado de Habitaciones"]}),(0,$r.jsx)("div",{className:"grid grid-cols-2 gap-2",children:c.rooms.map(e=>(0,$r.jsxs)("div",{className:"p-3 rounded-lg border-2 text-center cursor-pointer hover:shadow-md transition-all ".concat(h(e.status)," border-opacity-50"),onClick:()=>console.log("Ver habitaci\xf3n",e.number),children:[(0,$r.jsxs)("div",{className:"flex items-center justify-center mb-1",children:[f(e.status),(0,$r.jsx)("span",{className:"ml-1 font-bold",children:e.number})]}),(0,$r.jsx)("p",{className:"text-xs",children:e.type}),e.guest&&(0,$r.jsx)("p",{className:"text-xs font-medium mt-1",children:e.guest})]},e.number))}),(0,$r.jsx)("div",{className:"mt-4 pt-4 border-t border-gray-200",children:(0,$r.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-xs",children:[(0,$r.jsxs)("div",{className:"flex items-center",children:[(0,$r.jsx)("div",{className:"w-3 h-3 bg-red-100 rounded mr-2"}),(0,$r.jsx)("span",{children:"Ocupada"})]}),(0,$r.jsxs)("div",{className:"flex items-center",children:[(0,$r.jsx)("div",{className:"w-3 h-3 bg-green-100 rounded mr-2"}),(0,$r.jsx)("span",{children:"Disponible"})]}),(0,$r.jsxs)("div",{className:"flex items-center",children:[(0,$r.jsx)("div",{className:"w-3 h-3 bg-yellow-100 rounded mr-2"}),(0,$r.jsx)("span",{children:"Salida"})]}),(0,$r.jsxs)("div",{className:"flex items-center",children:[(0,$r.jsx)("div",{className:"w-3 h-3 bg-orange-100 rounded mr-2"}),(0,$r.jsx)("span",{children:"Mantenimiento"})]})]})})]}),(0,$r.jsxs)("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6",children:[(0,$r.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[(0,$r.jsx)(Rn,{className:"w-5 h-5 mr-2 text-orange-600"}),"Solicitudes"]}),(0,$r.jsx)("div",{className:"space-y-3",children:c.requests.map(e=>(0,$r.jsxs)("div",{className:"border border-gray-200 rounded-lg p-3",children:[(0,$r.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,$r.jsxs)("span",{className:"font-medium text-gray-900",children:["Hab. ",e.room]}),(0,$r.jsx)("span",{className:"px-2 py-1 rounded text-xs font-medium ".concat("high"===e.priority?"bg-red-100 text-red-800":"medium"===e.priority?"bg-yellow-100 text-yellow-800":"bg-blue-100 text-blue-800"),children:"high"===e.priority?"Alta":"medium"===e.priority?"Media":"Baja"})]}),(0,$r.jsx)("p",{className:"text-sm text-gray-600 mb-2",children:e.request}),(0,$r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,$r.jsx)("span",{className:"text-xs text-gray-500",children:e.time}),(0,$r.jsx)("span",{className:"px-2 py-1 rounded text-xs ".concat(h(e.status)),children:"pending"===e.status?"Pendiente":"En progreso"})]})]},e.id))})]}),(0,$r.jsxs)("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6",children:[(0,$r.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[(0,$r.jsx)(on,{className:"w-5 h-5 mr-2 text-blue-600"}),"Notificaciones"]}),(0,$r.jsx)("div",{className:"space-y-3",children:c.notifications.map(e=>(0,$r.jsxs)("div",{className:"border-l-4 border-blue-500 bg-blue-50 p-3 rounded",children:[(0,$r.jsx)("p",{className:"text-sm text-gray-900",children:e.message}),(0,$r.jsx)("p",{className:"text-xs text-gray-600 mt-1",children:e.time})]},e.id))})]})]})]})]})},aD={AVAILABLE:"available",OCCUPIED:"occupied",CHECKOUT:"checkout",CLEANING:"cleaning",MAINTENANCE:"maintenance",OUT_OF_ORDER:"out_of_order"},sD={CLEAN:"clean",DIRTY:"dirty",IN_PROGRESS:"in_progress",INSPECTION:"inspection"},iD=e=>{let{stats:t,roomsByType:r,loading:n}=e;const a=t||{total:0,available:0,occupied:0,occupancyRate:0,cleaning:0,maintenance:0,outOfOrder:0,needsCleaning:0,revenue:{today:0,thisMonth:0,average:0}},s=[{title:"Total Habitaciones",value:a.total,icon:On,color:"blue",description:"Habitaciones totales"},{title:"Disponibles",value:a.available,icon:bn,color:"green",description:"Listas para ocupar"},{title:"Ocupadas",value:a.occupied,icon:bn,color:"purple",description:"Con hu\xe9spedes"},{title:"Tasa de Ocupaci\xf3n",value:"".concat(a.occupancyRate,"%"),icon:Hn,color:"yellow",description:"Porcentaje actual"},{title:"En Limpieza",value:a.cleaning,icon:BO,color:"blue",description:"Siendo limpiadas"},{title:"Mantenimiento",value:a.maintenance,icon:LO,color:"orange",description:"En reparaci\xf3n"},{title:"Fuera de Servicio",value:a.outOfOrder,icon:UO,color:"red",description:"No disponibles"},{title:"Necesitan Limpieza",value:a.needsCleaning,icon:BO,color:"red",description:"Pendientes de limpieza"}];return n?(0,$r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[...Array(8)].map((e,t)=>(0,$r.jsx)("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6",children:(0,$r.jsxs)("div",{className:"animate-pulse",children:[(0,$r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,$r.jsxs)("div",{className:"space-y-2",children:[(0,$r.jsx)("div",{className:"h-4 bg-gray-200 rounded w-24"}),(0,$r.jsx)("div",{className:"h-8 bg-gray-200 rounded w-16"})]}),(0,$r.jsx)("div",{className:"w-12 h-12 bg-gray-200 rounded-lg"})]}),(0,$r.jsx)("div",{className:"mt-4",children:(0,$r.jsx)("div",{className:"h-3 bg-gray-200 rounded w-20"})})]})},t))}):(0,$r.jsxs)("div",{className:"space-y-6",children:[(0,$r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:s.map((e,t)=>{const r=e.icon,n=(e=>({blue:"text-blue-600 bg-blue-50",green:"text-green-600 bg-green-50",purple:"text-purple-600 bg-purple-50",yellow:"text-yellow-600 bg-yellow-50",orange:"text-orange-600 bg-orange-50",red:"text-red-600 bg-red-50"}[e]||"text-gray-600 bg-gray-50"))(e.color);return(0,$r.jsx)("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6 hover:shadow-xl transition-shadow duration-300",children:(0,$r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,$r.jsxs)("div",{children:[(0,$r.jsx)("p",{className:"text-sm font-medium text-gray-600 mb-1",children:e.title}),(0,$r.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:e.value}),(0,$r.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:e.description})]}),(0,$r.jsx)("div",{className:"p-3 rounded-lg ".concat(n),children:(0,$r.jsx)(r,{className:"w-6 h-6"})})]})},t)})}),a.revenue&&(0,$r.jsxs)("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6",children:[(0,$r.jsx)("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Resumen de Ingresos"}),(0,$r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,$r.jsxs)("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[(0,$r.jsx)("p",{className:"text-sm font-medium text-green-800 mb-1",children:"Hoy"}),(0,$r.jsx)("p",{className:"text-2xl font-bold text-green-600",children:YO(a.revenue.today)})]}),(0,$r.jsxs)("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[(0,$r.jsx)("p",{className:"text-sm font-medium text-blue-800 mb-1",children:"Este Mes"}),(0,$r.jsx)("p",{className:"text-2xl font-bold text-blue-600",children:YO(a.revenue.thisMonth)})]}),(0,$r.jsxs)("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[(0,$r.jsx)("p",{className:"text-sm font-medium text-purple-800 mb-1",children:"Promedio Diario"}),(0,$r.jsx)("p",{className:"text-2xl font-bold text-purple-600",children:YO(a.revenue.average)})]})]})]}),r&&r.length>0&&(0,$r.jsxs)("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6",children:[(0,$r.jsx)("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Distribuci\xf3n por Tipo"}),(0,$r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:r.map((e,t)=>(0,$r.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4",children:[(0,$r.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,$r.jsx)("h4",{className:"font-semibold text-gray-900",children:e.name}),(0,$r.jsxs)("span",{className:"text-sm text-gray-600",children:[e.count," hab."]})]}),(0,$r.jsxs)("div",{className:"space-y-1 text-sm text-gray-600",children:[(0,$r.jsxs)("div",{className:"flex justify-between",children:[(0,$r.jsx)("span",{children:"Disponibles:"}),(0,$r.jsx)("span",{className:"text-green-600 font-medium",children:e.available})]}),(0,$r.jsxs)("div",{className:"flex justify-between",children:[(0,$r.jsx)("span",{children:"Ocupadas:"}),(0,$r.jsx)("span",{className:"text-blue-600 font-medium",children:e.occupied})]}),(0,$r.jsxs)("div",{className:"flex justify-between",children:[(0,$r.jsx)("span",{children:"Tarifa promedio:"}),(0,$r.jsx)("span",{className:"font-medium",children:YO(e.averageRate)})]})]}),(0,$r.jsxs)("div",{className:"mt-3",children:[(0,$r.jsxs)("div",{className:"flex justify-between text-xs text-gray-600 mb-1",children:[(0,$r.jsx)("span",{children:"Ocupaci\xf3n"}),(0,$r.jsxs)("span",{children:[Math.round(e.occupied/e.count*100),"%"]})]}),(0,$r.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,$r.jsx)("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:"".concat(e.occupied/e.count*100,"%")}})})]})]},t))})]}),!n&&0===a.total&&(0,$r.jsxs)("div",{className:"text-center py-12",children:[(0,$r.jsx)(On,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),(0,$r.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No hay habitaciones registradas"}),(0,$r.jsx)("p",{className:"text-gray-600",children:"Comienza agregando tu primera habitaci\xf3n al sistema"})]})]})},oD=Vr("grid-3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]),lD=Vr("list",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]),cD={AVAILABLE:"Disponible",OCCUPIED:"Ocupada",CLEANING:"En limpieza",MAINTENANCE:"Mantenimiento",OUT_OF_ORDER:"Fuera de servicio"},uD={CLEAN:"Limpio",DIRTY:"Sucio",IN_PROGRESS:"En proceso",INSPECTED:"Inspeccionado"},dD={WIFI:"WiFi Gratis",TV:"TV Smart",AC:"Aire Acondicionado",MINIBAR:"Minibar",SAFE:"Caja Fuerte",BALCONY:"Balc\xf3n",SEA_VIEW:"Vista al Mar",JACUZZI:"Jacuzzi",KITCHENETTE:"Cocina",WORKSPACE:"Zona de Trabajo"},hD=e=>{let{filters:t,onFiltersChange:r,roomTypes:n,viewMode:a,onViewModeChange:s,loading:i}=e;const o=(e,t)=>{r(r=>c(c({},r),{},{[e]:t}))},l=Object.entries(t).some(e=>{let[t,r]=e;return"search"===t?""!==r:"all"!==r}),u=[{value:"all",label:"Todos los estados"},...Object.values(cD).map(e=>({value:e,label:e}))],d=[{value:"all",label:"Todos los tipos"},...n.map(e=>({value:e.name,label:e.name}))],h=[{value:"all",label:"Todos los estados de limpieza"},...Object.values(uD).map(e=>({value:e,label:e}))];return i?(0,$r.jsx)("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6",children:(0,$r.jsx)("div",{className:"animate-pulse",children:(0,$r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-6 gap-4",children:[...Array(6)].map((e,t)=>(0,$r.jsx)("div",{className:"h-10 bg-gray-200 rounded"},t))})})}):(0,$r.jsxs)("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6",children:[(0,$r.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,$r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,$r.jsx)(hE,{className:"w-5 h-5 text-gray-500"}),(0,$r.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Filtros"}),l&&(0,$r.jsx)("span",{className:"bg-blue-100 text-blue-800 text-xs font-medium px-2 py-1 rounded-full",children:"Activos"})]}),(0,$r.jsxs)("div",{className:"flex items-center space-x-3",children:[l&&(0,$r.jsxs)("button",{onClick:()=>{r({status:"all",type:"all",floor:"all",cleaningStatus:"all",search:""})},className:"flex items-center space-x-1 text-sm text-gray-500 hover:text-gray-700 transition-colors",children:[(0,$r.jsx)(HO,{size:16}),(0,$r.jsx)("span",{children:"Limpiar filtros"})]}),s&&(0,$r.jsxs)("div",{className:"flex items-center bg-gray-100 rounded-lg p-1",children:[(0,$r.jsx)(gn,{size:"sm",variant:"grid"===a?"primary":"ghost",icon:oD,onClick:()=>s("grid"),className:"px-3 py-1.5",children:"Cuadr\xedcula"}),(0,$r.jsx)(gn,{size:"sm",variant:"list"===a?"primary":"ghost",icon:lD,onClick:()=>s("list"),className:"px-3 py-1.5",children:"Lista"})]})]})]}),(0,$r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[(0,$r.jsxs)("div",{className:"relative",children:[(0,$r.jsx)(In,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),(0,$r.jsx)("input",{type:"text",placeholder:"Buscar habitaciones...",value:t.search||"",onChange:e=>o("search",e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,$r.jsx)("select",{value:t.status||"all",onChange:e=>o("status",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:u.map(e=>(0,$r.jsx)("option",{value:e.value,children:e.label},e.value))}),(0,$r.jsx)("select",{value:t.type||"all",onChange:e=>o("type",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:d.map(e=>(0,$r.jsx)("option",{value:e.value,children:e.label},e.value))}),(0,$r.jsx)("select",{value:t.floor||"all",onChange:e=>o("floor",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[{value:"all",label:"Todos los pisos"},{value:"1",label:"Piso 1"},{value:"2",label:"Piso 2"},{value:"3",label:"Piso 3"},{value:"4",label:"Piso 4"},{value:"5",label:"Piso 5"}].map(e=>(0,$r.jsx)("option",{value:e.value,children:e.label},e.value))}),(0,$r.jsx)("select",{value:t.cleaningStatus||"all",onChange:e=>o("cleaningStatus",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:h.map(e=>(0,$r.jsx)("option",{value:e.value,children:e.label},e.value))})]})]})},fD=Vr("ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]),pD=Vr("square-pen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]),mD=e=>{let{rooms:t,loading:r,selectedRooms:n,onSelectRoom:a,onStatusChange:s,onEdit:i,onDelete:o}=e;const l=e=>{switch(e){case cD.AVAILABLE:return"bg-green-100 text-green-800 border-green-200";case cD.OCCUPIED:return"bg-blue-100 text-blue-800 border-blue-200";case cD.CLEANING:return"bg-yellow-100 text-yellow-800 border-yellow-200";case cD.MAINTENANCE:return"bg-orange-100 text-orange-800 border-orange-200";case cD.OUT_OF_ORDER:return"bg-red-100 text-red-800 border-red-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},c=e=>{let{room:t}=e;const r=[];switch(t.status){case cD.AVAILABLE:r.push({label:"Ocupar",action:()=>s(t.id,cD.OCCUPIED),color:"primary"},{label:"Limpieza",action:()=>s(t.id,cD.CLEANING),color:"warning"});break;case cD.OCCUPIED:r.push({label:"Liberar",action:()=>s(t.id,cD.AVAILABLE),color:"success"});break;case cD.CLEANING:case cD.MAINTENANCE:r.push({label:"Finalizar",action:()=>s(t.id,cD.AVAILABLE),color:"success"})}return(0,$r.jsx)("div",{className:"flex flex-wrap gap-2 mb-4",children:r.map((e,t)=>(0,$r.jsx)(gn,{size:"sm",variant:e.color,onClick:e.action,className:"text-xs px-3 py-1",children:e.label},t))})};return r?(0,$r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:[...Array(8)].map((e,t)=>(0,$r.jsx)("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6",children:(0,$r.jsxs)("div",{className:"animate-pulse",children:[(0,$r.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,$r.jsx)("div",{className:"h-6 bg-gray-200 rounded w-1/3"}),(0,$r.jsx)("div",{className:"h-6 bg-gray-200 rounded w-1/4"})]}),(0,$r.jsxs)("div",{className:"space-y-3",children:[(0,$r.jsx)("div",{className:"h-4 bg-gray-200 rounded w-full"}),(0,$r.jsx)("div",{className:"h-8 bg-gray-200 rounded w-1/2"})]}),(0,$r.jsxs)("div",{className:"mt-4 flex space-x-2",children:[(0,$r.jsx)("div",{className:"h-8 bg-gray-200 rounded w-1/3"}),(0,$r.jsx)("div",{className:"h-8 bg-gray-200 rounded w-1/3"})]})]})},t))}):(0,$r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:t.map(e=>{const t=(e=>{switch(e){case cD.AVAILABLE:return gE;case cD.OCCUPIED:return bn;case cD.CLEANING:return Vn;case cD.MAINTENANCE:return LO;case cD.OUT_OF_ORDER:return fD;default:return UO}})(e.status),r=n.includes(e.id);return(0,$r.jsxs)("div",{className:pn()("bg-white rounded-xl shadow-lg border transition-all duration-300 hover:shadow-xl",r?"border-blue-500 ring-2 ring-blue-200":"border-gray-100"),children:[(0,$r.jsxs)("div",{className:"p-6 border-b border-gray-200",children:[(0,$r.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,$r.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,$r.jsx)("input",{type:"checkbox",checked:r,onChange:()=>{return t=e.id,void a(e=>e.includes(t)?e.filter(e=>e!==t):[...e,t]);var t},className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),(0,$r.jsx)("h3",{className:"text-xl font-bold text-gray-900",children:e.number})]}),(0,$r.jsxs)("span",{className:pn()("px-3 py-1 rounded-full text-xs font-semibold border flex items-center space-x-1",l(e.status)),children:[(0,$r.jsx)(t,{size:14}),(0,$r.jsx)("span",{children:e.status})]})]}),(0,$r.jsx)("div",{className:"flex items-center text-sm text-gray-600",children:(0,$r.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,$r.jsx)(xn,{size:14}),(0,$r.jsxs)("span",{children:["Piso ",e.floor]})]})})]}),(0,$r.jsxs)("div",{className:"p-6 space-y-4",children:[(0,$r.jsx)("div",{className:"text-center",children:(0,$r.jsxs)("span",{className:"text-2xl font-bold text-blue-600",children:[YO(e.rate),"/noche"]})}),e.currentGuest&&(0,$r.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:[(0,$r.jsxs)("p",{className:"text-sm font-medium text-blue-900",children:["Hu\xe9sped: ",e.currentGuest.name]}),(0,$r.jsxs)("p",{className:"text-xs text-blue-700",children:["Check-out: ",new Date(e.currentGuest.checkOut).toLocaleDateString("es-ES")]})]}),e.nextReservation&&!e.currentGuest&&(0,$r.jsxs)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3",children:[(0,$r.jsxs)("p",{className:"text-sm font-medium text-yellow-900",children:["Pr\xf3xima Reserva: ",e.nextReservation.guest]}),(0,$r.jsxs)("p",{className:"text-xs text-yellow-700",children:["Check-in: ",new Date(e.nextReservation.checkIn).toLocaleDateString("es-ES")]})]}),(0,$r.jsx)(c,{room:e})]}),(0,$r.jsx)("div",{className:"px-6 py-4 border-t border-gray-200 bg-gray-50 rounded-b-xl",children:(0,$r.jsxs)("div",{className:"flex justify-between space-x-2",children:[(0,$r.jsx)(gn,{size:"sm",variant:"outline",icon:pD,onClick:()=>i(e.id),className:"flex-1",children:"Editar"}),(0,$r.jsx)(gn,{size:"sm",variant:"danger",icon:vE,onClick:()=>o(e.id),className:"flex-1",children:"Eliminar"})]})})]},e.id)})})},gD=e=>{let{rooms:t,loading:r,selectedRooms:n,onSelectRoom:a,onStatusChange:s,onEdit:i,onDelete:o}=e;const l=e=>{switch(e){case cD.AVAILABLE:return"bg-green-100 text-green-800 border-green-200";case cD.OCCUPIED:return"bg-blue-100 text-blue-800 border-blue-200";case cD.CLEANING:return"bg-yellow-100 text-yellow-800 border-yellow-200";case cD.MAINTENANCE:return"bg-orange-100 text-orange-800 border-orange-200";case cD.OUT_OF_ORDER:return"bg-red-100 text-red-800 border-red-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}};return r?(0,$r.jsx)("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100",children:(0,$r.jsx)("div",{className:"p-6",children:(0,$r.jsx)("div",{className:"animate-pulse space-y-4",children:[...Array(6)].map((e,t)=>(0,$r.jsx)("div",{className:"border border-gray-200 rounded-lg p-4",children:(0,$r.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,$r.jsx)("div",{className:"w-4 h-4 bg-gray-200 rounded"}),(0,$r.jsx)("div",{className:"w-16 h-16 bg-gray-200 rounded-lg"}),(0,$r.jsxs)("div",{className:"flex-1 space-y-2",children:[(0,$r.jsx)("div",{className:"h-4 bg-gray-200 rounded w-1/3"}),(0,$r.jsx)("div",{className:"h-3 bg-gray-200 rounded w-1/2"})]}),(0,$r.jsx)("div",{className:"w-20 h-8 bg-gray-200 rounded"})]})},t))})})}):(0,$r.jsxs)("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100",children:[(0,$r.jsx)("div",{className:"p-6 border-b border-gray-200",children:(0,$r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,$r.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,$r.jsx)("input",{type:"checkbox",checked:n.length===t.length&&t.length>0,onChange:()=>{a(n.length===t.length?[]:t.map(e=>e.id))},className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),(0,$r.jsx)("span",{className:"text-sm text-gray-600",children:n.length>0?"".concat(n.length," seleccionada").concat(n.length>1?"s":""):"".concat(t.length," habitaci\xf3n").concat(1!==t.length?"es":"")})]}),n.length>0&&(0,$r.jsxs)("div",{className:"flex space-x-2",children:[(0,$r.jsx)(gn,{size:"sm",variant:"outline",children:"Asignar Limpieza"}),(0,$r.jsx)(gn,{size:"sm",variant:"danger",children:"Eliminar Seleccionadas"})]})]})}),(0,$r.jsx)("div",{className:"divide-y divide-gray-200",children:t.map(e=>{const t=(e=>{switch(e){case cD.AVAILABLE:return gE;case cD.OCCUPIED:return bn;case cD.CLEANING:return Vn;case cD.MAINTENANCE:return LO;case cD.OUT_OF_ORDER:return fD;default:return UO}})(e.status),r=n.includes(e.id);return(0,$r.jsx)("div",{className:pn()("p-6 hover:bg-gray-50 transition-colors",r&&"bg-blue-50"),children:(0,$r.jsxs)("div",{className:"flex items-start space-x-4",children:[(0,$r.jsx)("input",{type:"checkbox",checked:r,onChange:()=>{return t=e.id,void a(e=>e.includes(t)?e.filter(e=>e!==t):[...e,t]);var t},className:"mt-2 rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),(0,$r.jsx)("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-500 to-purple-600 rounded-lg flex items-center justify-center text-white font-bold text-lg flex-shrink-0",children:e.number}),(0,$r.jsx)("div",{className:"flex-1 min-w-0",children:(0,$r.jsxs)("div",{className:"flex items-start justify-between",children:[(0,$r.jsxs)("div",{className:"flex-1",children:[(0,$r.jsxs)("div",{className:"flex items-center space-x-3 mb-3",children:[(0,$r.jsxs)("h3",{className:"text-lg font-semibold text-gray-900",children:["Habitaci\xf3n ",e.number]}),(0,$r.jsxs)("span",{className:pn()("px-3 py-1 rounded-full text-xs font-semibold border flex items-center space-x-1",l(e.status)),children:[(0,$r.jsx)(t,{size:12}),(0,$r.jsx)("span",{children:e.status})]})]}),(0,$r.jsxs)("div",{className:"flex items-center space-x-6 mb-3",children:[(0,$r.jsxs)("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[(0,$r.jsx)(xn,{size:14}),(0,$r.jsxs)("span",{children:["Piso ",e.floor]})]}),(0,$r.jsx)("div",{className:"text-sm",children:(0,$r.jsxs)("span",{className:"font-semibold text-blue-600",children:[YO(e.rate),"/noche"]})})]}),e.currentGuest&&(0,$r.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3 mb-3",children:[(0,$r.jsxs)("p",{className:"text-sm font-medium text-blue-900",children:[(0,$r.jsx)(bn,{size:14,className:"inline mr-1"}),"Hu\xe9sped: ",e.currentGuest.name]}),(0,$r.jsxs)("p",{className:"text-xs text-blue-700",children:["Check-out: ",new Date(e.currentGuest.checkOut).toLocaleDateString("es-ES")]})]}),e.nextReservation&&!e.currentGuest&&(0,$r.jsxs)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3 mb-3",children:[(0,$r.jsxs)("p",{className:"text-sm font-medium text-yellow-900",children:["Pr\xf3xima reserva: ",e.nextReservation.guest]}),(0,$r.jsxs)("p",{className:"text-xs text-yellow-700",children:["Check-in: ",new Date(e.nextReservation.checkIn).toLocaleDateString("es-ES")]})]})]}),(0,$r.jsxs)("div",{className:"flex items-center space-x-2 ml-4",children:[(0,$r.jsx)(gn,{size:"sm",variant:"outline",icon:dn,children:"Ver"}),(0,$r.jsx)(gn,{size:"sm",variant:"outline",icon:pD,onClick:()=>i(e.id),children:"Editar"}),(0,$r.jsx)(gn,{size:"sm",variant:"danger",icon:vE,onClick:()=>o(e.id),children:"Eliminar"})]})]})})]})},e.id)})})]})},yD=Vr("maximize",[["path",{d:"M8 3H5a2 2 0 0 0-2 2v3",key:"1dcmit"}],["path",{d:"M21 8V5a2 2 0 0 0-2-2h-3",key:"1e4gt3"}],["path",{d:"M3 16v3a2 2 0 0 0 2 2h3",key:"wsl5sc"}],["path",{d:"M16 21h3a2 2 0 0 0 2-2v-3",key:"18trek"}]]),vD=e=>{let{roomTypes:r,roomsByType:n,loading:a}=e;const[s,i]=(0,t.useState)(!1),[o,l]=(0,t.useState)(null);return a?(0,$r.jsx)("div",{className:"space-y-6",children:(0,$r.jsxs)("div",{className:"animate-pulse",children:[(0,$r.jsx)("div",{className:"h-8 bg-gray-200 rounded w-1/3 mb-6"}),(0,$r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[...Array(4)].map((e,t)=>(0,$r.jsx)("div",{className:"h-64 bg-gray-200 rounded-xl"},t))})]})}):(0,$r.jsxs)("div",{className:"space-y-6",children:[(0,$r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,$r.jsxs)("div",{children:[(0,$r.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Tipos de Habitaci\xf3n"}),(0,$r.jsx)("p",{className:"text-gray-600 mt-1",children:"Gestiona los tipos de habitaci\xf3n y sus tarifas"})]}),(0,$r.jsx)(gn,{variant:"primary",icon:lE,onClick:()=>i(!0),children:"Nuevo Tipo"})]}),(0,$r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:r.map(e=>{const t=n[e.name]||{total:0,available:0,occupied:0},r=t.total>0?(t.occupied/t.total*100).toFixed(1):0;return(0,$r.jsxs)("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 hover:shadow-xl transition-shadow duration-300",children:[(0,$r.jsx)("div",{className:"p-6 border-b border-gray-200",children:(0,$r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,$r.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,$r.jsx)("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:e.color}}),(0,$r.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:e.name}),!e.active&&(0,$r.jsx)("span",{className:"px-2 py-1 bg-red-100 text-red-800 text-xs rounded-full",children:"Inactivo"})]}),(0,$r.jsxs)("div",{className:"flex space-x-2",children:[(0,$r.jsx)(gn,{size:"sm",variant:"outline",icon:pD,onClick:()=>l(e),children:"Editar"}),(0,$r.jsx)(gn,{size:"sm",variant:"danger",icon:vE,children:"Eliminar"})]})]})}),(0,$r.jsxs)("div",{className:"p-6 space-y-4",children:[(0,$r.jsx)("p",{className:"text-gray-600 text-sm leading-relaxed",children:e.description}),(0,$r.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,$r.jsxs)("div",{className:"text-center p-3 bg-gray-50 rounded-lg",children:[(0,$r.jsxs)("div",{className:"flex items-center justify-center space-x-1 mb-1",children:[(0,$r.jsx)(qn,{size:16,className:"text-green-600"}),(0,$r.jsx)("span",{className:"text-lg font-bold text-green-600",children:YO(e.baseRate)})]}),(0,$r.jsx)("p",{className:"text-xs text-gray-500",children:"Tarifa base"})]}),(0,$r.jsxs)("div",{className:"text-center p-3 bg-gray-50 rounded-lg",children:[(0,$r.jsxs)("div",{className:"flex items-center justify-center space-x-1 mb-1",children:[(0,$r.jsx)(bn,{size:16,className:"text-blue-600"}),(0,$r.jsx)("span",{className:"text-lg font-bold text-blue-600",children:e.capacity})]}),(0,$r.jsx)("p",{className:"text-xs text-gray-500",children:"Capacidad"})]}),(0,$r.jsxs)("div",{className:"text-center p-3 bg-gray-50 rounded-lg",children:[(0,$r.jsxs)("div",{className:"flex items-center justify-center space-x-1 mb-1",children:[(0,$r.jsx)(yD,{size:16,className:"text-purple-600"}),(0,$r.jsxs)("span",{className:"text-lg font-bold text-purple-600",children:[e.size,"m\xb2"]})]}),(0,$r.jsx)("p",{className:"text-xs text-gray-500",children:"Tama\xf1o"})]}),(0,$r.jsxs)("div",{className:"text-center p-3 bg-gray-50 rounded-lg",children:[(0,$r.jsxs)("div",{className:"flex items-center justify-center space-x-1 mb-1",children:[(0,$r.jsx)(Pn,{size:16,className:"text-orange-600"}),(0,$r.jsx)("span",{className:"text-lg font-bold text-orange-600",children:t.total})]}),(0,$r.jsx)("p",{className:"text-xs text-gray-500",children:"Total habitaciones"})]})]}),(0,$r.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[(0,$r.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,$r.jsx)("span",{className:"text-sm font-medium text-blue-900",children:"Estado Actual"}),(0,$r.jsxs)("span",{className:"text-sm font-bold text-blue-900",children:[r,"% ocupado"]})]}),(0,$r.jsx)("div",{className:"w-full bg-blue-200 rounded-full h-2 mb-3",children:(0,$r.jsx)("div",{className:"h-2 rounded-full transition-all duration-500",style:{width:"".concat(r,"%"),backgroundColor:e.color}})}),(0,$r.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,$r.jsxs)("div",{className:"text-center",children:[(0,$r.jsx)("span",{className:"font-semibold text-green-600",children:t.available}),(0,$r.jsx)("p",{className:"text-blue-700",children:"Disponibles"})]}),(0,$r.jsxs)("div",{className:"text-center",children:[(0,$r.jsx)("span",{className:"font-semibold text-blue-600",children:t.occupied}),(0,$r.jsx)("p",{className:"text-blue-700",children:"Ocupadas"})]})]})]}),(0,$r.jsxs)("div",{children:[(0,$r.jsx)("p",{className:"text-sm font-medium text-gray-700 mb-2",children:"Opciones de Cama:"}),(0,$r.jsx)("div",{className:"flex flex-wrap gap-2",children:e.bedOptions.map((e,t)=>(0,$r.jsx)("span",{className:"px-3 py-1 bg-gray-100 text-gray-700 text-sm rounded-full",children:e},t))})]}),(0,$r.jsxs)("div",{children:[(0,$r.jsx)("p",{className:"text-sm font-medium text-gray-700 mb-2",children:"Caracter\xedsticas:"}),(0,$r.jsxs)("div",{className:"grid grid-cols-2 gap-1",children:[e.features.slice(0,6).map((e,t)=>(0,$r.jsxs)("span",{className:"px-2 py-1 bg-white border border-gray-200 text-gray-700 text-xs rounded flex items-center",children:[(0,$r.jsx)("span",{className:"w-2 h-2 bg-green-500 rounded-full mr-2"}),e]},t)),e.features.length>6&&(0,$r.jsxs)("span",{className:"px-2 py-1 bg-gray-100 text-gray-500 text-xs rounded text-center col-span-2",children:["+",e.features.length-6," caracter\xedsticas m\xe1s"]})]})]})]})]},e.id)})}),(0,$r.jsxs)("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6",children:[(0,$r.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Resumen de Tipos de Habitaci\xf3n"}),(0,$r.jsx)("div",{className:"overflow-x-auto",children:(0,$r.jsxs)("table",{className:"w-full",children:[(0,$r.jsx)("thead",{children:(0,$r.jsxs)("tr",{className:"border-b border-gray-200",children:[(0,$r.jsx)("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Tipo"}),(0,$r.jsx)("th",{className:"text-center py-3 px-4 font-semibold text-gray-900",children:"Total"}),(0,$r.jsx)("th",{className:"text-center py-3 px-4 font-semibold text-gray-900",children:"Disponibles"}),(0,$r.jsx)("th",{className:"text-center py-3 px-4 font-semibold text-gray-900",children:"Ocupadas"}),(0,$r.jsx)("th",{className:"text-center py-3 px-4 font-semibold text-gray-900",children:"Ocupaci\xf3n"}),(0,$r.jsx)("th",{className:"text-center py-3 px-4 font-semibold text-gray-900",children:"Tarifa Base"})]})}),(0,$r.jsx)("tbody",{className:"divide-y divide-gray-100",children:r.map(e=>{const t=n[e.name]||{total:0,available:0,occupied:0},r=t.total>0?(t.occupied/t.total*100).toFixed(1):0;return(0,$r.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,$r.jsx)("td",{className:"py-3 px-4",children:(0,$r.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,$r.jsx)("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:e.color}}),(0,$r.jsx)("span",{className:"font-medium text-gray-900",children:e.name})]})}),(0,$r.jsx)("td",{className:"text-center py-3 px-4 font-medium",children:t.total}),(0,$r.jsx)("td",{className:"text-center py-3 px-4 text-green-600 font-medium",children:t.available}),(0,$r.jsx)("td",{className:"text-center py-3 px-4 text-blue-600 font-medium",children:t.occupied}),(0,$r.jsx)("td",{className:"text-center py-3 px-4",children:(0,$r.jsxs)("div",{className:"flex items-center justify-center space-x-2",children:[(0,$r.jsx)("div",{className:"w-16 bg-gray-200 rounded-full h-2",children:(0,$r.jsx)("div",{className:"h-2 rounded-full",style:{width:"".concat(r,"%"),backgroundColor:e.color}})}),(0,$r.jsxs)("span",{className:"text-sm font-medium",children:[r,"%"]})]})}),(0,$r.jsx)("td",{className:"text-center py-3 px-4 font-bold text-green-600",children:YO(e.baseRate)})]},e.id)})})]})})]})]})},xD=e=>{let{rooms:r,cleaningStaff:n,roomsNeedingCleaning:a,onAssignCleaning:s,onCleaningStatusChange:i,loading:o}=e;const[l,c]=(0,t.useState)([]),[u,d]=(0,t.useState)(!1),[h,f]=(0,t.useState)("all"),[p,m]=(0,t.useState)(""),[g,y]=(0,t.useState)(""),v=(0,t.useMemo)(()=>r&&0!==r.length?{needsCleaning:r.filter(e=>e.cleaningStatus===uD.DIRTY).length,inProgress:r.filter(e=>e.cleaningStatus===uD.IN_PROGRESS).length,clean:r.filter(e=>e.cleaningStatus===uD.CLEAN).length,inspected:r.filter(e=>e.cleaningStatus===uD.INSPECTED).length}:{needsCleaning:0,inProgress:0,clean:0,inspected:0},[r]),x=(0,t.useMemo)(()=>r?r.filter(e=>{const t=e.number.toLowerCase().includes(p.toLowerCase())||e.type.toLowerCase().includes(p.toLowerCase()),r="all"===h||e.cleaningStatus===h;return t&&r}):[],[r,p,h]),b=(e,t)=>{i&&i(e,t)},w=e=>{switch(e){case uD.CLEAN:return"bg-green-100 text-green-800 border-green-200";case uD.DIRTY:return"bg-red-100 text-red-800 border-red-200";case uD.IN_PROGRESS:return"bg-yellow-100 text-yellow-800 border-yellow-200";case uD.INSPECTED:return"bg-blue-100 text-blue-800 border-blue-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}};return o?(0,$r.jsx)("div",{className:"space-y-6",children:(0,$r.jsxs)("div",{className:"animate-pulse",children:[(0,$r.jsx)("div",{className:"h-8 bg-gray-200 rounded w-1/3 mb-4"}),(0,$r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[...Array(4)].map((e,t)=>(0,$r.jsx)("div",{className:"h-24 bg-gray-200 rounded-xl"},t))}),(0,$r.jsx)("div",{className:"h-96 bg-gray-200 rounded-xl"})]})}):(0,$r.jsxs)("div",{className:"space-y-6",children:[(0,$r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,$r.jsxs)("div",{children:[(0,$r.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Gesti\xf3n de Limpieza"}),(0,$r.jsx)("p",{className:"text-gray-600 mt-1",children:"Controla el estado de limpieza y asigna tareas al personal"})]}),l.length>0&&(0,$r.jsxs)(gn,{variant:"primary",icon:BO,onClick:()=>d(!0),children:["Asignar Limpieza (",l.length,")"]})]}),(0,$r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,$r.jsx)("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6",children:(0,$r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,$r.jsxs)("div",{children:[(0,$r.jsx)("p",{className:"text-sm font-medium text-gray-600 mb-1",children:"Necesitan Limpieza"}),(0,$r.jsx)("p",{className:"text-2xl font-bold text-red-600",children:v.needsCleaning})]}),(0,$r.jsx)("div",{className:"p-3 bg-red-50 rounded-lg",children:(0,$r.jsx)(UO,{className:"w-6 h-6 text-red-600"})})]})}),(0,$r.jsx)("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6",children:(0,$r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,$r.jsxs)("div",{children:[(0,$r.jsx)("p",{className:"text-sm font-medium text-gray-600 mb-1",children:"En Proceso"}),(0,$r.jsx)("p",{className:"text-2xl font-bold text-yellow-600",children:v.inProgress})]}),(0,$r.jsx)("div",{className:"p-3 bg-yellow-50 rounded-lg",children:(0,$r.jsx)(Vn,{className:"w-6 h-6 text-yellow-600"})})]})}),(0,$r.jsx)("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6",children:(0,$r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,$r.jsxs)("div",{children:[(0,$r.jsx)("p",{className:"text-sm font-medium text-gray-600 mb-1",children:"Limpias"}),(0,$r.jsx)("p",{className:"text-2xl font-bold text-green-600",children:v.clean})]}),(0,$r.jsx)("div",{className:"p-3 bg-green-50 rounded-lg",children:(0,$r.jsx)(gE,{className:"w-6 h-6 text-green-600"})})]})}),(0,$r.jsx)("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6",children:(0,$r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,$r.jsxs)("div",{children:[(0,$r.jsx)("p",{className:"text-sm font-medium text-gray-600 mb-1",children:"Inspeccionadas"}),(0,$r.jsx)("p",{className:"text-2xl font-bold text-blue-600",children:v.inspected})]}),(0,$r.jsx)("div",{className:"p-3 bg-blue-50 rounded-lg",children:(0,$r.jsx)(gE,{className:"w-6 h-6 text-blue-600"})})]})})]}),(0,$r.jsx)("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6",children:(0,$r.jsxs)("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[(0,$r.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,$r.jsxs)("div",{className:"relative",children:[(0,$r.jsx)(In,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),(0,$r.jsx)("input",{type:"text",placeholder:"Buscar habitaciones...",value:p,onChange:e=>m(e.target.value),className:"pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,$r.jsxs)("select",{value:h,onChange:e=>f(e.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,$r.jsx)("option",{value:"all",children:"Todos los estados"}),(0,$r.jsx)("option",{value:uD.DIRTY,children:"Necesitan limpieza"}),(0,$r.jsx)("option",{value:uD.IN_PROGRESS,children:"En proceso"}),(0,$r.jsx)("option",{value:uD.CLEAN,children:"Limpias"}),(0,$r.jsx)("option",{value:uD.INSPECTED,children:"Inspeccionadas"})]})]}),(0,$r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,$r.jsxs)("span",{className:"text-sm text-gray-600",children:[x.length," habitacion",1!==x.length?"es":""]}),x.length>0&&(0,$r.jsx)(gn,{variant:"outline",size:"sm",onClick:()=>{l.length===x.length?c([]):c(x.map(e=>e.id))},children:l.length===x.length?"Deseleccionar todas":"Seleccionar todas"})]})]})}),(0,$r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:x.map(e=>{const t=(e=>{switch(e){case uD.CLEAN:return gE;case uD.DIRTY:return UO;case uD.IN_PROGRESS:return Vn;case uD.INSPECTED:return gE;default:return UO}})(e.cleaningStatus),r=l.includes(e.id);return(0,$r.jsx)("div",{className:pn()("bg-white rounded-xl shadow-lg border transition-all duration-300",r?"border-blue-500 ring-2 ring-blue-200":"border-gray-100"),children:(0,$r.jsxs)("div",{className:"p-6",children:[(0,$r.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,$r.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,$r.jsx)("input",{type:"checkbox",checked:r,onChange:()=>{return t=e.id,void c(e=>e.includes(t)?e.filter(e=>e!==t):[...e,t]);var t},className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),(0,$r.jsxs)("h3",{className:"text-lg font-bold text-gray-900",children:["Habitaci\xf3n ",e.number]})]}),(0,$r.jsxs)("span",{className:pn()("px-3 py-1 rounded-full text-xs font-semibold border flex items-center space-x-1",w(e.cleaningStatus)),children:[(0,$r.jsx)(t,{size:14}),(0,$r.jsx)("span",{children:e.cleaningStatus})]})]}),(0,$r.jsxs)("div",{className:"space-y-3",children:[(0,$r.jsxs)("div",{className:"flex items-center justify-between text-sm text-gray-600",children:[(0,$r.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,$r.jsx)(xn,{size:14}),(0,$r.jsxs)("span",{children:["Piso ",e.floor]})]}),(0,$r.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,$r.jsx)(bn,{size:14}),(0,$r.jsx)("span",{children:e.type})]})]}),e.assignedCleaner&&(0,$r.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:[(0,$r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,$r.jsx)(sn,{size:14,className:"text-blue-600"}),(0,$r.jsx)("span",{className:"text-sm font-medium text-blue-900",children:e.assignedCleaner})]}),e.cleaningStartTime&&(0,$r.jsxs)("p",{className:"text-xs text-blue-700 mt-1",children:["Iniciado: ",QO(e.cleaningStartTime)]})]}),e.lastCleaned&&(0,$r.jsxs)("div",{className:"text-xs text-gray-500",children:["\xdaltima limpieza: ",QO(e.lastCleaned),e.cleanedBy&&" por ".concat(e.cleanedBy)]}),(0,$r.jsxs)("div",{className:"flex flex-wrap gap-2",children:[e.cleaningStatus===uD.DIRTY&&(0,$r.jsx)(gn,{size:"sm",variant:"warning",onClick:()=>b(e.id,uD.IN_PROGRESS),children:"Iniciar Limpieza"}),e.cleaningStatus===uD.IN_PROGRESS&&(0,$r.jsx)(gn,{size:"sm",variant:"success",onClick:()=>b(e.id,uD.CLEAN),children:"Marcar Limpia"}),e.cleaningStatus===uD.CLEAN&&(0,$r.jsx)(gn,{size:"sm",variant:"primary",onClick:()=>b(e.id,uD.INSPECTED),children:"Inspeccionar"}),(0,$r.jsx)(gn,{size:"sm",variant:"outline",icon:dn,children:"Ver Detalles"})]})]})]})},e.id)})}),0===x.length&&!o&&(0,$r.jsxs)("div",{className:"text-center py-12",children:[(0,$r.jsx)(BO,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),(0,$r.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No se encontraron habitaciones"}),(0,$r.jsx)("p",{className:"text-gray-600",children:"Intenta ajustar los filtros de b\xfasqueda"})]}),u&&(0,$r.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,$r.jsx)("div",{className:"bg-white rounded-xl shadow-2xl max-w-md w-full",children:(0,$r.jsxs)("div",{className:"p-6",children:[(0,$r.jsx)("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Asignar Limpieza"}),(0,$r.jsxs)("div",{className:"space-y-4",children:[(0,$r.jsxs)("div",{children:[(0,$r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Personal de Limpieza"}),(0,$r.jsxs)("select",{value:g,onChange:e=>y(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,$r.jsx)("option",{value:"",children:"Seleccionar personal"}),null===n||void 0===n?void 0:n.map(e=>(0,$r.jsxs)("option",{value:e.id,children:[e.name," - ",e.shift]},e.id))]})]}),(0,$r.jsxs)("div",{className:"bg-gray-50 rounded-lg p-3",children:[(0,$r.jsx)("p",{className:"text-sm font-medium text-gray-700 mb-2",children:"Habitaciones seleccionadas:"}),(0,$r.jsx)("div",{className:"flex flex-wrap gap-2",children:l.map(e=>{const t=r.find(t=>t.id===e);return(0,$r.jsx)("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 text-xs rounded-full",children:null===t||void 0===t?void 0:t.number},e)})})]})]}),(0,$r.jsxs)("div",{className:"flex justify-end space-x-3 mt-6",children:[(0,$r.jsx)(gn,{variant:"outline",onClick:()=>d(!1),children:"Cancelar"}),(0,$r.jsx)(gn,{variant:"primary",icon:BO,onClick:()=>{l.length>0&&g&&s&&(s(l,g),c([]),d(!1),y(""))},disabled:!g,children:"Asignar"})]})]})})})]})},bD=wA().shape({number:oA().required("El n\xfamero de habitaci\xf3n es obligatorio"),floor:cA().min(1,"El piso debe ser mayor a 0").required("El piso es obligatorio"),type:oA().required("El tipo es obligatorio"),capacity:cA().min(1,"La capacidad debe ser mayor a 0").required("La capacidad es obligatoria"),size:cA().min(1,"El tama\xf1o debe ser mayor a 0").required("El tama\xf1o es obligatorio"),rate:cA().min(0,"La tarifa debe ser positiva").required("La tarifa es obligatoria"),description:oA().required("La descripci\xf3n es obligatoria"),beds:NA().of(wA().shape({type:oA().required("Tipo de cama requerido"),count:cA().min(1,"Cantidad debe ser mayor a 0").required("Cantidad requerida")})).min(1,"Debe tener al menos una cama"),features:NA().min(1,"Debe seleccionar al menos una caracter\xedstica")}),wD=e=>{let{isOpen:r,onClose:n,onSubmit:a,roomTypes:s}=e;const[i,o]=(0,t.useState)([]),{register:l,handleSubmit:u,control:d,watch:h,setValue:f,formState:{errors:p,isSubmitting:m},reset:g}=sP({resolver:dP(bD),defaultValues:{beds:[{type:"Doble",count:1}],features:[]}}),{fields:y,append:v,remove:x}=aP({control:d,name:"beds"}),b=h("type");t.useEffect(()=>{if(b&&s){const e=s.find(e=>e.name===b);e&&(f("capacity",e.capacity),f("size",e.size),f("rate",e.baseRate),f("description",e.description),o(e.features),f("features",e.features))}},[b,s,f]);const w=()=>{g(),o([]),n()},j=["Individual","Doble","Queen","King","Sof\xe1 Cama","Litera"];return r?(0,$r.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,$r.jsxs)("div",{className:"bg-white rounded-xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-hidden",children:[(0,$r.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[(0,$r.jsxs)("div",{children:[(0,$r.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Nueva Habitaci\xf3n"}),(0,$r.jsx)("p",{className:"text-gray-600 mt-1",children:"Agregar una nueva habitaci\xf3n al inventario"})]}),(0,$r.jsx)("button",{onClick:w,className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",children:(0,$r.jsx)(HO,{size:24})})]}),(0,$r.jsxs)("form",{onSubmit:u(async e=>{try{const t=c(c({},e),{},{features:i});await a(t),w()}catch(t){console.error("Error creating room:",t)}}),children:[(0,$r.jsxs)("div",{className:"p-6 max-h-[70vh] overflow-y-auto space-y-6",children:[(0,$r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,$r.jsxs)("div",{children:[(0,$r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"N\xfamero de Habitaci\xf3n *"}),(0,$r.jsx)("input",c(c({type:"text"},l("number")),{},{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Ej: 101, A-15"})),p.number&&(0,$r.jsx)("p",{className:"text-red-600 text-sm mt-1",children:p.number.message})]}),(0,$r.jsxs)("div",{children:[(0,$r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Piso *"}),(0,$r.jsx)("input",c(c({type:"number",min:"1",max:"20"},l("floor")),{},{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})),p.floor&&(0,$r.jsx)("p",{className:"text-red-600 text-sm mt-1",children:p.floor.message})]}),(0,$r.jsxs)("div",{children:[(0,$r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tipo de Habitaci\xf3n *"}),(0,$r.jsxs)("select",c(c({},l("type")),{},{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,$r.jsx)("option",{value:"",children:"Seleccionar tipo"}),s.map(e=>(0,$r.jsx)("option",{value:e.name,children:e.name},e.id))]})),p.type&&(0,$r.jsx)("p",{className:"text-red-600 text-sm mt-1",children:p.type.message})]}),(0,$r.jsxs)("div",{children:[(0,$r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Capacidad (hu\xe9spedes) *"}),(0,$r.jsx)("input",c(c({type:"number",min:"1",max:"10"},l("capacity")),{},{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})),p.capacity&&(0,$r.jsx)("p",{className:"text-red-600 text-sm mt-1",children:p.capacity.message})]}),(0,$r.jsxs)("div",{children:[(0,$r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tama\xf1o (m\xb2) *"}),(0,$r.jsx)("input",c(c({type:"number",min:"1",step:"0.1"},l("size")),{},{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})),p.size&&(0,$r.jsx)("p",{className:"text-red-600 text-sm mt-1",children:p.size.message})]}),(0,$r.jsxs)("div",{children:[(0,$r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tarifa por Noche (S/) *"}),(0,$r.jsx)("input",c(c({type:"number",min:"0",step:"0.01"},l("rate")),{},{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})),p.rate&&(0,$r.jsx)("p",{className:"text-red-600 text-sm mt-1",children:p.rate.message})]})]}),(0,$r.jsxs)("div",{children:[(0,$r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Descripci\xf3n *"}),(0,$r.jsx)("textarea",c(c({},l("description")),{},{rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Describe las caracter\xedsticas principales de la habitaci\xf3n..."})),p.description&&(0,$r.jsx)("p",{className:"text-red-600 text-sm mt-1",children:p.description.message})]}),(0,$r.jsxs)("div",{children:[(0,$r.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,$r.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Configuraci\xf3n de Camas *"}),(0,$r.jsx)(gn,{type:"button",variant:"outline",size:"sm",icon:lE,onClick:()=>v({type:"Individual",count:1}),children:"Agregar Cama"})]}),(0,$r.jsx)("div",{className:"space-y-3",children:y.map((e,t)=>(0,$r.jsxs)("div",{className:"flex items-center space-x-3 p-3 border border-gray-200 rounded-lg",children:[(0,$r.jsx)("div",{className:"flex-1",children:(0,$r.jsx)("select",c(c({},l("beds.".concat(t,".type"))),{},{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:j.map(e=>(0,$r.jsx)("option",{value:e,children:e},e))}))}),(0,$r.jsx)("div",{className:"w-24",children:(0,$r.jsx)("input",c(c({type:"number",min:"1",max:"5"},l("beds.".concat(t,".count"))),{},{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Cant."}))}),y.length>1&&(0,$r.jsx)(gn,{type:"button",variant:"danger",size:"sm",icon:vE,onClick:()=>x(t),children:"Eliminar"})]},e.id))}),p.beds&&(0,$r.jsx)("p",{className:"text-red-600 text-sm mt-1",children:p.beds.message})]}),(0,$r.jsxs)("div",{children:[(0,$r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-4",children:"Caracter\xedsticas y Amenidades *"}),(0,$r.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:Object.values(dD).map(e=>(0,$r.jsxs)("label",{className:"flex items-center space-x-3 p-3 border border-gray-200 rounded-lg hover:bg-gray-50 cursor-pointer transition-colors",children:[(0,$r.jsx)("input",{type:"checkbox",checked:i.includes(e),onChange:()=>(e=>{const t=i.includes(e)?i.filter(t=>t!==e):[...i,e];o(t),f("features",t)})(e),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),(0,$r.jsx)("span",{className:"text-sm text-gray-700 flex-1",children:e}),(0,$r.jsx)("span",{className:"w-2 h-2 bg-green-500 rounded-full"})]},e))}),p.features&&(0,$r.jsx)("p",{className:"text-red-600 text-sm mt-1",children:p.features.message}),i.length>0&&(0,$r.jsxs)("div",{className:"mt-3 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:[(0,$r.jsxs)("p",{className:"text-sm font-medium text-blue-900 mb-2",children:["Caracter\xedsticas seleccionadas (",i.length,"):"]}),(0,$r.jsx)("div",{className:"flex flex-wrap gap-2",children:i.map(e=>(0,$r.jsx)("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 text-xs rounded-full",children:e},e))})]})]}),h("number")&&h("type")&&(0,$r.jsxs)("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:[(0,$r.jsx)("h4",{className:"font-semibold text-gray-900 mb-3",children:"Vista Previa"}),(0,$r.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:[(0,$r.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,$r.jsxs)("h5",{className:"text-lg font-bold text-gray-900",children:["Habitaci\xf3n ",h("number")]}),(0,$r.jsx)("span",{className:"px-3 py-1 bg-green-100 text-green-800 rounded-full text-xs font-semibold",children:"Disponible"})]}),(0,$r.jsxs)("div",{className:"grid grid-cols-2 gap-4 mb-3 text-sm text-gray-600",children:[(0,$r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,$r.jsx)(xn,{size:14}),(0,$r.jsxs)("span",{children:["Piso ",h("floor")]})]}),(0,$r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,$r.jsx)(yD,{size:14}),(0,$r.jsxs)("span",{children:[h("size"),"m\xb2"]})]}),(0,$r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,$r.jsx)(bn,{size:14}),(0,$r.jsxs)("span",{children:["Max ",h("capacity")]})]}),(0,$r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,$r.jsx)(qn,{size:14}),(0,$r.jsxs)("span",{className:"font-semibold text-blue-600",children:["S/ ",h("rate"),"/noche"]})]})]}),(0,$r.jsx)("div",{className:"text-sm text-gray-600 mb-3",children:(0,$r.jsx)("span",{className:"font-medium",children:h("type")})}),h("description")&&(0,$r.jsx)("p",{className:"text-sm text-gray-600 mb-3",children:h("description")}),y.length>0&&(0,$r.jsxs)("div",{className:"mb-3",children:[(0,$r.jsx)("p",{className:"text-sm font-medium text-gray-700 mb-1",children:"Camas:"}),(0,$r.jsx)("div",{className:"flex flex-wrap gap-2",children:y.map((e,t)=>(0,$r.jsxs)("span",{className:"px-2 py-1 bg-gray-100 text-gray-700 text-xs rounded flex items-center space-x-1",children:[(0,$r.jsx)(On,{size:12}),(0,$r.jsxs)("span",{children:[h("beds.".concat(t,".count"))," ",h("beds.".concat(t,".type"))]})]},t))})]}),i.length>0&&(0,$r.jsxs)("div",{children:[(0,$r.jsx)("p",{className:"text-sm font-medium text-gray-700 mb-1",children:"Caracter\xedsticas:"}),(0,$r.jsxs)("div",{className:"flex flex-wrap gap-1",children:[i.slice(0,4).map(e=>(0,$r.jsx)("span",{className:"px-2 py-1 bg-gray-100 text-gray-700 text-xs rounded",children:e},e)),i.length>4&&(0,$r.jsxs)("span",{className:"px-2 py-1 bg-gray-100 text-gray-700 text-xs rounded",children:["+",i.length-4," m\xe1s"]})]})]})]})]})]}),(0,$r.jsxs)("div",{className:"px-6 py-4 border-t border-gray-200 bg-gray-50 flex justify-between",children:[(0,$r.jsx)(gn,{type:"button",variant:"outline",onClick:w,children:"Cancelar"}),(0,$r.jsx)(gn,{type:"submit",variant:"primary",loading:m,icon:On,children:"Crear Habitaci\xf3n"})]})]})]})}):null},jD=()=>{const[e,r]=(0,t.useState)("rooms"),[n,a]=(0,t.useState)("grid"),[s,i]=(0,t.useState)(!1),[o,l]=(0,t.useState)([]),[c,u]=(0,t.useState)({status:"all",type:"all",floor:"all",cleaningStatus:"all",search:""}),{rooms:d,roomTypes:h,cleaningStaff:f,roomStats:p,roomsByType:m,loading:g,error:y,createRoom:v,updateRoom:x,deleteRoom:b,updateRoomStatus:w,updateCleaningStatus:j,assignCleaning:N}=(()=>{const[e,r]=(0,t.useState)([]),[n,a]=(0,t.useState)([]),[s,i]=(0,t.useState)([]),[o,l]=(0,t.useState)([]),[c,u]=(0,t.useState)(!0),[d,h]=(0,t.useState)(null),f=(0,t.useMemo)(()=>{if(!e||0===e.length)return{total:0,available:0,occupied:0,occupancyRate:0,cleaning:0,maintenance:0,outOfOrder:0,needsCleaning:0,revenue:{today:0,thisMonth:0,average:0}};const t=e.length,r=e.filter(e=>e.status===aD.AVAILABLE).length,n=e.filter(e=>e.status===aD.OCCUPIED).length,a=e.filter(e=>e.status===aD.CLEANING||e.status===aD.CHECKOUT).length,s=e.filter(e=>e.status===aD.MAINTENANCE).length,i=e.filter(e=>e.status===aD.OUT_OF_ORDER).length,o=t>0?Math.round(n/t*100):0,l=e.filter(e=>e.status===aD.OCCUPIED).reduce((e,t)=>e+parseFloat(t.price||0),0),c=30*l;return{total:t,available:r,occupied:n,occupancyRate:o,cleaning:a,maintenance:s,outOfOrder:i,needsCleaning:a,revenue:{today:l,thisMonth:c,average:t>0?c/t:0}}},[e]),p=(0,t.useMemo)(()=>{if(!e||0===e.length||!n||0===n.length)return{};const t={};return n.forEach(r=>{const n=e.filter(e=>e.type===r.name);t[r.name]={total:n.length,available:n.filter(e=>e.status===aD.AVAILABLE).length,occupied:n.filter(e=>e.status===aD.OCCUPIED).length,averageRate:parseFloat(r.base_price||0)}}),t},[e,n]),m=async()=>{try{const{data:e,error:t}=await Di.from("rooms").select("*").order("number");if(t)throw t;return r(e||[]),e}catch(d){return console.error("Error cargando habitaciones:",d),h(d.message),[]}},g=async()=>{try{const{data:e,error:t}=await Di.from("room_types").select("*").order("name");if(t)throw t;return a(e||[]),e}catch(d){return console.error("Error cargando tipos de habitaciones:",d),h(d.message),[]}},y=async()=>{try{const{data:e,error:t}=await Di.from("staff").select("*").eq("role","housekeeping").eq("status","active").order("full_name");if(t)throw t;const r=e.map(e=>({id:e.id,name:e.full_name,employeeId:e.employee_id,phone:e.phone,department:e.department,status:e.status}));return i(r),r}catch(d){console.error("Error cargando personal de limpieza:",d),h(d.message);const t=[{id:1,name:"Mar\xeda Gonz\xe1lez",employeeId:"EMP001",phone:"+51 999 111 222"},{id:2,name:"Carlos Ruiz",employeeId:"EMP002",phone:"+51 999 333 444"},{id:3,name:"Ana L\xf3pez",employeeId:"EMP003",phone:"+51 999 555 666"}];return i(t),t}},v=async()=>{try{const{data:e,error:t}=await Di.from("room_cleaning").select("\n          *,\n          rooms (number, floor, type),\n          staff (full_name, employee_id)\n        ").in("status",["pending","in_progress"]).order("created_at",{ascending:!1});if(t)throw t;const r=e.map(e=>{var t,r,n,a,s;return{id:e.id,roomNumber:null===(t=e.rooms)||void 0===t?void 0:t.number,roomFloor:null===(r=e.rooms)||void 0===r?void 0:r.floor,roomType:null===(n=e.rooms)||void 0===n?void 0:n.type,status:e.status,cleaningType:e.cleaning_type,priority:e.priority,estimatedDuration:e.estimated_duration,actualDuration:e.actual_duration,assignedCleaner:null===(a=e.staff)||void 0===a?void 0:a.full_name,cleanerEmployeeId:null===(s=e.staff)||void 0===s?void 0:s.employee_id,startedAt:e.started_at,completedAt:e.completed_at,notes:e.notes,qualityScore:e.quality_score,createdAt:e.created_at}});return l(r),r}catch(d){return console.error("Error cargando tareas de limpieza:",d),h(d.message),[]}},x=async(e,t)=>{try{const{error:r}=await Di.from("rooms").update({status:t,updated_at:(new Date).toISOString()}).eq("number",e);if(r)throw r;return await m(),{success:!0}}catch(d){return console.error("Error actualizando estado de habitaci\xf3n:",d),{success:!1,error:d.message}}},b=async t=>{try{const r=e.find(e=>e.number===t.roomNumber);if(!r)throw new Error("Habitaci\xf3n no encontrada");const{data:n,error:a}=await Di.from("room_cleaning").insert([{room_id:r.id,staff_id:t.staffId||null,status:"pending",cleaning_type:t.cleaningType||"checkout",priority:t.priority||"medium",estimated_duration:t.estimatedDuration||30,notes:t.notes||""}]).select().single();if(a)throw a;return await x(t.roomNumber,aD.CLEANING),await v(),{success:!0,data:n}}catch(d){return console.error("Error creando tarea de limpieza:",d),{success:!1,error:d.message}}},w=async()=>{u(!0),h(null);try{await Promise.all([m(),g(),y(),v()])}catch(d){console.error("Error refrescando datos:",d),h(d.message)}finally{u(!1)}};return(0,t.useEffect)(()=>{const e=Di.channel("rooms_management_changes").on("postgres_changes",{event:"*",schema:"public",table:"rooms"},e=>{console.log("Cambio en habitaciones:",e),m()}).subscribe(),t=Di.channel("cleaning_changes").on("postgres_changes",{event:"*",schema:"public",table:"room_cleaning"},e=>{console.log("Cambio en tareas de limpieza:",e),v()}).subscribe();return()=>{Di.removeChannel(e),Di.removeChannel(t)}},[]),(0,t.useEffect)(()=>{w()},[]),{rooms:e,roomTypes:n,cleaningStaff:s,cleaningTasks:o,roomStats:f,roomsByType:p,loading:c,error:d,createRoom:async e=>{try{const{data:t,error:r}=await Di.from("rooms").insert([{number:parseInt(e.number),floor:parseInt(e.floor),type:e.type,status:aD.AVAILABLE,price:parseFloat(e.price),capacity:parseInt(e.capacity),description:e.description,amenities:e.amenities||[]}]).select().single();if(r)throw r;return await m(),{success:!0,data:t}}catch(d){return console.error("Error creando habitaci\xf3n:",d),{success:!1,error:d.message}}},updateRoom:async(e,t)=>{try{const{error:r}=await Di.from("rooms").update({number:t.number?parseInt(t.number):void 0,floor:t.floor?parseInt(t.floor):void 0,type:t.type,price:t.price?parseFloat(t.price):void 0,capacity:t.capacity?parseInt(t.capacity):void 0,description:t.description,amenities:t.amenities,updated_at:(new Date).toISOString()}).eq("id",e);if(r)throw r;return await m(),{success:!0}}catch(d){return console.error("Error actualizando habitaci\xf3n:",d),{success:!1,error:d.message}}},deleteRoom:async e=>{try{const{error:t}=await Di.from("rooms").delete().eq("id",e);if(t)throw t;return await m(),{success:!0}}catch(d){return console.error("Error eliminando habitaci\xf3n:",d),{success:!1,error:d.message}}},updateRoomStatus:async(e,t)=>{try{const{error:r}=await Di.from("rooms").update({status:t,updated_at:(new Date).toISOString()}).eq("id",e);if(r)throw r;return await m(),{success:!0}}catch(d){return console.error("Error actualizando estado de habitaci\xf3n:",d),{success:!1,error:d.message}}},updateRoomStatusByNumber:x,createCleaningTask:b,assignCleaning:async(e,t)=>{try{const r=[];for(const a of e){const e=await b({roomNumber:a,staffId:t,cleaningType:"checkout",priority:"medium",estimatedDuration:30});r.push(e)}const n=r.filter(e=>e.success).length;return{success:n>0,message:"".concat(n,"/").concat(e.length," habitaciones asignadas correctamente")}}catch(d){return console.error("Error asignando limpieza:",d),{success:!1,error:d.message}}},completeCleaningTask:async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;try{const{error:r}=await Di.from("room_cleaning").update({status:"completed",completed_at:(new Date).toISOString(),quality_score:t}).eq("id",e);if(r)throw r;const n=o.find(t=>t.id===e);return n&&await x(n.roomNumber,aD.AVAILABLE),await v(),{success:!0}}catch(d){return console.error("Error completando tarea de limpieza:",d),{success:!1,error:d.message}}},searchRooms:function(t){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=[...e];if(t){const e=t.toString().toLowerCase();n=n.filter(t=>{var r;return t.number.toString().includes(e)||t.type.toLowerCase().includes(e)||t.floor.toString().includes(e)||(null===(r=t.description)||void 0===r?void 0:r.toLowerCase().includes(e))})}return r.status&&(n=n.filter(e=>e.status===r.status)),r.floor&&(n=n.filter(e=>e.floor===parseInt(r.floor))),r.type&&(n=n.filter(e=>e.type===r.type)),n},getRoomsNeedingCleaning:()=>e.filter(e=>e.status===aD.CHECKOUT||e.status===aD.CLEANING),getRoomsInMaintenance:()=>e.filter(e=>e.status===aD.MAINTENANCE||e.status===aD.OUT_OF_ORDER),refreshData:w,loadRooms:m,loadRoomTypes:g,loadCleaningStaff:y,loadCleaningTasks:v,ROOM_STATUS:aD,CLEANING_STATUS:sD}})(),k=[{id:"rooms",label:"Habitaciones",icon:_n}],S=async(e,t)=>{try{await x(e,t)}catch(y){console.error("Error updating room:",y)}},_=async e=>{if(window.confirm("\xbfEst\xe1s seguro de que quieres eliminar esta habitaci\xf3n?"))try{await b(e),l(t=>t.filter(t=>t!==e))}catch(y){console.error("Error deleting room:",y)}},O=async(e,t)=>{try{await w(e,t)}catch(y){console.error("Error updating room status:",y)}},E=async(e,t)=>{try{await j(e,t)}catch(y){console.error("Error updating cleaning status:",y)}},C=t.useMemo(()=>d?d.filter(e=>{if(c.search){const t=c.search.toLowerCase();if(!(e.number.toLowerCase().includes(t)||e.type.toLowerCase().includes(t)||e.status.toLowerCase().includes(t)))return!1}return("all"===c.status||e.status===c.status)&&(("all"===c.type||e.type===c.type)&&(("all"===c.floor||e.floor.toString()===c.floor)&&("all"===c.cleaningStatus||e.cleaningStatus===c.cleaningStatus)))}):[],[d,c]);return y?(0,$r.jsx)("div",{className:"flex items-center justify-center min-h-[400px]",children:(0,$r.jsxs)("div",{className:"text-center",children:[(0,$r.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Error al cargar datos"}),(0,$r.jsx)("p",{className:"text-gray-600",children:y}),(0,$r.jsx)(gn,{variant:"primary",onClick:()=>window.location.reload(),className:"mt-4",children:"Reintentar"})]})}):(0,$r.jsxs)("div",{className:"space-y-6",children:[(0,$r.jsxs)("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between",children:[(0,$r.jsxs)("div",{children:[(0,$r.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Gesti\xf3n de Habitaciones"}),(0,$r.jsx)("p",{className:"text-gray-600 mt-1",children:"Administra habitaciones y limpieza"})]}),(0,$r.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3 mt-4 lg:mt-0",children:[o.length>0&&(0,$r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,$r.jsxs)("span",{className:"text-sm text-gray-600",children:[o.length," seleccionada",o.length>1?"s":""]}),(0,$r.jsx)(gn,{variant:"outline",size:"sm",icon:BO,onClick:()=>{console.log("Asignar limpieza a habitaciones:",o)},children:"Asignar Limpieza"})]}),(0,$r.jsx)(gn,{variant:"primary",icon:lE,onClick:()=>i(!0),children:"Nueva Habitaci\xf3n"})]})]}),(0,$r.jsx)("div",{className:"border-b border-gray-200",children:(0,$r.jsx)("nav",{className:"-mb-px flex space-x-8","aria-label":"Tabs",children:k.map(t=>{const n=t.icon;return(0,$r.jsxs)("button",{onClick:()=>r(t.id),className:"".concat(e===t.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"," whitespace-nowrap py-2 px-1 border-b-2 font-medium text-sm flex items-center space-x-2 transition-colors"),children:[(0,$r.jsx)(n,{size:18}),(0,$r.jsx)("span",{children:t.label})]},t.id)})})}),"rooms"===e&&(0,$r.jsxs)("div",{className:"space-y-6",children:[(0,$r.jsx)(iD,{stats:p,roomsByType:m,loading:g}),(0,$r.jsx)(hD,{filters:c,onFiltersChange:u,roomTypes:h||[],viewMode:n,onViewModeChange:a,loading:g}),"grid"===n?(0,$r.jsx)(mD,{rooms:C,loading:g,selectedRooms:o,onSelectRoom:l,onStatusChange:O,onCleaningStatusChange:E,onEdit:S,onDelete:_}):(0,$r.jsx)(gD,{rooms:C,loading:g,selectedRooms:o,onSelectRoom:l,onStatusChange:O,onCleaningStatusChange:E,onEdit:S,onDelete:_}),!g&&0===C.length&&d&&d.length>0&&(0,$r.jsxs)("div",{className:"text-center py-12",children:[(0,$r.jsx)(_n,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),(0,$r.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No se encontraron habitaciones"}),(0,$r.jsx)("p",{className:"text-gray-600 mb-4",children:"Intenta ajustar los filtros de b\xfasqueda"}),(0,$r.jsx)(gn,{variant:"outline",onClick:()=>u({status:"all",type:"all",floor:"all",cleaningStatus:"all",search:""}),children:"Limpiar Filtros"})]})]}),"types"===e&&(0,$r.jsx)(vD,{roomTypes:h||[],roomsByType:m,loading:g}),"cleaning"===e&&(0,$r.jsx)(xD,{rooms:d||[],cleaningStaff:f||[],onAssignCleaning:async(e,t)=>{try{await N(e,t),l([])}catch(y){console.error("Error assigning cleaning:",y)}},onCleaningStatusChange:E,loading:g}),s&&(0,$r.jsx)(wD,{isOpen:s,onClose:()=>i(!1),onSubmit:async e=>{try{await v(e),i(!1)}catch(y){console.error("Error creating room:",y)}},roomTypes:h||[]})]})},ND=(0,t.createContext)({}),kD={ADMIN:"admin",MANAGER:"manager",RECEPTION:"reception",HOUSEKEEPING:"housekeeping",MAINTENANCE:"maintenance",RESTAURANT:"restaurant"},SD={VIEW_RESERVATIONS:"view_reservations",CREATE_RESERVATIONS:"create_reservations",EDIT_RESERVATIONS:"edit_reservations",DELETE_RESERVATIONS:"delete_reservations",VIEW_ROOMS:"view_rooms",EDIT_ROOM_STATUS:"edit_room_status",MANAGE_ROOMS:"manage_rooms",VIEW_GUESTS:"view_guests",EDIT_GUESTS:"edit_guests",VIEW_GUEST_HISTORY:"view_guest_history",VIEW_ORDERS:"view_orders",CREATE_ORDERS:"create_orders",EDIT_ORDERS:"edit_orders",MANAGE_SERVICES:"manage_services",VIEW_INVENTORY:"view_inventory",MANAGE_INVENTORY:"manage_inventory",VIEW_STAFF:"view_staff",MANAGE_STAFF:"manage_staff",VIEW_REPORTS:"view_reports",ADVANCED_REPORTS:"advanced_reports",SYSTEM_SETTINGS:"system_settings",MANAGE_BRANCHES:"manage_branches"},_D=(Object.values(SD),()=>{const e=(0,t.useContext)(ND);if(!e)throw new Error("useAuthContext debe ser usado dentro de AuthProvider");return e}),OD={ACTIVE:"active",INACTIVE:"inactive",MAINTENANCE:"maintenance"},ED={ACTIVE:"active",INACTIVE:"inactive",DISCONTINUED:"discontinued"},CD={FRUTAS:"frutas",BEBIDAS:"bebidas",SNACKS:"snacks",POSTRES:"postres",DULCES:"dulces",LACTEOS:"lacteos",LIMPIEZA:"limpieza",AMENITIES:"amenities",MANTENIMIENTO:"mantenimiento"},PD=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{hasPermission:r}=_D(),{selectedBranch:n}=(()=>{const{staff:e,hasPermission:r}=_D(),[n,a]=(0,t.useState)([]),[s,i]=(0,t.useState)(null),[o,l]=(0,t.useState)(!0),[u,d]=(0,t.useState)(null),h=(0,t.useCallback)(async()=>{try{l(!0),d(null);const{data:t,error:r}=await Di.from("branches").select("\n          *,\n          manager:staff(\n            id,\n            full_name,\n            email,\n            phone\n          )\n        ").eq("status","active").order("name");if(r)throw r;const n=(t||[]).map(e=>{var t;return{id:e.id,name:e.name,code:e.code,address:e.address,city:e.city,country:e.country,phone:e.phone,email:e.email,totalRooms:e.total_rooms||0,status:e.status,manager:e.manager?{id:e.manager.id,name:e.manager.full_name,email:e.manager.email,phone:e.manager.phone}:null,timezone:"America/Lima",features:(null===(t=e.settings)||void 0===t?void 0:t.features)||[],createdAt:e.created_at}});if(a(n),!s&&null!==e&&void 0!==e&&e.branchId){const t=n.find(t=>t.id===e.branchId);t&&(i(t),localStorage.setItem("selectedBranchId",t.id.toString()))}else!s&&n.length>0&&(i(n[0]),localStorage.setItem("selectedBranchId",n[0].id.toString()))}catch(t){console.error("Error fetching branches:",t),d(t.message);const e={id:1,name:"Hotel Para\xedso Principal",code:"HTP",address:"Av. Principal 123",city:"Lima",country:"Peru",phone:"+51 1 234-5678",email:"principal@hotelparaiso.com",totalRooms:36,status:"active",manager:null,timezone:"America/Lima",features:["WiFi Gratuito","Recepci\xf3n 24h"]};a([e]),i(e),localStorage.setItem("selectedBranchId","1")}finally{l(!1)}},[e,s]);(0,t.useEffect)(()=>{const e=localStorage.getItem("selectedBranchId");if(e&&n.length>0){const t=n.find(t=>t.id===parseInt(e));t&&i(t)}},[n]),(0,t.useEffect)(()=>{h()},[h]);const f=(0,t.useCallback)(async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Date;try{const h=t.toISOString().split("T")[0];try{var r,n,a,s,i,o;const[t,l]=await Promise.all([Di.rpc("get_branch_occupancy_stats",{p_branch_id:e,p_date:h}),Di.rpc("get_branch_revenue_stats",{p_branch_id:e,p_start_date:h,p_end_date:h})]);if(t.error)throw t.error;if(l.error)throw l.error;const c=null===(r=t.data)||void 0===r?void 0:r[0],u=null===(n=l.data)||void 0===n?void 0:n[0],[d,f]=await Promise.all([Di.from("reservations").select("id").eq("check_in_date",h).in("status",["confirmed","pending","checked_in"]),Di.from("reservations").select("id").eq("check_out_date",h).in("status",["checked_in","checked_out"])]);return{rooms:{total:(null===c||void 0===c?void 0:c.total_rooms)||0,available:(null===c||void 0===c?void 0:c.available_rooms)||0,occupied:(null===c||void 0===c?void 0:c.occupied_rooms)||0,checkout:(null===c||void 0===c?void 0:c.checkout_rooms)||0,cleaning:(null===c||void 0===c?void 0:c.cleaning_rooms)||0,maintenance:0,outOfOrder:0},reservations:{checkInsToday:(null===(a=d.data)||void 0===a?void 0:a.length)||0,checkOutsToday:(null===(s=f.data)||void 0===s?void 0:s.length)||0,totalReservations:((null===(i=d.data)||void 0===i?void 0:i.length)||0)+((null===(o=f.data)||void 0===o?void 0:o.length)||0)},revenue:{total:parseFloat((null===u||void 0===u?void 0:u.total_revenue)||0),rooms:parseFloat((null===u||void 0===u?void 0:u.room_revenue)||0),services:parseFloat((null===u||void 0===u?void 0:u.services_revenue)||0),pending:parseFloat((null===u||void 0===u?void 0:u.pending_payments)||0)},occupancy:{rate:parseFloat((null===c||void 0===c?void 0:c.occupancy_rate)||0),occupiedRooms:(null===c||void 0===c?void 0:c.occupied_rooms)||0,availableRooms:(null===c||void 0===c?void 0:c.available_rooms)||0}}}catch(d){var l,c,u;console.warn("Error using SQL functions, falling back to basic queries:",d);const[t,r]=await Promise.all([Di.from("rooms").select("status").eq("branch_id",e),Di.from("reservations").select("status, total_amount, paid_amount, check_in_date, check_out_date").or("check_in_date.eq.".concat(h,",check_out_date.eq.").concat(h))]);if(t.error)throw t.error;if(r.error)throw r.error;const n=(t.data||[]).reduce((e,t)=>(e[t.status]=(e[t.status]||0)+1,e),{}),a=(r.data||[]).filter(e=>e.check_in_date===h),s=(r.data||[]).filter(e=>e.check_out_date===h),i=(r.data||[]).reduce((e,t)=>e+parseFloat(t.total_amount||0),0);return{rooms:{total:(null===(l=t.data)||void 0===l?void 0:l.length)||0,available:n.available||0,occupied:n.occupied||0,checkout:n.checkout||0,cleaning:n.cleaning||0,maintenance:n.maintenance||0,outOfOrder:n.out_of_order||0},reservations:{checkInsToday:a.length,checkOutsToday:s.length,totalReservations:(null===(c=r.data)||void 0===c?void 0:c.length)||0},revenue:{total:i,rooms:.8*i,services:.2*i,pending:.3*i},occupancy:{rate:n.occupied?Math.round(n.occupied/((null===(u=t.data)||void 0===u?void 0:u.length)||1)*100):0,occupiedRooms:n.occupied||0,availableRooms:n.available||0}}}}catch(h){return console.error("Error fetching branch stats:",h),{rooms:{total:0,available:0,occupied:0,checkout:0,cleaning:0,maintenance:0,outOfOrder:0},reservations:{checkInsToday:0,checkOutsToday:0,totalReservations:0},revenue:{total:0,rooms:0,services:0,pending:0},occupancy:{rate:0,occupiedRooms:0,availableRooms:0}}}},[]),p=(0,t.useCallback)(async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date;return s?await f(s.id,e):null},[s,f]),m=(0,t.useCallback)(async e=>{try{if(!N())throw new Error("No tienes permisos para cambiar de sucursal");const t=n.find(t=>t.id===e);if(!t)throw new Error("Sucursal no encontrada");return i(t),localStorage.setItem("selectedBranchId",e.toString()),Rr.success("Sucursal cambiada a: ".concat(t.name)),t}catch(t){throw console.error("Error selecting branch:",t),Rr.error("Error al cambiar sucursal: "+t.message),t}},[n]),g=(0,t.useCallback)(async e=>{try{var t,n;if(!r(SD.MANAGE_BRANCHES))throw new Error("No tienes permisos para crear sucursales");const{data:s,error:i}=await Di.from("branches").insert({name:e.name,code:e.code,address:e.address,city:e.city,country:e.country||"Peru",phone:e.phone,email:e.email,total_rooms:e.totalRooms||0,status:OD.ACTIVE,settings:c({timezone:e.timezone||"America/Lima",features:e.features||[]},e.settings)}).select("\n          *,\n          manager:staff(full_name, email, phone)\n        ").single();if(i)throw i;const o={id:s.id,name:s.name,code:s.code,address:s.address,city:s.city,country:s.country,phone:s.phone,email:s.email,totalRooms:s.total_rooms,status:s.status,manager:s.manager,timezone:(null===(t=s.settings)||void 0===t?void 0:t.timezone)||"America/Lima",features:(null===(n=s.settings)||void 0===n?void 0:n.features)||[]};return a(e=>[...e,o]),Rr.success("Sucursal creada exitosamente"),o}catch(s){throw console.error("Error creating branch:",s),Rr.error("Error al crear sucursal: "+s.message),s}},[r]),y=(0,t.useCallback)(async(e,t)=>{try{if(!r(SD.MANAGE_BRANCHES))throw new Error("No tienes permisos para actualizar sucursales");const{data:n,error:o}=await Di.from("branches").update({name:t.name,address:t.address,city:t.city,country:t.country,phone:t.phone,email:t.email,total_rooms:t.totalRooms,status:t.status,settings:c({timezone:t.timezone,features:t.features},t.settings)}).eq("id",e).select("\n          *,\n          manager:staff(full_name, email, phone)\n        ").single();if(o)throw o;return a(r=>r.map(r=>r.id===e?c(c(c({},r),t),{},{manager:n.manager}):r)),(null===s||void 0===s?void 0:s.id)===e&&i(e=>c(c({},e),t)),Rr.success("Sucursal actualizada exitosamente"),n}catch(n){throw console.error("Error updating branch:",n),Rr.error("Error al actualizar sucursal: "+n.message),n}},[r,s]),v=(0,t.useCallback)(()=>s,[s]),x=(0,t.useCallback)(e=>n.find(t=>t.id===e),[n]),b=(0,t.useCallback)(()=>(null===s||void 0===s?void 0:s.code)||"N/A",[s]),w=(0,t.useCallback)(()=>s?"".concat(s.name," (").concat(s.code,")"):"Sin sucursal",[s]),j=(0,t.useCallback)(e=>(null===s||void 0===s?void 0:s.id)===e,[s]),N=(0,t.useCallback)(()=>r(SD.MANAGE_BRANCHES)||n.length<=1||"admin"===(null===e||void 0===e?void 0:e.role),[r,n.length,e]),k=(0,t.useCallback)(async e=>await m(e),[m]),S=(0,t.useCallback)(()=>r(SD.MANAGE_BRANCHES)?n:n.filter(t=>t.id===(null===e||void 0===e?void 0:e.branchId)),[n,r,e]),_=S();return(0,t.useEffect)(()=>{const e=Di.channel("branches_changes").on("postgres_changes",{event:"*",schema:"public",table:"branches"},()=>{console.log("Branch data changed, refreshing..."),h()}).subscribe();return()=>e.unsubscribe()},[h]),{selectedBranch:s,availableBranches:_,branches:S(),loading:o,error:u,selectBranch:m,createBranch:g,updateBranch:y,getCurrentBranchInfo:v,getBranchById:x,getCurrentBranchCode:b,getCurrentBranchStats:p,getBranchStats:f,getBranchDisplayName:w,changeBranch:k,canChangeBranch:N,isBranchSelected:j,refreshBranches:h,hasSelectedBranch:!!s,isMultiBranch:n.length>1,isAdmin:"admin"===(null===e||void 0===e?void 0:e.role),BRANCH_STATUS:OD}})(),[a,s]=(0,t.useState)([]),[i,o]=(0,t.useState)([]),[l,u]=(0,t.useState)([]),[d,h]=(0,t.useState)(!0),[f,p]=(0,t.useState)(null),[m,g]=(0,t.useState)(c({category:"",status:"",lowStock:!1,search:"",supplier:""},e)),[y,v]=(0,t.useState)({page:1,limit:20,total:0}),x=(0,t.useMemo)(()=>[...new Set(a.map(e=>e.category))].filter(Boolean),[a]),b=(0,t.useMemo)(()=>[...new Set(a.map(e=>e.supplier))].filter(Boolean),[a]),w=(0,t.useMemo)(()=>{if(!a||0===a.length)return{totalSupplies:0,lowStockItems:0,outOfStockItems:0,totalValue:0,monthlyConsumption:0,categoriesCount:0,suppliersCount:0,recentConsumptions:0};const e=a.length,t=a.filter(e=>e.isLowStock).length,r=a.filter(e=>e.isOutOfStock).length,n=a.reduce((e,t)=>e+t.totalValue,0);return{totalSupplies:e,lowStockItems:t,outOfStockItems:r,totalValue:n,monthlyConsumption:l.filter(e=>{const t=new Date(e.timestamp),r=new Date;return t>=new Date(r.getFullYear(),r.getMonth(),1)}).reduce((e,t)=>e+t.totalValue,0),categoriesCount:x.length,suppliersCount:b.length,recentConsumptions:l.length}},[a,l,x,b]),j=a,N=(0,t.useCallback)(async()=>{try{if(h(!0),p(null),!n)return s([]),o([]),[];const{data:e,error:t}=await Di.from("inventory").select("*").eq("branch_id",n.id).order("name");if(t)throw t;const r=(e||[]).map(e=>({id:e.id,name:e.name,description:e.description,sku:e.sku,category:e.category,supplier:e.supplier,unit:e.unit,currentStock:e.current_stock,minStock:e.min_stock,maxStock:e.max_stock,unitCost:parseFloat(e.unit_cost||0),totalValue:parseFloat(e.total_value||0),location:e.location,expiryDate:e.expiry_date,status:e.status,branchId:e.branch_id,createdAt:e.created_at,updatedAt:e.updated_at,isLowStock:e.current_stock<=e.min_stock,isOutOfStock:0===e.current_stock,isExpiring:e.expiry_date&&new Date(e.expiry_date)<=new Date(Date.now()+6048e5),stockLevel:e.max_stock>0?e.current_stock/e.max_stock*100:0,current_stock:e.current_stock,min_stock:e.min_stock,max_stock:e.max_stock,unit_cost:parseFloat(e.unit_cost||0),expiry_date:e.expiry_date}));return s(r),r}catch(e){return console.error("Error fetching inventory:",e),p(e.message),Rr.error("Error al cargar inventario"),[]}finally{h(!1)}},[n]),k=N,S=(0,t.useCallback)(async()=>{try{if(!n)return[];const{data:e,error:t}=await Di.from("orders").select("\n          *,\n          order_services (\n            quantity,\n            unit_price,\n            total_price,\n            services (\n              id,\n              name\n            )\n          )\n        ").eq("status","completed").order("created_at",{ascending:!1}).limit(100);if(t)throw t;const r=[];return(e||[]).forEach(e=>{var t;null===(t=e.order_services)||void 0===t||t.forEach(t=>{r.push({id:"".concat(e.id,"-").concat(t.services.id),supplyId:t.services.id,supplyName:t.services.name,quantity:t.quantity,unitPrice:parseFloat(t.unit_price),totalValue:parseFloat(t.total_price),consumedBy:e.guest_name,department:"Habitaciones",timestamp:e.check_out_time||e.created_at,orderId:e.id,roomNumber:e.room_number})})}),u(r),r}catch(f){return console.error("Error loading consumption history:",f),[]}},[n]);(0,t.useEffect)(()=>{let e=[...a];if(m.category&&(e=e.filter(e=>e.category===m.category)),m.status&&(e=e.filter(e=>e.status===m.status)),m.lowStock&&(e=e.filter(e=>e.isLowStock)),m.supplier&&(e=e.filter(e=>{var t;return null===(t=e.supplier)||void 0===t?void 0:t.toLowerCase().includes(m.supplier.toLowerCase())})),m.search){const t=m.search.toLowerCase();e=e.filter(e=>{var r,n;return e.name.toLowerCase().includes(t)||(null===(r=e.sku)||void 0===r?void 0:r.toLowerCase().includes(t))||(null===(n=e.description)||void 0===n?void 0:n.toLowerCase().includes(t))})}o(e),v(t=>c(c({},t),{},{total:e.length,page:1}))},[a,m]),(0,t.useEffect)(()=>{n&&(N(),S())},[N,S,n]);const _=(0,t.useCallback)(async e=>{try{if(!r(SD.MANAGE_INVENTORY))throw new Error("No tienes permisos para crear items de inventario");if(!n)throw new Error("No hay sucursal seleccionada");const t={name:e.name,description:e.description,sku:e.sku,category:e.category,supplier:e.supplier,unit:e.unit||"unit",current_stock:e.currentStock||e.current_stock||0,min_stock:e.minStock||e.min_stock||0,max_stock:e.maxStock||e.max_stock||100,unit_cost:e.unitCost||e.unit_cost||0,location:e.location,expiry_date:e.expiryDate||e.expiry_date,status:e.status||ED.ACTIVE,branch_id:n.id},{data:a,error:s}=await Di.from("inventory").insert([t]).select().single();if(s)throw s;return await N(),Rr.success("Item de inventario creado exitosamente"),{success:!0,data:a}}catch(t){return console.error("Error creating inventory item:",t),Rr.error("Error al crear item: "+t.message),{success:!1,error:t.message}}},[r,n,N]),O=_,E=(0,t.useCallback)(async(e,t)=>{try{if(!r(SD.MANAGE_INVENTORY))throw new Error("No tienes permisos para actualizar inventario");const n={name:t.name,description:t.description,sku:t.sku,category:t.category,supplier:t.supplier,unit:t.unit,current_stock:t.currentStock||t.current_stock,min_stock:t.minStock||t.min_stock,max_stock:t.maxStock||t.max_stock,unit_cost:t.unitCost||t.unit_cost,location:t.location,expiry_date:t.expiryDate||t.expiry_date,status:t.status,updated_at:(new Date).toISOString()};Object.keys(n).forEach(e=>{void 0===n[e]&&delete n[e]});const{data:a,error:s}=await Di.from("inventory").update(n).eq("id",e).select().single();if(s)throw s;return await N(),Rr.success("Item actualizado exitosamente"),{success:!0,data:a}}catch(n){return console.error("Error updating inventory item:",n),Rr.error("Error al actualizar item: "+n.message),{success:!1,error:n.message}}},[r,N]),C=E,P=(0,t.useCallback)(async(e,t)=>{try{if(!r(SD.MANAGE_INVENTORY))throw new Error("No tienes permisos para ajustar stock");const n=t.newStock||t.quantity||0,{error:a}=await Di.from("inventory").update({current_stock:parseInt(n),updated_at:(new Date).toISOString()}).eq("id",e);if(a)throw a;return await N(),Rr.success("Stock ajustado exitosamente"),{success:!0}}catch(n){return console.error("Error adjusting stock:",n),Rr.error("Error al ajustar stock: "+n.message),{success:!1,error:n.message}}},[r,N]),A=(0,t.useCallback)(async e=>{try{if(!r(SD.MANAGE_INVENTORY))throw new Error("No tienes permisos para eliminar items");const{error:t}=await Di.from("inventory").update({status:"inactive",updated_at:(new Date).toISOString()}).eq("id",e);if(t)throw t;return await N(),Rr.success("Item eliminado exitosamente"),{success:!0}}catch(t){return console.error("Error deleting inventory item:",t),Rr.error("Error al eliminar item: "+t.message),{success:!1,error:t.message}}},[r,N]),T=A,D=(0,t.useCallback)(()=>a.filter(e=>e.isLowStock&&e.status===ED.ACTIVE),[a]),M=(0,t.useCallback)(()=>a.filter(e=>e.isOutOfStock&&e.status===ED.ACTIVE),[a]),I=(0,t.useCallback)(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:30;const t=new Date;return t.setDate(t.getDate()+e),a.filter(e=>{if(!e.expiryDate)return!1;const r=new Date(e.expiryDate);return r<=t&&r>new Date}).sort((e,t)=>new Date(e.expiryDate)-new Date(t.expiryDate))},[a]),R=(0,t.useCallback)(()=>{const e={};return a.forEach(t=>{e[t.category]||(e[t.category]={count:0,totalValue:0,lowStock:0,outOfStock:0,totalStock:0}),e[t.category].count++,e[t.category].totalValue+=t.totalValue,e[t.category].totalStock+=t.currentStock,t.isOutOfStock?e[t.category].outOfStock++:t.isLowStock&&e[t.category].lowStock++}),e},[a]),L=(0,t.useCallback)(e=>{if(!e)return a;const t=e.toLowerCase();return a.filter(e=>{var r,n,a;return e.name.toLowerCase().includes(t)||(null===(r=e.description)||void 0===r?void 0:r.toLowerCase().includes(t))||(null===(n=e.sku)||void 0===n?void 0:n.toLowerCase().includes(t))||e.category.toLowerCase().includes(t)||(null===(a=e.supplier)||void 0===a?void 0:a.toLowerCase().includes(t))})},[a]),z=(0,t.useCallback)(()=>w,[w]),F=(0,t.useCallback)(async()=>{h(!0);try{await Promise.all([N(),S()])}catch(f){p(f.message)}finally{h(!1)}},[N,S]),B=(0,t.useCallback)(()=>{const e=(y.page-1)*y.limit,t=e+y.limit;return i.slice(e,t)},[i,y]);return(0,t.useEffect)(()=>{if(!n)return;const e=Di.channel("inventory_changes_".concat(n.id)).on("postgres_changes",{event:"*",schema:"public",table:"inventory",filter:"branch_id=eq.".concat(n.id)},e=>{console.log("Inventory change detected:",e),N()}).on("postgres_changes",{event:"*",schema:"public",table:"orders"},e=>{console.log("Orders change detected:",e),S()}).subscribe();return()=>e.unsubscribe()},[n,N,S]),{inventory:B(),allInventory:i,loading:d,error:f,supplies:j,categories:x,suppliers:b,suppliesStats:w,consumptionHistory:l,filters:m,setFilters:g,pagination:y,setPagination:v,createInventoryItem:_,updateInventoryItem:E,deleteInventoryItem:A,adjustStock:P,createSupply:O,updateSupply:C,deleteSupply:T,getInventoryStats:z,getLowStockSupplies:D,getOutOfStockSupplies:M,getExpiringSupplies:I,getStatsByCategory:R,searchSupplies:L,refreshData:F,refreshInventory:N,loadSupplies:k,loadCategories:()=>x,loadSuppliers:()=>b,loadConsumptionHistory:S,INVENTORY_STATUS:ED,INVENTORY_CATEGORIES:CD}},AD=e=>{let{stats:t,loading:r}=e;const n=t||{totalSupplies:0,lowStockItems:0,outOfStockItems:0,totalValue:0,monthlyConsumption:0,categoriesCount:0,suppliersCount:0,recentConsumptions:0},a=[{title:"Total Insumos",value:n.totalSupplies,icon:En,color:"blue",description:"Items en inventario"},{title:"Stock Bajo",value:n.lowStockItems,icon:UO,color:"yellow",description:"Requieren reposici\xf3n"},{title:"Sin Stock",value:n.outOfStockItems,icon:UO,color:"red",description:"Items agotados"},{title:"Valor Total",value:YO(n.totalValue),icon:qn,color:"green",description:"Valor del inventario"},{title:"Consumo Mensual",value:YO(n.monthlyConsumption),icon:Ii,color:"purple",description:"Gasto del mes"},{title:"Categor\xedas",value:n.categoriesCount,icon:En,color:"indigo",description:"Tipos de insumos"},{title:"Proveedores",value:n.suppliersCount,icon:Hn,color:"gray",description:"Proveedores activos"},{title:"Movimientos Hoy",value:n.recentConsumptions,icon:_n,color:"orange",description:"Consumos registrados"}];return r?(0,$r.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-4 lg:gap-6",children:[...Array(8)].map((e,t)=>(0,$r.jsx)("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-4 sm:p-6",children:(0,$r.jsxs)("div",{className:"animate-pulse",children:[(0,$r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,$r.jsxs)("div",{className:"space-y-2",children:[(0,$r.jsx)("div",{className:"h-3 sm:h-4 bg-gray-200 rounded w-20 sm:w-24"}),(0,$r.jsx)("div",{className:"h-6 sm:h-8 bg-gray-200 rounded w-12 sm:w-16"})]}),(0,$r.jsx)("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-gray-200 rounded-lg"})]}),(0,$r.jsx)("div",{className:"mt-3 sm:mt-4",children:(0,$r.jsx)("div",{className:"h-2 sm:h-3 bg-gray-200 rounded w-16 sm:w-20"})})]})},t))}):(0,$r.jsxs)("div",{className:"space-y-4 sm:space-y-6",children:[(0,$r.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-4 lg:gap-6",children:a.map((e,t)=>{const r=e.icon,n=(e=>({blue:"text-blue-600 bg-blue-50",green:"text-green-600 bg-green-50",purple:"text-purple-600 bg-purple-50",yellow:"text-yellow-600 bg-yellow-50",orange:"text-orange-600 bg-orange-50",red:"text-red-600 bg-red-50",indigo:"text-indigo-600 bg-indigo-50",gray:"text-gray-600 bg-gray-50"}[e]||"text-gray-600 bg-gray-50"))(e.color);return(0,$r.jsx)("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-4 sm:p-6 hover:shadow-xl transition-shadow duration-300",children:(0,$r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,$r.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,$r.jsx)("p",{className:"text-xs sm:text-sm font-medium text-gray-600 mb-1 truncate",children:e.title}),(0,$r.jsx)("p",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:e.value}),(0,$r.jsx)("p",{className:"text-xs text-gray-500 mt-1 hidden sm:block",children:e.description})]}),(0,$r.jsx)("div",{className:"p-2 sm:p-3 rounded-lg flex-shrink-0 ".concat(n),children:(0,$r.jsx)(r,{className:"w-5 h-5 sm:w-6 sm:h-6"})})]})},t)})}),(n.lowStockItems>0||n.outOfStockItems>0)&&(0,$r.jsxs)("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-4 sm:p-6",children:[(0,$r.jsxs)("h3",{className:"text-lg font-bold text-gray-900 mb-4 flex items-center",children:[(0,$r.jsx)(UO,{className:"w-5 h-5 text-amber-500 mr-2"}),"Alertas de Inventario"]}),(0,$r.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[n.lowStockItems>0&&(0,$r.jsx)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:(0,$r.jsxs)("div",{className:"flex items-center",children:[(0,$r.jsx)(UO,{className:"w-5 h-5 text-yellow-600 mr-2"}),(0,$r.jsxs)("div",{children:[(0,$r.jsx)("p",{className:"font-semibold text-yellow-800",children:"Stock Bajo"}),(0,$r.jsxs)("p",{className:"text-sm text-yellow-700",children:[n.lowStockItems," insumo",n.lowStockItems>1?"s":""," necesita",n.lowStockItems>1?"n":""," reposici\xf3n"]})]})]})}),n.outOfStockItems>0&&(0,$r.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:(0,$r.jsxs)("div",{className:"flex items-center",children:[(0,$r.jsx)(UO,{className:"w-5 h-5 text-red-600 mr-2"}),(0,$r.jsxs)("div",{children:[(0,$r.jsx)("p",{className:"font-semibold text-red-800",children:"Sin Stock"}),(0,$r.jsxs)("p",{className:"text-sm text-red-700",children:[n.outOfStockItems," insumo",n.outOfStockItems>1?"s":""," agotado",n.outOfStockItems>1?"s":""]})]})]})})]})]}),(0,$r.jsxs)("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-4 sm:p-6",children:[(0,$r.jsx)("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Resumen Financiero"}),(0,$r.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[(0,$r.jsxs)("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[(0,$r.jsx)("p",{className:"text-sm font-medium text-green-800 mb-1",children:"Valor Total Inventario"}),(0,$r.jsx)("p",{className:"text-xl sm:text-2xl font-bold text-green-600",children:YO(n.totalValue)}),(0,$r.jsx)("p",{className:"text-xs text-green-700 mt-1",children:"Al costo actual"})]}),(0,$r.jsxs)("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[(0,$r.jsx)("p",{className:"text-sm font-medium text-purple-800 mb-1",children:"Consumo Este Mes"}),(0,$r.jsx)("p",{className:"text-xl sm:text-2xl font-bold text-purple-600",children:YO(n.monthlyConsumption)}),(0,$r.jsx)("p",{className:"text-xs text-purple-700 mt-1",children:"Gastos del per\xedodo"})]}),(0,$r.jsxs)("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[(0,$r.jsx)("p",{className:"text-sm font-medium text-blue-800 mb-1",children:"Promedio Diario"}),(0,$r.jsx)("p",{className:"text-xl sm:text-2xl font-bold text-blue-600",children:YO(n.monthlyConsumption/30)}),(0,$r.jsx)("p",{className:"text-xs text-blue-700 mt-1",children:"Consumo estimado"})]})]})]}),!r&&0===n.totalSupplies&&(0,$r.jsxs)("div",{className:"text-center py-8 sm:py-12",children:[(0,$r.jsx)(En,{className:"mx-auto h-10 w-10 sm:h-12 sm:w-12 text-gray-400 mb-4"}),(0,$r.jsx)("h3",{className:"text-base sm:text-lg font-medium text-gray-900 mb-2",children:"No hay insumos registrados"}),(0,$r.jsx)("p",{className:"text-sm sm:text-base text-gray-600",children:"Comienza agregando tu primer insumo al inventario"})]})]})},TD=Vr("chevron-up",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),DD=e=>{let{filters:r,onFiltersChange:n,categories:a,suppliers:s,loading:i}=e;const[o,l]=(0,t.useState)(!1),u=(e,t)=>{n(r=>c(c({},r),{},{[e]:t}))},d=()=>{n({category:"all",status:"all",supplier:"all",search:"",lowStock:!1})},h=Object.entries(r).some(e=>{let[t,r]=e;return"lowStock"===t?!0===r:""!==r&&"all"!==r}),f=[{value:"all",label:"Todas las categor\xedas"},...a.map(e=>({value:e,label:e}))],p=[{value:"all",label:"Todos los proveedores"},...s.map(e=>({value:e,label:e}))];return i?(0,$r.jsx)("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-4 sm:p-6",children:(0,$r.jsx)("div",{className:"animate-pulse",children:(0,$r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[...Array(4)].map((e,t)=>(0,$r.jsx)("div",{className:"h-10 bg-gray-200 rounded"},t))})})}):(0,$r.jsxs)("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-4 sm:p-6",children:[(0,$r.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,$r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,$r.jsx)(hE,{className:"w-5 h-5 text-gray-500"}),(0,$r.jsx)("h3",{className:"text-base sm:text-lg font-semibold text-gray-900",children:"Filtros"}),h&&(0,$r.jsx)("span",{className:"bg-blue-100 text-blue-800 text-xs font-medium px-2 py-1 rounded-full",children:"Activos"})]}),(0,$r.jsxs)("div",{className:"flex items-center space-x-2",children:[h&&(0,$r.jsxs)("button",{onClick:d,className:"flex items-center space-x-1 text-sm text-gray-500 hover:text-gray-700",children:[(0,$r.jsx)(HO,{size:16}),(0,$r.jsx)("span",{className:"hidden sm:inline",children:"Limpiar filtros"})]}),(0,$r.jsxs)("button",{onClick:()=>l(!o),className:"lg:hidden flex items-center space-x-1 text-sm text-blue-600 hover:text-blue-700 bg-blue-50 hover:bg-blue-100 px-3 py-2 rounded-lg transition-colors",children:[(0,$r.jsx)("span",{children:o?"Ocultar":"Mostrar"}),o?(0,$r.jsx)(TD,{size:16}):(0,$r.jsx)(Ln,{size:16})]})]})]}),(0,$r.jsx)("div",{className:"mb-4 lg:hidden",children:(0,$r.jsxs)("div",{className:"relative",children:[(0,$r.jsx)(In,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),(0,$r.jsx)("input",{type:"text",placeholder:"Buscar insumos...",value:r.search,onChange:e=>u("search",e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm"})]})}),(0,$r.jsxs)("div",{className:"".concat(o?"block":"hidden"," lg:block"),children:[(0,$r.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-5 gap-3 sm:gap-4",children:[(0,$r.jsxs)("div",{className:"relative hidden lg:block",children:[(0,$r.jsx)(In,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),(0,$r.jsx)("input",{type:"text",placeholder:"Buscar insumos...",value:r.search,onChange:e=>u("search",e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm"})]}),(0,$r.jsxs)("div",{children:[(0,$r.jsx)("label",{className:"block text-xs font-medium text-gray-700 mb-1 sm:hidden",children:"Categor\xeda"}),(0,$r.jsx)("select",{value:r.category,onChange:e=>u("category",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",children:f.map(e=>(0,$r.jsx)("option",{value:e.value,children:e.label},e.value))})]}),(0,$r.jsxs)("div",{children:[(0,$r.jsx)("label",{className:"block text-xs font-medium text-gray-700 mb-1 sm:hidden",children:"Estado"}),(0,$r.jsx)("select",{value:r.status,onChange:e=>u("status",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",children:[{value:"all",label:"Todos los estados"},{value:"ok",label:"Stock normal"},{value:"low",label:"Stock bajo"},{value:"out",label:"Sin stock"}].map(e=>(0,$r.jsx)("option",{value:e.value,children:e.label},e.value))})]}),(0,$r.jsxs)("div",{children:[(0,$r.jsx)("label",{className:"block text-xs font-medium text-gray-700 mb-1 sm:hidden",children:"Proveedor"}),(0,$r.jsx)("select",{value:r.supplier,onChange:e=>u("supplier",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",children:p.map(e=>(0,$r.jsx)("option",{value:e.value,children:e.label},e.value))})]}),(0,$r.jsx)("div",{className:"flex items-center",children:(0,$r.jsxs)("label",{className:"flex items-center space-x-2 cursor-pointer",children:[(0,$r.jsx)("input",{type:"checkbox",checked:r.lowStock,onChange:e=>u("lowStock",e.target.checked),className:"rounded border-gray-300 text-red-600 focus:ring-red-500"}),(0,$r.jsxs)("span",{className:"text-sm text-gray-700 flex items-center space-x-1",children:[(0,$r.jsx)(UO,{size:14,className:"text-red-500"}),(0,$r.jsx)("span",{children:"Solo stock bajo"})]})]})})]}),(0,$r.jsxs)("div",{className:"flex justify-between items-center mt-4 lg:hidden",children:[(0,$r.jsx)("span",{className:"text-sm text-gray-600",children:h?"Filtros aplicados":"Sin filtros"}),(0,$r.jsxs)("div",{className:"flex space-x-2",children:[h&&(0,$r.jsx)("button",{onClick:d,className:"px-3 py-2 text-sm text-gray-600 hover:text-gray-800 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",children:"Limpiar"}),(0,$r.jsx)("button",{onClick:()=>l(!1),className:"px-4 py-2 text-sm text-white bg-blue-600 hover:bg-blue-700 rounded-lg transition-colors",children:"Aplicar"})]})]})]}),h&&!o&&(0,$r.jsx)("div",{className:"mt-3 lg:hidden",children:(0,$r.jsx)("div",{className:"flex flex-wrap gap-2",children:Object.entries(r).map(e=>{let[t,r]=e;if(!r||"all"===r||"lowStock"===t&&!r)return null;let n=r;return"lowStock"===t&&r&&(n="Stock bajo"),(0,$r.jsxs)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:[n,(0,$r.jsx)("button",{onClick:()=>u(t,"lowStock"!==t&&("search"===t?"":"all")),className:"ml-1 hover:text-blue-600",children:(0,$r.jsx)(HO,{size:12})})]},t)})})})]})},MD=Vr("minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]),ID=e=>{let{supplies:t,loading:r,selectedSupplies:n,onSelectSupply:a,onEdit:s,onDelete:i,onRecordConsumption:o,onAdjustStock:l}=e;const c=(e,t)=>{const r=Math.max(0,e.currentStock+t);l(e.id,{newStock:r,reason:t>0?"Ajuste de inventario (entrada)":"Ajuste de inventario (salida)",adjustmentType:t>0?"increase":"decrease",quantity:Math.abs(t)})};return r?(0,$r.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 sm:gap-6",children:[...Array(8)].map((e,t)=>(0,$r.jsx)("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6",children:(0,$r.jsxs)("div",{className:"animate-pulse",children:[(0,$r.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,$r.jsx)("div",{className:"h-4 bg-gray-200 rounded w-1/3"}),(0,$r.jsx)("div",{className:"h-6 bg-gray-200 rounded w-1/4"})]}),(0,$r.jsxs)("div",{className:"space-y-3",children:[(0,$r.jsx)("div",{className:"h-4 bg-gray-200 rounded w-full"}),(0,$r.jsx)("div",{className:"h-4 bg-gray-200 rounded w-3/4"}),(0,$r.jsx)("div",{className:"h-4 bg-gray-200 rounded w-1/2"})]}),(0,$r.jsxs)("div",{className:"mt-4 flex space-x-2",children:[(0,$r.jsx)("div",{className:"h-8 bg-gray-200 rounded w-1/3"}),(0,$r.jsx)("div",{className:"h-8 bg-gray-200 rounded w-1/3"})]})]})},t))}):(0,$r.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 sm:gap-6",children:t.map(e=>{const t=(e=>0===e.currentStock?{status:"out",color:"bg-red-100 text-red-800 border-red-200",label:"Sin Stock"}:e.currentStock<=e.minStock?{status:"low",color:"bg-yellow-100 text-yellow-800 border-yellow-200",label:"Stock Bajo"}:{status:"ok",color:"bg-green-100 text-green-800 border-green-200",label:"Stock OK"})(e),r=(e=>{switch(e){case"out":case"low":return UO;case"ok":return gE;default:return En}})(t.status),l=n.includes(e.id);return(0,$r.jsxs)("div",{className:pn()("bg-white rounded-xl shadow-lg border transition-all duration-300 hover:shadow-xl relative overflow-hidden",l?"border-blue-500 ring-2 ring-blue-200":"border-gray-100"),children:[(0,$r.jsx)("div",{className:"absolute top-3 right-3 z-10",children:(0,$r.jsxs)("span",{className:pn()("px-2 py-1 rounded-full text-xs font-semibold border flex items-center space-x-1 shadow-sm",t.color),children:[(0,$r.jsx)(r,{size:10}),(0,$r.jsx)("span",{className:"whitespace-nowrap",children:t.label})]})}),(0,$r.jsxs)("div",{className:"p-4 sm:p-6 border-b border-gray-200",children:[(0,$r.jsxs)("div",{className:"flex items-start space-x-3 mb-3 pr-20",children:[" ",(0,$r.jsx)("input",{type:"checkbox",checked:l,onChange:()=>{return t=e.id,void a(e=>e.includes(t)?e.filter(e=>e!==t):[...e,t]);var t},className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500 mt-1 flex-shrink-0"}),(0,$r.jsx)("div",{className:"min-w-0 flex-1",children:(0,$r.jsx)("h3",{className:"text-lg font-bold text-gray-900 leading-tight break-words",children:e.name})})]}),(0,$r.jsxs)("div",{className:"space-y-2",children:[(0,$r.jsx)("p",{className:"text-sm text-gray-600 line-clamp-2 leading-relaxed",children:e.description}),(0,$r.jsxs)("div",{className:"flex items-center justify-between text-sm text-gray-500",children:[(0,$r.jsx)("span",{className:"bg-gray-100 px-2 py-1 rounded text-xs font-medium",children:e.category}),(0,$r.jsxs)("span",{className:"text-xs font-mono",children:["#",e.sku]})]})]})]}),(0,$r.jsxs)("div",{className:"p-4 sm:p-6 space-y-4",children:[(0,$r.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,$r.jsxs)("div",{children:[(0,$r.jsx)("p",{className:"text-xs text-gray-500 mb-1",children:"Stock Actual"}),(0,$r.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:e.currentStock}),(0,$r.jsx)("p",{className:"text-xs text-gray-500",children:e.unit})]}),(0,$r.jsxs)("div",{children:[(0,$r.jsx)("p",{className:"text-xs text-gray-500 mb-1",children:"Stock M\xednimo"}),(0,$r.jsx)("p",{className:"text-lg font-semibold text-gray-700",children:e.minStock}),(0,$r.jsx)("p",{className:"text-xs text-gray-500",children:e.unit})]})]}),(0,$r.jsxs)("div",{children:[(0,$r.jsxs)("div",{className:"flex justify-between text-xs text-gray-600 mb-1",children:[(0,$r.jsx)("span",{children:"Nivel de Stock"}),(0,$r.jsxs)("span",{children:[Math.round(e.currentStock/(2*e.minStock)*100),"%"]})]}),(0,$r.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,$r.jsx)("div",{className:pn()("h-2 rounded-full transition-all duration-300",0===e.currentStock?"bg-red-500":e.currentStock<=e.minStock?"bg-yellow-500":"bg-green-500"),style:{width:"".concat(Math.min(100,Math.max(5,e.currentStock/(2*e.minStock)*100)),"%")}})})]}),(0,$r.jsx)("div",{className:"bg-gray-50 rounded-lg p-3",children:(0,$r.jsxs)("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[(0,$r.jsxs)("div",{children:[(0,$r.jsx)("p",{className:"text-gray-500 mb-1",children:"Precio Unitario"}),(0,$r.jsx)("p",{className:"font-semibold text-blue-600",children:YO(e.unitPrice)})]}),(0,$r.jsxs)("div",{children:[(0,$r.jsx)("p",{className:"text-gray-500 mb-1",children:"Valor Total"}),(0,$r.jsx)("p",{className:"font-semibold text-green-600",children:YO(e.currentStock*e.unitPrice)})]})]})}),(0,$r.jsxs)("div",{className:"space-y-2 text-xs text-gray-500",children:[(0,$r.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,$r.jsx)(sn,{size:12}),(0,$r.jsxs)("span",{className:"truncate",children:["Proveedor: ",e.supplier]})]}),(0,$r.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,$r.jsx)(_n,{size:12}),(0,$r.jsxs)("span",{children:["Actualizado: ",QO(e.lastUpdated)]})]})]}),(0,$r.jsxs)("div",{className:"flex items-center justify-between pt-3 border-t border-gray-200",children:[(0,$r.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,$r.jsx)("button",{onClick:()=>c(e,-1),disabled:0===e.currentStock,className:"p-1 text-red-600 hover:bg-red-50 rounded disabled:opacity-50 disabled:cursor-not-allowed transition-colors",title:"Reducir stock",children:(0,$r.jsx)(MD,{size:16})}),(0,$r.jsx)("span",{className:"text-xs text-gray-500 px-2 min-w-[2rem] text-center",children:e.currentStock}),(0,$r.jsx)("button",{onClick:()=>c(e,1),className:"p-1 text-green-600 hover:bg-green-50 rounded transition-colors",title:"Aumentar stock",children:(0,$r.jsx)(lE,{size:16})})]}),(0,$r.jsx)(gn,{size:"sm",variant:"outline",icon:Ii,onClick:()=>o(e),disabled:0===e.currentStock,className:"text-xs",children:"Consumir"})]})]}),(0,$r.jsx)("div",{className:"px-4 py-3 sm:px-6 sm:py-4 border-t border-gray-200 bg-gray-50 rounded-b-xl",children:(0,$r.jsxs)("div",{className:"flex justify-between gap-2",children:[(0,$r.jsx)(gn,{size:"sm",variant:"outline",icon:pD,onClick:()=>s(e),className:"flex-1 text-xs",children:"Editar"}),(0,$r.jsx)(gn,{size:"sm",variant:"danger",icon:vE,onClick:()=>i(e.id),className:"flex-1 text-xs",children:"Eliminar"})]})})]},e.id)})})},RD=e=>{let{supplies:t,loading:r,selectedSupplies:n,onSelectSupply:a,onEdit:s,onDelete:i,onRecordConsumption:o,onAdjustStock:l}=e;const c=(e,t)=>{const r=Math.max(0,e.currentStock+t);l(e.id,{newStock:r,reason:t>0?"Ajuste de inventario (entrada)":"Ajuste de inventario (salida)",adjustmentType:t>0?"increase":"decrease",quantity:Math.abs(t)})};return r?(0,$r.jsx)("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100",children:(0,$r.jsx)("div",{className:"overflow-x-auto",children:(0,$r.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,$r.jsx)("thead",{className:"bg-gray-50",children:(0,$r.jsx)("tr",{children:[...Array(8)].map((e,t)=>(0,$r.jsx)("th",{className:"px-6 py-3",children:(0,$r.jsx)("div",{className:"h-4 bg-gray-200 rounded animate-pulse"})},t))})}),(0,$r.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:[...Array(6)].map((e,t)=>(0,$r.jsx)("tr",{children:[...Array(8)].map((e,t)=>(0,$r.jsx)("td",{className:"px-6 py-4",children:(0,$r.jsx)("div",{className:"h-4 bg-gray-200 rounded animate-pulse"})},t))},t))})]})})}):(0,$r.jsxs)("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden",children:[(0,$r.jsx)("div",{className:"overflow-x-auto",children:(0,$r.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,$r.jsx)("thead",{className:"bg-gray-50",children:(0,$r.jsxs)("tr",{children:[(0,$r.jsx)("th",{scope:"col",className:"w-12 px-6 py-3",children:(0,$r.jsx)("input",{type:"checkbox",checked:n.length===t.length&&t.length>0,onChange:e=>{e.target.checked?a(t.map(e=>e.id)):a([])},className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"})}),(0,$r.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Insumo"}),(0,$r.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Categor\xeda"}),(0,$r.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Stock"}),(0,$r.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Estado"}),(0,$r.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Precio"}),(0,$r.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Valor Total"}),(0,$r.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Proveedor"}),(0,$r.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Acciones"})]})}),(0,$r.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:t.map(e=>{const t=(e=>0===e.currentStock?{status:"out",color:"text-red-600",label:"Sin Stock"}:e.currentStock<=e.minStock?{status:"low",color:"text-yellow-600",label:"Stock Bajo"}:{status:"ok",color:"text-green-600",label:"Stock OK"})(e),r=(e=>{switch(e){case"out":case"low":return UO;case"ok":return gE;default:return En}})(t.status),l=n.includes(e.id);return(0,$r.jsxs)("tr",{className:pn()("hover:bg-gray-50 transition-colors",l&&"bg-blue-50"),children:[(0,$r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,$r.jsx)("input",{type:"checkbox",checked:l,onChange:()=>{return t=e.id,void a(e=>e.includes(t)?e.filter(e=>e!==t):[...e,t]);var t},className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"})}),(0,$r.jsx)("td",{className:"px-6 py-4",children:(0,$r.jsxs)("div",{className:"flex items-center",children:[(0,$r.jsx)("div",{className:"flex-shrink-0 h-10 w-10",children:(0,$r.jsx)("div",{className:"h-10 w-10 rounded-lg bg-gray-100 flex items-center justify-center",children:(0,$r.jsx)(En,{className:"h-5 w-5 text-gray-500"})})}),(0,$r.jsxs)("div",{className:"ml-4",children:[(0,$r.jsx)("div",{className:"text-sm font-medium text-gray-900 max-w-xs truncate",children:e.name}),(0,$r.jsxs)("div",{className:"text-sm text-gray-500",children:["SKU: ",e.sku]})]})]})}),(0,$r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,$r.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:e.category})}),(0,$r.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap",children:[(0,$r.jsx)("div",{className:"flex items-center space-x-2",children:(0,$r.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,$r.jsx)("button",{onClick:()=>c(e,-1),disabled:0===e.currentStock,className:"p-1 text-red-600 hover:bg-red-50 rounded disabled:opacity-50 disabled:cursor-not-allowed",title:"Reducir stock",children:(0,$r.jsx)(MD,{size:14})}),(0,$r.jsxs)("span",{className:"text-sm font-medium text-gray-900 min-w-[3rem] text-center",children:[e.currentStock," ",e.unit]}),(0,$r.jsx)("button",{onClick:()=>c(e,1),className:"p-1 text-green-600 hover:bg-green-50 rounded",title:"Aumentar stock",children:(0,$r.jsx)(lE,{size:14})})]})}),(0,$r.jsxs)("div",{className:"text-xs text-gray-500 mt-1",children:["M\xedn: ",e.minStock," | M\xe1x: ",e.maxStock]})]}),(0,$r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,$r.jsxs)("div",{className:"flex items-center",children:[(0,$r.jsx)(r,{className:"flex-shrink-0 mr-1.5 h-4 w-4 ".concat(t.color)}),(0,$r.jsx)("span",{className:"text-sm font-medium ".concat(t.color),children:t.label})]})}),(0,$r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:YO(e.unitPrice)}),(0,$r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:YO(e.currentStock*e.unitPrice)}),(0,$r.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap",children:[(0,$r.jsx)("div",{className:"text-sm text-gray-900 max-w-xs truncate",children:e.supplier}),(0,$r.jsxs)("div",{className:"text-xs text-gray-500",children:["Actualizado: ",QO(e.lastUpdated)]})]}),(0,$r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:(0,$r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,$r.jsx)(gn,{size:"sm",variant:"outline",icon:Ii,onClick:()=>o(e),disabled:0===e.currentStock,className:"text-xs",children:"Consumir"}),(0,$r.jsx)(gn,{size:"sm",variant:"outline",icon:pD,onClick:()=>s(e),className:"text-xs",children:"Editar"}),(0,$r.jsx)(gn,{size:"sm",variant:"danger",icon:vE,onClick:()=>i(e.id),className:"text-xs",children:"Eliminar"})]})})]},e.id)})})]})}),0===t.length&&(0,$r.jsxs)("div",{className:"text-center py-12",children:[(0,$r.jsx)(En,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),(0,$r.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No se encontraron insumos"}),(0,$r.jsx)("p",{className:"text-gray-600",children:"Intenta ajustar los filtros de b\xfasqueda"})]})]})},LD=e=>{let{history:r,supplies:n,loading:a}=e;const[s,i]=(0,t.useState)(""),[o,l]=(0,t.useState)(null),c=r||[],u=(0,t.useMemo)(()=>c.filter(e=>!s||e.supplyName.toLowerCase().includes(s.toLowerCase())),[c,s]),d=(0,t.useMemo)(()=>{const e=u.length,t=u.reduce((e,t)=>e+t.quantity*(t.unitPrice||0),0);return{totalConsumptions:e,totalValue:t}},[u]);return a?(0,$r.jsx)("div",{className:"space-y-6",children:(0,$r.jsx)("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6",children:(0,$r.jsxs)("div",{className:"animate-pulse",children:[(0,$r.jsx)("div",{className:"h-6 bg-gray-200 rounded w-1/3 mb-4"}),(0,$r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[...Array(2)].map((e,t)=>(0,$r.jsx)("div",{className:"h-20 bg-gray-200 rounded-lg"},t))}),(0,$r.jsx)("div",{className:"space-y-4",children:[...Array(6)].map((e,t)=>(0,$r.jsx)("div",{className:"h-16 bg-gray-200 rounded-lg"},t))})]})})}):(0,$r.jsxs)("div",{className:"space-y-6",children:[(0,$r.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,$r.jsx)("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-4 sm:p-6",children:(0,$r.jsxs)("div",{className:"flex items-center",children:[(0,$r.jsx)("div",{className:"p-3 bg-blue-50 rounded-lg",children:(0,$r.jsx)(Ii,{className:"w-6 h-6 text-blue-600"})}),(0,$r.jsxs)("div",{className:"ml-4",children:[(0,$r.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Total Consumos"}),(0,$r.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:d.totalConsumptions})]})]})}),(0,$r.jsx)("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-4 sm:p-6",children:(0,$r.jsxs)("div",{className:"flex items-center",children:[(0,$r.jsx)("div",{className:"p-3 bg-purple-50 rounded-lg",children:(0,$r.jsx)(En,{className:"w-6 h-6 text-purple-600"})}),(0,$r.jsxs)("div",{className:"ml-4",children:[(0,$r.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Valor Total"}),(0,$r.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:YO(d.totalValue)})]})]})})]}),(0,$r.jsx)("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-4 sm:p-6",children:(0,$r.jsxs)("div",{className:"relative max-w-md",children:[(0,$r.jsx)(In,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),(0,$r.jsx)("input",{type:"text",placeholder:"Buscar insumo...",value:s,onChange:e=>i(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm"})]})}),(0,$r.jsx)("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden",children:0===u.length?(0,$r.jsxs)("div",{className:"text-center py-12",children:[(0,$r.jsx)(Ii,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),(0,$r.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No hay consumos registrados"}),(0,$r.jsx)("p",{className:"text-gray-600",children:s?"No se encontraron consumos con ese t\xe9rmino":"Los consumos de insumos aparecer\xe1n aqu\xed"})]}):(0,$r.jsx)("div",{className:"divide-y divide-gray-200",children:u.map(e=>(0,$r.jsx)("div",{className:"p-4 sm:p-6 hover:bg-gray-50 transition-colors cursor-pointer",onClick:()=>l(e),children:(0,$r.jsxs)("div",{className:"flex items-start space-x-4",children:[(0,$r.jsx)("div",{className:"p-2 rounded-lg bg-blue-50 text-blue-600",children:(0,$r.jsx)(Ii,{className:"w-5 h-5"})}),(0,$r.jsx)("div",{className:"flex-1 min-w-0",children:(0,$r.jsxs)("div",{className:"flex items-start justify-between",children:[(0,$r.jsxs)("div",{className:"flex-1",children:[(0,$r.jsx)("h4",{className:"text-lg font-semibold text-gray-900 mb-1",children:e.supplyName}),(0,$r.jsxs)("div",{className:"flex items-center space-x-1 text-sm text-gray-500 mb-2",children:[(0,$r.jsx)(_n,{size:14}),(0,$r.jsx)("span",{children:QO(e.timestamp)})]})]}),(0,$r.jsxs)("div",{className:"text-right ml-4",children:[(0,$r.jsxs)("div",{className:"text-lg font-bold text-gray-900",children:[e.quantity," ",e.unit||"unidades"]}),e.unitPrice&&(0,$r.jsx)("div",{className:"text-sm text-gray-600",children:YO(e.quantity*e.unitPrice)})]})]})})]})},e.id))})}),o&&(0,$r.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,$r.jsxs)("div",{className:"bg-white rounded-xl shadow-2xl max-w-md w-full max-h-[90vh] overflow-hidden",children:[(0,$r.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[(0,$r.jsx)("h3",{className:"text-xl font-bold text-gray-900",children:"Detalles del Consumo"}),(0,$r.jsx)("button",{onClick:()=>l(null),className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",children:"\xd7"})]}),(0,$r.jsxs)("div",{className:"p-6 space-y-4",children:[(0,$r.jsxs)("div",{children:[(0,$r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Insumo"}),(0,$r.jsx)("p",{className:"text-sm text-gray-900",children:o.supplyName})]}),(0,$r.jsxs)("div",{children:[(0,$r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Cantidad"}),(0,$r.jsxs)("p",{className:"text-sm text-gray-900",children:[o.quantity," ",o.unit||"unidades"]})]}),(0,$r.jsxs)("div",{children:[(0,$r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Fecha y Hora"}),(0,$r.jsx)("p",{className:"text-sm text-gray-900",children:new Date(o.timestamp).toLocaleString("es-PE")})]}),o.unitPrice&&(0,$r.jsxs)("div",{children:[(0,$r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Valor Total"}),(0,$r.jsx)("p",{className:"text-sm text-gray-900",children:YO(o.quantity*o.unitPrice)})]})]})]})})]})},zD=wA().shape({name:oA().required("El nombre del insumo es obligatorio"),description:oA(),sku:oA(),category:oA().required("La categor\xeda es obligatoria"),supplier:oA(),unit:oA().required("La unidad de medida es obligatoria"),unitPrice:cA().min(0,"El precio debe ser positivo").required("El precio unitario es obligatorio"),currentStock:cA().min(0,"El stock debe ser positivo").required("El stock inicial es obligatorio"),minStock:cA().min(0,"El stock m\xednimo debe ser positivo").required("El stock m\xednimo es obligatorio"),maxStock:cA().min(0,"El stock m\xe1ximo debe ser positivo").required("El stock m\xe1ximo es obligatorio")}),FD=e=>{let{isOpen:r,onClose:n,onSubmit:a,categories:s,suppliers:i}=e;const[o,l]=(0,t.useState)(!1),[u,d]=(0,t.useState)(!1),[h,f]=(0,t.useState)(""),[p,m]=(0,t.useState)(""),{register:g,handleSubmit:y,watch:v,setValue:x,formState:{errors:b,isSubmitting:w},reset:j}=sP({resolver:dP(zD),defaultValues:{unit:"unidad",currentStock:0,minStock:1,maxStock:100}}),N=v("minStock"),k=v("maxStock"),S=v("currentStock"),_=v("unitPrice"),O=()=>{j(),l(!1),d(!1),f(""),m(""),n()};return r?(0,$r.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,$r.jsxs)("div",{className:"bg-white rounded-xl shadow-2xl max-w-3xl w-full max-h-[90vh] overflow-hidden",children:[(0,$r.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[(0,$r.jsxs)("div",{children:[(0,$r.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Nuevo Insumo"}),(0,$r.jsx)("p",{className:"text-gray-600 mt-1",children:"Agregar un nuevo insumo al inventario"})]}),(0,$r.jsx)("button",{onClick:O,className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",children:(0,$r.jsx)(HO,{size:24})})]}),(0,$r.jsxs)("form",{onSubmit:y(async e=>{try{const t=c(c({},e),{},{category:o?h:e.category,supplier:u?p:e.supplier,totalValue:e.currentStock*e.unitPrice,lastUpdated:(new Date).toISOString(),createdAt:(new Date).toISOString()});await a(t),O()}catch(t){console.error("Error creating supply:",t)}}),children:[(0,$r.jsxs)("div",{className:"p-6 max-h-[70vh] overflow-y-auto space-y-6",children:[(0,$r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,$r.jsxs)("div",{className:"md:col-span-2",children:[(0,$r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nombre del Insumo *"}),(0,$r.jsx)("input",c(c({type:"text"},g("name")),{},{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Ej: Toallas de ba\xf1o blancas"})),b.name&&(0,$r.jsx)("p",{className:"text-red-600 text-sm mt-1",children:b.name.message})]}),(0,$r.jsxs)("div",{children:[(0,$r.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["SKU / C\xf3digo ",(0,$r.jsx)("span",{className:"text-gray-500",children:"(opcional)"})]}),(0,$r.jsx)("input",c(c({type:"text"},g("sku")),{},{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Ej: TOA-BLA-001"})),b.sku&&(0,$r.jsx)("p",{className:"text-red-600 text-sm mt-1",children:b.sku.message})]}),(0,$r.jsxs)("div",{children:[(0,$r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Unidad de Medida *"}),(0,$r.jsx)("select",c(c({},g("unit")),{},{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:["unidad","kg","gramos","litros","ml","metros","cm","caja","paquete","docena","par","rollo","botella"].map(e=>(0,$r.jsx)("option",{value:e,children:e},e))})),b.unit&&(0,$r.jsx)("p",{className:"text-red-600 text-sm mt-1",children:b.unit.message})]}),(0,$r.jsxs)("div",{children:[(0,$r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Categor\xeda *"}),o?(0,$r.jsxs)("div",{className:"flex space-x-2",children:[(0,$r.jsx)("input",{type:"text",value:h,onChange:e=>f(e.target.value),placeholder:"Nueva categor\xeda",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),(0,$r.jsx)(gn,{type:"button",variant:"outline",size:"sm",onClick:()=>l(!1),children:"Cancelar"})]}):(0,$r.jsxs)("div",{className:"flex space-x-2",children:[(0,$r.jsxs)("select",c(c({},g("category")),{},{className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,$r.jsx)("option",{value:"",children:"Seleccionar categor\xeda"}),s.map(e=>(0,$r.jsx)("option",{value:e,children:e},e))]})),(0,$r.jsx)(gn,{type:"button",variant:"outline",size:"sm",icon:lE,onClick:()=>l(!0),children:"Nueva"})]}),b.category&&!o&&(0,$r.jsx)("p",{className:"text-red-600 text-sm mt-1",children:b.category.message})]}),(0,$r.jsxs)("div",{children:[(0,$r.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Proveedor ",(0,$r.jsx)("span",{className:"text-gray-500",children:"(opcional)"})]}),u?(0,$r.jsxs)("div",{className:"flex space-x-2",children:[(0,$r.jsx)("input",{type:"text",value:p,onChange:e=>m(e.target.value),placeholder:"Nuevo proveedor",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),(0,$r.jsx)(gn,{type:"button",variant:"outline",size:"sm",onClick:()=>d(!1),children:"Cancelar"})]}):(0,$r.jsxs)("div",{className:"flex space-x-2",children:[(0,$r.jsxs)("select",c(c({},g("supplier")),{},{className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,$r.jsx)("option",{value:"",children:"Seleccionar proveedor"}),i.map(e=>(0,$r.jsx)("option",{value:e,children:e},e))]})),(0,$r.jsx)(gn,{type:"button",variant:"outline",size:"sm",icon:lE,onClick:()=>d(!0),children:"Nuevo"})]}),b.supplier&&!u&&(0,$r.jsx)("p",{className:"text-red-600 text-sm mt-1",children:b.supplier.message})]})]}),(0,$r.jsxs)("div",{children:[(0,$r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Descripci\xf3n"}),(0,$r.jsx)("textarea",c(c({},g("description")),{},{rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Describe las caracter\xedsticas del insumo... (opcional)"})),b.description&&(0,$r.jsx)("p",{className:"text-red-600 text-sm mt-1",children:b.description.message})]}),(0,$r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,$r.jsxs)("div",{children:[(0,$r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Precio Unitario (S/) *"}),(0,$r.jsx)("input",c(c({type:"number",min:"0",step:"0.01"},g("unitPrice")),{},{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"0.00"})),b.unitPrice&&(0,$r.jsx)("p",{className:"text-red-600 text-sm mt-1",children:b.unitPrice.message})]}),(0,$r.jsxs)("div",{children:[(0,$r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Stock Inicial *"}),(0,$r.jsx)("input",c(c({type:"number",min:"0"},g("currentStock")),{},{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})),b.currentStock&&(0,$r.jsx)("p",{className:"text-red-600 text-sm mt-1",children:b.currentStock.message})]}),(0,$r.jsxs)("div",{children:[(0,$r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Stock M\xednimo *"}),(0,$r.jsx)("input",c(c({type:"number",min:"0"},g("minStock")),{},{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})),b.minStock&&(0,$r.jsx)("p",{className:"text-red-600 text-sm mt-1",children:b.minStock.message})]}),(0,$r.jsxs)("div",{children:[(0,$r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Stock M\xe1ximo *"}),(0,$r.jsx)("input",c(c({type:"number",min:"0"},g("maxStock")),{},{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})),b.maxStock&&(0,$r.jsx)("p",{className:"text-red-600 text-sm mt-1",children:b.maxStock.message})]})]}),N>=k&&N>0&&k>0&&(0,$r.jsx)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:(0,$r.jsxs)("div",{className:"flex items-center",children:[(0,$r.jsx)(UO,{className:"w-5 h-5 text-yellow-600 mr-2"}),(0,$r.jsx)("p",{className:"text-sm text-yellow-800",children:"El stock m\xednimo debe ser menor que el stock m\xe1ximo"})]})}),S<N&&S>=0&&N>0&&(0,$r.jsx)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:(0,$r.jsxs)("div",{className:"flex items-center",children:[(0,$r.jsx)(UO,{className:"w-5 h-5 text-yellow-600 mr-2"}),(0,$r.jsx)("p",{className:"text-sm text-yellow-800",children:"El stock inicial est\xe1 por debajo del m\xednimo recomendado"})]})}),_>0&&S>=0&&(0,$r.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[(0,$r.jsx)("h4",{className:"font-semibold text-blue-900 mb-2",children:"Resumen"}),(0,$r.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,$r.jsxs)("div",{children:[(0,$r.jsx)("span",{className:"text-blue-700",children:"Valor total del stock:"}),(0,$r.jsxs)("span",{className:"font-semibold text-blue-900 ml-2",children:["S/ ",(S*_).toFixed(2)]})]}),(0,$r.jsxs)("div",{children:[(0,$r.jsx)("span",{className:"text-blue-700",children:"Estado inicial:"}),(0,$r.jsx)("span",{className:"font-semibold ml-2 ".concat(0===S?"text-red-600":S<=N?"text-yellow-600":"text-green-600"),children:0===S?"Sin stock":S<=N?"Stock bajo":"Stock OK"})]})]})]})]}),(0,$r.jsxs)("div",{className:"px-6 py-4 border-t border-gray-200 bg-gray-50 flex justify-between",children:[(0,$r.jsx)(gn,{type:"button",variant:"outline",onClick:O,children:"Cancelar"}),(0,$r.jsx)(gn,{type:"submit",variant:"primary",loading:w,icon:En,disabled:o&&!h||N>=k&&N>0&&k>0,children:"Crear Insumo"})]})]})]})}):null},BD=Vr("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]),UD=wA().shape({name:oA().required("El nombre del insumo es obligatorio"),description:oA().required("La descripci\xf3n es obligatoria"),sku:oA(),category:oA().required("La categor\xeda es obligatoria"),supplier:oA(),unit:oA().required("La unidad de medida es obligatoria"),unitPrice:cA().min(0,"El precio debe ser positivo").required("El precio unitario es obligatorio"),currentStock:cA().min(0,"El stock debe ser positivo").required("El stock actual es obligatorio"),minStock:cA().min(0,"El stock m\xednimo debe ser positivo").required("El stock m\xednimo es obligatorio"),maxStock:cA().min(0,"El stock m\xe1ximo debe ser positivo").required("El stock m\xe1ximo es obligatorio")}),qD=e=>{let{isOpen:r,onClose:n,onSubmit:a,supply:s,categories:i,suppliers:o}=e;const[l,u]=(0,t.useState)(!1),[d,h]=(0,t.useState)(!1),[f,p]=(0,t.useState)(""),[m,g]=(0,t.useState)(""),{register:y,handleSubmit:v,watch:x,setValue:b,formState:{errors:w,isSubmitting:j},reset:N}=sP({resolver:dP(UD)});(0,t.useEffect)(()=>{r&&s&&N({name:s.name,description:s.description,sku:s.sku||"",category:s.category,supplier:s.supplier||"",unit:s.unit,unitPrice:s.unitPrice,currentStock:s.currentStock,minStock:s.minStock,maxStock:s.maxStock})},[r,s,N]);const k=x("minStock"),S=x("maxStock"),_=x("currentStock"),O=x("unitPrice"),E=()=>{N(),u(!1),h(!1),p(""),g(""),n()};return r&&s?(0,$r.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,$r.jsxs)("div",{className:"bg-white rounded-xl shadow-2xl max-w-3xl w-full max-h-[90vh] overflow-hidden",children:[(0,$r.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[(0,$r.jsxs)("div",{children:[(0,$r.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Editar Insumo"}),(0,$r.jsxs)("p",{className:"text-gray-600 mt-1",children:["Modificar informaci\xf3n del insumo: ",s.name]})]}),(0,$r.jsx)("button",{onClick:E,className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",children:(0,$r.jsx)(HO,{size:24})})]}),(0,$r.jsxs)("form",{onSubmit:v(async e=>{try{const t=c(c({},e),{},{category:l?f:e.category,supplier:d?m:e.supplier,totalValue:e.currentStock*e.unitPrice,lastUpdated:(new Date).toISOString()});await a(t),E()}catch(t){console.error("Error updating supply:",t)}}),children:[(0,$r.jsxs)("div",{className:"p-6 max-h-[70vh] overflow-y-auto space-y-6",children:[(0,$r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,$r.jsxs)("div",{className:"md:col-span-2",children:[(0,$r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nombre del Insumo *"}),(0,$r.jsx)("input",c(c({type:"text"},y("name")),{},{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Ej: Toallas de ba\xf1o blancas"})),w.name&&(0,$r.jsx)("p",{className:"text-red-600 text-sm mt-1",children:w.name.message})]}),(0,$r.jsxs)("div",{children:[(0,$r.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["SKU / C\xf3digo ",(0,$r.jsx)("span",{className:"text-gray-500",children:"(opcional)"})]}),(0,$r.jsx)("input",c(c({type:"text"},y("sku")),{},{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Ej: TOA-BLA-001"})),w.sku&&(0,$r.jsx)("p",{className:"text-red-600 text-sm mt-1",children:w.sku.message})]}),(0,$r.jsxs)("div",{children:[(0,$r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Unidad de Medida *"}),(0,$r.jsx)("select",c(c({},y("unit")),{},{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:["unidad","kg","gramos","litros","ml","metros","cm","caja","paquete","docena","par","rollo","botella"].map(e=>(0,$r.jsx)("option",{value:e,children:e},e))})),w.unit&&(0,$r.jsx)("p",{className:"text-red-600 text-sm mt-1",children:w.unit.message})]}),(0,$r.jsxs)("div",{children:[(0,$r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Categor\xeda *"}),l?(0,$r.jsxs)("div",{className:"flex space-x-2",children:[(0,$r.jsx)("input",{type:"text",value:f,onChange:e=>p(e.target.value),placeholder:"Nueva categor\xeda",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),(0,$r.jsx)(gn,{type:"button",variant:"outline",size:"sm",onClick:()=>u(!1),children:"Cancelar"})]}):(0,$r.jsxs)("div",{className:"flex space-x-2",children:[(0,$r.jsxs)("select",c(c({},y("category")),{},{className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,$r.jsx)("option",{value:"",children:"Seleccionar categor\xeda"}),i.map(e=>(0,$r.jsx)("option",{value:e,children:e},e))]})),(0,$r.jsx)(gn,{type:"button",variant:"outline",size:"sm",icon:lE,onClick:()=>u(!0),children:"Nueva"})]}),w.category&&!l&&(0,$r.jsx)("p",{className:"text-red-600 text-sm mt-1",children:w.category.message})]}),(0,$r.jsxs)("div",{children:[(0,$r.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Proveedor ",(0,$r.jsx)("span",{className:"text-gray-500",children:"(opcional)"})]}),d?(0,$r.jsxs)("div",{className:"flex space-x-2",children:[(0,$r.jsx)("input",{type:"text",value:m,onChange:e=>g(e.target.value),placeholder:"Nuevo proveedor",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),(0,$r.jsx)(gn,{type:"button",variant:"outline",size:"sm",onClick:()=>h(!1),children:"Cancelar"})]}):(0,$r.jsxs)("div",{className:"flex space-x-2",children:[(0,$r.jsxs)("select",c(c({},y("supplier")),{},{className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,$r.jsx)("option",{value:"",children:"Seleccionar proveedor"}),o.map(e=>(0,$r.jsx)("option",{value:e,children:e},e))]})),(0,$r.jsx)(gn,{type:"button",variant:"outline",size:"sm",icon:lE,onClick:()=>h(!0),children:"Nuevo"})]}),w.supplier&&!d&&(0,$r.jsx)("p",{className:"text-red-600 text-sm mt-1",children:w.supplier.message})]})]}),(0,$r.jsxs)("div",{children:[(0,$r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Descripci\xf3n *"}),(0,$r.jsx)("textarea",c(c({},y("description")),{},{rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Describe las caracter\xedsticas del insumo..."})),w.description&&(0,$r.jsx)("p",{className:"text-red-600 text-sm mt-1",children:w.description.message})]}),(0,$r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,$r.jsxs)("div",{children:[(0,$r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Precio Unitario (S/) *"}),(0,$r.jsx)("input",c(c({type:"number",min:"0",step:"0.01"},y("unitPrice")),{},{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"0.00"})),w.unitPrice&&(0,$r.jsx)("p",{className:"text-red-600 text-sm mt-1",children:w.unitPrice.message})]}),(0,$r.jsxs)("div",{children:[(0,$r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Stock Actual *"}),(0,$r.jsx)("input",c(c({type:"number",min:"0"},y("currentStock")),{},{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})),w.currentStock&&(0,$r.jsx)("p",{className:"text-red-600 text-sm mt-1",children:w.currentStock.message})]}),(0,$r.jsxs)("div",{children:[(0,$r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Stock M\xednimo *"}),(0,$r.jsx)("input",c(c({type:"number",min:"0"},y("minStock")),{},{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})),w.minStock&&(0,$r.jsx)("p",{className:"text-red-600 text-sm mt-1",children:w.minStock.message})]}),(0,$r.jsxs)("div",{children:[(0,$r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Stock M\xe1ximo *"}),(0,$r.jsx)("input",c(c({type:"number",min:"0"},y("maxStock")),{},{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})),w.maxStock&&(0,$r.jsx)("p",{className:"text-red-600 text-sm mt-1",children:w.maxStock.message})]})]}),k>=S&&k>0&&S>0&&(0,$r.jsx)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:(0,$r.jsxs)("div",{className:"flex items-center",children:[(0,$r.jsx)(UO,{className:"w-5 h-5 text-yellow-600 mr-2"}),(0,$r.jsx)("p",{className:"text-sm text-yellow-800",children:"El stock m\xednimo debe ser menor que el stock m\xe1ximo"})]})}),_<k&&_>=0&&k>0&&(0,$r.jsx)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:(0,$r.jsxs)("div",{className:"flex items-center",children:[(0,$r.jsx)(UO,{className:"w-5 h-5 text-yellow-600 mr-2"}),(0,$r.jsx)("p",{className:"text-sm text-yellow-800",children:"El stock actual est\xe1 por debajo del m\xednimo recomendado"})]})}),s&&(0,$r.jsxs)("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:[(0,$r.jsx)("h4",{className:"font-semibold text-gray-900 mb-3",children:"Cambios realizados"}),(0,$r.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[_!==s.currentStock&&(0,$r.jsxs)("div",{children:[(0,$r.jsx)("span",{className:"text-gray-700",children:"Stock:"}),(0,$r.jsxs)("span",{className:"ml-2",children:[(0,$r.jsx)("span",{className:"text-red-600",children:s.currentStock}),(0,$r.jsx)("span",{className:"mx-2",children:"\u2192"}),(0,$r.jsx)("span",{className:"text-green-600",children:_})]})]}),O!==s.unitPrice&&(0,$r.jsxs)("div",{children:[(0,$r.jsx)("span",{className:"text-gray-700",children:"Precio:"}),(0,$r.jsxs)("span",{className:"ml-2",children:[(0,$r.jsxs)("span",{className:"text-red-600",children:["S/ ",s.unitPrice]}),(0,$r.jsx)("span",{className:"mx-2",children:"\u2192"}),(0,$r.jsxs)("span",{className:"text-green-600",children:["S/ ",O]})]})]})]}),O>0&&_>=0&&(0,$r.jsx)("div",{className:"mt-3 pt-3 border-t border-gray-300",children:(0,$r.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,$r.jsxs)("div",{children:[(0,$r.jsx)("span",{className:"text-gray-700",children:"Valor anterior:"}),(0,$r.jsxs)("span",{className:"font-semibold text-gray-900 ml-2",children:["S/ ",(s.currentStock*s.unitPrice).toFixed(2)]})]}),(0,$r.jsxs)("div",{children:[(0,$r.jsx)("span",{className:"text-gray-700",children:"Nuevo valor:"}),(0,$r.jsxs)("span",{className:"font-semibold text-blue-900 ml-2",children:["S/ ",(_*O).toFixed(2)]})]})]})})]})]}),(0,$r.jsxs)("div",{className:"px-6 py-4 border-t border-gray-200 bg-gray-50 flex justify-between",children:[(0,$r.jsx)(gn,{type:"button",variant:"outline",onClick:E,children:"Cancelar"}),(0,$r.jsx)(gn,{type:"submit",variant:"primary",loading:j,icon:BD,disabled:l&&!f||k>=S&&k>0&&S>0,children:"Guardar Cambios"})]})]})]})}):null},HD=wA().shape({consumptions:NA().of(wA().shape({supplyId:oA().required("Selecciona un insumo"),quantity:cA().min(.1,"La cantidad debe ser mayor a 0").required("La cantidad es obligatoria")})).min(1,"Debe registrar al menos un consumo")}),VD=e=>{let{isOpen:r,onClose:n,onSubmit:a,supply:s,supplies:i}=e;const[o,l]=(0,t.useState)(0),u=i||[],{register:d,handleSubmit:h,control:f,watch:p,setValue:m,formState:{errors:g,isSubmitting:y},reset:v}=sP({resolver:dP(HD),defaultValues:{consumptions:[]}}),{fields:x,append:b,remove:w}=aP({control:f,name:"consumptions"}),j=p("consumptions");(0,t.useEffect)(()=>{if(j&&u.length>0){const e=j.reduce((e,t)=>{const r=u.find(e=>e.id===t.supplyId);return r&&t.quantity?e+t.quantity*r.unitPrice:e},0);l(e)}},[j,u]),(0,t.useEffect)(()=>{if(r){let e=[];e=s?[{supplyId:s.id,quantity:1}]:u.length>0?u.map(e=>({supplyId:e.id,quantity:1})):[{supplyId:"",quantity:1}],v({consumptions:e})}},[r,s,u,v]);const N=()=>{v(),l(0),n()},k=e=>{if(u.length>0)return u;const t=(null===j||void 0===j?void 0:j.map((t,r)=>r!==e?t.supplyId:null).filter(Boolean))||[];return u.filter(e=>!t.includes(e.id))},S=e=>u.find(t=>t.id===e);return r?(0,$r.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,$r.jsxs)("div",{className:"bg-white rounded-xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-hidden",children:[(0,$r.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[(0,$r.jsxs)("div",{children:[(0,$r.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Registrar Consumo"}),(0,$r.jsx)("p",{className:"text-gray-600 mt-1",children:s?"Consumo de: ".concat(s.name):u.length>1?"Registro de ".concat(u.length," insumos"):"Registro de consumo de insumos"})]}),(0,$r.jsx)("button",{onClick:N,className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",children:(0,$r.jsx)(HO,{size:24})})]}),(0,$r.jsxs)("form",{onSubmit:h(async e=>{try{const t=e.consumptions.map(e=>{const t=u.find(t=>t.id===e.supplyId);return c(c({},e),{},{supplyName:(null===t||void 0===t?void 0:t.name)||"",unitPrice:(null===t||void 0===t?void 0:t.unitPrice)||0,unit:(null===t||void 0===t?void 0:t.unit)||"",timestamp:(new Date).toISOString(),type:"consumption"})});for(const e of t)await a(e);N()}catch(t){console.error("Error recording consumption:",t)}}),children:[(0,$r.jsx)("div",{className:"p-6 max-h-[70vh] overflow-y-auto space-y-6",children:(0,$r.jsxs)("div",{children:[(0,$r.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,$r.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Insumos a Consumir"}),!s&&0===u.length&&(0,$r.jsx)(gn,{type:"button",variant:"outline",size:"sm",icon:lE,onClick:()=>{b({supplyId:"",quantity:1})},children:"Agregar Insumo"})]}),(0,$r.jsx)("div",{className:"space-y-4",children:x.map((e,t)=>{var r,n,a,i,o,l;const h=S(null===(r=j[t])||void 0===r?void 0:r.supplyId),f=(null===h||void 0===h?void 0:h.currentStock)||0,p=(null===(n=j[t])||void 0===n?void 0:n.quantity)||0;return(0,$r.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4 space-y-4",children:[(0,$r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,$r.jsxs)("h4",{className:"font-medium text-gray-900",children:["Consumo #",t+1]}),x.length>1&&!s&&(0,$r.jsx)(gn,{type:"button",variant:"outline",size:"sm",icon:HO,onClick:()=>w(t),children:"Eliminar"})]}),(0,$r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,$r.jsxs)("div",{children:[(0,$r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Insumo *"}),(0,$r.jsxs)("select",c(c({},d("consumptions.".concat(t,".supplyId"))),{},{disabled:!!s||u.length>0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent disabled:bg-gray-100",children:[(0,$r.jsx)("option",{value:"",children:"Seleccionar insumo"}),k(t).map(e=>(0,$r.jsxs)("option",{value:e.id,children:[e.name," (Stock: ",e.currentStock," ",e.unit,")"]},e.id))]})),(null===(a=g.consumptions)||void 0===a||null===(i=a[t])||void 0===i?void 0:i.supplyId)&&(0,$r.jsx)("p",{className:"text-red-600 text-sm mt-1",children:g.consumptions[t].supplyId.message})]}),(0,$r.jsxs)("div",{children:[(0,$r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Cantidad *"}),(0,$r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,$r.jsx)("button",{type:"button",onClick:()=>{const e=Math.max(0,p-1);m("consumptions.".concat(t,".quantity"),e)},className:"p-2 text-red-600 hover:bg-red-50 rounded border border-gray-300 transition-colors",children:(0,$r.jsx)(MD,{size:16})}),(0,$r.jsx)("input",c(c({type:"number",min:"0",max:f,step:"0.1"},d("consumptions.".concat(t,".quantity"))),{},{className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-center"})),(0,$r.jsx)("button",{type:"button",onClick:()=>{const e=Math.min(f,p+1);m("consumptions.".concat(t,".quantity"),e)},className:"p-2 text-green-600 hover:bg-green-50 rounded border border-gray-300 transition-colors",children:(0,$r.jsx)(lE,{size:16})})]}),h&&(0,$r.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:["Disponible: ",f," ",h.unit]}),(null===(o=g.consumptions)||void 0===o||null===(l=o[t])||void 0===l?void 0:l.quantity)&&(0,$r.jsx)("p",{className:"text-red-600 text-sm mt-1",children:g.consumptions[t].quantity.message})]})]}),h&&(0,$r.jsxs)("div",{className:"bg-gray-50 rounded-lg p-3 border-t border-gray-200",children:[(0,$r.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 text-sm",children:[(0,$r.jsxs)("div",{children:[(0,$r.jsx)("span",{className:"text-gray-600",children:"Stock actual:"}),(0,$r.jsxs)("span",{className:"font-semibold ml-1 text-gray-900",children:[h.currentStock," ",h.unit]})]}),(0,$r.jsxs)("div",{children:[(0,$r.jsx)("span",{className:"text-gray-600",children:"Precio unitario:"}),(0,$r.jsx)("span",{className:"font-semibold ml-1 text-gray-900",children:YO(h.unitPrice)})]}),(0,$r.jsxs)("div",{children:[(0,$r.jsx)("span",{className:"text-gray-600",children:"Valor consumo:"}),(0,$r.jsx)("span",{className:"font-semibold text-blue-600 ml-1",children:YO(p*h.unitPrice)})]}),(0,$r.jsxs)("div",{children:[(0,$r.jsx)("span",{className:"text-gray-600",children:"Stock restante:"}),(0,$r.jsxs)("span",{className:"font-semibold ml-1 ".concat(h.currentStock-p<=h.minStock?"text-red-600":"text-green-600"),children:[h.currentStock-p," ",h.unit]})]})]}),p>h.currentStock&&(0,$r.jsxs)("div",{className:"mt-3 flex items-center text-red-600",children:[(0,$r.jsx)(UO,{size:16,className:"mr-2"}),(0,$r.jsx)("span",{className:"text-sm",children:"La cantidad excede el stock disponible"})]}),h.currentStock-p<=h.minStock&&h.currentStock-p>=0&&(0,$r.jsxs)("div",{className:"mt-3 flex items-center text-yellow-600",children:[(0,$r.jsx)(UO,{size:16,className:"mr-2"}),(0,$r.jsx)("span",{className:"text-sm",children:"El stock resultante estar\xe1 por debajo del m\xednimo"})]})]})]},e.id)})}),g.consumptions&&(0,$r.jsx)("p",{className:"text-red-600 text-sm mt-1",children:g.consumptions.message})]})}),(0,$r.jsxs)("div",{className:"px-6 py-4 border-t border-gray-200 bg-gray-50 flex justify-between",children:[(0,$r.jsx)(gn,{type:"button",variant:"outline",onClick:N,children:"Cancelar"}),(0,$r.jsx)(gn,{type:"submit",variant:"primary",loading:y,icon:Ii,disabled:null===j||void 0===j?void 0:j.some(e=>{const t=S(e.supplyId);return e.quantity>((null===t||void 0===t?void 0:t.currentStock)||0)}),children:"Registrar Consumo"})]})]})]})}):null},WD=()=>{const[e,r]=(0,t.useState)("inventory"),[n,a]=(0,t.useState)("grid"),[s,i]=(0,t.useState)(!1),[o,l]=(0,t.useState)(!1),[c,u]=(0,t.useState)(!1),[d,h]=(0,t.useState)(null),[f,p]=(0,t.useState)([]),[m,g]=(0,t.useState)({category:"all",status:"all",supplier:"all",search:"",lowStock:!1}),{supplies:y,categories:v,suppliers:x,suppliesStats:b,consumptionHistory:w,loading:j,error:N,createSupply:k,updateSupply:S,deleteSupply:_,adjustStock:O,inventory:E,allInventory:C,filters:P,setFilters:A,refreshData:T}=PD(),D=[{id:"inventory",label:"Inventario",shortLabel:"Inventario",icon:En},{id:"consumption",label:"Historial de Consumo",shortLabel:"Consumo",icon:Ii}],M=async e=>{if(window.confirm("\xbfEst\xe1s seguro de que quieres eliminar este insumo?"))try{(await _(e)).success&&p(t=>t.filter(t=>t!==e))}catch(N){console.error("Error deleting supply:",N)}},I=async(e,t)=>{try{const r=await O(e,t);r.success||console.error("Error adjusting stock:",r.error)}catch(N){console.error("Error adjusting stock:",N)}},R=e=>{h(e),l(!0)},L=e=>{h(e),u(!0)},z=(0,t.useMemo)(()=>y?y.filter(e=>{if(m.search){var t,r,n;const a=m.search.toLowerCase();if(!(e.name.toLowerCase().includes(a)||(null===(t=e.description)||void 0===t?void 0:t.toLowerCase().includes(a))||(null===(r=e.sku)||void 0===r?void 0:r.toLowerCase().includes(a))||e.category.toLowerCase().includes(a)||(null===(n=e.supplier)||void 0===n?void 0:n.toLowerCase().includes(a))))return!1}if("all"!==m.category&&e.category!==m.category)return!1;if("all"!==m.supplier&&e.supplier!==m.supplier)return!1;if("all"!==m.status){if("ok"===m.status&&(0===e.currentStock||e.currentStock<=e.minStock))return!1;if("low"===m.status&&(0===e.currentStock||e.currentStock>e.minStock))return!1;if("out"===m.status&&0!==e.currentStock)return!1}return!(m.lowStock&&e.currentStock>e.minStock)}):[],[y,m]);return N?(0,$r.jsx)("div",{className:"flex items-center justify-center min-h-[400px]",children:(0,$r.jsxs)("div",{className:"text-center p-4",children:[(0,$r.jsx)(UO,{className:"mx-auto h-12 w-12 text-red-500 mb-4"}),(0,$r.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Error al cargar datos"}),(0,$r.jsx)("p",{className:"text-gray-600 mb-4",children:N}),(0,$r.jsx)(gn,{variant:"primary",onClick:()=>T(),children:"Reintentar"})]})}):(0,$r.jsxs)("div",{className:"space-y-4 sm:space-y-6",children:[(0,$r.jsxs)("div",{className:"flex flex-col space-y-4 lg:flex-row lg:items-center lg:justify-between lg:space-y-0",children:[(0,$r.jsxs)("div",{children:[(0,$r.jsx)("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900",children:"Gesti\xf3n de Insumos"}),(0,$r.jsx)("p",{className:"text-sm sm:text-base text-gray-600 mt-1",children:"Administra inventario y controla el consumo de insumos"})]}),(0,$r.jsxs)("div",{className:"flex flex-col sm:flex-row gap-2 sm:gap-3",children:[f.length>0&&"inventory"===e&&(0,$r.jsxs)("div",{className:"flex items-center justify-between sm:justify-start sm:space-x-2 p-3 bg-blue-50 rounded-lg sm:bg-transparent sm:p-0",children:[(0,$r.jsxs)("span",{className:"text-xs sm:text-sm text-gray-600",children:[f.length," seleccionado",f.length>1?"s":""]}),(0,$r.jsxs)(gn,{variant:"outline",size:"sm",icon:Ii,onClick:()=>u(!0),className:"ml-2 sm:ml-0",children:[(0,$r.jsx)("span",{className:"hidden sm:inline",children:"Registrar Consumo"}),(0,$r.jsx)("span",{className:"sm:hidden",children:"Consumir"})]})]}),"inventory"===e&&(0,$r.jsxs)(gn,{variant:"primary",icon:lE,onClick:()=>i(!0),className:"w-full sm:w-auto",children:[(0,$r.jsx)("span",{className:"hidden sm:inline",children:"Nuevo Insumo"}),(0,$r.jsx)("span",{className:"sm:hidden",children:"Agregar"})]})]})]}),(0,$r.jsx)("div",{className:"border-b border-gray-200",children:(0,$r.jsx)("nav",{className:"-mb-px flex space-x-4 sm:space-x-8","aria-label":"Tabs",children:D.map(t=>{const n=t.icon;return(0,$r.jsxs)("button",{onClick:()=>r(t.id),className:"".concat(e===t.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"," whitespace-nowrap py-2 px-1 border-b-2 font-medium text-sm flex items-center space-x-2 transition-colors"),children:[(0,$r.jsx)(n,{size:16,className:"sm:w-[18px] sm:h-[18px]"}),(0,$r.jsx)("span",{className:"hidden sm:inline",children:t.label}),(0,$r.jsx)("span",{className:"sm:hidden",children:t.shortLabel})]},t.id)})})}),"inventory"===e&&(0,$r.jsxs)("div",{className:"space-y-4 sm:space-y-6",children:[(0,$r.jsx)(AD,{stats:b,loading:j}),(0,$r.jsx)(DD,{filters:m,onFiltersChange:g,categories:v||[],suppliers:x||[],loading:j}),(0,$r.jsxs)("div",{className:"hidden sm:flex items-center justify-between",children:[(0,$r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,$r.jsxs)("span",{className:"text-sm text-gray-600",children:[z.length," insumo",1!==z.length?"s":""," encontrado",1!==z.length?"s":""]}),m.lowStock&&(0,$r.jsxs)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-red-100 text-red-800",children:[(0,$r.jsx)(UO,{size:12,className:"mr-1"}),"Stock bajo"]})]}),(0,$r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,$r.jsx)("span",{className:"text-sm text-gray-600",children:"Vista:"}),(0,$r.jsxs)("div",{className:"flex bg-gray-100 rounded-lg p-1",children:[(0,$r.jsx)("button",{onClick:()=>a("grid"),className:"p-2 rounded transition-colors ".concat("grid"===n?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-gray-800"),children:(0,$r.jsx)(En,{size:16})}),(0,$r.jsx)("button",{onClick:()=>a("list"),className:"p-2 rounded transition-colors ".concat("list"===n?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-gray-800"),children:(0,$r.jsx)(wE,{size:16})})]})]})]}),"grid"===n?(0,$r.jsx)(ID,{supplies:z,loading:j,selectedSupplies:f,onSelectSupply:p,onEdit:R,onDelete:M,onRecordConsumption:L,onAdjustStock:I}):(0,$r.jsx)(RD,{supplies:z,loading:j,selectedSupplies:f,onSelectSupply:p,onEdit:R,onDelete:M,onRecordConsumption:L,onAdjustStock:I}),!j&&0===z.length&&y&&y.length>0&&(0,$r.jsxs)("div",{className:"text-center py-12",children:[(0,$r.jsx)(En,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),(0,$r.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No se encontraron insumos"}),(0,$r.jsx)("p",{className:"text-gray-600 mb-4",children:"Intenta ajustar los filtros de b\xfasqueda"}),(0,$r.jsx)(gn,{variant:"outline",onClick:()=>g({category:"all",status:"all",supplier:"all",search:"",lowStock:!1}),children:"Limpiar Filtros"})]})]}),"consumption"===e&&(0,$r.jsx)(LD,{history:w,supplies:y,loading:j}),"reports"===e&&(0,$r.jsx)("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6",children:(0,$r.jsxs)("div",{className:"text-center py-12",children:[(0,$r.jsx)(wE,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),(0,$r.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Reportes de Insumos"}),(0,$r.jsx)("p",{className:"text-gray-600 mb-4",children:"Pr\xf3ximamente: reportes detallados de consumo, costos y tendencias"}),(0,$r.jsxs)("div",{className:"flex flex-col sm:flex-row gap-2 justify-center",children:[(0,$r.jsx)(gn,{variant:"outline",size:"sm",children:"Reporte de Stock Bajo"}),(0,$r.jsx)(gn,{variant:"outline",size:"sm",children:"An\xe1lisis de Consumo"}),(0,$r.jsx)(gn,{variant:"outline",size:"sm",children:"Valorizaci\xf3n de Inventario"})]})]})}),s&&(0,$r.jsx)(FD,{isOpen:s,onClose:()=>i(!1),onSubmit:async e=>{try{(await k(e)).success&&i(!1)}catch(N){console.error("Error creating supply:",N)}},categories:v||[],suppliers:x||[]}),o&&d&&(0,$r.jsx)(qD,{isOpen:o,onClose:()=>{l(!1),h(null)},onSubmit:async e=>{try{(await S(d.id,e)).success&&(l(!1),h(null))}catch(N){console.error("Error updating supply:",N)}},supply:d,categories:v||[],suppliers:x||[]}),c&&(0,$r.jsx)(VD,{isOpen:c,onClose:()=>{u(!1),h(null)},onSubmit:async e=>{try{const t=y.find(t=>t.id===e.supplyId);if(t){const r=Math.max(0,t.currentStock-e.quantity);(await O(e.supplyId,{newStock:r,quantity:e.quantity,reason:"Consumo: ".concat(e.reason||"Consumo registrado"),type:"consumption"})).success&&(u(!1),h(null),p([]))}}catch(N){console.error("Error recording consumption:",N)}},supply:d,supplies:f.length>0?null===y||void 0===y?void 0:y.filter(e=>f.includes(e.id)):d?[d]:[]})]})},GD=Vr("chart-pie",[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]]),$D=e=>{var t,r;let{selectedPeriod:n,onPeriodChange:a,dateRange:s,onDateRangeChange:i,loading:o}=e;const l=e=>{a(e);const t=new Date;let r=c({},s);switch(e){case"today":r={startDate:new Date(t.getFullYear(),t.getMonth(),t.getDate()),endDate:new Date(t.getFullYear(),t.getMonth(),t.getDate(),23,59,59)};break;case"yesterday":const e=new Date(t.getTime()-864e5);r={startDate:new Date(e.getFullYear(),e.getMonth(),e.getDate()),endDate:new Date(e.getFullYear(),e.getMonth(),e.getDate(),23,59,59)};break;case"thisWeek":const n=new Date(t.getTime()-24*t.getDay()*60*60*1e3);r={startDate:new Date(n.getFullYear(),n.getMonth(),n.getDate()),endDate:t};break;case"lastWeek":const a=new Date(t.getTime()-24*(t.getDay()+7)*60*60*1e3),s=new Date(t.getTime()-24*t.getDay()*60*60*1e3);r={startDate:new Date(a.getFullYear(),a.getMonth(),a.getDate()),endDate:new Date(s.getFullYear(),s.getMonth(),s.getDate(),23,59,59)};break;case"thisMonth":r={startDate:new Date(t.getFullYear(),t.getMonth(),1),endDate:t};break;case"lastMonth":r={startDate:new Date(t.getFullYear(),t.getMonth()-1,1),endDate:new Date(t.getFullYear(),t.getMonth(),0)};break;case"thisQuarter":r={startDate:new Date(t.getFullYear(),3*Math.floor(t.getMonth()/3),1),endDate:t};break;case"thisYear":r={startDate:new Date(t.getFullYear(),0,1),endDate:t}}"custom"!==e&&i(r)},u=e=>e?e.toISOString().split("T")[0]:"",d=(e,t)=>{const r=new Date(t);i(c(c({},s),{},{[e]:r}))};return o?(0,$r.jsx)("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6",children:(0,$r.jsx)("div",{className:"animate-pulse",children:(0,$r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[...Array(4)].map((e,t)=>(0,$r.jsx)("div",{className:"h-10 bg-gray-200 rounded"},t))})})}):(0,$r.jsxs)("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6",children:[(0,$r.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,$r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,$r.jsx)(hE,{className:"w-5 h-5 text-gray-500"}),(0,$r.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Filtros de Per\xedodo"})]}),(0,$r.jsx)(gn,{variant:"outline",size:"sm",icon:Un,onClick:()=>window.location.reload(),children:"Actualizar"})]}),(0,$r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,$r.jsxs)("div",{className:"md:col-span-2",children:[(0,$r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Per\xedodo"}),(0,$r.jsx)("select",{value:n,onChange:e=>l(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[{value:"today",label:"Hoy"},{value:"yesterday",label:"Ayer"},{value:"thisWeek",label:"Esta Semana"},{value:"lastWeek",label:"Semana Pasada"},{value:"thisMonth",label:"Este Mes"},{value:"lastMonth",label:"Mes Pasado"},{value:"thisQuarter",label:"Este Trimestre"},{value:"thisYear",label:"Este A\xf1o"},{value:"custom",label:"Personalizado"}].map(e=>(0,$r.jsx)("option",{value:e.value,children:e.label},e.value))})]}),(0,$r.jsxs)("div",{className:"custom"===n?"block":"hidden md:block",children:[(0,$r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Fecha Inicio"}),(0,$r.jsxs)("div",{className:"relative",children:[(0,$r.jsx)(_n,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:16}),(0,$r.jsx)("input",{type:"date",value:u(s.startDate),onChange:e=>d("startDate",e.target.value),disabled:"custom"!==n,className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent disabled:bg-gray-100 disabled:cursor-not-allowed"})]})]}),(0,$r.jsxs)("div",{className:"custom"===n?"block":"hidden md:block",children:[(0,$r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Fecha Fin"}),(0,$r.jsxs)("div",{className:"relative",children:[(0,$r.jsx)(_n,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:16}),(0,$r.jsx)("input",{type:"date",value:u(s.endDate),onChange:e=>d("endDate",e.target.value),disabled:"custom"!==n,className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent disabled:bg-gray-100 disabled:cursor-not-allowed"})]})]})]}),(0,$r.jsxs)("div",{className:"mt-4 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:[(0,$r.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,$r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,$r.jsx)(_n,{className:"w-4 h-4 text-blue-600"}),(0,$r.jsx)("span",{className:"text-blue-900 font-medium",children:"Per\xedodo seleccionado:"})]}),(0,$r.jsxs)("span",{className:"text-blue-800",children:[null===(t=s.startDate)||void 0===t?void 0:t.toLocaleDateString("es-PE")," - ",null===(r=s.endDate)||void 0===r?void 0:r.toLocaleDateString("es-PE")]})]}),(0,$r.jsxs)("div",{className:"mt-1 text-xs text-blue-700",children:[Math.ceil((s.endDate-s.startDate)/864e5)," d\xeda(s) de datos"]})]}),(0,$r.jsx)("div",{className:"mt-4 pt-4 border-t border-gray-200",children:(0,$r.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,$r.jsx)("span",{className:"text-sm text-gray-600 mr-2",children:"Filtros r\xe1pidos:"}),(0,$r.jsx)("button",{onClick:()=>l("today"),className:"px-3 py-1 text-xs bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-full transition-colors",children:"Hoy"}),(0,$r.jsx)("button",{onClick:()=>l("thisWeek"),className:"px-3 py-1 text-xs bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-full transition-colors",children:"Esta Semana"}),(0,$r.jsx)("button",{onClick:()=>l("thisMonth"),className:"px-3 py-1 text-xs bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-full transition-colors",children:"Este Mes"}),(0,$r.jsx)("button",{onClick:()=>l("thisYear"),className:"px-3 py-1 text-xs bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-full transition-colors",children:"Este A\xf1o"})]})})]})};var KD=sS({chartName:"BarChart",GraphicalChild:oj,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:n_},{axisType:"yAxis",AxisComp:p_}],formatAxisMap:pj});const YD=e=>{let{data:t,loading:r,detailed:n=!1}=e;if(r)return(0,$r.jsx)("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6",children:(0,$r.jsxs)("div",{className:"animate-pulse",children:[(0,$r.jsx)("div",{className:"h-6 bg-gray-200 rounded w-1/3 mb-4"}),(0,$r.jsx)("div",{className:"h-64 bg-gray-200 rounded"})]})});const a=t||[{date:"2025-06-01",occupancy:65,availableRooms:15,occupiedRooms:35},{date:"2025-06-02",occupancy:72,availableRooms:14,occupiedRooms:36},{date:"2025-06-03",occupancy:78,availableRooms:11,occupiedRooms:39},{date:"2025-06-04",occupancy:85,availableRooms:8,occupiedRooms:42},{date:"2025-06-05",occupancy:92,availableRooms:4,occupiedRooms:46},{date:"2025-06-06",occupancy:88,availableRooms:6,occupiedRooms:44},{date:"2025-06-07",occupancy:77,availableRooms:12,occupiedRooms:38}],s=[{name:"Ocupadas",value:38,color:"#3B82F6"},{name:"Disponibles",value:12,color:"#10B981"}],i=a.reduce((e,t)=>e+t.occupancy,0)/a.length,o=Math.max(...a.map(e=>e.occupancy)),l=Math.min(...a.map(e=>e.occupancy)),c=e=>{let{active:t,payload:r,label:n}=e;return t&&r&&r.length?(0,$r.jsxs)("div",{className:"bg-white p-4 border border-gray-200 rounded-lg shadow-lg",children:[(0,$r.jsx)("p",{className:"font-semibold text-gray-900 mb-2",children:new Date(n).toLocaleDateString("es-PE")}),(0,$r.jsx)("div",{className:"space-y-1",children:(0,$r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,$r.jsx)("div",{className:"w-3 h-3 bg-blue-500 rounded-full"}),(0,$r.jsxs)("span",{className:"text-sm text-gray-600",children:["Ocupaci\xf3n: ",(0,$r.jsxs)("span",{className:"font-semibold text-blue-600",children:[r[0].value,"%"]})]})]})})]}):null};return(0,$r.jsxs)("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6",children:[(0,$r.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,$r.jsxs)("div",{children:[(0,$r.jsx)("h3",{className:"text-xl font-bold text-gray-900",children:"Reporte de Ocupaci\xf3n"}),(0,$r.jsx)("p",{className:"text-gray-600 text-sm mt-1",children:n?"An\xe1lisis detallado de ocupaci\xf3n":"Tendencia de ocupaci\xf3n diaria"})]}),(0,$r.jsx)("div",{className:"flex items-center space-x-4",children:(0,$r.jsxs)("div",{className:"text-right",children:[(0,$r.jsx)("p",{className:"text-xs text-gray-500",children:"Promedio"}),(0,$r.jsxs)("p",{className:"text-lg font-bold text-blue-600",children:[i.toFixed(1),"%"]})]})})]}),(0,$r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[(0,$r.jsx)("div",{className:"bg-blue-50 rounded-lg p-4",children:(0,$r.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,$r.jsx)("div",{className:"p-2 bg-blue-100 rounded-lg",children:(0,$r.jsx)(Hn,{className:"w-5 h-5 text-blue-600"})}),(0,$r.jsxs)("div",{children:[(0,$r.jsx)("p",{className:"text-sm text-blue-800 font-medium",children:"Ocupaci\xf3n Promedio"}),(0,$r.jsxs)("p",{className:"text-xl font-bold text-blue-900",children:[i.toFixed(1),"%"]})]})]})}),(0,$r.jsx)("div",{className:"bg-green-50 rounded-lg p-4",children:(0,$r.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,$r.jsx)("div",{className:"p-2 bg-green-100 rounded-lg",children:(0,$r.jsx)(_n,{className:"w-5 h-5 text-green-600"})}),(0,$r.jsxs)("div",{children:[(0,$r.jsx)("p",{className:"text-sm text-green-800 font-medium",children:"M\xe1xima Ocupaci\xf3n"}),(0,$r.jsxs)("p",{className:"text-xl font-bold text-green-900",children:[o,"%"]})]})]})}),(0,$r.jsx)("div",{className:"bg-orange-50 rounded-lg p-4",children:(0,$r.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,$r.jsx)("div",{className:"p-2 bg-orange-100 rounded-lg",children:(0,$r.jsx)(On,{className:"w-5 h-5 text-orange-600"})}),(0,$r.jsxs)("div",{children:[(0,$r.jsx)("p",{className:"text-sm text-orange-800 font-medium",children:"M\xednima Ocupaci\xf3n"}),(0,$r.jsxs)("p",{className:"text-xl font-bold text-orange-900",children:[l,"%"]})]})]})})]}),(0,$r.jsx)("div",{className:"h-80 mb-6",children:(0,$r.jsx)($o,{width:"100%",height:"100%",children:(0,$r.jsxs)(m_,{data:a,margin:{top:20,right:30,left:20,bottom:20},children:[(0,$r.jsx)(D_,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),(0,$r.jsx)(n_,{dataKey:"date",stroke:"#6b7280",fontSize:12,tickFormatter:e=>new Date(e).toLocaleDateString("es-PE",{month:"short",day:"numeric"})}),(0,$r.jsx)(p_,{stroke:"#6b7280",fontSize:12,domain:[0,100],tickFormatter:e=>"".concat(e,"%")}),(0,$r.jsx)(Yl,{content:(0,$r.jsx)(c,{})}),(0,$r.jsx)(jS,{type:"monotone",dataKey:"occupancy",stroke:"#3B82F6",strokeWidth:3,dot:{fill:"#3B82F6",strokeWidth:2,stroke:"#ffffff",r:5},activeDot:{r:7,stroke:"#3B82F6",strokeWidth:2,fill:"#ffffff"}})]})})}),n&&(0,$r.jsxs)($r.Fragment,{children:[(0,$r.jsxs)("div",{className:"mb-6",children:[(0,$r.jsx)("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Distribuci\xf3n de Habitaciones"}),(0,$r.jsx)("div",{className:"h-64",children:(0,$r.jsx)($o,{width:"100%",height:"100%",children:(0,$r.jsxs)(KD,{data:a,margin:{top:20,right:30,left:20,bottom:20},children:[(0,$r.jsx)(D_,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),(0,$r.jsx)(n_,{dataKey:"date",stroke:"#6b7280",fontSize:12,tickFormatter:e=>new Date(e).toLocaleDateString("es-PE",{month:"short",day:"numeric"})}),(0,$r.jsx)(p_,{stroke:"#6b7280",fontSize:12}),(0,$r.jsx)(Yl,{}),(0,$r.jsx)(oj,{dataKey:"occupiedRooms",fill:"#3B82F6",name:"Ocupadas",radius:[4,4,0,0]}),(0,$r.jsx)(oj,{dataKey:"availableRooms",fill:"#10B981",name:"Disponibles",radius:[4,4,0,0]})]})})})]}),(0,$r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,$r.jsxs)("div",{children:[(0,$r.jsx)("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Estado Actual de Habitaciones"}),(0,$r.jsx)("div",{className:"h-64",children:(0,$r.jsx)($o,{width:"100%",height:"100%",children:(0,$r.jsxs)(IO,{children:[(0,$r.jsx)(MO,{data:s,cx:"50%",cy:"50%",innerRadius:60,outerRadius:100,paddingAngle:5,dataKey:"value",children:s.map((e,t)=>(0,$r.jsx)(Lb,{fill:e.color},"cell-".concat(t)))}),(0,$r.jsx)(Yl,{})]})})}),(0,$r.jsx)("div",{className:"flex justify-center space-x-4 mt-4",children:s.map((e,t)=>(0,$r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,$r.jsx)("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:e.color}}),(0,$r.jsxs)("span",{className:"text-sm text-gray-600",children:[e.name,": ",e.value]})]},t))})]}),(0,$r.jsxs)("div",{children:[(0,$r.jsx)("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:"M\xe9tricas Clave"}),(0,$r.jsxs)("div",{className:"space-y-4",children:[(0,$r.jsx)("div",{className:"border border-gray-200 rounded-lg p-4",children:(0,$r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,$r.jsx)("span",{className:"text-sm text-gray-600",children:"D\xedas con +80% ocupaci\xf3n"}),(0,$r.jsxs)("span",{className:"font-semibold text-green-600",children:[a.filter(e=>e.occupancy>=80).length," d\xedas"]})]})}),(0,$r.jsx)("div",{className:"border border-gray-200 rounded-lg p-4",children:(0,$r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,$r.jsx)("span",{className:"text-sm text-gray-600",children:"D\xedas con -60% ocupaci\xf3n"}),(0,$r.jsxs)("span",{className:"font-semibold text-red-600",children:[a.filter(e=>e.occupancy<60).length," d\xedas"]})]})}),(0,$r.jsx)("div",{className:"border border-gray-200 rounded-lg p-4",children:(0,$r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,$r.jsx)("span",{className:"text-sm text-gray-600",children:"Variabilidad ocupaci\xf3n"}),(0,$r.jsxs)("span",{className:"font-semibold text-blue-600",children:[o-l,"% rango"]})]})}),(0,$r.jsx)("div",{className:"border border-gray-200 rounded-lg p-4",children:(0,$r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,$r.jsx)("span",{className:"text-sm text-gray-600",children:"Tendencia general"}),(0,$r.jsx)("span",{className:"font-semibold text-purple-600",children:a[a.length-1].occupancy>a[0].occupancy?"\u2197 Creciente":"\u2198 Decreciente"})]})})]})]})]})]})]})},XD=e=>{var r,n;let{dateRange:a={},selectedPeriod:s="thisMonth"}=e;const[i,o]=(0,t.useState)(!0),[l,c]=(0,t.useState)({totalRevenue:0,mainSource:"",mainSourcePercentage:0,categories:[],growth:0});(0,t.useEffect)(()=>{u()},[null===a||void 0===a?void 0:a.startDate,null===a||void 0===a?void 0:a.endDate,s]);const u=async()=>{o(!0);try{await new Promise(e=>setTimeout(e,800)),c({totalRevenue:245e3,mainSource:"Habitaciones",mainSourcePercentage:75.5,categories:[{name:"Habitaciones",amount:185e3,percentage:75.5,color:"#1e40af"},{name:"Restaurante",amount:32e3,percentage:13.1,color:"#7c3aed"},{name:"Spa",amount:17850,percentage:7.3,color:"#059669"},{name:"Servicios Adicionales",amount:10150,percentage:4.1,color:"#dc2626"}],growth:8.5})}catch(e){console.error("Error fetching revenue data:",e)}finally{o(!1)}};return i?(0,$r.jsx)("div",{className:"space-y-6",children:(0,$r.jsxs)("div",{className:"animate-pulse",children:[(0,$r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:[...Array(3)].map((e,t)=>(0,$r.jsxs)("div",{className:"bg-white p-6 rounded-xl shadow-lg",children:[(0,$r.jsx)("div",{className:"h-4 bg-gray-200 rounded mb-2"}),(0,$r.jsx)("div",{className:"h-8 bg-gray-200 rounded"})]},t))}),(0,$r.jsx)("div",{className:"bg-white p-6 rounded-xl shadow-lg h-96",children:(0,$r.jsx)("div",{className:"h-full bg-gray-200 rounded"})})]})}):(0,$r.jsxs)("div",{className:"space-y-6",children:[(0,$r.jsxs)("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center gap-4",children:[(0,$r.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,$r.jsx)(qn,{className:"w-8 h-8 text-green-600"}),(0,$r.jsxs)("div",{children:[(0,$r.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Reporte de Ingresos"}),(0,$r.jsx)("p",{className:"text-gray-600",children:"An\xe1lisis detallado de ingresos por categor\xeda"})]})]}),(0,$r.jsxs)("div",{className:"flex flex-col sm:flex-row items-start sm:items-center space-y-2 sm:space-y-0 sm:space-x-4",children:[(0,$r.jsxs)("div",{className:"text-right",children:[(0,$r.jsx)("p",{className:"text-xs text-gray-500",children:"Total"}),(0,$r.jsx)("p",{className:"text-xl lg:text-2xl font-bold text-green-600",children:YO(l.totalRevenue)})]}),(0,$r.jsx)(gn,{variant:"primary",icon:oE,onClick:()=>{console.log("Exportando reporte de ingresos...")},className:"flex-shrink-0",children:"Exportar"})]})]}),(0,$r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,$r.jsx)("div",{className:"bg-green-50 rounded-xl border border-green-200 p-6",children:(0,$r.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,$r.jsx)("div",{className:"p-3 bg-green-100 rounded-lg flex-shrink-0",children:(0,$r.jsx)(qn,{className:"w-6 h-6 text-green-600"})}),(0,$r.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,$r.jsx)("p",{className:"text-sm text-green-800 font-medium mb-1",children:"Ingresos Totales"}),(0,$r.jsx)("p",{className:"text-xl font-bold text-green-900 truncate",children:YO(l.totalRevenue)})]})]})}),(0,$r.jsx)("div",{className:"bg-blue-50 rounded-xl border border-blue-200 p-6",children:(0,$r.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,$r.jsx)("div",{className:"p-3 bg-blue-100 rounded-lg flex-shrink-0",children:(0,$r.jsx)(Hn,{className:"w-6 h-6 text-blue-600"})}),(0,$r.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,$r.jsx)("p",{className:"text-sm text-blue-800 font-medium mb-1",children:"Principal Fuente"}),(0,$r.jsx)("p",{className:"text-lg font-bold text-blue-900 truncate",children:l.mainSource}),(0,$r.jsxs)("p",{className:"text-xs text-blue-700",children:[l.mainSourcePercentage,"% del total"]})]})]})}),(0,$r.jsx)("div",{className:"bg-purple-50 rounded-xl border border-purple-200 p-6",children:(0,$r.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,$r.jsx)("div",{className:"p-3 bg-purple-100 rounded-lg flex-shrink-0",children:(0,$r.jsx)(GD,{className:"w-6 h-6 text-purple-600"})}),(0,$r.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,$r.jsx)("p",{className:"text-sm text-purple-800 font-medium mb-1",children:"Diversificaci\xf3n"}),(0,$r.jsx)("p",{className:"text-xl font-bold text-purple-900",children:l.categories.length}),(0,$r.jsx)("p",{className:"text-xs text-purple-700",children:"categor\xedas activas"})]})]})})]}),(0,$r.jsxs)("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6",children:[(0,$r.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,$r.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Distribuci\xf3n de Ingresos"}),(0,$r.jsxs)("p",{className:"text-sm text-gray-600",children:["Per\xedodo: ",(null===a||void 0===a||null===(r=a.startDate)||void 0===r?void 0:r.toLocaleDateString("es-PE"))||"No definido"," - ",(null===a||void 0===a||null===(n=a.endDate)||void 0===n?void 0:n.toLocaleDateString("es-PE"))||"No definido"]})]}),(0,$r.jsx)("div",{className:"space-y-4",children:l.categories.map((e,t)=>(0,$r.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow",children:[(0,$r.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between mb-3 gap-2",children:[(0,$r.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,$r.jsx)("div",{className:"w-4 h-4 rounded-full flex-shrink-0",style:{backgroundColor:e.color}}),(0,$r.jsx)("span",{className:"font-semibold text-gray-900",children:e.name})]}),(0,$r.jsxs)("div",{className:"text-left sm:text-right",children:[(0,$r.jsx)("p",{className:"text-lg font-bold text-gray-900",children:YO(e.amount)}),(0,$r.jsxs)("p",{className:"text-sm text-gray-600",children:[e.percentage,"% del total"]})]})]}),(0,$r.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-3 relative overflow-hidden",children:(0,$r.jsx)("div",{className:"h-3 rounded-full transition-all duration-1000 ease-out",style:{width:"".concat(e.percentage,"%"),backgroundColor:e.color}})})]},t))})]}),(0,$r.jsxs)("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6",children:[(0,$r.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Comparaci\xf3n por Categor\xedas"}),(0,$r.jsx)("div",{className:"space-y-6",children:l.categories.map((e,t)=>{const r=Math.max(...l.categories.map(e=>e.amount)),n=e.amount/r*100;return(0,$r.jsxs)("div",{className:"space-y-3",children:[(0,$r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,$r.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,$r.jsx)("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:e.color}}),(0,$r.jsx)("span",{className:"text-base font-medium text-gray-700",children:e.name})]}),(0,$r.jsxs)("div",{className:"text-right",children:[(0,$r.jsx)("p",{className:"text-lg font-bold text-gray-900",children:YO(e.amount)}),(0,$r.jsxs)("p",{className:"text-sm text-gray-600",children:[e.percentage,"%"]})]})]}),(0,$r.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-6 relative overflow-hidden",children:(0,$r.jsx)("div",{className:"h-6 rounded-full flex items-center justify-center text-white text-sm font-medium transition-all duration-1000 ease-out",style:{width:"".concat(n,"%"),backgroundColor:e.color},children:n>25&&"".concat(e.percentage,"%")})})]},t)})})]}),(0,$r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,$r.jsxs)("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6",children:[(0,$r.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:"An\xe1lisis de Rendimiento"}),(0,$r.jsxs)("div",{className:"space-y-4",children:[(0,$r.jsxs)("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[(0,$r.jsxs)("div",{children:[(0,$r.jsx)("span",{className:"text-sm text-gray-600",children:"Ingresos por habitaci\xf3n"}),(0,$r.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Promedio por habitaci\xf3n disponible"})]}),(0,$r.jsx)("span",{className:"text-xl font-semibold text-green-600",children:YO(3700)})]}),(0,$r.jsxs)("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[(0,$r.jsxs)("div",{children:[(0,$r.jsx)("span",{className:"text-sm text-gray-600",children:"Crecimiento vs mes anterior"}),(0,$r.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Tendencia positiva"})]}),(0,$r.jsxs)("span",{className:"text-xl font-semibold text-blue-600",children:["+",l.growth,"%"]})]}),(0,$r.jsxs)("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[(0,$r.jsxs)("div",{children:[(0,$r.jsx)("span",{className:"text-sm text-gray-600",children:"Ingresos no-habitaciones"}),(0,$r.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Diversificaci\xf3n de ingresos"})]}),(0,$r.jsx)("span",{className:"text-xl font-semibold text-purple-600",children:"24.5%"})]})]})]}),(0,$r.jsxs)("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6",children:[(0,$r.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Oportunidades de Mejora"}),(0,$r.jsxs)("div",{className:"space-y-4",children:[(0,$r.jsx)("div",{className:"border border-yellow-200 bg-yellow-50 rounded-lg p-4",children:(0,$r.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,$r.jsx)("div",{className:"p-2 bg-yellow-100 rounded-lg",children:(0,$r.jsx)(Hn,{className:"w-5 h-5 text-yellow-600"})}),(0,$r.jsxs)("div",{children:[(0,$r.jsx)("p",{className:"text-sm font-medium text-yellow-800 mb-1",children:"Servicios Adicionales"}),(0,$r.jsx)("p",{className:"text-xs text-yellow-700",children:"Solo representa 4.1% de ingresos. Potencial de crecimiento."})]})]})}),(0,$r.jsx)("div",{className:"border border-blue-200 bg-blue-50 rounded-lg p-4",children:(0,$r.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,$r.jsx)("div",{className:"p-2 bg-blue-100 rounded-lg",children:(0,$r.jsx)(GD,{className:"w-5 h-5 text-blue-600"})}),(0,$r.jsxs)("div",{children:[(0,$r.jsx)("p",{className:"text-sm font-medium text-blue-800 mb-1",children:"Spa"}),(0,$r.jsx)("p",{className:"text-xs text-blue-700",children:"Buen rendimiento (7.3%). Considerar expansi\xf3n de servicios."})]})]})}),(0,$r.jsx)("div",{className:"border border-green-200 bg-green-50 rounded-lg p-4",children:(0,$r.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,$r.jsx)("div",{className:"p-2 bg-green-100 rounded-lg",children:(0,$r.jsx)(qn,{className:"w-5 h-5 text-green-600"})}),(0,$r.jsxs)("div",{children:[(0,$r.jsx)("p",{className:"text-sm font-medium text-green-800 mb-1",children:"Habitaciones"}),(0,$r.jsx)("p",{className:"text-xs text-green-700",children:"Fuente principal s\xf3lida (75.5%). Mantener calidad."})]})]})})]})]})]}),(0,$r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,$r.jsx)("div",{className:"bg-white p-6 rounded-xl shadow-lg border border-gray-100",children:(0,$r.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,$r.jsx)("div",{className:"p-3 bg-indigo-100 rounded-lg",children:(0,$r.jsx)(qn,{className:"w-6 h-6 text-indigo-600"})}),(0,$r.jsxs)("div",{children:[(0,$r.jsx)("p",{className:"text-sm text-gray-600 mb-1",children:"ADR (Tarifa Promedio)"}),(0,$r.jsx)("p",{className:"text-xl font-bold text-gray-900",children:YO(285.5)})]})]})}),(0,$r.jsx)("div",{className:"bg-white p-6 rounded-xl shadow-lg border border-gray-100",children:(0,$r.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,$r.jsx)("div",{className:"p-3 bg-green-100 rounded-lg",children:(0,$r.jsx)(Hn,{className:"w-6 h-6 text-green-600"})}),(0,$r.jsxs)("div",{children:[(0,$r.jsx)("p",{className:"text-sm text-gray-600 mb-1",children:"RevPAR"}),(0,$r.jsx)("p",{className:"text-xl font-bold text-gray-900",children:YO(233.2)})]})]})}),(0,$r.jsx)("div",{className:"bg-white p-6 rounded-xl shadow-lg border border-gray-100",children:(0,$r.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,$r.jsx)("div",{className:"p-3 bg-blue-100 rounded-lg",children:(0,$r.jsx)(Hn,{className:"w-6 h-6 text-blue-600"})}),(0,$r.jsxs)("div",{children:[(0,$r.jsx)("p",{className:"text-sm text-gray-600 mb-1",children:"Margen de Ganancia"}),(0,$r.jsx)("p",{className:"text-xl font-bold text-gray-900",children:"27.3%"})]})]})}),(0,$r.jsx)("div",{className:"bg-white p-6 rounded-xl shadow-lg border border-gray-100",children:(0,$r.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,$r.jsx)("div",{className:"p-3 bg-purple-100 rounded-lg",children:(0,$r.jsx)(GD,{className:"w-6 h-6 text-purple-600"})}),(0,$r.jsxs)("div",{children:[(0,$r.jsx)("p",{className:"text-sm text-gray-600 mb-1",children:"Ingresos por D\xeda"}),(0,$r.jsx)("p",{className:"text-xl font-bold text-gray-900",children:YO(8166.67)})]})]})})]}),(0,$r.jsxs)("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6",children:[(0,$r.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Proyecciones y Metas"}),(0,$r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,$r.jsxs)("div",{className:"bg-gradient-to-r from-green-500 to-green-600 rounded-lg text-white p-6",children:[(0,$r.jsx)("p",{className:"text-green-100 text-sm mb-2",children:"Proyecci\xf3n Mes Siguiente"}),(0,$r.jsx)("p",{className:"text-2xl font-bold mb-1",children:YO(1.05*l.totalRevenue)}),(0,$r.jsx)("p",{className:"text-green-100 text-xs",children:"+5% estimado"})]}),(0,$r.jsxs)("div",{className:"bg-gradient-to-r from-blue-500 to-blue-600 rounded-lg text-white p-6",children:[(0,$r.jsx)("p",{className:"text-blue-100 text-sm mb-2",children:"Meta Trimestral"}),(0,$r.jsx)("p",{className:"text-2xl font-bold mb-1",children:YO(3.2*l.totalRevenue)}),(0,$r.jsx)("p",{className:"text-blue-100 text-xs",children:"+6.7% vs actual"})]}),(0,$r.jsxs)("div",{className:"bg-gradient-to-r from-purple-500 to-purple-600 rounded-lg text-white p-6",children:[(0,$r.jsx)("p",{className:"text-purple-100 text-sm mb-2",children:"Potencial Anual"}),(0,$r.jsx)("p",{className:"text-2xl font-bold mb-1",children:YO(12.8*l.totalRevenue)}),(0,$r.jsx)("p",{className:"text-purple-100 text-xs",children:"Con optimizaciones"})]})]})]})]})},JD=e=>{var r,n;let{dateRange:a={},selectedPeriod:s="thisMonth"}=e;const[i,o]=(0,t.useState)(!0),[l,c]=(0,t.useState)({totalGuests:0,newGuests:0,returningGuests:0,averageStay:0,topNationalities:[],guestsByMonth:[],occupancyTrend:[]});(0,t.useEffect)(()=>{u()},[null===a||void 0===a?void 0:a.startDate,null===a||void 0===a?void 0:a.endDate,s]);const u=async()=>{o(!0);try{await new Promise(e=>setTimeout(e,800)),c({totalGuests:1247,newGuests:856,returningGuests:391,averageStay:3.2,topNationalities:[{country:"Per\xfa",count:423,percentage:33.9},{country:"Brasil",count:287,percentage:23},{country:"Chile",count:198,percentage:15.9},{country:"Argentina",count:154,percentage:12.4},{country:"Colombia",count:123,percentage:9.9}],guestsByMonth:[{month:"Ene",guests:98},{month:"Feb",guests:112},{month:"Mar",guests:145},{month:"Abr",guests:132},{month:"May",guests:167},{month:"Jun",guests:189}],occupancyTrend:[{date:"2024-01",rate:78},{date:"2024-02",rate:82},{date:"2024-03",rate:85},{date:"2024-04",rate:79},{date:"2024-05",rate:88},{date:"2024-06",rate:92}]})}catch(e){console.error("Error fetching guests data:",e)}finally{o(!1)}};return i?(0,$r.jsx)("div",{className:"space-y-6",children:(0,$r.jsxs)("div",{className:"animate-pulse",children:[(0,$r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-6",children:[...Array(4)].map((e,t)=>(0,$r.jsxs)("div",{className:"bg-white p-6 rounded-xl shadow-lg",children:[(0,$r.jsx)("div",{className:"h-4 bg-gray-200 rounded mb-2"}),(0,$r.jsx)("div",{className:"h-8 bg-gray-200 rounded"})]},t))}),(0,$r.jsx)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[...Array(2)].map((e,t)=>(0,$r.jsx)("div",{className:"bg-white p-6 rounded-xl shadow-lg h-64",children:(0,$r.jsx)("div",{className:"h-full bg-gray-200 rounded"})},t))})]})}):(0,$r.jsxs)("div",{className:"space-y-6",children:[(0,$r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,$r.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,$r.jsx)(bn,{className:"w-8 h-8 text-blue-600"}),(0,$r.jsxs)("div",{children:[(0,$r.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Reporte de Hu\xe9spedes"}),(0,$r.jsxs)("p",{className:"text-gray-600",children:["Per\xedodo: ",(null===a||void 0===a||null===(r=a.startDate)||void 0===r?void 0:r.toLocaleDateString("es-PE"))||"No definido"," - ",(null===a||void 0===a||null===(n=a.endDate)||void 0===n?void 0:n.toLocaleDateString("es-PE"))||"No definido"]})]})]}),(0,$r.jsx)(gn,{variant:"primary",icon:oE,onClick:()=>{console.log("Exportando reporte de hu\xe9spedes...")},children:"Exportar"})]}),(0,$r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[(0,$r.jsxs)("div",{className:"bg-white p-6 rounded-xl shadow-lg border border-gray-100",children:[(0,$r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,$r.jsxs)("div",{children:[(0,$r.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Total Hu\xe9spedes"}),(0,$r.jsx)("p",{className:"text-3xl font-bold text-gray-900",children:l.totalGuests.toLocaleString()})]}),(0,$r.jsx)("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:(0,$r.jsx)(bn,{className:"w-6 h-6 text-blue-600"})})]}),(0,$r.jsxs)("div",{className:"mt-4 flex items-center",children:[(0,$r.jsx)(Hn,{className:"w-4 h-4 text-green-500 mr-1"}),(0,$r.jsx)("span",{className:"text-sm text-green-600",children:"+12.5% vs per\xedodo anterior"})]})]}),(0,$r.jsxs)("div",{className:"bg-white p-6 rounded-xl shadow-lg border border-gray-100",children:[(0,$r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,$r.jsxs)("div",{children:[(0,$r.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Hu\xe9spedes Nuevos"}),(0,$r.jsx)("p",{className:"text-3xl font-bold text-gray-900",children:l.newGuests.toLocaleString()})]}),(0,$r.jsx)("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:(0,$r.jsx)(bn,{className:"w-6 h-6 text-green-600"})})]}),(0,$r.jsx)("div",{className:"mt-4",children:(0,$r.jsxs)("span",{className:"text-sm text-gray-600",children:[(l.newGuests/l.totalGuests*100).toFixed(1),"% del total"]})})]}),(0,$r.jsxs)("div",{className:"bg-white p-6 rounded-xl shadow-lg border border-gray-100",children:[(0,$r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,$r.jsxs)("div",{children:[(0,$r.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Hu\xe9spedes Recurrentes"}),(0,$r.jsx)("p",{className:"text-3xl font-bold text-gray-900",children:l.returningGuests.toLocaleString()})]}),(0,$r.jsx)("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center",children:(0,$r.jsx)(bn,{className:"w-6 h-6 text-purple-600"})})]}),(0,$r.jsx)("div",{className:"mt-4",children:(0,$r.jsxs)("span",{className:"text-sm text-gray-600",children:[(l.returningGuests/l.totalGuests*100).toFixed(1),"% del total"]})})]}),(0,$r.jsx)("div",{className:"bg-white p-6 rounded-xl shadow-lg border border-gray-100",children:(0,$r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,$r.jsxs)("div",{children:[(0,$r.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Estad\xeda Promedio"}),(0,$r.jsx)("p",{className:"text-3xl font-bold text-gray-900",children:l.averageStay}),(0,$r.jsx)("p",{className:"text-sm text-gray-500",children:"d\xedas"})]}),(0,$r.jsx)("div",{className:"w-12 h-12 bg-orange-100 rounded-lg flex items-center justify-center",children:(0,$r.jsx)(_n,{className:"w-6 h-6 text-orange-600"})})]})})]}),(0,$r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,$r.jsxs)("div",{className:"bg-white p-6 rounded-xl shadow-lg border border-gray-100",children:[(0,$r.jsxs)("div",{className:"flex items-center space-x-2 mb-4",children:[(0,$r.jsx)(xn,{className:"w-5 h-5 text-gray-600"}),(0,$r.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Top Nacionalidades"})]}),(0,$r.jsx)("div",{className:"space-y-3",children:l.topNationalities.map((e,t)=>(0,$r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,$r.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,$r.jsx)("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:(0,$r.jsx)("span",{className:"text-sm font-medium text-blue-600",children:t+1})}),(0,$r.jsx)("span",{className:"font-medium text-gray-900",children:e.country})]}),(0,$r.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,$r.jsx)("div",{className:"w-24 bg-gray-200 rounded-full h-2",children:(0,$r.jsx)("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:"".concat(e.percentage,"%")}})}),(0,$r.jsx)("span",{className:"text-sm text-gray-600 w-12 text-right",children:e.count})]})]},e.country))})]}),(0,$r.jsxs)("div",{className:"bg-white p-6 rounded-xl shadow-lg border border-gray-100",children:[(0,$r.jsxs)("div",{className:"flex items-center space-x-2 mb-4",children:[(0,$r.jsx)(Hn,{className:"w-5 h-5 text-gray-600"}),(0,$r.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Hu\xe9spedes por Mes"})]}),(0,$r.jsx)("div",{className:"space-y-3",children:l.guestsByMonth.map(e=>(0,$r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,$r.jsx)("span",{className:"font-medium text-gray-700",children:e.month}),(0,$r.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,$r.jsx)("div",{className:"w-32 bg-gray-200 rounded-full h-2",children:(0,$r.jsx)("div",{className:"bg-green-500 h-2 rounded-full",style:{width:"".concat(e.guests/Math.max(...l.guestsByMonth.map(e=>e.guests))*100,"%")}})}),(0,$r.jsx)("span",{className:"text-sm text-gray-900 w-12 text-right font-medium",children:e.guests})]})]},e.month))})]})]}),(0,$r.jsxs)("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden",children:[(0,$r.jsx)("div",{className:"px-6 py-4 border-b border-gray-200",children:(0,$r.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Detalles por Per\xedodo"})}),(0,$r.jsx)("div",{className:"overflow-x-auto",children:(0,$r.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,$r.jsx)("thead",{className:"bg-gray-50",children:(0,$r.jsxs)("tr",{children:[(0,$r.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Per\xedodo"}),(0,$r.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total Hu\xe9spedes"}),(0,$r.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Nuevos"}),(0,$r.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Recurrentes"}),(0,$r.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tasa Ocupaci\xf3n"})]})}),(0,$r.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:l.occupancyTrend.map((e,t)=>(0,$r.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,$r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:e.date}),(0,$r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:Math.floor(200*Math.random())+150}),(0,$r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:Math.floor(100*Math.random())+80}),(0,$r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:Math.floor(50*Math.random())+30}),(0,$r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:(0,$r.jsxs)("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full ".concat(e.rate>=85?"bg-green-100 text-green-800":e.rate>=70?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"),children:[e.rate,"%"]})})]},t))})]})})]})]})},QD=e=>{var r,n;let{dateRange:a={},selectedPeriod:s="thisMonth"}=e;const[i,o]=(0,t.useState)(!0),[l,c]=(0,t.useState)({totalRooms:0,occupiedRooms:0,availableRooms:0,maintenanceRooms:0,occupancyRate:0,averageRate:0,revenue:0,roomTypes:[],dailyOccupancy:[],maintenanceIssues:[]});(0,t.useEffect)(()=>{u()},[null===a||void 0===a?void 0:a.startDate,null===a||void 0===a?void 0:a.endDate,s]);const u=async()=>{o(!0);try{await new Promise(e=>setTimeout(e,800)),c({totalRooms:120,occupiedRooms:98,availableRooms:18,maintenanceRooms:4,occupancyRate:81.7,averageRate:285.5,revenue:127845,roomTypes:[{type:"Standard",total:60,occupied:48,rate:80,avgPrice:180},{type:"Deluxe",total:35,occupied:32,rate:91.4,avgPrice:280},{type:"Suite",total:20,occupied:15,rate:75,avgPrice:450},{type:"Presidential",total:5,occupied:3,rate:60,avgPrice:800}],dailyOccupancy:[{date:"2024-06-01",occupied:95,available:25,rate:79.2},{date:"2024-06-02",occupied:102,available:18,rate:85},{date:"2024-06-03",occupied:98,available:22,rate:81.7},{date:"2024-06-04",occupied:89,available:31,rate:74.2},{date:"2024-06-05",occupied:105,available:15,rate:87.5}],maintenanceIssues:[{room:"301",issue:"Aire acondicionado",priority:"Alta",status:"En progreso"},{room:"205",issue:"Plomer\xeda",priority:"Media",status:"Pendiente"},{room:"418",issue:"Televisor",priority:"Baja",status:"Programado"},{room:"112",issue:"Ventana",priority:"Media",status:"En progreso"}]})}catch(e){console.error("Error fetching rooms data:",e)}finally{o(!1)}},d=e=>{switch(e){case"En progreso":return"bg-yellow-100 text-yellow-800";case"Pendiente":return"bg-red-100 text-red-800";case"Programado":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}},h=e=>{switch(e){case"Alta":return"text-red-600";case"Media":return"text-yellow-600";case"Baja":return"text-green-600";default:return"text-gray-600"}};return i?(0,$r.jsx)("div",{className:"space-y-6",children:(0,$r.jsxs)("div",{className:"animate-pulse",children:[(0,$r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-6",children:[...Array(4)].map((e,t)=>(0,$r.jsxs)("div",{className:"bg-white p-6 rounded-xl shadow-lg",children:[(0,$r.jsx)("div",{className:"h-4 bg-gray-200 rounded mb-2"}),(0,$r.jsx)("div",{className:"h-8 bg-gray-200 rounded"})]},t))}),(0,$r.jsx)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[...Array(2)].map((e,t)=>(0,$r.jsx)("div",{className:"bg-white p-6 rounded-xl shadow-lg h-64",children:(0,$r.jsx)("div",{className:"h-full bg-gray-200 rounded"})},t))})]})}):(0,$r.jsxs)("div",{className:"space-y-6",children:[(0,$r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,$r.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,$r.jsx)(On,{className:"w-8 h-8 text-purple-600"}),(0,$r.jsxs)("div",{children:[(0,$r.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Reporte de Habitaciones"}),(0,$r.jsxs)("p",{className:"text-gray-600",children:["Per\xedodo: ",(null===a||void 0===a||null===(r=a.startDate)||void 0===r?void 0:r.toLocaleDateString("es-PE"))||"No definido"," - ",(null===a||void 0===a||null===(n=a.endDate)||void 0===n?void 0:n.toLocaleDateString("es-PE"))||"No definido"]})]})]}),(0,$r.jsx)(gn,{variant:"primary",icon:oE,onClick:()=>{console.log("Exportando reporte de habitaciones...")},children:"Exportar"})]}),(0,$r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[(0,$r.jsx)("div",{className:"bg-white p-6 rounded-xl shadow-lg border border-gray-100",children:(0,$r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,$r.jsxs)("div",{children:[(0,$r.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Total Habitaciones"}),(0,$r.jsx)("p",{className:"text-3xl font-bold text-gray-900",children:l.totalRooms})]}),(0,$r.jsx)("div",{className:"w-12 h-12 bg-gray-100 rounded-lg flex items-center justify-center",children:(0,$r.jsx)(On,{className:"w-6 h-6 text-gray-600"})})]})}),(0,$r.jsxs)("div",{className:"bg-white p-6 rounded-xl shadow-lg border border-gray-100",children:[(0,$r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,$r.jsxs)("div",{children:[(0,$r.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Habitaciones Ocupadas"}),(0,$r.jsx)("p",{className:"text-3xl font-bold text-green-600",children:l.occupiedRooms})]}),(0,$r.jsx)("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:(0,$r.jsx)(gE,{className:"w-6 h-6 text-green-600"})})]}),(0,$r.jsx)("div",{className:"mt-4",children:(0,$r.jsxs)("span",{className:"text-sm text-gray-600",children:[l.occupancyRate.toFixed(1),"% ocupaci\xf3n"]})})]}),(0,$r.jsx)("div",{className:"bg-white p-6 rounded-xl shadow-lg border border-gray-100",children:(0,$r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,$r.jsxs)("div",{children:[(0,$r.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Habitaciones Disponibles"}),(0,$r.jsx)("p",{className:"text-3xl font-bold text-blue-600",children:l.availableRooms})]}),(0,$r.jsx)("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:(0,$r.jsx)(On,{className:"w-6 h-6 text-blue-600"})})]})}),(0,$r.jsx)("div",{className:"bg-white p-6 rounded-xl shadow-lg border border-gray-100",children:(0,$r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,$r.jsxs)("div",{children:[(0,$r.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"En Mantenimiento"}),(0,$r.jsx)("p",{className:"text-3xl font-bold text-orange-600",children:l.maintenanceRooms})]}),(0,$r.jsx)("div",{className:"w-12 h-12 bg-orange-100 rounded-lg flex items-center justify-center",children:(0,$r.jsx)(on,{className:"w-6 h-6 text-orange-600"})})]})})]}),(0,$r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,$r.jsxs)("div",{className:"bg-white p-6 rounded-xl shadow-lg border border-gray-100",children:[(0,$r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,$r.jsxs)("div",{children:[(0,$r.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Tarifa Promedio"}),(0,$r.jsxs)("p",{className:"text-3xl font-bold text-gray-900",children:["S/ ",l.averageRate.toFixed(2)]})]}),(0,$r.jsx)("div",{className:"w-12 h-12 bg-indigo-100 rounded-lg flex items-center justify-center",children:(0,$r.jsx)(Hn,{className:"w-6 h-6 text-indigo-600"})})]}),(0,$r.jsxs)("div",{className:"mt-4 flex items-center",children:[(0,$r.jsx)(Hn,{className:"w-4 h-4 text-green-500 mr-1"}),(0,$r.jsx)("span",{className:"text-sm text-green-600",children:"+8.3% vs per\xedodo anterior"})]})]}),(0,$r.jsxs)("div",{className:"bg-white p-6 rounded-xl shadow-lg border border-gray-100",children:[(0,$r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,$r.jsxs)("div",{children:[(0,$r.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Ingresos por Habitaciones"}),(0,$r.jsxs)("p",{className:"text-3xl font-bold text-gray-900",children:["S/ ",l.revenue.toLocaleString()]})]}),(0,$r.jsx)("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:(0,$r.jsx)(Hn,{className:"w-6 h-6 text-green-600"})})]}),(0,$r.jsxs)("div",{className:"mt-4 flex items-center",children:[(0,$r.jsx)(Hn,{className:"w-4 h-4 text-green-500 mr-1"}),(0,$r.jsx)("span",{className:"text-sm text-green-600",children:"+15.2% vs per\xedodo anterior"})]})]})]}),(0,$r.jsxs)("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden",children:[(0,$r.jsx)("div",{className:"px-6 py-4 border-b border-gray-200",children:(0,$r.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Ocupaci\xf3n por Tipo de Habitaci\xf3n"})}),(0,$r.jsx)("div",{className:"overflow-x-auto",children:(0,$r.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,$r.jsx)("thead",{className:"bg-gray-50",children:(0,$r.jsxs)("tr",{children:[(0,$r.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tipo"}),(0,$r.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total"}),(0,$r.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Ocupadas"}),(0,$r.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tasa Ocupaci\xf3n"}),(0,$r.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tarifa Promedio"}),(0,$r.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"RevPAR"})]})}),(0,$r.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:l.roomTypes.map((e,t)=>(0,$r.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,$r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:e.type}),(0,$r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.total}),(0,$r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.occupied}),(0,$r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:(0,$r.jsxs)("div",{className:"flex items-center",children:[(0,$r.jsx)("div",{className:"w-16 bg-gray-200 rounded-full h-2 mr-2",children:(0,$r.jsx)("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:"".concat(e.rate,"%")}})}),(0,$r.jsxs)("span",{className:"text-sm font-medium",children:[e.rate.toFixed(1),"%"]})]})}),(0,$r.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:["S/ ",e.avgPrice]}),(0,$r.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:["S/ ",(e.avgPrice*(e.rate/100)).toFixed(2)]})]},t))})]})})]}),(0,$r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,$r.jsxs)("div",{className:"bg-white p-6 rounded-xl shadow-lg border border-gray-100",children:[(0,$r.jsxs)("div",{className:"flex items-center space-x-2 mb-4",children:[(0,$r.jsx)(Hn,{className:"w-5 h-5 text-gray-600"}),(0,$r.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Ocupaci\xf3n Diaria"})]}),(0,$r.jsx)("div",{className:"space-y-3",children:l.dailyOccupancy.map((e,t)=>(0,$r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,$r.jsx)("span",{className:"text-sm font-medium text-gray-700",children:new Date(e.date).toLocaleDateString("es-PE",{weekday:"short",month:"short",day:"numeric"})}),(0,$r.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,$r.jsx)("div",{className:"w-24 bg-gray-200 rounded-full h-2",children:(0,$r.jsx)("div",{className:"bg-purple-600 h-2 rounded-full",style:{width:"".concat(e.rate,"%")}})}),(0,$r.jsxs)("span",{className:"text-sm text-gray-900 w-16 text-right",children:[e.occupied,"/",e.occupied+e.available]}),(0,$r.jsxs)("span",{className:"text-sm font-medium text-gray-700 w-12 text-right",children:[e.rate.toFixed(1),"%"]})]})]},t))})]}),(0,$r.jsxs)("div",{className:"bg-white p-6 rounded-xl shadow-lg border border-gray-100",children:[(0,$r.jsxs)("div",{className:"flex items-center space-x-2 mb-4",children:[(0,$r.jsx)(on,{className:"w-5 h-5 text-gray-600"}),(0,$r.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Issues de Mantenimiento"})]}),(0,$r.jsx)("div",{className:"space-y-3",children:l.maintenanceIssues.map((e,t)=>(0,$r.jsxs)("div",{className:"border border-gray-200 rounded-lg p-3",children:[(0,$r.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,$r.jsxs)("span",{className:"font-medium text-gray-900",children:["Habitaci\xf3n ",e.room]}),(0,$r.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full ".concat(d(e.status)),children:e.status})]}),(0,$r.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,$r.jsx)("span",{className:"text-gray-600",children:e.issue}),(0,$r.jsx)("span",{className:"font-medium ".concat(h(e.priority)),children:e.priority})]})]},t))}),(0,$r.jsx)("div",{className:"mt-4 pt-4 border-t border-gray-200",children:(0,$r.jsx)(gn,{variant:"outline",size:"sm",className:"w-full",children:"Ver Todos los Issues"})})]})]}),(0,$r.jsxs)("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6",children:[(0,$r.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Estad\xedsticas del Per\xedodo"}),(0,$r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,$r.jsxs)("div",{className:"text-center",children:[(0,$r.jsx)("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-2",children:(0,$r.jsx)(Vn,{className:"w-8 h-8 text-blue-600"})}),(0,$r.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:"2.3"}),(0,$r.jsx)("p",{className:"text-sm text-gray-600",children:"D\xedas promedio entre reservas"})]}),(0,$r.jsxs)("div",{className:"text-center",children:[(0,$r.jsx)("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-2",children:(0,$r.jsx)(gE,{className:"w-8 h-8 text-green-600"})}),(0,$r.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:"96.2%"}),(0,$r.jsx)("p",{className:"text-sm text-gray-600",children:"Tasa de limpieza a tiempo"})]}),(0,$r.jsxs)("div",{className:"text-center",children:[(0,$r.jsx)("div",{className:"w-16 h-16 bg-purple-100 rounded-full flex items-center justify-center mx-auto mb-2",children:(0,$r.jsx)(Hn,{className:"w-8 h-8 text-purple-600"})}),(0,$r.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:"4.7"}),(0,$r.jsx)("p",{className:"text-sm text-gray-600",children:"Calificaci\xf3n promedio habitaciones"})]})]})]})]})},ZD=e=>{var r,n;let{dateRange:a={},selectedPeriod:s="thisMonth"}=e;const[i,o]=(0,t.useState)(!0),[l,c]=(0,t.useState)({totalItems:0,lowStockItems:0,totalValue:0,monthlyConsumption:0,categories:[],lowStockAlerts:[],topConsumed:[],monthlyTrend:[]});(0,t.useEffect)(()=>{u()},[null===a||void 0===a?void 0:a.startDate,null===a||void 0===a?void 0:a.endDate,s]);const u=async()=>{o(!0);try{await new Promise(e=>setTimeout(e,800)),c({totalItems:1247,lowStockItems:23,totalValue:45678.9,monthlyConsumption:12450.3,categories:[{name:"Amenities",items:245,value:8900,percentage:19.5,lowStock:8},{name:"Limpieza",items:189,value:15600,percentage:34.1,lowStock:7},{name:"Cocina",items:156,value:12300,percentage:26.9,lowStock:4},{name:"Mantenimiento",items:98,value:6800,percentage:14.9,lowStock:3},{name:"Oficina",items:67,value:2078,percentage:4.6,lowStock:1}],lowStockAlerts:[{item:"Toallas de ba\xf1o",category:"Amenities",current:15,minimum:50,status:"Cr\xedtico"},{item:"Detergente industrial",category:"Limpieza",current:8,minimum:25,status:"Cr\xedtico"},{item:"Papel higi\xe9nico",category:"Amenities",current:45,minimum:100,status:"Bajo"},{item:"Desinfectante",category:"Limpieza",current:12,minimum:30,status:"Cr\xedtico"},{item:"Aceite de cocina",category:"Cocina",current:18,minimum:40,status:"Bajo"}],topConsumed:[{item:"Papel higi\xe9nico",category:"Amenities",consumed:350,cost:1400},{item:"Toallas",category:"Amenities",consumed:280,cost:2240},{item:"Detergente",category:"Limpieza",consumed:120,cost:960},{item:"Jab\xf3n l\xedquido",category:"Amenities",consumed:145,cost:580},{item:"Desinfectante",category:"Limpieza",consumed:89,cost:712}],monthlyTrend:[{month:"Ene",consumption:11200,cost:8900},{month:"Feb",consumption:10800,cost:8650},{month:"Mar",consumption:12100,cost:9400},{month:"Abr",consumption:11900,cost:9200},{month:"May",consumption:12800,cost:9800},{month:"Jun",consumption:12450,cost:9650}]})}catch(e){console.error("Error fetching supplies data:",e)}finally{o(!1)}},d=e=>{switch(e){case"Cr\xedtico":return"bg-red-100 text-red-800 border-red-200";case"Bajo":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"Normal":return"bg-green-100 text-green-800 border-green-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},h=e=>{switch(e){case"Cr\xedtico":return(0,$r.jsx)(UO,{className:"w-4 h-4 text-red-600"});case"Bajo":return(0,$r.jsx)(UO,{className:"w-4 h-4 text-yellow-600"});default:return(0,$r.jsx)(En,{className:"w-4 h-4 text-green-600"})}};return i?(0,$r.jsx)("div",{className:"space-y-6",children:(0,$r.jsxs)("div",{className:"animate-pulse",children:[(0,$r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-6",children:[...Array(4)].map((e,t)=>(0,$r.jsxs)("div",{className:"bg-white p-6 rounded-xl shadow-lg",children:[(0,$r.jsx)("div",{className:"h-4 bg-gray-200 rounded mb-2"}),(0,$r.jsx)("div",{className:"h-8 bg-gray-200 rounded"})]},t))}),(0,$r.jsx)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[...Array(2)].map((e,t)=>(0,$r.jsx)("div",{className:"bg-white p-6 rounded-xl shadow-lg h-64",children:(0,$r.jsx)("div",{className:"h-full bg-gray-200 rounded"})},t))})]})}):(0,$r.jsxs)("div",{className:"space-y-6",children:[(0,$r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,$r.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,$r.jsx)(En,{className:"w-8 h-8 text-orange-600"}),(0,$r.jsxs)("div",{children:[(0,$r.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Reporte de Suministros"}),(0,$r.jsxs)("p",{className:"text-gray-600",children:["Per\xedodo: ",(null===a||void 0===a||null===(r=a.startDate)||void 0===r?void 0:r.toLocaleDateString("es-PE"))||"No definido"," - ",(null===a||void 0===a||null===(n=a.endDate)||void 0===n?void 0:n.toLocaleDateString("es-PE"))||"No definido"]})]})]}),(0,$r.jsx)(gn,{variant:"primary",icon:oE,onClick:()=>{console.log("Exportando reporte de suministros...")},children:"Exportar"})]}),(0,$r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[(0,$r.jsx)("div",{className:"bg-white p-6 rounded-xl shadow-lg border border-gray-100",children:(0,$r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,$r.jsxs)("div",{children:[(0,$r.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Total Items"}),(0,$r.jsx)("p",{className:"text-3xl font-bold text-gray-900",children:l.totalItems.toLocaleString()})]}),(0,$r.jsx)("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:(0,$r.jsx)(En,{className:"w-6 h-6 text-blue-600"})})]})}),(0,$r.jsxs)("div",{className:"bg-white p-6 rounded-xl shadow-lg border border-gray-100",children:[(0,$r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,$r.jsxs)("div",{children:[(0,$r.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Stock Bajo"}),(0,$r.jsx)("p",{className:"text-3xl font-bold text-red-600",children:l.lowStockItems})]}),(0,$r.jsx)("div",{className:"w-12 h-12 bg-red-100 rounded-lg flex items-center justify-center",children:(0,$r.jsx)(UO,{className:"w-6 h-6 text-red-600"})})]}),(0,$r.jsx)("div",{className:"mt-4",children:(0,$r.jsx)("span",{className:"text-sm text-red-600",children:"Requieren atenci\xf3n inmediata"})})]}),(0,$r.jsx)("div",{className:"bg-white p-6 rounded-xl shadow-lg border border-gray-100",children:(0,$r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,$r.jsxs)("div",{children:[(0,$r.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Valor Total Inventario"}),(0,$r.jsxs)("p",{className:"text-3xl font-bold text-gray-900",children:["S/ ",l.totalValue.toLocaleString()]})]}),(0,$r.jsx)("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:(0,$r.jsx)(qn,{className:"w-6 h-6 text-green-600"})})]})}),(0,$r.jsxs)("div",{className:"bg-white p-6 rounded-xl shadow-lg border border-gray-100",children:[(0,$r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,$r.jsxs)("div",{children:[(0,$r.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Consumo Mensual"}),(0,$r.jsxs)("p",{className:"text-3xl font-bold text-gray-900",children:["S/ ",l.monthlyConsumption.toLocaleString()]})]}),(0,$r.jsx)("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center",children:(0,$r.jsx)(Ii,{className:"w-6 h-6 text-purple-600"})})]}),(0,$r.jsxs)("div",{className:"mt-4 flex items-center",children:[(0,$r.jsx)(Ii,{className:"w-4 h-4 text-green-500 mr-1"}),(0,$r.jsx)("span",{className:"text-sm text-green-600",children:"-3.2% vs mes anterior"})]})]})]}),(0,$r.jsxs)("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6",children:[(0,$r.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,$r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,$r.jsx)(UO,{className:"w-5 h-5 text-red-600"}),(0,$r.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Alertas de Stock Bajo"})]}),(0,$r.jsx)(gn,{variant:"outline",size:"sm",icon:tE,children:"Generar Orden de Compra"})]}),(0,$r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:l.lowStockAlerts.map((e,t)=>(0,$r.jsxs)("div",{className:"border-2 rounded-lg p-4 ".concat(d(e.status)),children:[(0,$r.jsxs)("div",{className:"flex items-start justify-between mb-2",children:[(0,$r.jsxs)("div",{children:[(0,$r.jsx)("h4",{className:"font-medium text-gray-900",children:e.item}),(0,$r.jsx)("p",{className:"text-sm text-gray-600",children:e.category})]}),h(e.status)]}),(0,$r.jsxs)("div",{className:"space-y-1",children:[(0,$r.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,$r.jsx)("span",{children:"Stock actual:"}),(0,$r.jsx)("span",{className:"font-medium",children:e.current})]}),(0,$r.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,$r.jsx)("span",{children:"Stock m\xednimo:"}),(0,$r.jsx)("span",{className:"font-medium",children:e.minimum})]}),(0,$r.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2 mt-2",children:(0,$r.jsx)("div",{className:"h-2 rounded-full ".concat("Cr\xedtico"===e.status?"bg-red-500":"bg-yellow-500"),style:{width:"".concat(e.current/e.minimum*100,"%")}})})]})]},t))})]}),(0,$r.jsxs)("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden",children:[(0,$r.jsx)("div",{className:"px-6 py-4 border-b border-gray-200",children:(0,$r.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Inventario por Categor\xeda"})}),(0,$r.jsx)("div",{className:"overflow-x-auto",children:(0,$r.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,$r.jsx)("thead",{className:"bg-gray-50",children:(0,$r.jsxs)("tr",{children:[(0,$r.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Categor\xeda"}),(0,$r.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Items"}),(0,$r.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Valor Total"}),(0,$r.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"% del Total"}),(0,$r.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Stock Bajo"})]})}),(0,$r.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:l.categories.map((e,t)=>(0,$r.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,$r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:e.name}),(0,$r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.items}),(0,$r.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:["S/ ",e.value.toLocaleString()]}),(0,$r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:(0,$r.jsxs)("div",{className:"flex items-center",children:[(0,$r.jsx)("div",{className:"w-16 bg-gray-200 rounded-full h-2 mr-2",children:(0,$r.jsx)("div",{className:"bg-orange-600 h-2 rounded-full",style:{width:"".concat(e.percentage,"%")}})}),(0,$r.jsxs)("span",{children:[e.percentage.toFixed(1),"%"]})]})}),(0,$r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.lowStock>0?(0,$r.jsxs)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800",children:[e.lowStock," items"]}):(0,$r.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"OK"})})]},t))})]})})]}),(0,$r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,$r.jsxs)("div",{className:"bg-white p-6 rounded-xl shadow-lg border border-gray-100",children:[(0,$r.jsxs)("div",{className:"flex items-center space-x-2 mb-4",children:[(0,$r.jsx)(Ii,{className:"w-5 h-5 text-gray-600"}),(0,$r.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Items M\xe1s Consumidos"})]}),(0,$r.jsx)("div",{className:"space-y-3",children:l.topConsumed.map((e,t)=>(0,$r.jsxs)("div",{className:"flex items-center justify-between border-b border-gray-100 pb-2",children:[(0,$r.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,$r.jsx)("div",{className:"w-8 h-8 bg-orange-100 rounded-full flex items-center justify-center",children:(0,$r.jsx)("span",{className:"text-sm font-medium text-orange-600",children:t+1})}),(0,$r.jsxs)("div",{children:[(0,$r.jsx)("p",{className:"font-medium text-gray-900",children:e.item}),(0,$r.jsx)("p",{className:"text-sm text-gray-600",children:e.category})]})]}),(0,$r.jsxs)("div",{className:"text-right",children:[(0,$r.jsx)("p",{className:"font-medium text-gray-900",children:e.consumed}),(0,$r.jsxs)("p",{className:"text-sm text-gray-600",children:["S/ ",e.cost]})]})]},t))})]}),(0,$r.jsxs)("div",{className:"bg-white p-6 rounded-xl shadow-lg border border-gray-100",children:[(0,$r.jsxs)("div",{className:"flex items-center space-x-2 mb-4",children:[(0,$r.jsx)(Ii,{className:"w-5 h-5 text-gray-600"}),(0,$r.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Tendencia de Consumo"})]}),(0,$r.jsx)("div",{className:"space-y-3",children:l.monthlyTrend.map((e,t)=>(0,$r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,$r.jsx)("span",{className:"font-medium text-gray-700",children:e.month}),(0,$r.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,$r.jsx)("div",{className:"w-24 bg-gray-200 rounded-full h-2",children:(0,$r.jsx)("div",{className:"bg-purple-600 h-2 rounded-full",style:{width:"".concat(e.cost/Math.max(...l.monthlyTrend.map(e=>e.cost))*100,"%")}})}),(0,$r.jsxs)("span",{className:"text-sm text-gray-900 w-16 text-right",children:["S/ ",(e.cost/1e3).toFixed(1),"k"]})]})]},t))})]})]})]})},eM=Vr("chart-line",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"m19 9-5 5-4-4-3 3",key:"2osh9i"}]]),tM=e=>{var r,n;let{dateRange:a={},selectedPeriod:s="thisMonth"}=e;const[i,o]=(0,t.useState)(!1),[l,u]=(0,t.useState)({title:"",description:"",metrics:[],charts:[],filters:[]}),[d,h]=(0,t.useState)([]),[f,p]=(0,t.useState)("blank"),m=[{id:"occupancy_rate",name:"Tasa de Ocupaci\xf3n",category:"Habitaciones",type:"percentage"},{id:"revenue",name:"Ingresos Totales",category:"Financiero",type:"currency"},{id:"adr",name:"Tarifa Promedio (ADR)",category:"Financiero",type:"currency"},{id:"revpar",name:"RevPAR",category:"Financiero",type:"currency"},{id:"guest_count",name:"N\xfamero de Hu\xe9spedes",category:"Hu\xe9spedes",type:"number"},{id:"avg_stay",name:"Estad\xeda Promedio",category:"Hu\xe9spedes",type:"decimal"},{id:"cancellation_rate",name:"Tasa de Cancelaci\xf3n",category:"Reservas",type:"percentage"},{id:"no_show_rate",name:"Tasa de No Show",category:"Reservas",type:"percentage"},{id:"maintenance_issues",name:"Issues de Mantenimiento",category:"Operaciones",type:"number"},{id:"supply_cost",name:"Costo de Suministros",category:"Operaciones",type:"currency"},{id:"guest_satisfaction",name:"Satisfacci\xf3n del Cliente",category:"Calidad",type:"rating"},{id:"staff_productivity",name:"Productividad del Personal",category:"RRHH",type:"percentage"}],g=[{id:"line",name:"Gr\xe1fico de L\xedneas",icon:eM,description:"Para mostrar tendencias en el tiempo"},{id:"bar",name:"Gr\xe1fico de Barras",icon:Cn,description:"Para comparar valores entre categor\xedas"},{id:"pie",name:"Gr\xe1fico Circular",icon:GD,description:"Para mostrar proporciones del total"}];(0,t.useEffect)(()=>{y(),v(f)},[f]);const y=()=>{h([{id:1,title:"Reporte Mensual Gerencia",lastModified:"2024-06-20",metrics:8},{id:2,title:"An\xe1lisis de Ocupaci\xf3n Semanal",lastModified:"2024-06-18",metrics:5},{id:3,title:"Reporte Financiero Trimestral",lastModified:"2024-06-15",metrics:12}])},v=e=>{const t={blank:{title:"",description:"",metrics:[],charts:[],filters:[]},financial:{title:"Reporte Financiero",description:"An\xe1lisis completo de ingresos y m\xe9tricas financieras",metrics:["revenue","adr","revpar","occupancy_rate"],charts:[{type:"line",metric:"revenue",title:"Tendencia de Ingresos"},{type:"bar",metric:"adr",title:"ADR por Tipo de Habitaci\xf3n"}],filters:["room_type","booking_source"]},operational:{title:"Reporte Operacional",description:"M\xe9tricas de ocupaci\xf3n y eficiencia operativa",metrics:["occupancy_rate","maintenance_issues","supply_cost","staff_productivity"],charts:[{type:"line",metric:"occupancy_rate",title:"Ocupaci\xf3n Diaria"},{type:"pie",metric:"maintenance_issues",title:"Distribuci\xf3n de Issues"}],filters:["department","priority_level"]},guest_analysis:{title:"An\xe1lisis de Hu\xe9spedes",description:"Comportamiento y satisfacci\xf3n de hu\xe9spedes",metrics:["guest_count","avg_stay","guest_satisfaction","cancellation_rate"],charts:[{type:"bar",metric:"guest_count",title:"Hu\xe9spedes por Nacionalidad"},{type:"line",metric:"guest_satisfaction",title:"Evoluci\xf3n de Satisfacci\xf3n"}],filters:["nationality","room_type","booking_channel"]}};u(t[e]||t.blank)};return(0,$r.jsxs)("div",{className:"space-y-6",children:[(0,$r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,$r.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,$r.jsx)(Pn,{className:"w-8 h-8 text-indigo-600"}),(0,$r.jsxs)("div",{children:[(0,$r.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Reportes Personalizados"}),(0,$r.jsx)("p",{className:"text-gray-600",children:"Crea reportes adaptados a tus necesidades espec\xedficas"})]})]}),(0,$r.jsxs)("div",{className:"flex space-x-2",children:[(0,$r.jsx)(gn,{variant:"outline",icon:BD,onClick:()=>{if(!l.title.trim())return void alert("Por favor ingresa un t\xedtulo para el reporte");const e={id:Date.now(),title:l.title,lastModified:(new Date).toISOString().split("T")[0],metrics:l.metrics.length};h(t=>[e,...t]),alert("Reporte guardado exitosamente")},disabled:!l.title.trim(),children:"Guardar"}),(0,$r.jsx)(gn,{variant:"primary",icon:oE,onClick:()=>{console.log("Exportando reporte personalizado...")},disabled:0===l.metrics.length,children:"Exportar"})]})]}),(0,$r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,$r.jsxs)("div",{className:"lg:col-span-2 space-y-6",children:[(0,$r.jsxs)("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6",children:[(0,$r.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Informaci\xf3n del Reporte"}),(0,$r.jsxs)("div",{className:"mb-4",children:[(0,$r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Plantilla Base"}),(0,$r.jsx)("select",{value:f,onChange:e=>p(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent",children:[{id:"blank",name:"Reporte en Blanco",description:"Comenzar desde cero"},{id:"financial",name:"Reporte Financiero",description:"M\xe9tricas de ingresos y rentabilidad"},{id:"operational",name:"Reporte Operacional",description:"M\xe9tricas de ocupaci\xf3n y operaciones"},{id:"guest_analysis",name:"An\xe1lisis de Hu\xe9spedes",description:"Comportamiento y satisfacci\xf3n de hu\xe9spedes"}].map(e=>(0,$r.jsxs)("option",{value:e.id,children:[e.name," - ",e.description]},e.id))})]}),(0,$r.jsxs)("div",{className:"grid grid-cols-1 gap-4",children:[(0,$r.jsxs)("div",{children:[(0,$r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"T\xedtulo del Reporte"}),(0,$r.jsx)("input",{type:"text",value:l.title,onChange:e=>u(t=>c(c({},t),{},{title:e.target.value})),placeholder:"Ej: Reporte Mensual de Ocupaci\xf3n",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent"})]}),(0,$r.jsxs)("div",{children:[(0,$r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Descripci\xf3n"}),(0,$r.jsx)("textarea",{value:l.description,onChange:e=>u(t=>c(c({},t),{},{description:e.target.value})),placeholder:"Describe el prop\xf3sito de este reporte...",rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent"})]})]})]}),(0,$r.jsxs)("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6",children:[(0,$r.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,$r.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"M\xe9tricas Incluidas"}),(0,$r.jsxs)("span",{className:"text-sm text-gray-600",children:[l.metrics.length," m\xe9tricas"]})]}),0===l.metrics.length?(0,$r.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[(0,$r.jsx)(Cn,{className:"w-12 h-12 mx-auto mb-2 text-gray-300"}),(0,$r.jsx)("p",{children:"No hay m\xe9tricas seleccionadas"}),(0,$r.jsx)("p",{className:"text-sm",children:"Agrega m\xe9tricas desde el panel lateral"})]}):(0,$r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:l.metrics.map(e=>{const t=m.find(t=>t.id===e);return(0,$r.jsxs)("div",{className:"flex items-center justify-between bg-gray-50 p-3 rounded-lg",children:[(0,$r.jsxs)("div",{children:[(0,$r.jsx)("p",{className:"font-medium text-gray-900",children:null===t||void 0===t?void 0:t.name}),(0,$r.jsx)("p",{className:"text-sm text-gray-600",children:null===t||void 0===t?void 0:t.category})]}),(0,$r.jsx)("button",{onClick:()=>(e=>{u(t=>c(c({},t),{},{metrics:t.metrics.filter(t=>t!==e)}))})(e),className:"text-red-600 hover:text-red-800 p-1",children:(0,$r.jsx)(vE,{className:"w-4 h-4"})})]},e)})})]}),(0,$r.jsxs)("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6",children:[(0,$r.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,$r.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Gr\xe1ficos Configurados"}),(0,$r.jsxs)("span",{className:"text-sm text-gray-600",children:[l.charts.length," gr\xe1ficos"]})]}),0===l.charts.length?(0,$r.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[(0,$r.jsx)(GD,{className:"w-12 h-12 mx-auto mb-2 text-gray-300"}),(0,$r.jsx)("p",{children:"No hay gr\xe1ficos configurados"}),(0,$r.jsx)("p",{className:"text-sm",children:"Configura gr\xe1ficos desde el panel lateral"})]}):(0,$r.jsx)("div",{className:"space-y-3",children:l.charts.map(e=>{var t,r;const n=(null===(t=g.find(t=>t.id===e.type))||void 0===t?void 0:t.icon)||Cn;return(0,$r.jsxs)("div",{className:"flex items-center justify-between bg-gray-50 p-3 rounded-lg",children:[(0,$r.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,$r.jsx)(n,{className:"w-5 h-5 text-gray-600"}),(0,$r.jsxs)("div",{children:[(0,$r.jsx)("p",{className:"font-medium text-gray-900",children:e.title}),(0,$r.jsx)("p",{className:"text-sm text-gray-600",children:null===(r=g.find(t=>t.id===e.type))||void 0===r?void 0:r.name})]})]}),(0,$r.jsx)("button",{onClick:()=>{return t=e.id,void u(e=>c(c({},e),{},{charts:e.charts.filter(e=>e.id!==t)}));var t},className:"text-red-600 hover:text-red-800 p-1",children:(0,$r.jsx)(vE,{className:"w-4 h-4"})})]},e.id)})})]}),(0,$r.jsx)("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6",children:(0,$r.jsxs)("div",{className:"text-center",children:[(0,$r.jsx)(gn,{variant:"primary",onClick:()=>{o(!0),setTimeout(()=>{o(!1),alert("Reporte generado exitosamente")},2e3)},loading:i,disabled:0===l.metrics.length,className:"w-full",children:i?"Generando Reporte...":"Generar Reporte"}),(0,$r.jsxs)("p",{className:"text-sm text-gray-600 mt-2",children:["Per\xedodo: ",(null===a||void 0===a||null===(r=a.startDate)||void 0===r?void 0:r.toLocaleDateString("es-PE"))||"No definido"," - ",(null===a||void 0===a||null===(n=a.endDate)||void 0===n?void 0:n.toLocaleDateString("es-PE"))||"No definido"]})]})})]}),(0,$r.jsxs)("div",{className:"space-y-6",children:[(0,$r.jsxs)("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6",children:[(0,$r.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"M\xe9tricas Disponibles"}),(0,$r.jsx)("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:Object.entries(m.reduce((e,t)=>(e[t.category]||(e[t.category]=[]),e[t.category].push(t),e),{})).map(e=>{let[t,r]=e;return(0,$r.jsxs)("div",{children:[(0,$r.jsx)("h4",{className:"text-sm font-medium text-gray-700 mb-1",children:t}),r.map(e=>(0,$r.jsx)("button",{onClick:()=>{return t=e.id,void(l.metrics.includes(t)||u(e=>c(c({},e),{},{metrics:[...e.metrics,t]})));var t},disabled:l.metrics.includes(e.id),className:"w-full text-left p-2 text-sm rounded transition-colors ".concat(l.metrics.includes(e.id)?"bg-green-100 text-green-800 cursor-not-allowed":"hover:bg-gray-100 text-gray-700"),children:(0,$r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,$r.jsx)("span",{children:e.name}),l.metrics.includes(e.id)?(0,$r.jsx)("span",{className:"text-xs",children:"\u2713"}):(0,$r.jsx)(lE,{className:"w-3 h-3"})]})},e.id))]},t)})})]}),(0,$r.jsxs)("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6",children:[(0,$r.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Agregar Gr\xe1fico"}),(0,$r.jsx)("div",{className:"space-y-3",children:g.map(e=>{const t=e.icon;return(0,$r.jsxs)("div",{className:"border border-gray-200 rounded-lg p-3",children:[(0,$r.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[(0,$r.jsx)(t,{className:"w-4 h-4 text-gray-600"}),(0,$r.jsx)("span",{className:"text-sm font-medium",children:e.name})]}),(0,$r.jsx)("p",{className:"text-xs text-gray-600 mb-2",children:e.description}),(0,$r.jsxs)("select",{onChange:t=>t.target.value&&((e,t)=>{var r,n;const a={id:Date.now(),type:e,metric:t,title:"".concat(null===(r=g.find(t=>t.id===e))||void 0===r?void 0:r.name," - ").concat(null===(n=m.find(e=>e.id===t))||void 0===n?void 0:n.name)};u(e=>c(c({},e),{},{charts:[...e.charts,a]}))})(e.id,t.target.value),className:"w-full text-xs px-2 py-1 border border-gray-300 rounded",defaultValue:"",children:[(0,$r.jsx)("option",{value:"",children:"Seleccionar m\xe9trica..."}),l.metrics.map(e=>{const t=m.find(t=>t.id===e);return(0,$r.jsx)("option",{value:e,children:null===t||void 0===t?void 0:t.name},e)})]})]},e.id)})})]}),(0,$r.jsxs)("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6",children:[(0,$r.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Reportes Guardados"}),(0,$r.jsx)("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:d.map(e=>(0,$r.jsxs)("div",{className:"flex items-center justify-between p-2 border border-gray-200 rounded-lg",children:[(0,$r.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,$r.jsx)("p",{className:"text-sm font-medium text-gray-900 truncate",children:e.title}),(0,$r.jsxs)("p",{className:"text-xs text-gray-600",children:[e.metrics," m\xe9tricas \u2022 ",e.lastModified]})]}),(0,$r.jsx)("button",{onClick:()=>{return t=e.id,void h(e=>e.filter(e=>e.id!==t));var t},className:"text-red-600 hover:text-red-800 p-1 ml-2",children:(0,$r.jsx)(vE,{className:"w-3 h-3"})})]},e.id))})]})]})]})]})},rM=e=>{var r,n;let{dateRange:a={},selectedPeriod:s="thisMonth"}=e;const[i,o]=(0,t.useState)(!0),[l,c]=(0,t.useState)({revenue:{total:0,growth:0,trend:"up"},occupancy:{rate:0,totalRooms:0,occupiedRooms:0,availableRooms:0},guests:{total:0,new:0,returning:0,avgStay:0},operations:{maintenanceIssues:0,lowStockItems:0,staffEfficiency:0},alerts:[]});(0,t.useEffect)(()=>{u()},[null===a||void 0===a?void 0:a.startDate,null===a||void 0===a?void 0:a.endDate,s]);const u=async()=>{o(!0);try{await new Promise(e=>setTimeout(e,800)),c({revenue:{total:245e3,growth:8.5,trend:"up"},occupancy:{rate:79.6,totalRooms:120,occupiedRooms:98,availableRooms:22},guests:{total:1247,new:856,returning:391,avgStay:3.2},operations:{maintenanceIssues:4,lowStockItems:23,staffEfficiency:94.2},alerts:[{type:"warning",message:"23 items con stock bajo requieren atenci\xf3n",category:"Suministros"},{type:"info",message:"4 habitaciones en mantenimiento programado",category:"Operaciones"},{type:"success",message:"Ocupaci\xf3n 4.6% por encima del objetivo mensual",category:"Rendimiento"}]})}catch(e){console.error("Error fetching summary data:",e)}finally{o(!1)}},d=e=>{switch(e){case"warning":return(0,$r.jsx)(on,{className:"w-4 h-4 text-yellow-600"});case"success":return(0,$r.jsx)(gE,{className:"w-4 h-4 text-green-600"});case"info":return(0,$r.jsx)(on,{className:"w-4 h-4 text-blue-600"});default:return(0,$r.jsx)(on,{className:"w-4 h-4 text-gray-600"})}},h=e=>{switch(e){case"warning":return"bg-yellow-50 border-yellow-200 text-yellow-800";case"success":return"bg-green-50 border-green-200 text-green-800";case"info":return"bg-blue-50 border-blue-200 text-blue-800";default:return"bg-gray-50 border-gray-200 text-gray-800"}};return i?(0,$r.jsx)("div",{className:"space-y-6",children:(0,$r.jsxs)("div",{className:"animate-pulse",children:[(0,$r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-6",children:[...Array(4)].map((e,t)=>(0,$r.jsxs)("div",{className:"bg-white p-6 rounded-xl shadow-lg",children:[(0,$r.jsx)("div",{className:"h-4 bg-gray-200 rounded mb-2"}),(0,$r.jsx)("div",{className:"h-8 bg-gray-200 rounded"})]},t))}),(0,$r.jsx)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[...Array(2)].map((e,t)=>(0,$r.jsx)("div",{className:"bg-white p-6 rounded-xl shadow-lg h-64",children:(0,$r.jsx)("div",{className:"h-full bg-gray-200 rounded"})},t))})]})}):(0,$r.jsxs)("div",{className:"space-y-6",children:[(0,$r.jsxs)("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center gap-4",children:[(0,$r.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,$r.jsx)(Cn,{className:"w-8 h-8 text-blue-600"}),(0,$r.jsxs)("div",{children:[(0,$r.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Resumen General"}),(0,$r.jsx)("p",{className:"text-gray-600",children:"Vista general de m\xe9tricas clave"})]})]}),(0,$r.jsx)(gn,{variant:"primary",icon:oE,onClick:()=>{console.log("Exportando resumen general...")},children:"Exportar"})]}),(0,$r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,$r.jsx)("div",{className:"bg-gradient-to-r from-green-500 to-green-600 rounded-xl text-white p-6",children:(0,$r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,$r.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,$r.jsx)("p",{className:"text-green-100 text-sm font-medium mb-1",children:"Ingresos Totales"}),(0,$r.jsx)("p",{className:"text-2xl font-bold truncate",children:YO(l.revenue.total)}),(0,$r.jsxs)("div",{className:"flex items-center mt-2",children:[(0,$r.jsx)(Hn,{className:"w-4 h-4 mr-1 flex-shrink-0"}),(0,$r.jsxs)("span",{className:"text-sm",children:["+",l.revenue.growth,"% vs anterior"]})]})]}),(0,$r.jsx)("div",{className:"w-12 h-12 bg-white bg-opacity-20 rounded-lg flex items-center justify-center flex-shrink-0 ml-3",children:(0,$r.jsx)(qn,{className:"w-6 h-6"})})]})}),(0,$r.jsx)("div",{className:"bg-gradient-to-r from-blue-500 to-blue-600 rounded-xl text-white p-6",children:(0,$r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,$r.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,$r.jsx)("p",{className:"text-blue-100 text-sm font-medium mb-1",children:"Ocupaci\xf3n"}),(0,$r.jsx)("p",{className:"text-2xl font-bold",children:ZO(l.occupancy.rate)}),(0,$r.jsxs)("p",{className:"text-sm text-blue-100 mt-2",children:[l.occupancy.occupiedRooms,"/",l.occupancy.totalRooms," habitaciones"]})]}),(0,$r.jsx)("div",{className:"w-12 h-12 bg-white bg-opacity-20 rounded-lg flex items-center justify-center flex-shrink-0 ml-3",children:(0,$r.jsx)(On,{className:"w-6 h-6"})})]})}),(0,$r.jsx)("div",{className:"bg-gradient-to-r from-purple-500 to-purple-600 rounded-xl text-white p-6",children:(0,$r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,$r.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,$r.jsx)("p",{className:"text-purple-100 text-sm font-medium mb-1",children:"Total Hu\xe9spedes"}),(0,$r.jsx)("p",{className:"text-2xl font-bold",children:JO(l.guests.total)}),(0,$r.jsxs)("p",{className:"text-sm text-purple-100 mt-2",children:[JO(l.guests.new)," nuevos"]})]}),(0,$r.jsx)("div",{className:"w-12 h-12 bg-white bg-opacity-20 rounded-lg flex items-center justify-center flex-shrink-0 ml-3",children:(0,$r.jsx)(bn,{className:"w-6 h-6"})})]})}),(0,$r.jsx)("div",{className:"bg-gradient-to-r from-orange-500 to-orange-600 rounded-xl text-white p-6",children:(0,$r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,$r.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,$r.jsx)("p",{className:"text-orange-100 text-sm font-medium mb-1",children:"Eficiencia"}),(0,$r.jsx)("p",{className:"text-2xl font-bold",children:ZO(l.operations.staffEfficiency)}),(0,$r.jsx)("p",{className:"text-sm text-orange-100 mt-2",children:"Personal"})]}),(0,$r.jsx)("div",{className:"w-12 h-12 bg-white bg-opacity-20 rounded-lg flex items-center justify-center flex-shrink-0 ml-3",children:(0,$r.jsx)(Hn,{className:"w-6 h-6"})})]})})]}),(0,$r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,$r.jsxs)("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6",children:[(0,$r.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Estado Operacional"}),(0,$r.jsxs)("div",{className:"space-y-4",children:[(0,$r.jsxs)("div",{className:"flex items-center justify-between p-4 bg-blue-50 rounded-lg border border-blue-200",children:[(0,$r.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,$r.jsx)("div",{className:"p-2 bg-blue-100 rounded-lg",children:(0,$r.jsx)(On,{className:"w-5 h-5 text-blue-600"})}),(0,$r.jsxs)("div",{children:[(0,$r.jsx)("p",{className:"font-medium text-gray-900",children:"Habitaciones Disponibles"}),(0,$r.jsx)("p",{className:"text-sm text-gray-600",children:"Para check-in inmediato"})]})]}),(0,$r.jsx)("span",{className:"text-2xl font-bold text-blue-600",children:l.occupancy.availableRooms})]}),(0,$r.jsxs)("div",{className:"flex items-center justify-between p-4 bg-orange-50 rounded-lg border border-orange-200",children:[(0,$r.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,$r.jsx)("div",{className:"p-2 bg-orange-100 rounded-lg",children:(0,$r.jsx)(on,{className:"w-5 h-5 text-orange-600"})}),(0,$r.jsxs)("div",{children:[(0,$r.jsx)("p",{className:"font-medium text-gray-900",children:"Issues de Mantenimiento"}),(0,$r.jsx)("p",{className:"text-sm text-gray-600",children:"Requieren atenci\xf3n"})]})]}),(0,$r.jsx)("span",{className:"text-2xl font-bold text-orange-600",children:l.operations.maintenanceIssues})]}),(0,$r.jsxs)("div",{className:"flex items-center justify-between p-4 bg-red-50 rounded-lg border border-red-200",children:[(0,$r.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,$r.jsx)("div",{className:"p-2 bg-red-100 rounded-lg",children:(0,$r.jsx)(En,{className:"w-5 h-5 text-red-600"})}),(0,$r.jsxs)("div",{children:[(0,$r.jsx)("p",{className:"font-medium text-gray-900",children:"Stock Bajo"}),(0,$r.jsx)("p",{className:"text-sm text-gray-600",children:"Items cr\xedticos"})]})]}),(0,$r.jsx)("span",{className:"text-2xl font-bold text-red-600",children:l.operations.lowStockItems})]})]})]}),(0,$r.jsxs)("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6",children:[(0,$r.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Alertas Importantes"}),(0,$r.jsx)("div",{className:"space-y-4",children:l.alerts.map((e,t)=>(0,$r.jsx)("div",{className:"border rounded-lg p-4 ".concat(h(e.type)),children:(0,$r.jsxs)("div",{className:"flex items-start space-x-3",children:[d(e.type),(0,$r.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,$r.jsx)("div",{className:"flex items-center justify-between mb-1",children:(0,$r.jsx)("span",{className:"text-xs font-medium uppercase tracking-wide",children:e.category})}),(0,$r.jsx)("p",{className:"text-sm",children:e.message})]})]})},t))}),(0,$r.jsx)("div",{className:"mt-6 pt-4 border-t border-gray-200",children:(0,$r.jsx)(gn,{variant:"outline",size:"sm",className:"w-full",children:"Ver Todas las Alertas"})})]})]}),(0,$r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,$r.jsx)("div",{className:"bg-white p-6 rounded-xl shadow-lg border border-gray-100",children:(0,$r.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,$r.jsx)("div",{className:"p-3 bg-indigo-100 rounded-lg",children:(0,$r.jsx)(qn,{className:"w-6 h-6 text-indigo-600"})}),(0,$r.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,$r.jsx)("p",{className:"text-sm text-gray-600 mb-1",children:"ADR Promedio"}),(0,$r.jsx)("p",{className:"text-xl font-bold text-gray-900",children:YO(285.5)})]})]})}),(0,$r.jsx)("div",{className:"bg-white p-6 rounded-xl shadow-lg border border-gray-100",children:(0,$r.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,$r.jsx)("div",{className:"p-3 bg-green-100 rounded-lg",children:(0,$r.jsx)(Hn,{className:"w-6 h-6 text-green-600"})}),(0,$r.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,$r.jsx)("p",{className:"text-sm text-gray-600 mb-1",children:"RevPAR"}),(0,$r.jsx)("p",{className:"text-xl font-bold text-gray-900",children:YO(233.2)})]})]})}),(0,$r.jsx)("div",{className:"bg-white p-6 rounded-xl shadow-lg border border-gray-100",children:(0,$r.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,$r.jsx)("div",{className:"p-3 bg-blue-100 rounded-lg",children:(0,$r.jsx)(_n,{className:"w-6 h-6 text-blue-600"})}),(0,$r.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,$r.jsx)("p",{className:"text-sm text-gray-600 mb-1",children:"Estad\xeda Promedio"}),(0,$r.jsxs)("p",{className:"text-xl font-bold text-gray-900",children:[l.guests.avgStay," d\xedas"]})]})]})}),(0,$r.jsx)("div",{className:"bg-white p-6 rounded-xl shadow-lg border border-gray-100",children:(0,$r.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,$r.jsx)("div",{className:"p-3 bg-purple-100 rounded-lg",children:(0,$r.jsx)(bn,{className:"w-6 h-6 text-purple-600"})}),(0,$r.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,$r.jsx)("p",{className:"text-sm text-gray-600 mb-1",children:"Hu\xe9spedes Nuevos"}),(0,$r.jsx)("p",{className:"text-xl font-bold text-gray-900",children:ZO(l.guests.new/l.guests.total*100)})]})]})})]}),(0,$r.jsx)("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6",children:(0,$r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,$r.jsxs)("div",{children:[(0,$r.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Informaci\xf3n del Per\xedodo"}),(0,$r.jsxs)("p",{className:"text-gray-600",children:["Per\xedodo seleccionado: ",(null===a||void 0===a||null===(r=a.startDate)||void 0===r?void 0:r.toLocaleDateString("es-PE"))||"No definido"," - ",(null===a||void 0===a||null===(n=a.endDate)||void 0===n?void 0:n.toLocaleDateString("es-PE"))||"No definido"]})]}),(0,$r.jsxs)("div",{className:"text-right",children:[(0,$r.jsx)("p",{className:"text-sm text-gray-600",children:"D\xedas analizados"}),(0,$r.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:null!==a&&void 0!==a&&a.startDate&&null!==a&&void 0!==a&&a.endDate?Math.ceil((a.endDate-a.startDate)/864e5):30})]})]})})]})},nM=()=>{const[e,r]=(0,t.useState)("overview"),[n,a]=(0,t.useState)("thisMonth"),[s,i]=(0,t.useState)(!1),[o,l]=(0,t.useState)({startDate:new Date((new Date).getFullYear(),(new Date).getMonth(),1),endDate:new Date}),{overviewStats:c,occupancyData:u,revenueData:d,guestsData:h,roomsData:f,suppliesData:p,loading:m,error:g,generateReport:y,exportReport:v}=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"thisMonth";const[n,a]=(0,t.useState)(!0),[s,i]=(0,t.useState)(null),[o,l]=(0,t.useState)([]),[c,u]=(0,t.useState)([]),[d,h]=(0,t.useState)([]),[f,p]=(0,t.useState)([]),[m,g]=(0,t.useState)([]),[y,v]=(0,t.useState)([]),x=(0,t.useMemo)(()=>{const t=new Date;let n,a;switch(r){case"today":n=new Date(t),a=new Date(t);break;case"yesterday":n=new Date(t),n.setDate(t.getDate()-1),a=new Date(n);break;case"thisWeek":n=new Date(t),n.setDate(t.getDate()-t.getDay()),a=new Date(t);break;case"lastWeek":n=new Date(t),n.setDate(t.getDate()-t.getDay()-7),a=new Date(n),a.setDate(n.getDate()+6);break;case"thisMonth":default:n=new Date(t.getFullYear(),t.getMonth(),1),a=new Date(t);break;case"lastMonth":n=new Date(t.getFullYear(),t.getMonth()-1,1),a=new Date(t.getFullYear(),t.getMonth(),0);break;case"thisYear":n=new Date(t.getFullYear(),0,1),a=new Date(t);break;case"custom":n=e.startDate?new Date(e.startDate):new Date(t),a=e.endDate?new Date(e.endDate):new Date(t)}return{startDate:n.toISOString().split("T")[0],endDate:a.toISOString().split("T")[0]}},[r,e]),b=async()=>{a(!0),i(null);try{const[e,t,r,n,a,s]=await Promise.all([w(),j(),N(),k(),S(),_()]);l(e),u(t),h(r),p(n),g(a),v(s)}catch(s){console.error("Error cargando datos para reportes:",s),i(s.message)}finally{a(!1)}},w=async()=>{try{const{data:e,error:t}=await Di.from("rooms").select("*");if(t)throw t;return e||[]}catch(s){return console.error("Error cargando habitaciones:",s),[]}},j=async()=>{try{const{data:e,error:t}=await Di.from("orders").select("*").gte("check_in_date",x.startDate).lte("check_in_date",x.endDate).order("created_at",{ascending:!1});if(t)throw t;return e||[]}catch(s){return console.error("Error cargando \xf3rdenes:",s),[]}},N=async()=>{try{const{data:e,error:t}=await Di.from("guests").select("*").order("created_at",{ascending:!1});if(t)throw t;return e||[]}catch(s){return console.error("Error cargando hu\xe9spedes:",s),[]}},k=async()=>{try{const{data:e,error:t}=await Di.from("inventory").select("*").eq("status","active");if(t)throw t;return e||[]}catch(s){return console.error("Error cargando inventario:",s),[]}},S=async()=>{try{const{data:e,error:t}=await Di.from("order_services").select("\n          *,\n          services (name, category),\n          orders (check_in_date, status)\n        ").order("created_at",{ascending:!1});if(t)throw t;return e||[]}catch(s){return console.error("Error cargando servicios de \xf3rdenes:",s),[]}},_=async()=>{try{const{data:e,error:t}=await Di.from("room_cleaning").select("\n          *,\n          rooms (number, floor, type),\n          staff (full_name)\n        ").gte("created_at",x.startDate).lte("created_at",x.endDate);if(t)throw t;return e||[]}catch(s){return console.error("Error cargando tareas de limpieza:",s),[]}},O=(0,t.useMemo)(()=>{if(!c.length)return{totalRevenue:0,totalOrders:0,avgOrderValue:0,occupancyRate:0,totalGuests:0,avgStay:0};const e=c.reduce((e,t)=>e+parseFloat(t.total||0),0),t=c.length,r=t>0?e/t:0,n=o.length*M(),a=c.filter(e=>"completed"===e.status||"active"===e.status).length,s=n>0?a/n*100:0,i=new Set(c.map(e=>e.guest_name)).size,l=c.filter(e=>"completed"===e.status&&e.check_out_date),u=l.length>0?l.reduce((e,t)=>{const r=new Date(t.check_in_date),n=new Date(t.check_out_date);return e+Math.max(1,Math.ceil((n-r)/864e5))},0)/l.length:1;return{totalRevenue:e,totalOrders:t,avgOrderValue:r,occupancyRate:Math.round(s),totalGuests:i,avgStay:Math.round(10*u)/10}},[c,o]),E=(0,t.useMemo)(()=>{if(!c.length)return[];const e={},t=new Date(x.startDate),r=new Date(x.endDate);for(let n=new Date(t);n<=r;n.setDate(n.getDate()+1)){const t=n.toISOString().split("T")[0];e[t]={date:t,occupiedRooms:0,availableRooms:o.length,occupancy:0}}return c.forEach(t=>{const r=t.check_in_date;e[r]&&(e[r].occupiedRooms++,e[r].availableRooms--)}),Object.keys(e).forEach(t=>{const r=e[t];r.occupancy=o.length>0?Math.round(r.occupiedRooms/o.length*100):0}),Object.values(e).sort((e,t)=>new Date(e.date)-new Date(t.date))},[c,o,x]),C=(0,t.useMemo)(()=>{const e={},t=c.reduce((e,t)=>e+parseFloat(t.room_price||0),0);e.Habitaciones=t;const r=m.filter(e=>{var t;const r=null===(t=e.orders)||void 0===t?void 0:t.check_in_date;return r>=x.startDate&&r<=x.endDate}),n={};r.forEach(e=>{var t;const r=(null===(t=e.services)||void 0===t?void 0:t.category)||"Otros servicios";n[r]=(n[r]||0)+parseFloat(e.total_price||0)}),Object.entries(n).forEach(t=>{let[r,n]=t;e[r]=n});const a=Object.values(e).reduce((e,t)=>e+t,0);return Object.entries(e).map(e=>{let[t,r]=e;return{category:t,amount:r,percentage:a>0?Math.round(r/a*100*10)/10:0}}).sort((e,t)=>t.amount-e.amount)},[c,m,x]),P=(0,t.useMemo)(()=>{const e=c.map(e=>e.guest_name).filter(Boolean),t=[...new Set(e)],r={};c.forEach(e=>{const t=d.find(t=>t.full_name===e.guest_name);t&&t.nationality&&(r[t.nationality]=(r[t.nationality]||0)+1)});const n=Object.entries(r).map(e=>{let[r,n]=e;return{country:r,guests:n,percentage:Math.round(n/t.length*100*10)/10}}).sort((e,t)=>t.guests-e.guests).slice(0,5),a=d.filter(e=>{const t=e.created_at.split("T")[0];return t>=x.startDate&&t<=x.endDate}).length;return{totalGuests:t.length,newGuests:a,returningGuests:t.length-a,averageStay:O.avgStay,satisfactionScore:4.3,demographics:n}},[c,d,x,O.avgStay]),A=(0,t.useMemo)(()=>{const e={};o.forEach(t=>{e[t.type]||(e[t.type]={type:t.type,total:0,occupied:0,revenue:0}),e[t.type].total++}),c.forEach(t=>{const r=o.find(e=>e.number===t.room_number);r&&e[r.type]&&(e[r.type].occupied++,e[r.type].revenue+=parseFloat(t.room_price||0))});const t=Object.values(e),r={operational:o.filter(e=>"maintenance"!==e.status&&"out_of_order"!==e.status).length,maintenance:o.filter(e=>"maintenance"===e.status).length,outOfOrder:o.filter(e=>"out_of_order"===e.status).length};return{totalRooms:o.length,roomTypes:t,maintenanceStatus:r}},[o,c]),T=(0,t.useMemo)(()=>{const e=f.reduce((e,t)=>e+t.current_stock*t.unit_cost,0),t={};m.filter(e=>{var t;const r=null===(t=e.orders)||void 0===t?void 0:t.check_in_date;return r>=x.startDate&&r<=x.endDate}).forEach(e=>{var r;const n=(null===(r=e.services)||void 0===r?void 0:r.category)||"Otros";t[n]=(t[n]||0)+parseFloat(e.total_price||0)});const r=Object.values(t).reduce((e,t)=>e+t,0);return{totalValue:e,categoriesConsumption:Object.entries(t).map(e=>{let[t,n]=e;return{category:t,consumed:n,percentage:r>0?Math.round(n/r*100*10)/10:0}}),stockAlerts:f.filter(e=>e.current_stock<=e.min_stock).length,monthlyConsumption:r}},[f,m,x]),D=(0,t.useMemo)(()=>{const e={totalTasks:y.length,completed:y.filter(e=>"completed"===e.status).length,pending:y.filter(e=>"pending"===e.status).length,inProgress:y.filter(e=>"in_progress"===e.status).length,averageTime:0},t=y.filter(e=>"completed"===e.status&&e.actual_duration);return t.length>0&&(e.averageTime=Math.round(t.reduce((e,t)=>e+t.actual_duration,0)/t.length)),e},[y]),M=()=>{const e=new Date(x.startDate),t=new Date(x.endDate);return Math.ceil((t-e)/864e5)+1};return(0,t.useEffect)(()=>{b()},[x.startDate,x.endDate]),{overviewStats:O,occupancyData:E,revenueData:C,guestsData:P,roomsData:A,suppliesData:T,cleaningData:D,dateRange:x,selectedPeriod:r,loading:n,error:s,generateReport:async e=>{try{a(!0),await new Promise(e=>setTimeout(e,2e3));const t={overview:O,occupancy:E,revenue:C,guests:P,rooms:A,supplies:T,cleaning:D,period:x,generatedAt:(new Date).toISOString(),config:e};return a(!1),{success:!0,reportId:Date.now().toString(),data:t}}catch(s){throw i("Error generando reporte personalizado"),a(!1),s}},exportReport:async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"pdf";try{let n="";"csv"===t?(n="Fecha,Habitaciones Ocupadas,Habitaciones Disponibles,Ocupaci\xf3n %\n",E.forEach(e=>{n+="".concat(e.date,",").concat(e.occupiedRooms,",").concat(e.availableRooms,",").concat(e.occupancy,"\n")})):n="\nREPORTE DE HOTEL - ".concat(r.toUpperCase(),"\nPer\xedodo: ").concat(x.startDate," a ").concat(x.endDate,"\nGenerado: ").concat((new Date).toLocaleString(),"\n\n=== RESUMEN GENERAL ===\nIngresos totales: $").concat(O.totalRevenue.toFixed(2),"\nTotal de \xf3rdenes: ").concat(O.totalOrders,"\nValor promedio por orden: $").concat(O.avgOrderValue.toFixed(2),"\nTasa de ocupaci\xf3n: ").concat(O.occupancyRate,"%\nTotal de hu\xe9spedes: ").concat(O.totalGuests,"\nEstancia promedio: ").concat(O.avgStay," d\xedas\n\n=== INGRESOS POR CATEGOR\xcdA ===\n").concat(C.map(e=>"".concat(e.category,": $").concat(e.amount.toFixed(2)," (").concat(e.percentage,"%)")).join("\n"),"\n\n=== ESTAD\xcdSTICAS DE HABITACIONES ===\nTotal de habitaciones: ").concat(A.totalRooms,"\n").concat(A.roomTypes.map(e=>"".concat(e.type,": ").concat(e.occupied,"/").concat(e.total," ocupadas - $").concat(e.revenue.toFixed(2)," ingresos")).join("\n"),"\n        ");const a=new Blob([n],{type:"csv"===t?"text/csv":"text/plain"}),s=window.URL.createObjectURL(a),i=document.createElement("a");return i.href=s,i.download="reporte_".concat(e,"_").concat(x.startDate,"_").concat(x.endDate,".").concat(t),document.body.appendChild(i),i.click(),document.body.removeChild(i),window.URL.revokeObjectURL(s),{success:!0}}catch(s){throw new Error("Error al exportar el reporte")}},refreshData:b,rawData:{rooms:o,orders:c,guests:d,inventory:f,orderServices:m,cleaningTasks:y}}}(o,n),x=[{id:"overview",label:"Resumen General",icon:Cn,color:"blue",description:"Vista general de m\xe9tricas clave"},{id:"occupancy",label:"Ocupaci\xf3n",icon:_n,color:"green",description:"An\xe1lisis de ocupaci\xf3n y disponibilidad"},{id:"revenue",label:"Ingresos",icon:qn,color:"purple",description:"Reportes financieros y de ingresos"},{id:"guests",label:"Hu\xe9spedes",icon:bn,color:"orange",description:"An\xe1lisis de hu\xe9spedes y satisfacci\xf3n"},{id:"rooms",label:"Habitaciones",icon:Cn,color:"indigo",description:"Rendimiento y estado de habitaciones"},{id:"supplies",label:"Insumos",icon:GD,color:"red",description:"Inventario y consumo de insumos"}],b=[{id:"daily_summary",name:"Resumen Diario",description:"M\xe9tricas diarias de operaci\xf3n",category:"overview",icon:_n},{id:"weekly_performance",name:"Rendimiento Semanal",description:"An\xe1lisis semanal de KPIs",category:"overview",icon:Hn},{id:"monthly_financial",name:"Informe Financiero Mensual",description:"Estado financiero detallado",category:"revenue",icon:qn},{id:"guest_satisfaction",name:"Satisfacci\xf3n de Hu\xe9spedes",description:"An\xe1lisis de reviews y feedback",category:"guests",icon:bn},{id:"room_efficiency",name:"Eficiencia de Habitaciones",description:"Utilizaci\xf3n y rentabilidad por habitaci\xf3n",category:"rooms",icon:Cn},{id:"inventory_valuation",name:"Valorizaci\xf3n de Inventario",description:"Estado y valor del inventario",category:"supplies",icon:GD}],w=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"pdf";try{await v(e,t,o)}catch(g){console.error("Error exporting report:",g)}},j=e=>({blue:"bg-blue-50 text-blue-600 border-blue-200",green:"bg-green-50 text-green-600 border-green-200",purple:"bg-purple-50 text-purple-600 border-purple-200",orange:"bg-orange-50 text-orange-600 border-orange-200",indigo:"bg-indigo-50 text-indigo-600 border-indigo-200",red:"bg-red-50 text-red-600 border-red-200"}[e]||"bg-gray-50 text-gray-600 border-gray-200");return g?(0,$r.jsx)("div",{className:"flex items-center justify-center min-h-[400px]",children:(0,$r.jsxs)("div",{className:"text-center",children:[(0,$r.jsx)(Cn,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),(0,$r.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Error al cargar reportes"}),(0,$r.jsx)("p",{className:"text-gray-600",children:g})]})}):(0,$r.jsxs)("div",{className:"space-y-6",children:[(0,$r.jsxs)("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between",children:[(0,$r.jsxs)("div",{children:[(0,$r.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Informes"}),(0,$r.jsx)("p",{className:"text-gray-600 mt-1",children:"Reportes y an\xe1lisis del hotel"})]}),(0,$r.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3 mt-4 lg:mt-0",children:[(0,$r.jsx)(gn,{variant:"outline",icon:lE,onClick:()=>i(!0),children:"Reporte Personalizado"}),(0,$r.jsx)(gn,{variant:"primary",icon:oE,onClick:()=>w("overview","pdf"),children:"Exportar PDF"})]})]}),(0,$r.jsx)($D,{selectedPeriod:n,onPeriodChange:a,dateRange:o,onDateRangeChange:l,loading:m}),c&&(0,$r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,$r.jsx)("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6",children:(0,$r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,$r.jsxs)("div",{children:[(0,$r.jsx)("p",{className:"text-sm font-medium text-gray-600 mb-1",children:"Ocupaci\xf3n Promedio"}),(0,$r.jsxs)("p",{className:"text-2xl font-bold text-blue-600",children:[c.avgOccupancy,"%"]}),(0,$r.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"En el per\xedodo"})]}),(0,$r.jsx)("div",{className:"p-3 bg-blue-50 rounded-lg",children:(0,$r.jsx)(_n,{className:"w-6 h-6 text-blue-600"})})]})}),(0,$r.jsx)("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6",children:(0,$r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,$r.jsxs)("div",{children:[(0,$r.jsx)("p",{className:"text-sm font-medium text-gray-600 mb-1",children:"Ingresos Totales"}),(0,$r.jsx)("p",{className:"text-2xl font-bold text-green-600",children:YO(c.totalRevenue)}),(0,$r.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"En el per\xedodo"})]}),(0,$r.jsx)("div",{className:"p-3 bg-green-50 rounded-lg",children:(0,$r.jsx)(qn,{className:"w-6 h-6 text-green-600"})})]})}),(0,$r.jsx)("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6",children:(0,$r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,$r.jsxs)("div",{children:[(0,$r.jsx)("p",{className:"text-sm font-medium text-gray-600 mb-1",children:"Total Hu\xe9spedes"}),(0,$r.jsx)("p",{className:"text-2xl font-bold text-purple-600",children:c.totalGuests}),(0,$r.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"En el per\xedodo"})]}),(0,$r.jsx)("div",{className:"p-3 bg-purple-50 rounded-lg",children:(0,$r.jsx)(bn,{className:"w-6 h-6 text-purple-600"})})]})}),(0,$r.jsx)("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6",children:(0,$r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,$r.jsxs)("div",{children:[(0,$r.jsx)("p",{className:"text-sm font-medium text-gray-600 mb-1",children:"Tarifa Promedio"}),(0,$r.jsx)("p",{className:"text-2xl font-bold text-orange-600",children:YO(c.avgRate)}),(0,$r.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Por noche"})]}),(0,$r.jsx)("div",{className:"p-3 bg-orange-50 rounded-lg",children:(0,$r.jsx)(Hn,{className:"w-6 h-6 text-orange-600"})})]})})]}),(0,$r.jsxs)("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6",children:[(0,$r.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Categor\xedas de Reportes"}),(0,$r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:x.map(t=>{const n=t.icon,a=e===t.id;return(0,$r.jsxs)("button",{onClick:()=>r(t.id),className:"p-4 border-2 rounded-xl transition-all duration-200 text-left hover:shadow-md ".concat(a?"border-".concat(t.color,"-300 bg-").concat(t.color,"-50"):"border-gray-200 hover:border-gray-300"),children:[(0,$r.jsxs)("div",{className:"flex items-center space-x-3 mb-2",children:[(0,$r.jsx)("div",{className:"p-2 rounded-lg ".concat(j(t.color)),children:(0,$r.jsx)(n,{size:20})}),(0,$r.jsx)("h4",{className:"font-semibold text-gray-900",children:t.label})]}),(0,$r.jsx)("p",{className:"text-sm text-gray-600",children:t.description})]},t.id)})})]}),(0,$r.jsxs)("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6",children:[(0,$r.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,$r.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Reportes Predefinidos"}),(0,$r.jsx)("div",{className:"flex items-center space-x-2",children:(0,$r.jsxs)("div",{className:"relative",children:[(0,$r.jsx)(In,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:16}),(0,$r.jsx)("input",{type:"text",placeholder:"Buscar reportes...",className:"pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm"})]})})]}),(0,$r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:b.filter(t=>"overview"===e||t.category===e).map(e=>{const t=e.icon;return(0,$r.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow",children:[(0,$r.jsx)("div",{className:"flex items-start justify-between mb-3",children:(0,$r.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,$r.jsx)("div",{className:"p-2 bg-gray-100 rounded-lg",children:(0,$r.jsx)(t,{size:18})}),(0,$r.jsxs)("div",{children:[(0,$r.jsx)("h4",{className:"font-semibold text-gray-900",children:e.name}),(0,$r.jsx)("p",{className:"text-sm text-gray-600",children:e.description})]})]})}),(0,$r.jsxs)("div",{className:"flex items-center justify-between pt-3 border-t border-gray-100",children:[(0,$r.jsxs)("span",{className:"text-xs text-gray-500",children:["Per\xedodo: ","thisMonth"===n?"Este mes":"lastMonth"===n?"Mes pasado":"Personalizado"]}),(0,$r.jsxs)("div",{className:"flex space-x-2",children:[(0,$r.jsx)(gn,{size:"sm",variant:"outline",icon:dn,children:"Ver"}),(0,$r.jsx)(gn,{size:"sm",variant:"outline",icon:oE,onClick:()=>w(e.id),children:"Exportar"})]})]})]},e.id)})})]}),(0,$r.jsxs)("div",{className:"min-h-[400px]",children:["overview"===e&&(0,$r.jsx)(rM,{dateRange:o,selectedPeriod:n}),"occupancy"===e&&(0,$r.jsx)(YD,{data:u,loading:m,detailed:!0}),"revenue"===e&&(0,$r.jsx)(XD,{dateRange:o,selectedPeriod:n}),"guests"===e&&(0,$r.jsx)(JD,{dateRange:o,selectedPeriod:n}),"rooms"===e&&(0,$r.jsx)(QD,{dateRange:o,selectedPeriod:n}),"supplies"===e&&(0,$r.jsx)(ZD,{dateRange:o,selectedPeriod:n})]}),s&&(0,$r.jsx)(tM,{dateRange:o,selectedPeriod:n,onClose:()=>i(!1)})]})},aM=()=>(0,$r.jsxs)("div",{className:"space-y-6",children:[(0,$r.jsxs)("div",{children:[(0,$r.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Configuraci\xf3n"}),(0,$r.jsx)("p",{className:"text-gray-600 mt-1",children:"Ajustes del sistema"})]}),(0,$r.jsxs)("div",{className:"bg-white p-8 rounded-lg shadow text-center",children:[(0,$r.jsx)(Pn,{size:48,className:"mx-auto text-gray-400 mb-4"}),(0,$r.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Configuraci\xf3n del Sistema"}),(0,$r.jsx)("p",{className:"text-gray-600",children:"Configuraciones generales, usuarios y preferencias"})]})]}),sM=e=>{let{children:t}=e;const{isAuthenticated:r,loading:n,needsBranchSelection:a,user:s,isReady:i}=en();return n?(0,$r.jsx)("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center",children:(0,$r.jsxs)("div",{className:"text-center",children:[(0,$r.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),(0,$r.jsx)("p",{className:"text-gray-600",children:"Verificando sesi\xf3n..."})]})}):r?a&&"admin"===(null===s||void 0===s?void 0:s.role)?(0,$r.jsx)(Ee,{to:"/select-branch",replace:!0}):i()?t:(0,$r.jsx)("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center p-6",children:(0,$r.jsx)("div",{className:"max-w-md w-full",children:(0,$r.jsxs)("div",{className:"bg-white rounded-2xl shadow-xl border border-gray-100 p-8 text-center",children:[(0,$r.jsx)("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-blue-100 rounded-full mb-6",children:(0,$r.jsx)(Wr,{className:"w-8 h-8 text-blue-600"})}),(0,$r.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-3",children:"Selecci\xf3n de Sucursal Requerida"}),(0,$r.jsx)("p",{className:"text-gray-600 mb-6",children:"Como administrador, necesitas seleccionar una sucursal para continuar."}),(0,$r.jsx)("button",{onClick:()=>window.location.href="/select-branch",className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition-colors w-full",children:"Seleccionar Sucursal"})]})})}):(0,$r.jsx)(Ee,{to:"/login",replace:!0})},iM=()=>{const{user:e,hasPermission:t,isReady:r}=en();return r()?"reception"===(null===e||void 0===e?void 0:e.role)&&t("checkin")?(0,$r.jsx)(Ee,{to:"/checkin",replace:!0}):(0,$r.jsx)(Ee,{to:"/dashboard",replace:!0}):(0,$r.jsx)("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center",children:(0,$r.jsxs)("div",{className:"text-center",children:[(0,$r.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),(0,$r.jsx)("p",{className:"text-gray-600",children:"Configurando acceso..."})]})})},oM=e=>{let{children:t,permission:r}=e;const{hasPermission:n}=en();return n(r)?t:(0,$r.jsx)("div",{className:"min-h-[60vh] flex items-center justify-center p-6",children:(0,$r.jsx)("div",{className:"max-w-md w-full text-center",children:(0,$r.jsxs)("div",{className:"bg-white rounded-2xl shadow-xl border border-gray-100 p-8",children:[(0,$r.jsx)("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-red-100 rounded-full mb-6",children:(0,$r.jsx)(Gr,{className:"w-8 h-8 text-red-600"})}),(0,$r.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-3",children:"Acceso Denegado"}),(0,$r.jsx)("p",{className:"text-gray-600 mb-2",children:"No tienes permisos para acceder a esta secci\xf3n."}),(0,$r.jsx)("p",{className:"text-sm text-gray-500 mb-6",children:"Esta funci\xf3n est\xe1 reservada para otros roles."}),(0,$r.jsx)("button",{onClick:()=>window.history.back(),className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Volver Atr\xe1s"})]})})})},lM=()=>{const{isAuthenticated:e,loading:t,user:r}=en();return t?(0,$r.jsx)("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center",children:(0,$r.jsxs)("div",{className:"text-center",children:[(0,$r.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),(0,$r.jsx)("p",{className:"text-gray-600",children:"Inicializando..."})]})}):(0,$r.jsxs)(Ae,{children:[(0,$r.jsx)(Ce,{path:"/login",element:e?(0,$r.jsx)(Ee,{to:"/",replace:!0}):(0,$r.jsx)(yn,{})}),(0,$r.jsx)(Ce,{path:"/select-branch",element:e?"admin"!==(null===r||void 0===r?void 0:r.role)?(0,$r.jsx)(Ee,{to:"/",replace:!0}):(0,$r.jsx)(Nn,{}):(0,$r.jsx)(Ee,{to:"/login",replace:!0})}),(0,$r.jsx)(Ce,{path:"/*",element:(0,$r.jsx)(sM,{children:(0,$r.jsx)(Bn,{children:(0,$r.jsxs)(Ae,{children:[(0,$r.jsx)(Ce,{path:"/",element:(0,$r.jsx)(iM,{})}),(0,$r.jsx)(Ce,{path:"/dashboard",element:(0,$r.jsx)(eE,{})}),(0,$r.jsx)(Ce,{path:"/checkin",element:(0,$r.jsx)(oM,{permission:"checkin",children:(0,$r.jsx)(sE,{})})}),(0,$r.jsx)(Ce,{path:"/reception",element:(0,$r.jsx)(oM,{permission:"checkin",children:(0,$r.jsx)(nD,{})})}),(0,$r.jsx)(Ce,{path:"/reservations",element:(0,$r.jsx)(oM,{permission:"reservations",children:(0,$r.jsx)(KT,{})})}),(0,$r.jsx)(Ce,{path:"/guests",element:(0,$r.jsx)(oM,{permission:"guests",children:(0,$r.jsx)(eD,{})})}),(0,$r.jsx)(Ce,{path:"/rooms",element:(0,$r.jsx)(oM,{permission:"rooms",children:(0,$r.jsx)(jD,{})})}),(0,$r.jsx)(Ce,{path:"/supplies",element:(0,$r.jsx)(oM,{permission:"supplies",children:(0,$r.jsx)(WD,{})})}),(0,$r.jsx)(Ce,{path:"/reports",element:(0,$r.jsx)(oM,{permission:"reports",children:(0,$r.jsx)(nM,{})})}),(0,$r.jsx)(Ce,{path:"/settings",element:(0,$r.jsx)(oM,{permission:"settings",children:(0,$r.jsx)(aM,{})})}),(0,$r.jsx)(Ce,{path:"*",element:(0,$r.jsx)(iM,{})})]})})})})]})};const cM=function(){return(0,$r.jsx)(ht,{children:(0,$r.jsx)(Zr,{children:(0,$r.jsx)(nn,{children:(0,$r.jsxs)("div",{className:"App",children:[(0,$r.jsx)(Ir,{position:"top-right",toastOptions:{duration:4e3,style:{background:"#363636",color:"#fff"},success:{style:{background:"#10b981"}},error:{style:{background:"#ef4444"}}}}),(0,$r.jsx)(lM,{})]})})})})},uM=e=>{e&&e instanceof Function&&r.e(453).then(r.bind(r,6453)).then(t=>{let{getCLS:r,getFID:n,getFCP:a,getLCP:s,getTTFB:i}=t;r(e),n(e),a(e),s(e),i(e)})};n.createRoot(document.getElementById("root")).render((0,$r.jsx)(t.StrictMode,{children:(0,$r.jsx)(cM,{})})),uM()})()})();
//# sourceMappingURL=main.d4e3b0f1.js.map